const setcola=Object.freeze(Object.defineProperty({__proto__:null,get constraints(){return constraints},get gap(){return gap},get groups(){return groups},get guides(){return guides},get layout(){return layout},get links(){return links},get nodes(){return nodes},get sets(){return sets}},Symbol.toStringTag,{value:"Module"}));(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(u){if(u.ep)return;u.ep=!0;const f=n(u);fetch(u.href,f)}})();const app="";function noop$5(){}function run$1(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run$1)}function is_function(e){return typeof e=="function"}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function is_empty(e){return Object.keys(e).length===0}function insert(e,t,n){e.insertBefore(t,n||null)}function detach(e){e.parentNode&&e.parentNode.removeChild(e)}function element$2(e){return document.createElement(e)}function children$2(e){return Array.from(e.childNodes)}let current_component;function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(e){get_current_component().$$.on_mount.push(e)}const dirty_components=[],binding_callbacks=[];let render_callbacks=[];const flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush$1))}function add_render_callback(e){render_callbacks.push(e)}const seen_callbacks=new Set;let flushidx=0;function flush$1(){if(flushidx!==0)return;const e=current_component;do{try{for(;flushidx<dirty_components.length;){const t=dirty_components[flushidx];flushidx++,set_current_component(t),update$2(t.$$)}}catch(t){throw dirty_components.length=0,flushidx=0,t}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const n=render_callbacks[t];seen_callbacks.has(n)||(seen_callbacks.add(n),n())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(e)}function update$2(e){if(e.fragment!==null){e.update(),run_all(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}function flush_render_callbacks(e){const t=[],n=[];render_callbacks.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),render_callbacks=t}const outroing=new Set;function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function mount_component(e,t,n,s){const{fragment:u,after_update:f}=e.$$;u&&u.m(t,n),s||add_render_callback(()=>{const d=e.$$.on_mount.map(run$1).filter(is_function);e.$$.on_destroy?e.$$.on_destroy.push(...d):run_all(d),e.$$.on_mount=[]}),f.forEach(add_render_callback)}function destroy_component(e,t){const n=e.$$;n.fragment!==null&&(flush_render_callbacks(n.after_update),run_all(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function make_dirty(e,t){e.$$.dirty[0]===-1&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init$1(e,t,n,s,u,f,d,g=[-1]){const v=current_component;set_current_component(e);const S=e.$$={fragment:null,ctx:[],props:f,update:noop$5,not_equal:u,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(v?v.$$.context:[])),callbacks:blank_object(),dirty:g,skip_bound:!1,root:t.target||v.$$.root};d&&d(S.root);let M=!1;if(S.ctx=n?n(e,t.props||{},(I,P,...N)=>{const F=N.length?N[0]:P;return S.ctx&&u(S.ctx[I],S.ctx[I]=F)&&(!S.skip_bound&&S.bound[I]&&S.bound[I](F),M&&make_dirty(e,I)),P}):[],S.update(),M=!0,run_all(S.before_update),S.fragment=s?s(S.ctx):!1,t.target){if(t.hydrate){const I=children$2(t.target);S.fragment&&S.fragment.l(I),I.forEach(detach)}else S.fragment&&S.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor,t.customElement),flush$1()}set_current_component(v)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop$5}$on(t,n){if(!is_function(n))return noop$5;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const u=s.indexOf(n);u!==-1&&s.splice(u,1)}}$set(t){this.$$set&&!is_empty(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ascending$3(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function descending$2(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bisector(e){let t,n,s;e.length!==2?(t=ascending$3,n=(g,v)=>ascending$3(e(g),v),s=(g,v)=>e(g)-v):(t=e===ascending$3||e===descending$2?e:zero$1,n=e,s=e);function u(g,v,S=0,M=g.length){if(S<M){if(t(v,v)!==0)return M;do{const I=S+M>>>1;n(g[I],v)<0?S=I+1:M=I}while(S<M)}return S}function f(g,v,S=0,M=g.length){if(S<M){if(t(v,v)!==0)return M;do{const I=S+M>>>1;n(g[I],v)<=0?S=I+1:M=I}while(S<M)}return S}function d(g,v,S=0,M=g.length){const I=u(g,v,S,M-1);return I>S&&s(g[I-1],v)>-s(g[I],v)?I-1:I}return{left:u,center:d,right:f}}function zero$1(){return 0}function number$6(e){return e===null?NaN:+e}function*numbers$1(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let s of e)(s=t(s,++n,e))!=null&&(s=+s)>=s&&(yield s)}}const ascendingBisect=bisector(ascending$3),bisectRight$1=ascendingBisect.right;bisector(number$6).center;const bisect$1=bisectRight$1;function count(e,t){let n=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&++n;else{let s=-1;for(let u of e)(u=t(u,++s,e))!=null&&(u=+u)>=u&&++n}return n}function length$4(e){return e.length|0}function empty$2(e){return!(e>0)}function arrayify(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function reducer(e){return t=>e(...t)}function cross$1(...e){const t=typeof e[e.length-1]=="function"&&reducer(e.pop());e=e.map(arrayify);const n=e.map(length$4),s=e.length-1,u=new Array(s+1).fill(0),f=[];if(s<0||n.some(empty$2))return f;for(;;){f.push(u.map((g,v)=>e[v][g]));let d=s;for(;++u[d]===n[d];){if(d===0)return t?f.map(t):f;u[d--]=0}}}function variance(e,t){let n=0,s,u=0,f=0;if(t===void 0)for(let d of e)d!=null&&(d=+d)>=d&&(s=d-u,u+=s/++n,f+=s*(d-u));else{let d=-1;for(let g of e)(g=t(g,++d,e))!=null&&(g=+g)>=g&&(s=g-u,u+=s/++n,f+=s*(g-u))}if(n>1)return f/(n-1)}function deviation(e,t){const n=variance(e,t);return n&&Math.sqrt(n)}function extent$1(e,t){let n,s;if(t===void 0)for(const u of e)u!=null&&(n===void 0?u>=u&&(n=s=u):(n>u&&(n=u),s<u&&(s=u)));else{let u=-1;for(let f of e)(f=t(f,++u,e))!=null&&(n===void 0?f>=f&&(n=s=f):(n>f&&(n=f),s<f&&(s=f)))}return[n,s]}class Adder{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let s=0;for(let u=0;u<this._n&&u<32;u++){const f=n[u],d=t+f,g=Math.abs(t)<Math.abs(f)?t-(d-f):f-(d-t);g&&(n[s++]=g),t=d}return n[s]=t,this._n=s+1,this}valueOf(){const t=this._partials;let n=this._n,s,u,f,d=0;if(n>0){for(d=t[--n];n>0&&(s=d,u=t[--n],d=s+u,f=u-(d-s),!f););n>0&&(f<0&&t[n-1]<0||f>0&&t[n-1]>0)&&(u=f*2,s=d+u,u==s-d&&(d=s))}return d}}class InternMap extends Map{constructor(t,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[s,u]of t)this.set(s,u)}get(t){return super.get(intern_get(this,t))}has(t){return super.has(intern_get(this,t))}set(t,n){return super.set(intern_set(this,t),n)}delete(t){return super.delete(intern_delete(this,t))}}class InternSet extends Set{constructor(t,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const s of t)this.add(s)}has(t){return super.has(intern_get(this,t))}add(t){return super.add(intern_set(this,t))}delete(t){return super.delete(intern_delete(this,t))}}function intern_get({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function intern_set({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function intern_delete({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function keyof(e){return e!==null&&typeof e=="object"?e.valueOf():e}function identity$8(e){return e}function compareDefined(e=ascending$3){if(e===ascending$3)return ascendingDefined;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const s=e(t,n);return s||s===0?s:(e(n,n)===0)-(e(t,t)===0)}}function ascendingDefined(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var array$6=Array.prototype,slice$2=array$6.slice;function constant$6(e){return()=>e}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(e,t,n){const s=(t-e)/Math.max(0,n),u=Math.floor(Math.log10(s)),f=s/Math.pow(10,u),d=f>=e10?10:f>=e5?5:f>=e2?2:1;let g,v,S;return u<0?(S=Math.pow(10,-u)/d,g=Math.round(e*S),v=Math.round(t*S),g/S<e&&++g,v/S>t&&--v,S=-S):(S=Math.pow(10,u)*d,g=Math.round(e/S),v=Math.round(t/S),g*S<e&&++g,v*S>t&&--v),v<g&&.5<=n&&n<2?tickSpec(e,t,n*2):[g,v,S]}function ticks(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const s=t<e,[u,f,d]=s?tickSpec(t,e,n):tickSpec(e,t,n);if(!(f>=u))return[];const g=f-u+1,v=new Array(g);if(s)if(d<0)for(let S=0;S<g;++S)v[S]=(f-S)/-d;else for(let S=0;S<g;++S)v[S]=(f-S)*d;else if(d<0)for(let S=0;S<g;++S)v[S]=(u+S)/-d;else for(let S=0;S<g;++S)v[S]=(u+S)*d;return v}function tickIncrement(e,t,n){return t=+t,e=+e,n=+n,tickSpec(e,t,n)[2]}function tickStep(e,t,n){t=+t,e=+e,n=+n;const s=t<e,u=s?tickIncrement(t,e,n):tickIncrement(e,t,n);return(s?-1:1)*(u<0?1/-u:u)}function nice$1(e,t,n){let s;for(;;){const u=tickIncrement(e,t,n);if(u===s||u===0||!isFinite(u))return[e,t];u>0?(e=Math.floor(e/u)*u,t=Math.ceil(t/u)*u):u<0&&(e=Math.ceil(e*u)/u,t=Math.floor(t*u)/u),s=u}}function thresholdSturges(e){return Math.ceil(Math.log(count(e))/Math.LN2)+1}function bin(){var e=identity$8,t=extent$1,n=thresholdSturges;function s(u){Array.isArray(u)||(u=Array.from(u));var f,d=u.length,g,v,S=new Array(d);for(f=0;f<d;++f)S[f]=e(u[f],f,u);var M=t(S),I=M[0],P=M[1],N=n(S,I,P);if(!Array.isArray(N)){const Q=P,J=+N;if(t===extent$1&&([I,P]=nice$1(I,P,J)),N=ticks(I,P,J),N[0]<=I&&(v=tickIncrement(I,P,J)),N[N.length-1]>=P)if(Q>=P&&t===extent$1){const te=tickIncrement(I,P,J);isFinite(te)&&(te>0?P=(Math.floor(P/te)+1)*te:te<0&&(P=(Math.ceil(P*-te)+1)/-te))}else N.pop()}for(var F=N.length,j=0,U=F;N[j]<=I;)++j;for(;N[U-1]>P;)--U;(j||U<F)&&(N=N.slice(j,U),F=U-j);var V=new Array(F+1),Z;for(f=0;f<=F;++f)Z=V[f]=[],Z.x0=f>0?N[f-1]:I,Z.x1=f<F?N[f]:P;if(isFinite(v)){if(v>0)for(f=0;f<d;++f)(g=S[f])!=null&&I<=g&&g<=P&&V[Math.min(F,Math.floor((g-I)/v))].push(u[f]);else if(v<0){for(f=0;f<d;++f)if((g=S[f])!=null&&I<=g&&g<=P){const Q=Math.floor((I-g)*v);V[Math.min(F,Q+(N[Q]<=g))].push(u[f])}}}else for(f=0;f<d;++f)(g=S[f])!=null&&I<=g&&g<=P&&V[bisect$1(N,g,0,F)].push(u[f]);return V}return s.value=function(u){return arguments.length?(e=typeof u=="function"?u:constant$6(u),s):e},s.domain=function(u){return arguments.length?(t=typeof u=="function"?u:constant$6([u[0],u[1]]),s):t},s.thresholds=function(u){return arguments.length?(n=typeof u=="function"?u:constant$6(Array.isArray(u)?slice$2.call(u):u),s):n},s}function max$3(e,t){let n;if(t===void 0)for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);else{let s=-1;for(let u of e)(u=t(u,++s,e))!=null&&(n<u||n===void 0&&u>=u)&&(n=u)}return n}function maxIndex(e,t){let n,s=-1,u=-1;if(t===void 0)for(const f of e)++u,f!=null&&(n<f||n===void 0&&f>=f)&&(n=f,s=u);else for(let f of e)(f=t(f,++u,e))!=null&&(n<f||n===void 0&&f>=f)&&(n=f,s=u);return s}function min$3(e,t){let n;if(t===void 0)for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);else{let s=-1;for(let u of e)(u=t(u,++s,e))!=null&&(n>u||n===void 0&&u>=u)&&(n=u)}return n}function minIndex(e,t){let n,s=-1,u=-1;if(t===void 0)for(const f of e)++u,f!=null&&(n>f||n===void 0&&f>=f)&&(n=f,s=u);else for(let f of e)(f=t(f,++u,e))!=null&&(n>f||n===void 0&&f>=f)&&(n=f,s=u);return s}function quickselect(e,t,n=0,s=1/0,u){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=t&&t<=s))return e;for(u=u===void 0?ascendingDefined:compareDefined(u);s>n;){if(s-n>600){const v=s-n+1,S=t-n+1,M=Math.log(v),I=.5*Math.exp(2*M/3),P=.5*Math.sqrt(M*I*(v-I)/v)*(S-v/2<0?-1:1),N=Math.max(n,Math.floor(t-S*I/v+P)),F=Math.min(s,Math.floor(t+(v-S)*I/v+P));quickselect(e,t,N,F,u)}const f=e[t];let d=n,g=s;for(swap(e,n,t),u(e[s],f)>0&&swap(e,n,s);d<g;){for(swap(e,d,g),++d,--g;u(e[d],f)<0;)++d;for(;u(e[g],f)>0;)--g}u(e[n],f)===0?swap(e,n,g):(++g,swap(e,g,s)),g<=t&&(n=g+1),t<=g&&(s=g-1)}return e}function swap(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function quantile$1(e,t,n){if(e=Float64Array.from(numbers$1(e,n)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return min$3(e);if(t>=1)return max$3(e);var s,u=(s-1)*t,f=Math.floor(u),d=max$3(quickselect(e,f).subarray(0,f+1)),g=min$3(e.subarray(f+1));return d+(g-d)*(u-f)}}function quantileSorted(e,t,n=number$6){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+n(e[0],0,e);if(t>=1)return+n(e[s-1],s-1,e);var s,u=(s-1)*t,f=Math.floor(u),d=+n(e[f],f,e),g=+n(e[f+1],f+1,e);return d+(g-d)*(u-f)}}function mean$1(e,t){let n=0,s=0;if(t===void 0)for(let u of e)u!=null&&(u=+u)>=u&&(++n,s+=u);else{let u=-1;for(let f of e)(f=t(f,++u,e))!=null&&(f=+f)>=f&&(++n,s+=f)}if(n)return s/n}function median$2(e,t){return quantile$1(e,.5,t)}function mode(e,t){const n=new InternMap;if(t===void 0)for(let f of e)f!=null&&f>=f&&n.set(f,(n.get(f)||0)+1);else{let f=-1;for(let d of e)(d=t(d,++f,e))!=null&&d>=d&&n.set(d,(n.get(d)||0)+1)}let s,u=0;for(const[f,d]of n)d>u&&(u=d,s=f);return s}function range$3(e,t,n){e=+e,t=+t,n=(u=arguments.length)<2?(t=e,e=0,1):u<3?1:+n;for(var s=-1,u=Math.max(0,Math.ceil((t-e)/n))|0,f=new Array(u);++s<u;)f[s]=e+s*n;return f}function sum(e,t){let n=0;if(t===void 0)for(let s of e)(s=+s)&&(n+=s);else{let s=-1;for(let u of e)(u=+t(u,++s,e))&&(n+=u)}return n}function transpose$2(e){if(!(f=e.length))return[];for(var t=-1,n=min$3(e,length$3),s=new Array(n);++t<n;)for(var u=-1,f,d=s[t]=new Array(f);++u<f;)d[u]=e[u][t];return s}function length$3(e){return e.length}function zip(){return transpose$2(arguments)}function intersection$1(e,...t){e=new InternSet(e),t=t.map(set$4);e:for(const n of e)for(const s of t)if(!s.has(n)){e.delete(n);continue e}return e}function set$4(e){return e instanceof InternSet?e:new InternSet(e)}function union(...e){const t=new InternSet;for(const n of e)for(const s of n)t.add(s);return t}function identity$7(e){return e}var top=1,right=2,bottom=3,left=4,epsilon$4=1e-6;function translateX(e){return"translate("+e+",0)"}function translateY(e){return"translate(0,"+e+")"}function number$5(e){return t=>+e(t)}function center$1(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function entering(){return!this.__axis}function axis(e,t){var n=[],s=null,u=null,f=6,d=6,g=3,v=typeof window<"u"&&window.devicePixelRatio>1?0:.5,S=e===top||e===left?-1:1,M=e===left||e===right?"x":"y",I=e===top||e===bottom?translateX:translateY;function P(N){var F=s??(t.ticks?t.ticks.apply(t,n):t.domain()),j=u??(t.tickFormat?t.tickFormat.apply(t,n):identity$7),U=Math.max(f,0)+g,V=t.range(),Z=+V[0]+v,Q=+V[V.length-1]+v,J=(t.bandwidth?center$1:number$5)(t.copy(),v),te=N.selection?N.selection():N,oe=te.selectAll(".domain").data([null]),ue=te.selectAll(".tick").data(F,t).order(),se=ue.exit(),le=ue.enter().append("g").attr("class","tick"),de=ue.select("line"),ge=ue.select("text");oe=oe.merge(oe.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),ue=ue.merge(le),de=de.merge(le.append("line").attr("stroke","currentColor").attr(M+"2",S*f)),ge=ge.merge(le.append("text").attr("fill","currentColor").attr(M,S*U).attr("dy",e===top?"0em":e===bottom?"0.71em":"0.32em")),N!==te&&(oe=oe.transition(N),ue=ue.transition(N),de=de.transition(N),ge=ge.transition(N),se=se.transition(N).attr("opacity",epsilon$4).attr("transform",function(ve){return isFinite(ve=J(ve))?I(ve+v):this.getAttribute("transform")}),le.attr("opacity",epsilon$4).attr("transform",function(ve){var me=this.parentNode.__axis;return I((me&&isFinite(me=me(ve))?me:J(ve))+v)})),se.remove(),oe.attr("d",e===left||e===right?d?"M"+S*d+","+Z+"H"+v+"V"+Q+"H"+S*d:"M"+v+","+Z+"V"+Q:d?"M"+Z+","+S*d+"V"+v+"H"+Q+"V"+S*d:"M"+Z+","+v+"H"+Q),ue.attr("opacity",1).attr("transform",function(ve){return I(J(ve)+v)}),de.attr(M+"2",S*f),ge.attr(M,S*U).text(j),te.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===right?"start":e===left?"end":"middle"),te.each(function(){this.__axis=J})}return P.scale=function(N){return arguments.length?(t=N,P):t},P.ticks=function(){return n=Array.from(arguments),P},P.tickArguments=function(N){return arguments.length?(n=N==null?[]:Array.from(N),P):n.slice()},P.tickValues=function(N){return arguments.length?(s=N==null?null:Array.from(N),P):s&&s.slice()},P.tickFormat=function(N){return arguments.length?(u=N,P):u},P.tickSize=function(N){return arguments.length?(f=d=+N,P):f},P.tickSizeInner=function(N){return arguments.length?(f=+N,P):f},P.tickSizeOuter=function(N){return arguments.length?(d=+N,P):d},P.tickPadding=function(N){return arguments.length?(g=+N,P):g},P.offset=function(N){return arguments.length?(v=+N,P):v},P}function axisBottom(e){return axis(bottom,e)}var noop$4={value:()=>{}};function dispatch(){for(var e=0,t=arguments.length,n={},s;e<t;++e){if(!(s=arguments[e]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new Dispatch(n)}function Dispatch(e){this._=e}function parseTypenames$1(e,t){return e.trim().split(/^|\s+/).map(function(n){var s="",u=n.indexOf(".");if(u>=0&&(s=n.slice(u+1),n=n.slice(0,u)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(e,t){var n=this._,s=parseTypenames$1(e+"",n),u,f=-1,d=s.length;if(arguments.length<2){for(;++f<d;)if((u=(e=s[f]).type)&&(u=get$5(n[u],e.name)))return u;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++f<d;)if(u=(e=s[f]).type)n[u]=set$3(n[u],e.name,t);else if(t==null)for(u in n)n[u]=set$3(n[u],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Dispatch(e)},call:function(e,t){if((u=arguments.length-2)>0)for(var n=new Array(u),s=0,u,f;s<u;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(f=this._[e],s=0,u=f.length;s<u;++s)f[s].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],u=0,f=s.length;u<f;++u)s[u].value.apply(t,n)}};function get$5(e,t){for(var n=0,s=e.length,u;n<s;++n)if((u=e[n]).name===t)return u.value}function set$3(e,t,n){for(var s=0,u=e.length;s<u;++s)if(e[s].name===t){e[s]=noop$4,e=e.slice(0,s).concat(e.slice(s+1));break}return n!=null&&e.push({name:t,value:n}),e}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),namespaces.hasOwnProperty(t)?{space:namespaces[t],local:e}:e}function creatorInherit(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===xhtml&&t.documentElement.namespaceURI===xhtml?t.createElement(e):t.createElementNS(n,e)}}function creatorFixed(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function creator(e){var t=namespace(e);return(t.local?creatorFixed:creatorInherit)(t)}function none(){}function selector(e){return e==null?none:function(){return this.querySelector(e)}}function selection_select(e){typeof e!="function"&&(e=selector(e));for(var t=this._groups,n=t.length,s=new Array(n),u=0;u<n;++u)for(var f=t[u],d=f.length,g=s[u]=new Array(d),v,S,M=0;M<d;++M)(v=f[M])&&(S=e.call(v,v.__data__,M,f))&&("__data__"in v&&(S.__data__=v.__data__),g[M]=S);return new Selection$1(s,this._parents)}function array$5(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function empty$1(){return[]}function selectorAll(e){return e==null?empty$1:function(){return this.querySelectorAll(e)}}function arrayAll(e){return function(){return array$5(e.apply(this,arguments))}}function selection_selectAll(e){typeof e=="function"?e=arrayAll(e):e=selectorAll(e);for(var t=this._groups,n=t.length,s=[],u=[],f=0;f<n;++f)for(var d=t[f],g=d.length,v,S=0;S<g;++S)(v=d[S])&&(s.push(e.call(v,v.__data__,S,d)),u.push(v));return new Selection$1(s,u)}function matcher(e){return function(){return this.matches(e)}}function childMatcher(e){return function(t){return t.matches(e)}}var find$1=Array.prototype.find;function childFind(e){return function(){return find$1.call(this.children,e)}}function childFirst(){return this.firstElementChild}function selection_selectChild(e){return this.select(e==null?childFirst:childFind(typeof e=="function"?e:childMatcher(e)))}var filter$5=Array.prototype.filter;function children$1(){return Array.from(this.children)}function childrenFilter(e){return function(){return filter$5.call(this.children,e)}}function selection_selectChildren(e){return this.selectAll(e==null?children$1:childrenFilter(typeof e=="function"?e:childMatcher(e)))}function selection_filter(e){typeof e!="function"&&(e=matcher(e));for(var t=this._groups,n=t.length,s=new Array(n),u=0;u<n;++u)for(var f=t[u],d=f.length,g=s[u]=[],v,S=0;S<d;++S)(v=f[S])&&e.call(v,v.__data__,S,f)&&g.push(v);return new Selection$1(s,this._parents)}function sparse(e){return new Array(e.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}EnterNode.prototype={constructor:EnterNode,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function constant$5(e){return function(){return e}}function bindIndex(e,t,n,s,u,f){for(var d=0,g,v=t.length,S=f.length;d<S;++d)(g=t[d])?(g.__data__=f[d],s[d]=g):n[d]=new EnterNode(e,f[d]);for(;d<v;++d)(g=t[d])&&(u[d]=g)}function bindKey(e,t,n,s,u,f,d){var g,v,S=new Map,M=t.length,I=f.length,P=new Array(M),N;for(g=0;g<M;++g)(v=t[g])&&(P[g]=N=d.call(v,v.__data__,g,t)+"",S.has(N)?u[g]=v:S.set(N,v));for(g=0;g<I;++g)N=d.call(e,f[g],g,f)+"",(v=S.get(N))?(s[g]=v,v.__data__=f[g],S.delete(N)):n[g]=new EnterNode(e,f[g]);for(g=0;g<M;++g)(v=t[g])&&S.get(P[g])===v&&(u[g]=v)}function datum$1(e){return e.__data__}function selection_data(e,t){if(!arguments.length)return Array.from(this,datum$1);var n=t?bindKey:bindIndex,s=this._parents,u=this._groups;typeof e!="function"&&(e=constant$5(e));for(var f=u.length,d=new Array(f),g=new Array(f),v=new Array(f),S=0;S<f;++S){var M=s[S],I=u[S],P=I.length,N=arraylike(e.call(M,M&&M.__data__,S,s)),F=N.length,j=g[S]=new Array(F),U=d[S]=new Array(F),V=v[S]=new Array(P);n(M,I,j,U,V,N,t);for(var Z=0,Q=0,J,te;Z<F;++Z)if(J=j[Z]){for(Z>=Q&&(Q=Z+1);!(te=U[Q])&&++Q<F;);J._next=te||null}}return d=new Selection$1(d,s),d._enter=g,d._exit=v,d}function arraylike(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(e,t,n){var s=this.enter(),u=this,f=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),t!=null&&(u=t(u),u&&(u=u.selection())),n==null?f.remove():n(f),s&&u?s.merge(u).order():u}function selection_merge(e){for(var t=e.selection?e.selection():e,n=this._groups,s=t._groups,u=n.length,f=s.length,d=Math.min(u,f),g=new Array(u),v=0;v<d;++v)for(var S=n[v],M=s[v],I=S.length,P=g[v]=new Array(I),N,F=0;F<I;++F)(N=S[F]||M[F])&&(P[F]=N);for(;v<u;++v)g[v]=n[v];return new Selection$1(g,this._parents)}function selection_order(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var s=e[t],u=s.length-1,f=s[u],d;--u>=0;)(d=s[u])&&(f&&d.compareDocumentPosition(f)^4&&f.parentNode.insertBefore(d,f),f=d);return this}function selection_sort(e){e||(e=ascending$2);function t(I,P){return I&&P?e(I.__data__,P.__data__):!I-!P}for(var n=this._groups,s=n.length,u=new Array(s),f=0;f<s;++f){for(var d=n[f],g=d.length,v=u[f]=new Array(g),S,M=0;M<g;++M)(S=d[M])&&(v[M]=S);v.sort(t)}return new Selection$1(u,this._parents).order()}function ascending$2(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function selection_call(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],u=0,f=s.length;u<f;++u){var d=s[u];if(d)return d}return null}function selection_size(){let e=0;for(const t of this)++e;return e}function selection_empty(){return!this.node()}function selection_each(e){for(var t=this._groups,n=0,s=t.length;n<s;++n)for(var u=t[n],f=0,d=u.length,g;f<d;++f)(g=u[f])&&e.call(g,g.__data__,f,u);return this}function attrRemove$1(e){return function(){this.removeAttribute(e)}}function attrRemoveNS$1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant$1(e,t){return function(){this.setAttribute(e,t)}}function attrConstantNS$1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function attrFunction$1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function attrFunctionNS$1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function selection_attr(e,t){var n=namespace(e);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((t==null?n.local?attrRemoveNS$1:attrRemove$1:typeof t=="function"?n.local?attrFunctionNS$1:attrFunction$1:n.local?attrConstantNS$1:attrConstant$1)(n,t))}function defaultView(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function styleRemove$1(e){return function(){this.style.removeProperty(e)}}function styleConstant$1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function styleFunction$1(e,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,n)}}function selection_style(e,t,n){return arguments.length>1?this.each((t==null?styleRemove$1:typeof t=="function"?styleFunction$1:styleConstant$1)(e,t,n??"")):styleValue(this.node(),e)}function styleValue(e,t){return e.style.getPropertyValue(t)||defaultView(e).getComputedStyle(e,null).getPropertyValue(t)}function propertyRemove(e){return function(){delete this[e]}}function propertyConstant(e,t){return function(){this[e]=t}}function propertyFunction(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function selection_property(e,t){return arguments.length>1?this.each((t==null?propertyRemove:typeof t=="function"?propertyFunction:propertyConstant)(e,t)):this.node()[e]}function classArray(e){return e.trim().split(/^|\s+/)}function classList(e){return e.classList||new ClassList(e)}function ClassList(e){this._node=e,this._names=classArray(e.getAttribute("class")||"")}ClassList.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function classedAdd(e,t){for(var n=classList(e),s=-1,u=t.length;++s<u;)n.add(t[s])}function classedRemove(e,t){for(var n=classList(e),s=-1,u=t.length;++s<u;)n.remove(t[s])}function classedTrue(e){return function(){classedAdd(this,e)}}function classedFalse(e){return function(){classedRemove(this,e)}}function classedFunction(e,t){return function(){(t.apply(this,arguments)?classedAdd:classedRemove)(this,e)}}function selection_classed(e,t){var n=classArray(e+"");if(arguments.length<2){for(var s=classList(this.node()),u=-1,f=n.length;++u<f;)if(!s.contains(n[u]))return!1;return!0}return this.each((typeof t=="function"?classedFunction:t?classedTrue:classedFalse)(n,t))}function textRemove(){this.textContent=""}function textConstant$1(e){return function(){this.textContent=e}}function textFunction$1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function selection_text(e){return arguments.length?this.each(e==null?textRemove:(typeof e=="function"?textFunction$1:textConstant$1)(e)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(e){return function(){this.innerHTML=e}}function htmlFunction(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function selection_html(e){return arguments.length?this.each(e==null?htmlRemove:(typeof e=="function"?htmlFunction:htmlConstant)(e)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(e){var t=typeof e=="function"?e:creator(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function constantNull(){return null}function selection_insert(e,t){var n=typeof e=="function"?e:creator(e),s=t==null?constantNull:typeof t=="function"?t:selector(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function remove(){var e=this.parentNode;e&&e.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_cloneDeep(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_clone(e){return this.select(e?selection_cloneDeep:selection_cloneShallow)}function selection_datum(e){return arguments.length?this.property("__data__",e):this.node().__data__}function contextListener(e){return function(t){e.call(this,t,this.__data__)}}function parseTypenames(e){return e.trim().split(/^|\s+/).map(function(t){var n="",s=t.indexOf(".");return s>=0&&(n=t.slice(s+1),t=t.slice(0,s)),{type:t,name:n}})}function onRemove(e){return function(){var t=this.__on;if(t){for(var n=0,s=-1,u=t.length,f;n<u;++n)f=t[n],(!e.type||f.type===e.type)&&f.name===e.name?this.removeEventListener(f.type,f.listener,f.options):t[++s]=f;++s?t.length=s:delete this.__on}}}function onAdd(e,t,n){return function(){var s=this.__on,u,f=contextListener(t);if(s){for(var d=0,g=s.length;d<g;++d)if((u=s[d]).type===e.type&&u.name===e.name){this.removeEventListener(u.type,u.listener,u.options),this.addEventListener(u.type,u.listener=f,u.options=n),u.value=t;return}}this.addEventListener(e.type,f,n),u={type:e.type,name:e.name,value:t,listener:f,options:n},s?s.push(u):this.__on=[u]}}function selection_on(e,t,n){var s=parseTypenames(e+""),u,f=s.length,d;if(arguments.length<2){var g=this.node().__on;if(g){for(var v=0,S=g.length,M;v<S;++v)for(u=0,M=g[v];u<f;++u)if((d=s[u]).type===M.type&&d.name===M.name)return M.value}return}for(g=t?onAdd:onRemove,u=0;u<f;++u)this.each(g(s[u],t,n));return this}function dispatchEvent(e,t,n){var s=defaultView(e),u=s.CustomEvent;typeof u=="function"?u=new u(t,n):(u=s.document.createEvent("Event"),n?(u.initEvent(t,n.bubbles,n.cancelable),u.detail=n.detail):u.initEvent(t,!1,!1)),e.dispatchEvent(u)}function dispatchConstant(e,t){return function(){return dispatchEvent(this,e,t)}}function dispatchFunction(e,t){return function(){return dispatchEvent(this,e,t.apply(this,arguments))}}function selection_dispatch(e,t){return this.each((typeof t=="function"?dispatchFunction:dispatchConstant)(e,t))}function*selection_iterator(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],u=0,f=s.length,d;u<f;++u)(d=s[u])&&(yield d)}var root$5=[null];function Selection$1(e,t){this._groups=e,this._parents=t}function selection(){return new Selection$1([[document.documentElement]],root$5)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select$1(e){return typeof e=="string"?new Selection$1([[document.querySelector(e)]],[document.documentElement]):new Selection$1([[e]],root$5)}function create$2(e){return select$1(creator(e).call(document.documentElement))}function sourceEvent(e){let t;for(;t=e.sourceEvent;)e=t;return e}function pointer(e,t){if(e=sourceEvent(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var s=n.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}if(t.getBoundingClientRect){var u=t.getBoundingClientRect();return[e.clientX-u.left-t.clientLeft,e.clientY-u.top-t.clientTop]}}return[e.pageX,e.pageY]}const nonpassivecapture={capture:!0,passive:!1};function noevent$1(e){e.preventDefault(),e.stopImmediatePropagation()}function dragDisable(e){var t=e.document.documentElement,n=select$1(e).on("dragstart.drag",noevent$1,nonpassivecapture);"onselectstart"in t?n.on("selectstart.drag",noevent$1,nonpassivecapture):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function yesdrag(e,t){var n=e.document.documentElement,s=select$1(e).on("dragstart.drag",null);t&&(s.on("click.drag",noevent$1,nonpassivecapture),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function define$4(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function extend$2(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define$4(Color,color$1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$1(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=reHex.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?rgbn(t):n===3?new Rgb(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rgba$1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rgba$1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=reRgbInteger.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=reRgbPercent.exec(e))?new Rgb(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=reRgbaInteger.exec(e))?rgba$1(t[1],t[2],t[3],t[4]):(t=reRgbaPercent.exec(e))?rgba$1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=reHslPercent.exec(e))?hsla$1(t[1],t[2]/100,t[3]/100,1):(t=reHslaPercent.exec(e))?hsla$1(t[1],t[2]/100,t[3]/100,t[4]):named.hasOwnProperty(e)?rgbn(named[e]):e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,e&255,1)}function rgba$1(e,t,n,s){return s<=0&&(e=t=n=NaN),new Rgb(e,t,n,s)}function rgbConvert(e){return e instanceof Color||(e=color$1(e)),e?(e=e.rgb(),new Rgb(e.r,e.g,e.b,e.opacity)):new Rgb}function rgb(e,t,n,s){return arguments.length===1?rgbConvert(e):new Rgb(e,t,n,s??1)}function Rgb(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}define$4(Rgb,rgb,extend$2(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const e=clampa(this.opacity);return`${e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${e===1?")":`, ${e})`}`}function clampa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function clampi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hex(e){return e=clampi(e),(e<16?"0":"")+e.toString(16)}function hsla$1(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,n,s)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color$1(e)),!e)return new Hsl;if(e instanceof Hsl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,u=Math.min(t,n,s),f=Math.max(t,n,s),d=NaN,g=f-u,v=(f+u)/2;return g?(t===f?d=(n-s)/g+(n<s)*6:n===f?d=(s-t)/g+2:d=(t-n)/g+4,g/=v<.5?f+u:2-f-u,d*=60):g=v>0&&v<1?0:d,new Hsl(d,g,v,e.opacity)}function hsl$2(e,t,n,s){return arguments.length===1?hslConvert(e):new Hsl(e,t,n,s??1)}function Hsl(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}define$4(Hsl,hsl$2,extend$2(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,u=2*n-s;return new Rgb(hsl2rgb(e>=240?e-240:e+120,u,s),hsl2rgb(e,u,s),hsl2rgb(e<120?e+240:e-120,u,s),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=clampa(this.opacity);return`${e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function clamph(e){return e=(e||0)%360,e<0?e+360:e}function clampt(e){return Math.max(0,Math.min(1,e||0))}function hsl2rgb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const radians$1=Math.PI/180,degrees$2=180/Math.PI,K$1=18,Xn=.96422,Yn=1,Zn=.82521,t0$2=4/29,t1$1=6/29,t2=3*t1$1*t1$1,t3=t1$1*t1$1*t1$1;function labConvert(e){if(e instanceof Lab)return new Lab(e.l,e.a,e.b,e.opacity);if(e instanceof Hcl)return hcl2lab(e);e instanceof Rgb||(e=rgbConvert(e));var t=rgb2lrgb(e.r),n=rgb2lrgb(e.g),s=rgb2lrgb(e.b),u=xyz2lab((.2225045*t+.7168786*n+.0606169*s)/Yn),f,d;return t===n&&n===s?f=d=u:(f=xyz2lab((.4360747*t+.3850649*n+.1430804*s)/Xn),d=xyz2lab((.0139322*t+.0971045*n+.7141733*s)/Zn)),new Lab(116*u-16,500*(f-u),200*(u-d),e.opacity)}function lab$1(e,t,n,s){return arguments.length===1?labConvert(e):new Lab(e,t,n,s??1)}function Lab(e,t,n,s){this.l=+e,this.a=+t,this.b=+n,this.opacity=+s}define$4(Lab,lab$1,extend$2(Color,{brighter(e){return new Lab(this.l+K$1*(e??1),this.a,this.b,this.opacity)},darker(e){return new Lab(this.l-K$1*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=Xn*lab2xyz(t),e=Yn*lab2xyz(e),n=Zn*lab2xyz(n),new Rgb(lrgb2rgb(3.1338561*t-1.6168667*e-.4906146*n),lrgb2rgb(-.9787684*t+1.9161415*e+.033454*n),lrgb2rgb(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function xyz2lab(e){return e>t3?Math.pow(e,1/3):e/t2+t0$2}function lab2xyz(e){return e>t1$1?e*e*e:t2*(e-t0$2)}function lrgb2rgb(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rgb2lrgb(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function hclConvert(e){if(e instanceof Hcl)return new Hcl(e.h,e.c,e.l,e.opacity);if(e instanceof Lab||(e=labConvert(e)),e.a===0&&e.b===0)return new Hcl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*degrees$2;return new Hcl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function hcl$2(e,t,n,s){return arguments.length===1?hclConvert(e):new Hcl(e,t,n,s??1)}function Hcl(e,t,n,s){this.h=+e,this.c=+t,this.l=+n,this.opacity=+s}function hcl2lab(e){if(isNaN(e.h))return new Lab(e.l,0,0,e.opacity);var t=e.h*radians$1;return new Lab(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}define$4(Hcl,hcl$2,extend$2(Color,{brighter(e){return new Hcl(this.h,this.c,this.l+K$1*(e??1),this.opacity)},darker(e){return new Hcl(this.h,this.c,this.l-K$1*(e??1),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));var A=-.14861,B=1.78277,C$1=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C$1-D*A;function cubehelixConvert(e){if(e instanceof Cubehelix)return new Cubehelix(e.h,e.s,e.l,e.opacity);e instanceof Rgb||(e=rgbConvert(e));var t=e.r/255,n=e.g/255,s=e.b/255,u=(BC_DA*s+ED*t-EB*n)/(BC_DA+ED-EB),f=s-u,d=(E*(n-u)-C$1*f)/D,g=Math.sqrt(d*d+f*f)/(E*u*(1-u)),v=g?Math.atan2(d,f)*degrees$2-120:NaN;return new Cubehelix(v<0?v+360:v,g,u,e.opacity)}function cubehelix$2(e,t,n,s){return arguments.length===1?cubehelixConvert(e):new Cubehelix(e,t,n,s??1)}function Cubehelix(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}define$4(Cubehelix,cubehelix$2,extend$2(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*radians$1,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),s=Math.cos(e),u=Math.sin(e);return new Rgb(255*(t+n*(A*s+B*u)),255*(t+n*(C$1*s+D*u)),255*(t+n*(E*s)),this.opacity)}}));function basis(e,t,n,s,u){var f=e*e,d=f*e;return((1-3*e+3*f-d)*t+(4-6*f+3*d)*n+(1+3*e+3*f-3*d)*s+d*u)/6}function basis$1(e){var t=e.length-1;return function(n){var s=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),u=e[s],f=e[s+1],d=s>0?e[s-1]:2*u-f,g=s<t-1?e[s+2]:2*f-u;return basis((n-s/t)*t,d,u,f,g)}}function basisClosed(e){var t=e.length;return function(n){var s=Math.floor(((n%=1)<0?++n:n)*t),u=e[(s+t-1)%t],f=e[s%t],d=e[(s+1)%t],g=e[(s+2)%t];return basis((n-s/t)*t,u,f,d,g)}}const constant$4=e=>()=>e;function linear$1(e,t){return function(n){return e+n*t}}function exponential(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function hue$1(e,t){var n=t-e;return n?linear$1(e,n>180||n<-180?n-360*Math.round(n/360):n):constant$4(isNaN(e)?t:e)}function gamma(e){return(e=+e)==1?nogamma:function(t,n){return n-t?exponential(t,n,e):constant$4(isNaN(t)?n:t)}}function nogamma(e,t){var n=t-e;return n?linear$1(e,n):constant$4(isNaN(e)?t:e)}const interpolateRgb=function e(t){var n=gamma(t);function s(u,f){var d=n((u=rgb(u)).r,(f=rgb(f)).r),g=n(u.g,f.g),v=n(u.b,f.b),S=nogamma(u.opacity,f.opacity);return function(M){return u.r=d(M),u.g=g(M),u.b=v(M),u.opacity=S(M),u+""}}return s.gamma=e,s}(1);function rgbSpline(e){return function(t){var n=t.length,s=new Array(n),u=new Array(n),f=new Array(n),d,g;for(d=0;d<n;++d)g=rgb(t[d]),s[d]=g.r||0,u[d]=g.g||0,f[d]=g.b||0;return s=e(s),u=e(u),f=e(f),g.opacity=1,function(v){return g.r=s(v),g.g=u(v),g.b=f(v),g+""}}}var rgbBasis=rgbSpline(basis$1),rgbBasisClosed=rgbSpline(basisClosed);function numberArray(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,s=t.slice(),u;return function(f){for(u=0;u<n;++u)s[u]=e[u]*(1-f)+t[u]*f;return s}}function isNumberArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function array$4(e,t){return(isNumberArray(t)?numberArray:genericArray)(e,t)}function genericArray(e,t){var n=t?t.length:0,s=e?Math.min(n,e.length):0,u=new Array(s),f=new Array(n),d;for(d=0;d<s;++d)u[d]=interpolate$1$1(e[d],t[d]);for(;d<n;++d)f[d]=t[d];return function(g){for(d=0;d<s;++d)f[d]=u[d](g);return f}}function date$1(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function interpolateNumber(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function object$2(e,t){var n={},s={},u;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(u in t)u in e?n[u]=interpolate$1$1(e[u],t[u]):s[u]=t[u];return function(f){for(u in n)s[u]=n[u](f);return s}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(e){return function(){return e}}function one$1(e){return function(t){return e(t)+""}}function interpolateString(e,t){var n=reA.lastIndex=reB.lastIndex=0,s,u,f,d=-1,g=[],v=[];for(e=e+"",t=t+"";(s=reA.exec(e))&&(u=reB.exec(t));)(f=u.index)>n&&(f=t.slice(n,f),g[d]?g[d]+=f:g[++d]=f),(s=s[0])===(u=u[0])?g[d]?g[d]+=u:g[++d]=u:(g[++d]=null,v.push({i:d,x:interpolateNumber(s,u)})),n=reB.lastIndex;return n<t.length&&(f=t.slice(n),g[d]?g[d]+=f:g[++d]=f),g.length<2?v[0]?one$1(v[0].x):zero(t):(t=v.length,function(S){for(var M=0,I;M<t;++M)g[(I=v[M]).i]=I.x(S);return g.join("")})}function interpolate$1$1(e,t){var n=typeof t,s;return t==null||n==="boolean"?constant$4(t):(n==="number"?interpolateNumber:n==="string"?(s=color$1(t))?(t=s,interpolateRgb):interpolateString:t instanceof color$1?interpolateRgb:t instanceof Date?date$1:isNumberArray(t)?numberArray:Array.isArray(t)?genericArray:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?object$2:interpolateNumber)(e,t)}function discrete$1(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function hue(e,t){var n=hue$1(+e,+t);return function(s){var u=n(s);return u-360*Math.floor(u/360)}}function interpolateRound(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var degrees$1=180/Math.PI,identity$6={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose$1(e,t,n,s,u,f){var d,g,v;return(d=Math.sqrt(e*e+t*t))&&(e/=d,t/=d),(v=e*n+t*s)&&(n-=e*v,s-=t*v),(g=Math.sqrt(n*n+s*s))&&(n/=g,s/=g,v/=g),e*s<t*n&&(e=-e,t=-t,v=-v,d=-d),{translateX:u,translateY:f,rotate:Math.atan2(t,e)*degrees$1,skewX:Math.atan(v)*degrees$1,scaleX:d,scaleY:g}}var svgNode;function parseCss(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?identity$6:decompose$1(t.a,t.b,t.c,t.d,t.e,t.f)}function parseSvg(e){return e==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",e),!(e=svgNode.transform.baseVal.consolidate()))?identity$6:(e=e.matrix,decompose$1(e.a,e.b,e.c,e.d,e.e,e.f))}function interpolateTransform(e,t,n,s){function u(S){return S.length?S.pop()+" ":""}function f(S,M,I,P,N,F){if(S!==I||M!==P){var j=N.push("translate(",null,t,null,n);F.push({i:j-4,x:interpolateNumber(S,I)},{i:j-2,x:interpolateNumber(M,P)})}else(I||P)&&N.push("translate("+I+t+P+n)}function d(S,M,I,P){S!==M?(S-M>180?M+=360:M-S>180&&(S+=360),P.push({i:I.push(u(I)+"rotate(",null,s)-2,x:interpolateNumber(S,M)})):M&&I.push(u(I)+"rotate("+M+s)}function g(S,M,I,P){S!==M?P.push({i:I.push(u(I)+"skewX(",null,s)-2,x:interpolateNumber(S,M)}):M&&I.push(u(I)+"skewX("+M+s)}function v(S,M,I,P,N,F){if(S!==I||M!==P){var j=N.push(u(N)+"scale(",null,",",null,")");F.push({i:j-4,x:interpolateNumber(S,I)},{i:j-2,x:interpolateNumber(M,P)})}else(I!==1||P!==1)&&N.push(u(N)+"scale("+I+","+P+")")}return function(S,M){var I=[],P=[];return S=e(S),M=e(M),f(S.translateX,S.translateY,M.translateX,M.translateY,I,P),d(S.rotate,M.rotate,I,P),g(S.skewX,M.skewX,I,P),v(S.scaleX,S.scaleY,M.scaleX,M.scaleY,I,P),S=M=null,function(N){for(var F=-1,j=P.length,U;++F<j;)I[(U=P[F]).i]=U.x(N);return I.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),epsilon2$1=1e-12;function cosh(e){return((e=Math.exp(e))+1/e)/2}function sinh(e){return((e=Math.exp(e))-1/e)/2}function tanh(e){return((e=Math.exp(2*e))-1)/(e+1)}const interpolateZoom=function e(t,n,s){function u(f,d){var g=f[0],v=f[1],S=f[2],M=d[0],I=d[1],P=d[2],N=M-g,F=I-v,j=N*N+F*F,U,V;if(j<epsilon2$1)V=Math.log(P/S)/t,U=function(ue){return[g+ue*N,v+ue*F,S*Math.exp(t*ue*V)]};else{var Z=Math.sqrt(j),Q=(P*P-S*S+s*j)/(2*S*n*Z),J=(P*P-S*S-s*j)/(2*P*n*Z),te=Math.log(Math.sqrt(Q*Q+1)-Q),oe=Math.log(Math.sqrt(J*J+1)-J);V=(oe-te)/t,U=function(ue){var se=ue*V,le=cosh(te),de=S/(n*Z)*(le*tanh(t*se+te)-sinh(te));return[g+de*N,v+de*F,S*le/cosh(t*se+te)]}}return U.duration=V*1e3*t/Math.SQRT2,U}return u.rho=function(f){var d=Math.max(.001,+f),g=d*d,v=g*g;return e(d,g,v)},u}(Math.SQRT2,2,4);function hsl(e){return function(t,n){var s=e((t=hsl$2(t)).h,(n=hsl$2(n)).h),u=nogamma(t.s,n.s),f=nogamma(t.l,n.l),d=nogamma(t.opacity,n.opacity);return function(g){return t.h=s(g),t.s=u(g),t.l=f(g),t.opacity=d(g),t+""}}}const hsl$1=hsl(hue$1);var hslLong=hsl(nogamma);function lab(e,t){var n=nogamma((e=lab$1(e)).l,(t=lab$1(t)).l),s=nogamma(e.a,t.a),u=nogamma(e.b,t.b),f=nogamma(e.opacity,t.opacity);return function(d){return e.l=n(d),e.a=s(d),e.b=u(d),e.opacity=f(d),e+""}}function hcl(e){return function(t,n){var s=e((t=hcl$2(t)).h,(n=hcl$2(n)).h),u=nogamma(t.c,n.c),f=nogamma(t.l,n.l),d=nogamma(t.opacity,n.opacity);return function(g){return t.h=s(g),t.c=u(g),t.l=f(g),t.opacity=d(g),t+""}}}const hcl$1=hcl(hue$1);var hclLong=hcl(nogamma);function cubehelix(e){return function t(n){n=+n;function s(u,f){var d=e((u=cubehelix$2(u)).h,(f=cubehelix$2(f)).h),g=nogamma(u.s,f.s),v=nogamma(u.l,f.l),S=nogamma(u.opacity,f.opacity);return function(M){return u.h=d(M),u.s=g(M),u.l=v(Math.pow(M,n)),u.opacity=S(M),u+""}}return s.gamma=t,s}(1)}const cubehelix$1=cubehelix(hue$1);var cubehelixLong=cubehelix(nogamma);function piecewise(e,t){t===void 0&&(t=e,e=interpolate$1$1);for(var n=0,s=t.length-1,u=t[0],f=new Array(s<0?0:s);n<s;)f[n]=e(u,u=t[++n]);return function(d){var g=Math.max(0,Math.min(s-1,Math.floor(d*=s)));return f[g](d-g)}}function quantize$1(e,t){for(var n=new Array(t),s=0;s<t;++s)n[s]=e(s/(t-1));return n}const $$1=Object.freeze(Object.defineProperty({__proto__:null,interpolate:interpolate$1$1,interpolateArray:array$4,interpolateBasis:basis$1,interpolateBasisClosed:basisClosed,interpolateCubehelix:cubehelix$1,interpolateCubehelixLong:cubehelixLong,interpolateDate:date$1,interpolateDiscrete:discrete$1,interpolateHcl:hcl$1,interpolateHclLong:hclLong,interpolateHsl:hsl$1,interpolateHslLong:hslLong,interpolateHue:hue,interpolateLab:lab,interpolateNumber,interpolateNumberArray:numberArray,interpolateObject:object$2,interpolateRgb,interpolateRgbBasis:rgbBasis,interpolateRgbBasisClosed:rgbBasisClosed,interpolateRound,interpolateString,interpolateTransformCss,interpolateTransformSvg,interpolateZoom,piecewise,quantize:quantize$1},Symbol.toStringTag,{value:"Module"}));var frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function now$2(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?now$2():+n)+(t==null?0:+t),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=e,this._time=n,sleep$1()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep$1())}};function timer(e,t,n){var s=new Timer;return s.restart(e,t,n),s}function timerFlush(){now$2(),++frame;for(var e=taskHead,t;e;)(t=clockNow-e._time)>=0&&e._call.call(void 0,t),e=e._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var e=clock.now(),t=e-clockLast;t>pokeDelay&&(clockSkew-=t,clockLast=e)}function nap(){for(var e,t=taskHead,n,s=1/0;t;)t._call?(s>t._time&&(s=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:taskHead=n);taskTail=e,sleep$1(s)}function sleep$1(e){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var t=e-clockNow;t>24?(e<1/0&&(timeout$1=setTimeout(wake,e-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(e,t,n){var s=new Timer;return t=t==null?0:+t,s.restart(u=>{s.stop(),e(u+t)},t,n),s}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(e,t,n,s,u,f){var d=e.__transition;if(!d)e.__transition={};else if(n in d)return;create$1(e,n,{name:t,index:s,group:u,on:emptyOn,tween:emptyTween,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:CREATED})}function init(e,t){var n=get$4(e,t);if(n.state>CREATED)throw new Error("too late; already scheduled");return n}function set$2(e,t){var n=get$4(e,t);if(n.state>STARTED)throw new Error("too late; already running");return n}function get$4(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function create$1(e,t,n){var s=e.__transition,u;s[t]=n,n.timer=timer(f,0,n.time);function f(S){n.state=SCHEDULED,n.timer.restart(d,n.delay,n.time),n.delay<=S&&d(S-n.delay)}function d(S){var M,I,P,N;if(n.state!==SCHEDULED)return v();for(M in s)if(N=s[M],N.name===n.name){if(N.state===STARTED)return timeout(d);N.state===RUNNING?(N.state=ENDED,N.timer.stop(),N.on.call("interrupt",e,e.__data__,N.index,N.group),delete s[M]):+M<t&&(N.state=ENDED,N.timer.stop(),N.on.call("cancel",e,e.__data__,N.index,N.group),delete s[M])}if(timeout(function(){n.state===STARTED&&(n.state=RUNNING,n.timer.restart(g,n.delay,n.time),g(S))}),n.state=STARTING,n.on.call("start",e,e.__data__,n.index,n.group),n.state===STARTING){for(n.state=STARTED,u=new Array(P=n.tween.length),M=0,I=-1;M<P;++M)(N=n.tween[M].value.call(e,e.__data__,n.index,n.group))&&(u[++I]=N);u.length=I+1}}function g(S){for(var M=S<n.duration?n.ease.call(null,S/n.duration):(n.timer.restart(v),n.state=ENDING,1),I=-1,P=u.length;++I<P;)u[I].call(e,M);n.state===ENDING&&(n.on.call("end",e,e.__data__,n.index,n.group),v())}function v(){n.state=ENDED,n.timer.stop(),delete s[t];for(var S in s)return;delete e.__transition}}function interrupt(e,t){var n=e.__transition,s,u,f=!0,d;if(n){t=t==null?null:t+"";for(d in n){if((s=n[d]).name!==t){f=!1;continue}u=s.state>STARTING&&s.state<ENDING,s.state=ENDED,s.timer.stop(),s.on.call(u?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete n[d]}f&&delete e.__transition}}function selection_interrupt(e){return this.each(function(){interrupt(this,e)})}function tweenRemove(e,t){var n,s;return function(){var u=set$2(this,e),f=u.tween;if(f!==n){s=n=f;for(var d=0,g=s.length;d<g;++d)if(s[d].name===t){s=s.slice(),s.splice(d,1);break}}u.tween=s}}function tweenFunction(e,t,n){var s,u;if(typeof n!="function")throw new Error;return function(){var f=set$2(this,e),d=f.tween;if(d!==s){u=(s=d).slice();for(var g={name:t,value:n},v=0,S=u.length;v<S;++v)if(u[v].name===t){u[v]=g;break}v===S&&u.push(g)}f.tween=u}}function transition_tween(e,t){var n=this._id;if(e+="",arguments.length<2){for(var s=get$4(this.node(),n).tween,u=0,f=s.length,d;u<f;++u)if((d=s[u]).name===e)return d.value;return null}return this.each((t==null?tweenRemove:tweenFunction)(n,e,t))}function tweenValue(e,t,n){var s=e._id;return e.each(function(){var u=set$2(this,s);(u.value||(u.value={}))[t]=n.apply(this,arguments)}),function(u){return get$4(u,s).value[t]}}function interpolate$1(e,t){var n;return(typeof t=="number"?interpolateNumber:t instanceof color$1?interpolateRgb:(n=color$1(t))?(t=n,interpolateRgb):interpolateString)(e,t)}function attrRemove(e){return function(){this.removeAttribute(e)}}function attrRemoveNS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant(e,t,n){var s,u=n+"",f;return function(){var d=this.getAttribute(e);return d===u?null:d===s?f:f=t(s=d,n)}}function attrConstantNS(e,t,n){var s,u=n+"",f;return function(){var d=this.getAttributeNS(e.space,e.local);return d===u?null:d===s?f:f=t(s=d,n)}}function attrFunction(e,t,n){var s,u,f;return function(){var d,g=n(this),v;return g==null?void this.removeAttribute(e):(d=this.getAttribute(e),v=g+"",d===v?null:d===s&&v===u?f:(u=v,f=t(s=d,g)))}}function attrFunctionNS(e,t,n){var s,u,f;return function(){var d,g=n(this),v;return g==null?void this.removeAttributeNS(e.space,e.local):(d=this.getAttributeNS(e.space,e.local),v=g+"",d===v?null:d===s&&v===u?f:(u=v,f=t(s=d,g)))}}function transition_attr(e,t){var n=namespace(e),s=n==="transform"?interpolateTransformSvg:interpolate$1;return this.attrTween(e,typeof t=="function"?(n.local?attrFunctionNS:attrFunction)(n,s,tweenValue(this,"attr."+e,t)):t==null?(n.local?attrRemoveNS:attrRemove)(n):(n.local?attrConstantNS:attrConstant)(n,s,t))}function attrInterpolate(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function attrInterpolateNS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function attrTweenNS(e,t){var n,s;function u(){var f=t.apply(this,arguments);return f!==s&&(n=(s=f)&&attrInterpolateNS(e,f)),n}return u._value=t,u}function attrTween(e,t){var n,s;function u(){var f=t.apply(this,arguments);return f!==s&&(n=(s=f)&&attrInterpolate(e,f)),n}return u._value=t,u}function transition_attrTween(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var s=namespace(e);return this.tween(n,(s.local?attrTweenNS:attrTween)(s,t))}function delayFunction(e,t){return function(){init(this,e).delay=+t.apply(this,arguments)}}function delayConstant(e,t){return t=+t,function(){init(this,e).delay=t}}function transition_delay(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?delayFunction:delayConstant)(t,e)):get$4(this.node(),t).delay}function durationFunction(e,t){return function(){set$2(this,e).duration=+t.apply(this,arguments)}}function durationConstant(e,t){return t=+t,function(){set$2(this,e).duration=t}}function transition_duration(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?durationFunction:durationConstant)(t,e)):get$4(this.node(),t).duration}function easeConstant(e,t){if(typeof t!="function")throw new Error;return function(){set$2(this,e).ease=t}}function transition_ease(e){var t=this._id;return arguments.length?this.each(easeConstant(t,e)):get$4(this.node(),t).ease}function easeVarying(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;set$2(this,e).ease=n}}function transition_easeVarying(e){if(typeof e!="function")throw new Error;return this.each(easeVarying(this._id,e))}function transition_filter(e){typeof e!="function"&&(e=matcher(e));for(var t=this._groups,n=t.length,s=new Array(n),u=0;u<n;++u)for(var f=t[u],d=f.length,g=s[u]=[],v,S=0;S<d;++S)(v=f[S])&&e.call(v,v.__data__,S,f)&&g.push(v);return new Transition(s,this._parents,this._name,this._id)}function transition_merge(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,s=t.length,u=n.length,f=Math.min(s,u),d=new Array(s),g=0;g<f;++g)for(var v=t[g],S=n[g],M=v.length,I=d[g]=new Array(M),P,N=0;N<M;++N)(P=v[N]||S[N])&&(I[N]=P);for(;g<s;++g)d[g]=t[g];return new Transition(d,this._parents,this._name,this._id)}function start(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function onFunction(e,t,n){var s,u,f=start(t)?init:set$2;return function(){var d=f(this,e),g=d.on;g!==s&&(u=(s=g).copy()).on(t,n),d.on=u}}function transition_on(e,t){var n=this._id;return arguments.length<2?get$4(this.node(),n).on.on(e):this.each(onFunction(n,e,t))}function removeFunction(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(e){var t=this._name,n=this._id;typeof e!="function"&&(e=selector(e));for(var s=this._groups,u=s.length,f=new Array(u),d=0;d<u;++d)for(var g=s[d],v=g.length,S=f[d]=new Array(v),M,I,P=0;P<v;++P)(M=g[P])&&(I=e.call(M,M.__data__,P,g))&&("__data__"in M&&(I.__data__=M.__data__),S[P]=I,schedule(S[P],t,n,P,S,get$4(M,n)));return new Transition(f,this._parents,t,n)}function transition_selectAll(e){var t=this._name,n=this._id;typeof e!="function"&&(e=selectorAll(e));for(var s=this._groups,u=s.length,f=[],d=[],g=0;g<u;++g)for(var v=s[g],S=v.length,M,I=0;I<S;++I)if(M=v[I]){for(var P=e.call(M,M.__data__,I,v),N,F=get$4(M,n),j=0,U=P.length;j<U;++j)(N=P[j])&&schedule(N,t,n,j,P,F);f.push(P),d.push(M)}return new Transition(f,d,t,n)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(e,t){var n,s,u;return function(){var f=styleValue(this,e),d=(this.style.removeProperty(e),styleValue(this,e));return f===d?null:f===n&&d===s?u:u=t(n=f,s=d)}}function styleRemove(e){return function(){this.style.removeProperty(e)}}function styleConstant(e,t,n){var s,u=n+"",f;return function(){var d=styleValue(this,e);return d===u?null:d===s?f:f=t(s=d,n)}}function styleFunction(e,t,n){var s,u,f;return function(){var d=styleValue(this,e),g=n(this),v=g+"";return g==null&&(v=g=(this.style.removeProperty(e),styleValue(this,e))),d===v?null:d===s&&v===u?f:(u=v,f=t(s=d,g))}}function styleMaybeRemove(e,t){var n,s,u,f="style."+t,d="end."+f,g;return function(){var v=set$2(this,e),S=v.on,M=v.value[f]==null?g||(g=styleRemove(t)):void 0;(S!==n||u!==M)&&(s=(n=S).copy()).on(d,u=M),v.on=s}}function transition_style(e,t,n){var s=(e+="")=="transform"?interpolateTransformCss:interpolate$1;return t==null?this.styleTween(e,styleNull(e,s)).on("end.style."+e,styleRemove(e)):typeof t=="function"?this.styleTween(e,styleFunction(e,s,tweenValue(this,"style."+e,t))).each(styleMaybeRemove(this._id,e)):this.styleTween(e,styleConstant(e,s,t),n).on("end.style."+e,null)}function styleInterpolate(e,t,n){return function(s){this.style.setProperty(e,t.call(this,s),n)}}function styleTween(e,t,n){var s,u;function f(){var d=t.apply(this,arguments);return d!==u&&(s=(u=d)&&styleInterpolate(e,d,n)),s}return f._value=t,f}function transition_styleTween(e,t,n){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,styleTween(e,t,n??""))}function textConstant(e){return function(){this.textContent=e}}function textFunction(e){return function(){var t=e(this);this.textContent=t??""}}function transition_text(e){return this.tween("text",typeof e=="function"?textFunction(tweenValue(this,"text",e)):textConstant(e==null?"":e+""))}function textInterpolate(e){return function(t){this.textContent=e.call(this,t)}}function textTween(e){var t,n;function s(){var u=e.apply(this,arguments);return u!==n&&(t=(n=u)&&textInterpolate(u)),t}return s._value=e,s}function transition_textTween(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,textTween(e))}function transition_transition(){for(var e=this._name,t=this._id,n=newId(),s=this._groups,u=s.length,f=0;f<u;++f)for(var d=s[f],g=d.length,v,S=0;S<g;++S)if(v=d[S]){var M=get$4(v,t);schedule(v,e,n,S,d,{time:M.time+M.delay+M.duration,delay:0,duration:M.duration,ease:M.ease})}return new Transition(s,this._parents,e,n)}function transition_end(){var e,t,n=this,s=n._id,u=n.size();return new Promise(function(f,d){var g={value:d},v={value:function(){--u===0&&f()}};n.each(function(){var S=set$2(this,s),M=S.on;M!==e&&(t=(e=M).copy(),t._.cancel.push(g),t._.interrupt.push(g),t._.end.push(v)),S.on=t}),u===0&&f()})}var id$1=0;function Transition(e,t,n,s){this._groups=e,this._parents=t,this._name=n,this._id=s}function newId(){return++id$1}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function selection_transition(e){var t,n;e instanceof Transition?(t=e._id,e=e._name):(t=newId(),(n=defaultTiming).time=now$2(),e=e==null?null:e+"");for(var s=this._groups,u=s.length,f=0;f<u;++f)for(var d=s[f],g=d.length,v,S=0;S<g;++S)(v=d[S])&&schedule(v,e,t,S,d,n||inherit(v,t));return new Transition(s,this._parents,e,t)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const constant$3=e=>()=>e;function BrushEvent(e,{sourceEvent:t,target:n,selection:s,mode:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:s,enumerable:!0,configurable:!0},mode:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}function nopropagation(e){e.stopImmediatePropagation()}function noevent(e){e.preventDefault(),e.stopImmediatePropagation()}var MODE_DRAG={name:"drag"},MODE_SPACE={name:"space"},MODE_HANDLE={name:"handle"},MODE_CENTER={name:"center"};const{abs:abs$2,max:max$2,min:min$2}=Math;function number1(e){return[+e[0],+e[1]]}function number2(e){return[number1(e[0]),number1(e[1])]}var X={name:"x",handles:["w","e"].map(type$1),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Y={name:"y",handles:["n","s"].map(type$1),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},cursors={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},flipX={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},flipY={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},signsX={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},signsY={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function type$1(e){return{type:e}}function defaultFilter(e){return!e.ctrlKey&&!e.button}function defaultExtent(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function local(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function empty(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function brushX(){return brush(X)}function brush(e){var t=defaultExtent,n=defaultFilter,s=defaultTouchable,u=!0,f=dispatch("start","brush","end"),d=6,g;function v(U){var V=U.property("__brush",j).selectAll(".overlay").data([type$1("overlay")]);V.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",cursors.overlay).merge(V).each(function(){var Q=local(this).extent;select$1(this).attr("x",Q[0][0]).attr("y",Q[0][1]).attr("width",Q[1][0]-Q[0][0]).attr("height",Q[1][1]-Q[0][1])}),U.selectAll(".selection").data([type$1("selection")]).enter().append("rect").attr("class","selection").attr("cursor",cursors.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var Z=U.selectAll(".handle").data(e.handles,function(Q){return Q.type});Z.exit().remove(),Z.enter().append("rect").attr("class",function(Q){return"handle handle--"+Q.type}).attr("cursor",function(Q){return cursors[Q.type]}),U.each(S).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",P).filter(s).on("touchstart.brush",P).on("touchmove.brush",N).on("touchend.brush touchcancel.brush",F).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.move=function(U,V,Z){U.tween?U.on("start.brush",function(Q){M(this,arguments).beforestart().start(Q)}).on("interrupt.brush end.brush",function(Q){M(this,arguments).end(Q)}).tween("brush",function(){var Q=this,J=Q.__brush,te=M(Q,arguments),oe=J.selection,ue=e.input(typeof V=="function"?V.apply(this,arguments):V,J.extent),se=interpolate$1$1(oe,ue);function le(de){J.selection=de===1&&ue===null?null:se(de),S.call(Q),te.brush()}return oe!==null&&ue!==null?le:le(1)}):U.each(function(){var Q=this,J=arguments,te=Q.__brush,oe=e.input(typeof V=="function"?V.apply(Q,J):V,te.extent),ue=M(Q,J).beforestart();interrupt(Q),te.selection=oe===null?null:oe,S.call(Q),ue.start(Z).brush(Z).end(Z)})},v.clear=function(U,V){v.move(U,null,V)};function S(){var U=select$1(this),V=local(this).selection;V?(U.selectAll(".selection").style("display",null).attr("x",V[0][0]).attr("y",V[0][1]).attr("width",V[1][0]-V[0][0]).attr("height",V[1][1]-V[0][1]),U.selectAll(".handle").style("display",null).attr("x",function(Z){return Z.type[Z.type.length-1]==="e"?V[1][0]-d/2:V[0][0]-d/2}).attr("y",function(Z){return Z.type[0]==="s"?V[1][1]-d/2:V[0][1]-d/2}).attr("width",function(Z){return Z.type==="n"||Z.type==="s"?V[1][0]-V[0][0]+d:d}).attr("height",function(Z){return Z.type==="e"||Z.type==="w"?V[1][1]-V[0][1]+d:d})):U.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function M(U,V,Z){var Q=U.__brush.emitter;return Q&&(!Z||!Q.clean)?Q:new I(U,V,Z)}function I(U,V,Z){this.that=U,this.args=V,this.state=U.__brush,this.active=0,this.clean=Z}I.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(U,V){return this.starting?(this.starting=!1,this.emit("start",U,V)):this.emit("brush",U),this},brush:function(U,V){return this.emit("brush",U,V),this},end:function(U,V){return--this.active===0&&(delete this.state.emitter,this.emit("end",U,V)),this},emit:function(U,V,Z){var Q=select$1(this.that).datum();f.call(U,this.that,new BrushEvent(U,{sourceEvent:V,target:v,selection:e.output(this.state.selection),mode:Z,dispatch:f}),Q)}};function P(U){if(g&&!U.touches||!n.apply(this,arguments))return;var V=this,Z=U.target.__data__.type,Q=(u&&U.metaKey?Z="overlay":Z)==="selection"?MODE_DRAG:u&&U.altKey?MODE_CENTER:MODE_HANDLE,J=e===Y?null:signsX[Z],te=e===X?null:signsY[Z],oe=local(V),ue=oe.extent,se=oe.selection,le=ue[0][0],de,ge,ve=ue[0][1],me,ye,Ae=ue[1][0],Te,Oe,Ie=ue[1][1],Be,De,Pe=0,Ne=0,He,je=J&&te&&u&&U.shiftKey,ze,Ve,Ye=Array.from(U.touches||[U],ut=>{const _t=ut.identifier;return ut=pointer(ut,V),ut.point0=ut.slice(),ut.identifier=_t,ut});interrupt(V);var nt=M(V,arguments,!0).beforestart();if(Z==="overlay"){se&&(He=!0);const ut=[Ye[0],Ye[1]||Ye[0]];oe.selection=se=[[de=e===Y?le:min$2(ut[0][0],ut[1][0]),me=e===X?ve:min$2(ut[0][1],ut[1][1])],[Te=e===Y?Ae:max$2(ut[0][0],ut[1][0]),Be=e===X?Ie:max$2(ut[0][1],ut[1][1])]],Ye.length>1&&wt(U)}else de=se[0][0],me=se[0][1],Te=se[1][0],Be=se[1][1];ge=de,ye=me,Oe=Te,De=Be;var Fe=select$1(V).attr("pointer-events","none"),Qe=Fe.selectAll(".overlay").attr("cursor",cursors[Z]);if(U.touches)nt.moved=at,nt.ended=st;else{var it=select$1(U.view).on("mousemove.brush",at,!0).on("mouseup.brush",st,!0);u&&it.on("keydown.brush",ft,!0).on("keyup.brush",Dt,!0),dragDisable(U.view)}S.call(V),nt.start(U,Q.name);function at(ut){for(const _t of ut.changedTouches||[ut])for(const Bt of Ye)Bt.identifier===_t.identifier&&(Bt.cur=pointer(_t,V));if(je&&!ze&&!Ve&&Ye.length===1){const _t=Ye[0];abs$2(_t.cur[0]-_t[0])>abs$2(_t.cur[1]-_t[1])?Ve=!0:ze=!0}for(const _t of Ye)_t.cur&&(_t[0]=_t.cur[0],_t[1]=_t.cur[1]);He=!0,noevent(ut),wt(ut)}function wt(ut){const _t=Ye[0],Bt=_t.point0;var mn;switch(Pe=_t[0]-Bt[0],Ne=_t[1]-Bt[1],Q){case MODE_SPACE:case MODE_DRAG:{J&&(Pe=max$2(le-de,min$2(Ae-Te,Pe)),ge=de+Pe,Oe=Te+Pe),te&&(Ne=max$2(ve-me,min$2(Ie-Be,Ne)),ye=me+Ne,De=Be+Ne);break}case MODE_HANDLE:{Ye[1]?(J&&(ge=max$2(le,min$2(Ae,Ye[0][0])),Oe=max$2(le,min$2(Ae,Ye[1][0])),J=1),te&&(ye=max$2(ve,min$2(Ie,Ye[0][1])),De=max$2(ve,min$2(Ie,Ye[1][1])),te=1)):(J<0?(Pe=max$2(le-de,min$2(Ae-de,Pe)),ge=de+Pe,Oe=Te):J>0&&(Pe=max$2(le-Te,min$2(Ae-Te,Pe)),ge=de,Oe=Te+Pe),te<0?(Ne=max$2(ve-me,min$2(Ie-me,Ne)),ye=me+Ne,De=Be):te>0&&(Ne=max$2(ve-Be,min$2(Ie-Be,Ne)),ye=me,De=Be+Ne));break}case MODE_CENTER:{J&&(ge=max$2(le,min$2(Ae,de-Pe*J)),Oe=max$2(le,min$2(Ae,Te+Pe*J))),te&&(ye=max$2(ve,min$2(Ie,me-Ne*te)),De=max$2(ve,min$2(Ie,Be+Ne*te)));break}}Oe<ge&&(J*=-1,mn=de,de=Te,Te=mn,mn=ge,ge=Oe,Oe=mn,Z in flipX&&Qe.attr("cursor",cursors[Z=flipX[Z]])),De<ye&&(te*=-1,mn=me,me=Be,Be=mn,mn=ye,ye=De,De=mn,Z in flipY&&Qe.attr("cursor",cursors[Z=flipY[Z]])),oe.selection&&(se=oe.selection),ze&&(ge=se[0][0],Oe=se[1][0]),Ve&&(ye=se[0][1],De=se[1][1]),(se[0][0]!==ge||se[0][1]!==ye||se[1][0]!==Oe||se[1][1]!==De)&&(oe.selection=[[ge,ye],[Oe,De]],S.call(V),nt.brush(ut,Q.name))}function st(ut){if(nopropagation(ut),ut.touches){if(ut.touches.length)return;g&&clearTimeout(g),g=setTimeout(function(){g=null},500)}else yesdrag(ut.view,He),it.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Fe.attr("pointer-events","all"),Qe.attr("cursor",cursors.overlay),oe.selection&&(se=oe.selection),empty(se)&&(oe.selection=null,S.call(V)),nt.end(ut,Q.name)}function ft(ut){switch(ut.keyCode){case 16:{je=J&&te;break}case 18:{Q===MODE_HANDLE&&(J&&(Te=Oe-Pe*J,de=ge+Pe*J),te&&(Be=De-Ne*te,me=ye+Ne*te),Q=MODE_CENTER,wt(ut));break}case 32:{(Q===MODE_HANDLE||Q===MODE_CENTER)&&(J<0?Te=Oe-Pe:J>0&&(de=ge-Pe),te<0?Be=De-Ne:te>0&&(me=ye-Ne),Q=MODE_SPACE,Qe.attr("cursor",cursors.selection),wt(ut));break}default:return}noevent(ut)}function Dt(ut){switch(ut.keyCode){case 16:{je&&(ze=Ve=je=!1,wt(ut));break}case 18:{Q===MODE_CENTER&&(J<0?Te=Oe:J>0&&(de=ge),te<0?Be=De:te>0&&(me=ye),Q=MODE_HANDLE,wt(ut));break}case 32:{Q===MODE_SPACE&&(ut.altKey?(J&&(Te=Oe-Pe*J,de=ge+Pe*J),te&&(Be=De-Ne*te,me=ye+Ne*te),Q=MODE_CENTER):(J<0?Te=Oe:J>0&&(de=ge),te<0?Be=De:te>0&&(me=ye),Q=MODE_HANDLE),Qe.attr("cursor",cursors[Z]),wt(ut));break}default:return}noevent(ut)}}function N(U){M(this,arguments).moved(U)}function F(U){M(this,arguments).ended(U)}function j(){var U=this.__brush||{selection:null};return U.extent=number2(t.apply(this,arguments)),U.dim=e,U}return v.extent=function(U){return arguments.length?(t=typeof U=="function"?U:constant$3(number2(U)),v):t},v.filter=function(U){return arguments.length?(n=typeof U=="function"?U:constant$3(!!U),v):n},v.touchable=function(U){return arguments.length?(s=typeof U=="function"?U:constant$3(!!U),v):s},v.handleSize=function(U){return arguments.length?(d=+U,v):d},v.keyModifiers=function(U){return arguments.length?(u=!!U,v):u},v.on=function(){var U=f.on.apply(f,arguments);return U===f?v:U},v}const pi$2=Math.PI,tau$2=2*pi$2,epsilon$3=1e-6,tauEpsilon=tau$2-epsilon$3;function append(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function appendRound(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return append;const n=10**t;return function(s){this._+=s[0];for(let u=1,f=s.length;u<f;++u)this._+=Math.round(arguments[u]*n)/n+s[u]}}class Path{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?append:appendRound(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,s,u){this._append`Q${+t},${+n},${this._x1=+s},${this._y1=+u}`}bezierCurveTo(t,n,s,u,f,d){this._append`C${+t},${+n},${+s},${+u},${this._x1=+f},${this._y1=+d}`}arcTo(t,n,s,u,f){if(t=+t,n=+n,s=+s,u=+u,f=+f,f<0)throw new Error(`negative radius: ${f}`);let d=this._x1,g=this._y1,v=s-t,S=u-n,M=d-t,I=g-n,P=M*M+I*I;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(P>epsilon$3)if(!(Math.abs(I*v-S*M)>epsilon$3)||!f)this._append`L${this._x1=t},${this._y1=n}`;else{let N=s-d,F=u-g,j=v*v+S*S,U=N*N+F*F,V=Math.sqrt(j),Z=Math.sqrt(P),Q=f*Math.tan((pi$2-Math.acos((j+P-U)/(2*V*Z)))/2),J=Q/Z,te=Q/V;Math.abs(J-1)>epsilon$3&&this._append`L${t+J*M},${n+J*I}`,this._append`A${f},${f},0,0,${+(I*N>M*F)},${this._x1=t+te*v},${this._y1=n+te*S}`}}arc(t,n,s,u,f,d){if(t=+t,n=+n,s=+s,d=!!d,s<0)throw new Error(`negative radius: ${s}`);let g=s*Math.cos(u),v=s*Math.sin(u),S=t+g,M=n+v,I=1^d,P=d?u-f:f-u;this._x1===null?this._append`M${S},${M}`:(Math.abs(this._x1-S)>epsilon$3||Math.abs(this._y1-M)>epsilon$3)&&this._append`L${S},${M}`,s&&(P<0&&(P=P%tau$2+tau$2),P>tauEpsilon?this._append`A${s},${s},0,1,${I},${t-g},${n-v}A${s},${s},0,1,${I},${this._x1=S},${this._y1=M}`:P>epsilon$3&&this._append`A${s},${s},0,${+(P>=pi$2)},${I},${this._x1=t+s*Math.cos(f)},${this._y1=n+s*Math.sin(f)}`)}rect(t,n,s,u){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${s=+s}v${+u}h${-s}Z`}toString(){return this._}}function path$3(){return new Path}path$3.prototype=Path.prototype;var EOL={},EOF={},QUOTE=34,NEWLINE=10,RETURN=13;function objectConverter(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function customConverter(e,t){var n=objectConverter(e);return function(s,u){return t(n(s),u,e)}}function inferColumns(e){var t=Object.create(null),n=[];return e.forEach(function(s){for(var u in s)u in t||n.push(t[u]=u)}),n}function pad$2(e,t){var n=e+"",s=n.length;return s<t?new Array(t-s+1).join(0)+n:n}function formatYear$1(e){return e<0?"-"+pad$2(-e,6):e>9999?"+"+pad$2(e,6):pad$2(e,4)}function formatDate(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),s=e.getUTCSeconds(),u=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":formatYear$1(e.getUTCFullYear())+"-"+pad$2(e.getUTCMonth()+1,2)+"-"+pad$2(e.getUTCDate(),2)+(u?"T"+pad$2(t,2)+":"+pad$2(n,2)+":"+pad$2(s,2)+"."+pad$2(u,3)+"Z":s?"T"+pad$2(t,2)+":"+pad$2(n,2)+":"+pad$2(s,2)+"Z":n||t?"T"+pad$2(t,2)+":"+pad$2(n,2)+"Z":"")}function dsvFormat(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function s(I,P){var N,F,j=u(I,function(U,V){if(N)return N(U,V-1);F=U,N=P?customConverter(U,P):objectConverter(U)});return j.columns=F||[],j}function u(I,P){var N=[],F=I.length,j=0,U=0,V,Z=F<=0,Q=!1;I.charCodeAt(F-1)===NEWLINE&&--F,I.charCodeAt(F-1)===RETURN&&--F;function J(){if(Z)return EOF;if(Q)return Q=!1,EOL;var oe,ue=j,se;if(I.charCodeAt(ue)===QUOTE){for(;j++<F&&I.charCodeAt(j)!==QUOTE||I.charCodeAt(++j)===QUOTE;);return(oe=j)>=F?Z=!0:(se=I.charCodeAt(j++))===NEWLINE?Q=!0:se===RETURN&&(Q=!0,I.charCodeAt(j)===NEWLINE&&++j),I.slice(ue+1,oe-1).replace(/""/g,'"')}for(;j<F;){if((se=I.charCodeAt(oe=j++))===NEWLINE)Q=!0;else if(se===RETURN)Q=!0,I.charCodeAt(j)===NEWLINE&&++j;else if(se!==n)continue;return I.slice(ue,oe)}return Z=!0,I.slice(ue,F)}for(;(V=J())!==EOF;){for(var te=[];V!==EOL&&V!==EOF;)te.push(V),V=J();P&&(te=P(te,U++))==null||N.push(te)}return N}function f(I,P){return I.map(function(N){return P.map(function(F){return M(N[F])}).join(e)})}function d(I,P){return P==null&&(P=inferColumns(I)),[P.map(M).join(e)].concat(f(I,P)).join(`
`)}function g(I,P){return P==null&&(P=inferColumns(I)),f(I,P).join(`
`)}function v(I){return I.map(S).join(`
`)}function S(I){return I.map(M).join(e)}function M(I){return I==null?"":I instanceof Date?formatDate(I):t.test(I+="")?'"'+I.replace(/"/g,'""')+'"':I}return{parse:s,parseRows:u,format:d,formatBody:g,formatRows:v,formatRow:S,formatValue:M}}function forceCenter(e,t){var n,s=1;e==null&&(e=0),t==null&&(t=0);function u(){var f,d=n.length,g,v=0,S=0;for(f=0;f<d;++f)g=n[f],v+=g.x,S+=g.y;for(v=(v/d-e)*s,S=(S/d-t)*s,f=0;f<d;++f)g=n[f],g.x-=v,g.y-=S}return u.initialize=function(f){n=f},u.x=function(f){return arguments.length?(e=+f,u):e},u.y=function(f){return arguments.length?(t=+f,u):t},u.strength=function(f){return arguments.length?(s=+f,u):s},u}function tree_add(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return add$2(this.cover(t,n),t,n,e)}function add$2(e,t,n,s){if(isNaN(t)||isNaN(n))return e;var u,f=e._root,d={data:s},g=e._x0,v=e._y0,S=e._x1,M=e._y1,I,P,N,F,j,U,V,Z;if(!f)return e._root=d,e;for(;f.length;)if((j=t>=(I=(g+S)/2))?g=I:S=I,(U=n>=(P=(v+M)/2))?v=P:M=P,u=f,!(f=f[V=U<<1|j]))return u[V]=d,e;if(N=+e._x.call(null,f.data),F=+e._y.call(null,f.data),t===N&&n===F)return d.next=f,u?u[V]=d:e._root=d,e;do u=u?u[V]=new Array(4):e._root=new Array(4),(j=t>=(I=(g+S)/2))?g=I:S=I,(U=n>=(P=(v+M)/2))?v=P:M=P;while((V=U<<1|j)===(Z=(F>=P)<<1|N>=I));return u[Z]=f,u[V]=d,e}function addAll(e){var t,n,s=e.length,u,f,d=new Array(s),g=new Array(s),v=1/0,S=1/0,M=-1/0,I=-1/0;for(n=0;n<s;++n)isNaN(u=+this._x.call(null,t=e[n]))||isNaN(f=+this._y.call(null,t))||(d[n]=u,g[n]=f,u<v&&(v=u),u>M&&(M=u),f<S&&(S=f),f>I&&(I=f));if(v>M||S>I)return this;for(this.cover(v,S).cover(M,I),n=0;n<s;++n)add$2(this,d[n],g[n],e[n]);return this}function tree_cover(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,s=this._y0,u=this._x1,f=this._y1;if(isNaN(n))u=(n=Math.floor(e))+1,f=(s=Math.floor(t))+1;else{for(var d=u-n||1,g=this._root,v,S;n>e||e>=u||s>t||t>=f;)switch(S=(t<s)<<1|e<n,v=new Array(4),v[S]=g,g=v,d*=2,S){case 0:u=n+d,f=s+d;break;case 1:n=u-d,f=s+d;break;case 2:u=n+d,s=f-d;break;case 3:n=u-d,s=f-d;break}this._root&&this._root.length&&(this._root=g)}return this._x0=n,this._y0=s,this._x1=u,this._y1=f,this}function tree_data(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function tree_extent(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Quad(e,t,n,s,u){this.node=e,this.x0=t,this.y0=n,this.x1=s,this.y1=u}function tree_find(e,t,n){var s,u=this._x0,f=this._y0,d,g,v,S,M=this._x1,I=this._y1,P=[],N=this._root,F,j;for(N&&P.push(new Quad(N,u,f,M,I)),n==null?n=1/0:(u=e-n,f=t-n,M=e+n,I=t+n,n*=n);F=P.pop();)if(!(!(N=F.node)||(d=F.x0)>M||(g=F.y0)>I||(v=F.x1)<u||(S=F.y1)<f))if(N.length){var U=(d+v)/2,V=(g+S)/2;P.push(new Quad(N[3],U,V,v,S),new Quad(N[2],d,V,U,S),new Quad(N[1],U,g,v,V),new Quad(N[0],d,g,U,V)),(j=(t>=V)<<1|e>=U)&&(F=P[P.length-1],P[P.length-1]=P[P.length-1-j],P[P.length-1-j]=F)}else{var Z=e-+this._x.call(null,N.data),Q=t-+this._y.call(null,N.data),J=Z*Z+Q*Q;if(J<n){var te=Math.sqrt(n=J);u=e-te,f=t-te,M=e+te,I=t+te,s=N.data}}return s}function tree_remove(e){if(isNaN(M=+this._x.call(null,e))||isNaN(I=+this._y.call(null,e)))return this;var t,n=this._root,s,u,f,d=this._x0,g=this._y0,v=this._x1,S=this._y1,M,I,P,N,F,j,U,V;if(!n)return this;if(n.length)for(;;){if((F=M>=(P=(d+v)/2))?d=P:v=P,(j=I>=(N=(g+S)/2))?g=N:S=N,t=n,!(n=n[U=j<<1|F]))return this;if(!n.length)break;(t[U+1&3]||t[U+2&3]||t[U+3&3])&&(s=t,V=U)}for(;n.data!==e;)if(u=n,!(n=n.next))return this;return(f=n.next)&&delete n.next,u?(f?u.next=f:delete u.next,this):t?(f?t[U]=f:delete t[U],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(s?s[V]=n:this._root=n),this):(this._root=f,this)}function removeAll(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function tree_root(){return this._root}function tree_size(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function tree_visit(e){var t=[],n,s=this._root,u,f,d,g,v;for(s&&t.push(new Quad(s,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(s=n.node,f=n.x0,d=n.y0,g=n.x1,v=n.y1)&&s.length){var S=(f+g)/2,M=(d+v)/2;(u=s[3])&&t.push(new Quad(u,S,M,g,v)),(u=s[2])&&t.push(new Quad(u,f,M,S,v)),(u=s[1])&&t.push(new Quad(u,S,d,g,M)),(u=s[0])&&t.push(new Quad(u,f,d,S,M))}return this}function tree_visitAfter(e){var t=[],n=[],s;for(this._root&&t.push(new Quad(this._root,this._x0,this._y0,this._x1,this._y1));s=t.pop();){var u=s.node;if(u.length){var f,d=s.x0,g=s.y0,v=s.x1,S=s.y1,M=(d+v)/2,I=(g+S)/2;(f=u[0])&&t.push(new Quad(f,d,g,M,I)),(f=u[1])&&t.push(new Quad(f,M,g,v,I)),(f=u[2])&&t.push(new Quad(f,d,I,M,S)),(f=u[3])&&t.push(new Quad(f,M,I,v,S))}n.push(s)}for(;s=n.pop();)e(s.node,s.x0,s.y0,s.x1,s.y1);return this}function defaultX(e){return e[0]}function tree_x(e){return arguments.length?(this._x=e,this):this._x}function defaultY(e){return e[1]}function tree_y(e){return arguments.length?(this._y=e,this):this._y}function quadtree(e,t,n){var s=new Quadtree(t??defaultX,n??defaultY,NaN,NaN,NaN,NaN);return e==null?s:s.addAll(e)}function Quadtree(e,t,n,s,u,f){this._x=e,this._y=t,this._x0=n,this._y0=s,this._x1=u,this._y1=f,this._root=void 0}function leaf_copy(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var treeProto=quadtree.prototype=Quadtree.prototype;treeProto.copy=function(){var e=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,s;if(!t)return e;if(!t.length)return e._root=leaf_copy(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var u=0;u<4;++u)(s=t.source[u])&&(s.length?n.push({source:s,target:t.target[u]=new Array(4)}):t.target[u]=leaf_copy(s));return e};treeProto.add=tree_add;treeProto.addAll=addAll;treeProto.cover=tree_cover;treeProto.data=tree_data;treeProto.extent=tree_extent;treeProto.find=tree_find;treeProto.remove=tree_remove;treeProto.removeAll=removeAll;treeProto.root=tree_root;treeProto.size=tree_size;treeProto.visit=tree_visit;treeProto.visitAfter=tree_visitAfter;treeProto.x=tree_x;treeProto.y=tree_y;function constant$2(e){return function(){return e}}function jiggle(e){return(e()-.5)*1e-6}function x$3(e){return e.x+e.vx}function y$3(e){return e.y+e.vy}function forceCollide(e){var t,n,s,u=1,f=1;typeof e!="function"&&(e=constant$2(e==null?1:+e));function d(){for(var S,M=t.length,I,P,N,F,j,U,V=0;V<f;++V)for(I=quadtree(t,x$3,y$3).visitAfter(g),S=0;S<M;++S)P=t[S],j=n[P.index],U=j*j,N=P.x+P.vx,F=P.y+P.vy,I.visit(Z);function Z(Q,J,te,oe,ue){var se=Q.data,le=Q.r,de=j+le;if(se){if(se.index>P.index){var ge=N-se.x-se.vx,ve=F-se.y-se.vy,me=ge*ge+ve*ve;me<de*de&&(ge===0&&(ge=jiggle(s),me+=ge*ge),ve===0&&(ve=jiggle(s),me+=ve*ve),me=(de-(me=Math.sqrt(me)))/me*u,P.vx+=(ge*=me)*(de=(le*=le)/(U+le)),P.vy+=(ve*=me)*de,se.vx-=ge*(de=1-de),se.vy-=ve*de)}return}return J>N+de||oe<N-de||te>F+de||ue<F-de}}function g(S){if(S.data)return S.r=n[S.data.index];for(var M=S.r=0;M<4;++M)S[M]&&S[M].r>S.r&&(S.r=S[M].r)}function v(){if(t){var S,M=t.length,I;for(n=new Array(M),S=0;S<M;++S)I=t[S],n[I.index]=+e(I,S,t)}}return d.initialize=function(S,M){t=S,s=M,v()},d.iterations=function(S){return arguments.length?(f=+S,d):f},d.strength=function(S){return arguments.length?(u=+S,d):u},d.radius=function(S){return arguments.length?(e=typeof S=="function"?S:constant$2(+S),v(),d):e},d}function index$1(e){return e.index}function find(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function forceLink(e){var t=index$1,n=I,s,u=constant$2(30),f,d,g,v,S,M=1;e==null&&(e=[]);function I(U){return 1/Math.min(g[U.source.index],g[U.target.index])}function P(U){for(var V=0,Z=e.length;V<M;++V)for(var Q=0,J,te,oe,ue,se,le,de;Q<Z;++Q)J=e[Q],te=J.source,oe=J.target,ue=oe.x+oe.vx-te.x-te.vx||jiggle(S),se=oe.y+oe.vy-te.y-te.vy||jiggle(S),le=Math.sqrt(ue*ue+se*se),le=(le-f[Q])/le*U*s[Q],ue*=le,se*=le,oe.vx-=ue*(de=v[Q]),oe.vy-=se*de,te.vx+=ue*(de=1-de),te.vy+=se*de}function N(){if(d){var U,V=d.length,Z=e.length,Q=new Map(d.map((te,oe)=>[t(te,oe,d),te])),J;for(U=0,g=new Array(V);U<Z;++U)J=e[U],J.index=U,typeof J.source!="object"&&(J.source=find(Q,J.source)),typeof J.target!="object"&&(J.target=find(Q,J.target)),g[J.source.index]=(g[J.source.index]||0)+1,g[J.target.index]=(g[J.target.index]||0)+1;for(U=0,v=new Array(Z);U<Z;++U)J=e[U],v[U]=g[J.source.index]/(g[J.source.index]+g[J.target.index]);s=new Array(Z),F(),f=new Array(Z),j()}}function F(){if(d)for(var U=0,V=e.length;U<V;++U)s[U]=+n(e[U],U,e)}function j(){if(d)for(var U=0,V=e.length;U<V;++U)f[U]=+u(e[U],U,e)}return P.initialize=function(U,V){d=U,S=V,N()},P.links=function(U){return arguments.length?(e=U,N(),P):e},P.id=function(U){return arguments.length?(t=U,P):t},P.iterations=function(U){return arguments.length?(M=+U,P):M},P.strength=function(U){return arguments.length?(n=typeof U=="function"?U:constant$2(+U),F(),P):n},P.distance=function(U){return arguments.length?(u=typeof U=="function"?U:constant$2(+U),j(),P):u},P}const a=1664525,c=1013904223,m=4294967296;function lcg(){let e=1;return()=>(e=(a*e+c)%m)/m}function x$2(e){return e.x}function y$2(e){return e.y}var initialRadius=10,initialAngle=Math.PI*(3-Math.sqrt(5));function forceSimulation(e){var t,n=1,s=.001,u=1-Math.pow(s,1/300),f=0,d=.6,g=new Map,v=timer(I),S=dispatch("tick","end"),M=lcg();e==null&&(e=[]);function I(){P(),S.call("tick",t),n<s&&(v.stop(),S.call("end",t))}function P(j){var U,V=e.length,Z;j===void 0&&(j=1);for(var Q=0;Q<j;++Q)for(n+=(f-n)*u,g.forEach(function(J){J(n)}),U=0;U<V;++U)Z=e[U],Z.fx==null?Z.x+=Z.vx*=d:(Z.x=Z.fx,Z.vx=0),Z.fy==null?Z.y+=Z.vy*=d:(Z.y=Z.fy,Z.vy=0);return t}function N(){for(var j=0,U=e.length,V;j<U;++j){if(V=e[j],V.index=j,V.fx!=null&&(V.x=V.fx),V.fy!=null&&(V.y=V.fy),isNaN(V.x)||isNaN(V.y)){var Z=initialRadius*Math.sqrt(.5+j),Q=j*initialAngle;V.x=Z*Math.cos(Q),V.y=Z*Math.sin(Q)}(isNaN(V.vx)||isNaN(V.vy))&&(V.vx=V.vy=0)}}function F(j){return j.initialize&&j.initialize(e,M),j}return N(),t={tick:P,restart:function(){return v.restart(I),t},stop:function(){return v.stop(),t},nodes:function(j){return arguments.length?(e=j,N(),g.forEach(F),t):e},alpha:function(j){return arguments.length?(n=+j,t):n},alphaMin:function(j){return arguments.length?(s=+j,t):s},alphaDecay:function(j){return arguments.length?(u=+j,t):+u},alphaTarget:function(j){return arguments.length?(f=+j,t):f},velocityDecay:function(j){return arguments.length?(d=1-j,t):1-d},randomSource:function(j){return arguments.length?(M=j,g.forEach(F),t):M},force:function(j,U){return arguments.length>1?(U==null?g.delete(j):g.set(j,F(U)),t):g.get(j)},find:function(j,U,V){var Z=0,Q=e.length,J,te,oe,ue,se;for(V==null?V=1/0:V*=V,Z=0;Z<Q;++Z)ue=e[Z],J=j-ue.x,te=U-ue.y,oe=J*J+te*te,oe<V&&(se=ue,V=oe);return se},on:function(j,U){return arguments.length>1?(S.on(j,U),t):S.on(j)}}}function forceManyBody(){var e,t,n,s,u=constant$2(-30),f,d=1,g=1/0,v=.81;function S(N){var F,j=e.length,U=quadtree(e,x$2,y$2).visitAfter(I);for(s=N,F=0;F<j;++F)t=e[F],U.visit(P)}function M(){if(e){var N,F=e.length,j;for(f=new Array(F),N=0;N<F;++N)j=e[N],f[j.index]=+u(j,N,e)}}function I(N){var F=0,j,U,V=0,Z,Q,J;if(N.length){for(Z=Q=J=0;J<4;++J)(j=N[J])&&(U=Math.abs(j.value))&&(F+=j.value,V+=U,Z+=U*j.x,Q+=U*j.y);N.x=Z/V,N.y=Q/V}else{j=N,j.x=j.data.x,j.y=j.data.y;do F+=f[j.data.index];while(j=j.next)}N.value=F}function P(N,F,j,U){if(!N.value)return!0;var V=N.x-t.x,Z=N.y-t.y,Q=U-F,J=V*V+Z*Z;if(Q*Q/v<J)return J<g&&(V===0&&(V=jiggle(n),J+=V*V),Z===0&&(Z=jiggle(n),J+=Z*Z),J<d&&(J=Math.sqrt(d*J)),t.vx+=V*N.value*s/J,t.vy+=Z*N.value*s/J),!0;if(N.length||J>=g)return;(N.data!==t||N.next)&&(V===0&&(V=jiggle(n),J+=V*V),Z===0&&(Z=jiggle(n),J+=Z*Z),J<d&&(J=Math.sqrt(d*J)));do N.data!==t&&(Q=f[N.data.index]*s/J,t.vx+=V*Q,t.vy+=Z*Q);while(N=N.next)}return S.initialize=function(N,F){e=N,n=F,M()},S.strength=function(N){return arguments.length?(u=typeof N=="function"?N:constant$2(+N),M(),S):u},S.distanceMin=function(N){return arguments.length?(d=N*N,S):Math.sqrt(d)},S.distanceMax=function(N){return arguments.length?(g=N*N,S):Math.sqrt(g)},S.theta=function(N){return arguments.length?(v=N*N,S):Math.sqrt(v)},S}function forceRadial(e,t,n){var s,u=constant$2(.1),f,d;typeof e!="function"&&(e=constant$2(+e)),t==null&&(t=0),n==null&&(n=0);function g(S){for(var M=0,I=s.length;M<I;++M){var P=s[M],N=P.x-t||1e-6,F=P.y-n||1e-6,j=Math.sqrt(N*N+F*F),U=(d[M]-j)*f[M]*S/j;P.vx+=N*U,P.vy+=F*U}}function v(){if(s){var S,M=s.length;for(f=new Array(M),d=new Array(M),S=0;S<M;++S)d[S]=+e(s[S],S,s),f[S]=isNaN(d[S])?0:+u(s[S],S,s)}}return g.initialize=function(S){s=S,v()},g.strength=function(S){return arguments.length?(u=typeof S=="function"?S:constant$2(+S),v(),g):u},g.radius=function(S){return arguments.length?(e=typeof S=="function"?S:constant$2(+S),v(),g):e},g.x=function(S){return arguments.length?(t=+S,g):t},g.y=function(S){return arguments.length?(n=+S,g):n},g}function forceX(e){var t=constant$2(.1),n,s,u;typeof e!="function"&&(e=constant$2(e==null?0:+e));function f(g){for(var v=0,S=n.length,M;v<S;++v)M=n[v],M.vx+=(u[v]-M.x)*s[v]*g}function d(){if(n){var g,v=n.length;for(s=new Array(v),u=new Array(v),g=0;g<v;++g)s[g]=isNaN(u[g]=+e(n[g],g,n))?0:+t(n[g],g,n)}}return f.initialize=function(g){n=g,d()},f.strength=function(g){return arguments.length?(t=typeof g=="function"?g:constant$2(+g),d(),f):t},f.x=function(g){return arguments.length?(e=typeof g=="function"?g:constant$2(+g),d(),f):e},f}function forceY(e){var t=constant$2(.1),n,s,u;typeof e!="function"&&(e=constant$2(e==null?0:+e));function f(g){for(var v=0,S=n.length,M;v<S;++v)M=n[v],M.vy+=(u[v]-M.y)*s[v]*g}function d(){if(n){var g,v=n.length;for(s=new Array(v),u=new Array(v),g=0;g<v;++g)s[g]=isNaN(u[g]=+e(n[g],g,n))?0:+t(n[g],g,n)}}return f.initialize=function(g){n=g,d()},f.strength=function(g){return arguments.length?(t=typeof g=="function"?g:constant$2(+g),d(),f):t},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:constant$2(+g),d(),f):e},f}function formatDecimal(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function formatDecimalParts(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function exponent(e){return e=formatDecimalParts(Math.abs(e)),e?e[1]:NaN}function formatGroup(e,t){return function(n,s){for(var u=n.length,f=[],d=0,g=e[0],v=0;u>0&&g>0&&(v+g+1>s&&(g=Math.max(1,s-v)),f.push(n.substring(u-=g,u+g)),!((v+=g+1)>s));)g=e[d=(d+1)%e.length];return f.reverse().join(t)}}function formatNumerals(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(e){if(!(t=re.exec(e)))throw new Error("invalid format: "+e);var t;return new FormatSpecifier({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(e){e:for(var t=e.length,n=1,s=-1,u;n<t;++n)switch(e[n]){case".":s=u=n;break;case"0":s===0&&(s=n),u=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(u+1):e}var prefixExponent;function formatPrefixAuto(e,t){var n=formatDecimalParts(e,t);if(!n)return e+"";var s=n[0],u=n[1],f=u-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(u/3)))*3)+1,d=s.length;return f===d?s:f>d?s+new Array(f-d+1).join("0"):f>0?s.slice(0,f)+"."+s.slice(f):"0."+new Array(1-f).join("0")+formatDecimalParts(e,Math.max(0,t+f-1))[0]}function formatRounded(e,t){var n=formatDecimalParts(e,t);if(!n)return e+"";var s=n[0],u=n[1];return u<0?"0."+new Array(-u).join("0")+s:s.length>u+1?s.slice(0,u+1)+"."+s.slice(u+1):s+new Array(u-s.length+2).join("0")}const formatTypes={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:formatDecimal,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>formatRounded(e*100,t),r:formatRounded,s:formatPrefixAuto,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function identity$5(e){return e}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(e){var t=e.grouping===void 0||e.thousands===void 0?identity$5:formatGroup(map$1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",u=e.decimal===void 0?".":e.decimal+"",f=e.numerals===void 0?identity$5:formatNumerals(map$1.call(e.numerals,String)),d=e.percent===void 0?"%":e.percent+"",g=e.minus===void 0?"":e.minus+"",v=e.nan===void 0?"NaN":e.nan+"";function S(I){I=formatSpecifier(I);var P=I.fill,N=I.align,F=I.sign,j=I.symbol,U=I.zero,V=I.width,Z=I.comma,Q=I.precision,J=I.trim,te=I.type;te==="n"?(Z=!0,te="g"):formatTypes[te]||(Q===void 0&&(Q=12),J=!0,te="g"),(U||P==="0"&&N==="=")&&(U=!0,P="0",N="=");var oe=j==="$"?n:j==="#"&&/[boxX]/.test(te)?"0"+te.toLowerCase():"",ue=j==="$"?s:/[%p]/.test(te)?d:"",se=formatTypes[te],le=/[defgprs%]/.test(te);Q=Q===void 0?6:/[gprs]/.test(te)?Math.max(1,Math.min(21,Q)):Math.max(0,Math.min(20,Q));function de(ge){var ve=oe,me=ue,ye,Ae,Te;if(te==="c")me=se(ge)+me,ge="";else{ge=+ge;var Oe=ge<0||1/ge<0;if(ge=isNaN(ge)?v:se(Math.abs(ge),Q),J&&(ge=formatTrim(ge)),Oe&&+ge==0&&F!=="+"&&(Oe=!1),ve=(Oe?F==="("?F:g:F==="-"||F==="("?"":F)+ve,me=(te==="s"?prefixes[8+prefixExponent/3]:"")+me+(Oe&&F==="("?")":""),le){for(ye=-1,Ae=ge.length;++ye<Ae;)if(Te=ge.charCodeAt(ye),48>Te||Te>57){me=(Te===46?u+ge.slice(ye+1):ge.slice(ye))+me,ge=ge.slice(0,ye);break}}}Z&&!U&&(ge=t(ge,1/0));var Ie=ve.length+ge.length+me.length,Be=Ie<V?new Array(V-Ie+1).join(P):"";switch(Z&&U&&(ge=t(Be+ge,Be.length?V-me.length:1/0),Be=""),N){case"<":ge=ve+ge+me+Be;break;case"=":ge=ve+Be+ge+me;break;case"^":ge=Be.slice(0,Ie=Be.length>>1)+ve+ge+me+Be.slice(Ie);break;default:ge=Be+ve+ge+me;break}return f(ge)}return de.toString=function(){return I+""},de}function M(I,P){var N=S((I=formatSpecifier(I),I.type="f",I)),F=Math.max(-8,Math.min(8,Math.floor(exponent(P)/3)))*3,j=Math.pow(10,-F),U=prefixes[8+F/3];return function(V){return N(j*V)+U}}return{format:S,formatPrefix:M}}var locale$1,format$3,formatPrefix;defaultLocale$2({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$2(e){return locale$1=formatLocale$1(e),format$3=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(e){return Math.max(0,-exponent(Math.abs(e)))}function precisionPrefix(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(t)/3)))*3-exponent(Math.abs(e)))}function precisionRound(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,exponent(t)-exponent(e))+1}var epsilon$2=1e-6,epsilon2=1e-12,pi$1=Math.PI,halfPi$1=pi$1/2,quarterPi=pi$1/4,tau$1=pi$1*2,degrees=180/pi$1,radians=pi$1/180,abs$1=Math.abs,atan2$1=Math.atan2,cos$2=Math.cos,hypot$1=Math.hypot,sin$2=Math.sin,sqrt$3=Math.sqrt;function asin$1(e){return e>1?halfPi$1:e<-1?-halfPi$1:Math.asin(e)}function noop$3(){}function streamGeometry(e,t){e&&streamGeometryType.hasOwnProperty(e.type)&&streamGeometryType[e.type](e,t)}var streamObjectType={Feature:function(e,t){streamGeometry(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,s=-1,u=n.length;++s<u;)streamGeometry(n[s].geometry,t)}},streamGeometryType={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,s=-1,u=n.length;++s<u;)e=n[s],t.point(e[0],e[1],e[2])},LineString:function(e,t){streamLine(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,s=-1,u=n.length;++s<u;)streamLine(n[s],t,0)},Polygon:function(e,t){streamPolygon(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,s=-1,u=n.length;++s<u;)streamPolygon(n[s],t)},GeometryCollection:function(e,t){for(var n=e.geometries,s=-1,u=n.length;++s<u;)streamGeometry(n[s],t)}};function streamLine(e,t,n){var s=-1,u=e.length-n,f;for(t.lineStart();++s<u;)f=e[s],t.point(f[0],f[1],f[2]);t.lineEnd()}function streamPolygon(e,t){var n=-1,s=e.length;for(t.polygonStart();++n<s;)streamLine(e[n],t,1);t.polygonEnd()}function geoStream(e,t){e&&streamObjectType.hasOwnProperty(e.type)?streamObjectType[e.type](e,t):streamGeometry(e,t)}var areaRingSum=new Adder,areaSum=new Adder,lambda00$2,phi00$2,lambda0$1,cosPhi0,sinPhi0,areaStream={point:noop$3,lineStart:noop$3,lineEnd:noop$3,polygonStart:function(){areaRingSum=new Adder,areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){var e=+areaRingSum;areaSum.add(e<0?tau$1+e:e),this.lineStart=this.lineEnd=this.point=noop$3},sphere:function(){areaSum.add(tau$1)}};function areaRingStart(){areaStream.point=areaPointFirst}function areaRingEnd(){areaPoint(lambda00$2,phi00$2)}function areaPointFirst(e,t){areaStream.point=areaPoint,lambda00$2=e,phi00$2=t,e*=radians,t*=radians,lambda0$1=e,cosPhi0=cos$2(t=t/2+quarterPi),sinPhi0=sin$2(t)}function areaPoint(e,t){e*=radians,t*=radians,t=t/2+quarterPi;var n=e-lambda0$1,s=n>=0?1:-1,u=s*n,f=cos$2(t),d=sin$2(t),g=sinPhi0*d,v=cosPhi0*f+g*cos$2(u),S=g*s*sin$2(u);areaRingSum.add(atan2$1(S,v)),lambda0$1=e,cosPhi0=f,sinPhi0=d}function geoArea$1(e){return areaSum=new Adder,geoStream(e,areaStream),areaSum*2}function spherical(e){return[atan2$1(e[1],e[0]),asin$1(e[2])]}function cartesian(e){var t=e[0],n=e[1],s=cos$2(n);return[s*cos$2(t),s*sin$2(t),sin$2(n)]}function cartesianCross(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function cartesianNormalizeInPlace(e){var t=sqrt$3(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var lambda0,phi0,lambda1,phi1,lambda2,lambda00$1,phi00$1,p0,deltaSum,ranges,range$2,boundsStream={point:boundsPoint,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){boundsStream.point=boundsRingPoint,boundsStream.lineStart=boundsRingStart,boundsStream.lineEnd=boundsRingEnd,deltaSum=new Adder,areaStream.polygonStart()},polygonEnd:function(){areaStream.polygonEnd(),boundsStream.point=boundsPoint,boundsStream.lineStart=boundsLineStart,boundsStream.lineEnd=boundsLineEnd,areaRingSum<0?(lambda0=-(lambda1=180),phi0=-(phi1=90)):deltaSum>epsilon$2?phi1=90:deltaSum<-epsilon$2&&(phi0=-90),range$2[0]=lambda0,range$2[1]=lambda1},sphere:function(){lambda0=-(lambda1=180),phi0=-(phi1=90)}};function boundsPoint(e,t){ranges.push(range$2=[lambda0=e,lambda1=e]),t<phi0&&(phi0=t),t>phi1&&(phi1=t)}function linePoint(e,t){var n=cartesian([e*radians,t*radians]);if(p0){var s=cartesianCross(p0,n),u=[s[1],-s[0],0],f=cartesianCross(u,s);cartesianNormalizeInPlace(f),f=spherical(f);var d=e-lambda2,g=d>0?1:-1,v=f[0]*degrees*g,S,M=abs$1(d)>180;M^(g*lambda2<v&&v<g*e)?(S=f[1]*degrees,S>phi1&&(phi1=S)):(v=(v+360)%360-180,M^(g*lambda2<v&&v<g*e)?(S=-f[1]*degrees,S<phi0&&(phi0=S)):(t<phi0&&(phi0=t),t>phi1&&(phi1=t))),M?e<lambda2?angle(lambda0,e)>angle(lambda0,lambda1)&&(lambda1=e):angle(e,lambda1)>angle(lambda0,lambda1)&&(lambda0=e):lambda1>=lambda0?(e<lambda0&&(lambda0=e),e>lambda1&&(lambda1=e)):e>lambda2?angle(lambda0,e)>angle(lambda0,lambda1)&&(lambda1=e):angle(e,lambda1)>angle(lambda0,lambda1)&&(lambda0=e)}else ranges.push(range$2=[lambda0=e,lambda1=e]);t<phi0&&(phi0=t),t>phi1&&(phi1=t),p0=n,lambda2=e}function boundsLineStart(){boundsStream.point=linePoint}function boundsLineEnd(){range$2[0]=lambda0,range$2[1]=lambda1,boundsStream.point=boundsPoint,p0=null}function boundsRingPoint(e,t){if(p0){var n=e-lambda2;deltaSum.add(abs$1(n)>180?n+(n>0?360:-360):n)}else lambda00$1=e,phi00$1=t;areaStream.point(e,t),linePoint(e,t)}function boundsRingStart(){areaStream.lineStart()}function boundsRingEnd(){boundsRingPoint(lambda00$1,phi00$1),areaStream.lineEnd(),abs$1(deltaSum)>epsilon$2&&(lambda0=-(lambda1=180)),range$2[0]=lambda0,range$2[1]=lambda1,p0=null}function angle(e,t){return(t-=e)<0?t+360:t}function rangeCompare(e,t){return e[0]-t[0]}function rangeContains(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function geoBounds$1(e){var t,n,s,u,f,d,g;if(phi1=lambda1=-(lambda0=phi0=1/0),ranges=[],geoStream(e,boundsStream),n=ranges.length){for(ranges.sort(rangeCompare),t=1,s=ranges[0],f=[s];t<n;++t)u=ranges[t],rangeContains(s,u[0])||rangeContains(s,u[1])?(angle(s[0],u[1])>angle(s[0],s[1])&&(s[1]=u[1]),angle(u[0],s[1])>angle(s[0],s[1])&&(s[0]=u[0])):f.push(s=u);for(d=-1/0,n=f.length-1,t=0,s=f[n];t<=n;s=u,++t)u=f[t],(g=angle(s[1],u[0]))>d&&(d=g,lambda0=u[0],lambda1=s[1])}return ranges=range$2=null,lambda0===1/0||phi0===1/0?[[NaN,NaN],[NaN,NaN]]:[[lambda0,phi0],[lambda1,phi1]]}var W0,W1,X0,Y0,Z0,X1,Y1,Z1,X2,Y2,Z2,lambda00,phi00,x0,y0,z0,centroidStream={sphere:noop$3,point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd}};function centroidPoint(e,t){e*=radians,t*=radians;var n=cos$2(t);centroidPointCartesian(n*cos$2(e),n*sin$2(e),sin$2(t))}function centroidPointCartesian(e,t,n){++W0,X0+=(e-X0)/W0,Y0+=(t-Y0)/W0,Z0+=(n-Z0)/W0}function centroidLineStart(){centroidStream.point=centroidLinePointFirst}function centroidLinePointFirst(e,t){e*=radians,t*=radians;var n=cos$2(t);x0=n*cos$2(e),y0=n*sin$2(e),z0=sin$2(t),centroidStream.point=centroidLinePoint,centroidPointCartesian(x0,y0,z0)}function centroidLinePoint(e,t){e*=radians,t*=radians;var n=cos$2(t),s=n*cos$2(e),u=n*sin$2(e),f=sin$2(t),d=atan2$1(sqrt$3((d=y0*f-z0*u)*d+(d=z0*s-x0*f)*d+(d=x0*u-y0*s)*d),x0*s+y0*u+z0*f);W1+=d,X1+=d*(x0+(x0=s)),Y1+=d*(y0+(y0=u)),Z1+=d*(z0+(z0=f)),centroidPointCartesian(x0,y0,z0)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidRingPointFirst}function centroidRingEnd(){centroidRingPoint(lambda00,phi00),centroidStream.point=centroidPoint}function centroidRingPointFirst(e,t){lambda00=e,phi00=t,e*=radians,t*=radians,centroidStream.point=centroidRingPoint;var n=cos$2(t);x0=n*cos$2(e),y0=n*sin$2(e),z0=sin$2(t),centroidPointCartesian(x0,y0,z0)}function centroidRingPoint(e,t){e*=radians,t*=radians;var n=cos$2(t),s=n*cos$2(e),u=n*sin$2(e),f=sin$2(t),d=y0*f-z0*u,g=z0*s-x0*f,v=x0*u-y0*s,S=hypot$1(d,g,v),M=asin$1(S),I=S&&-M/S;X2.add(I*d),Y2.add(I*g),Z2.add(I*v),W1+=M,X1+=M*(x0+(x0=s)),Y1+=M*(y0+(y0=u)),Z1+=M*(z0+(z0=f)),centroidPointCartesian(x0,y0,z0)}function geoCentroid$1(e){W0=W1=X0=Y0=Z0=X1=Y1=Z1=0,X2=new Adder,Y2=new Adder,Z2=new Adder,geoStream(e,centroidStream);var t=+X2,n=+Y2,s=+Z2,u=hypot$1(t,n,s);return u<epsilon2&&(t=X1,n=Y1,s=Z1,W1<epsilon$2&&(t=X0,n=Y0,s=Z0),u=hypot$1(t,n,s),u<epsilon2)?[NaN,NaN]:[atan2$1(n,t)*degrees,asin$1(s/u)*degrees]}function initRange(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function initInterpolator(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const implicit=Symbol("implicit");function ordinal(){var e=new InternMap,t=[],n=[],s=implicit;function u(f){let d=e.get(f);if(d===void 0){if(s!==implicit)return s;e.set(f,d=t.push(f)-1)}return n[d%n.length]}return u.domain=function(f){if(!arguments.length)return t.slice();t=[],e=new InternMap;for(const d of f)e.has(d)||e.set(d,t.push(d)-1);return u},u.range=function(f){return arguments.length?(n=Array.from(f),u):n.slice()},u.unknown=function(f){return arguments.length?(s=f,u):s},u.copy=function(){return ordinal(t,n).unknown(s)},initRange.apply(u,arguments),u}function constants(e){return function(){return e}}function number$4(e){return+e}var unit=[0,1];function identity$4(e){return e}function normalize$4(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:constants(isNaN(t)?NaN:.5)}function clamper(e,t){var n;return e>t&&(n=e,e=t,t=n),function(s){return Math.max(e,Math.min(t,s))}}function bimap(e,t,n){var s=e[0],u=e[1],f=t[0],d=t[1];return u<s?(s=normalize$4(u,s),f=n(d,f)):(s=normalize$4(s,u),f=n(f,d)),function(g){return f(s(g))}}function polymap(e,t,n){var s=Math.min(e.length,t.length)-1,u=new Array(s),f=new Array(s),d=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++d<s;)u[d]=normalize$4(e[d],e[d+1]),f[d]=n(t[d],t[d+1]);return function(g){var v=bisect$1(e,g,1,s)-1;return f[v](u[v](g))}}function copy$3(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function transformer$2(){var e=unit,t=unit,n=interpolate$1$1,s,u,f,d=identity$4,g,v,S;function M(){var P=Math.min(e.length,t.length);return d!==identity$4&&(d=clamper(e[0],e[P-1])),g=P>2?polymap:bimap,v=S=null,I}function I(P){return P==null||isNaN(P=+P)?f:(v||(v=g(e.map(s),t,n)))(s(d(P)))}return I.invert=function(P){return d(u((S||(S=g(t,e.map(s),interpolateNumber)))(P)))},I.domain=function(P){return arguments.length?(e=Array.from(P,number$4),M()):e.slice()},I.range=function(P){return arguments.length?(t=Array.from(P),M()):t.slice()},I.rangeRound=function(P){return t=Array.from(P),n=interpolateRound,M()},I.clamp=function(P){return arguments.length?(d=P?!0:identity$4,M()):d!==identity$4},I.interpolate=function(P){return arguments.length?(n=P,M()):n},I.unknown=function(P){return arguments.length?(f=P,I):f},function(P,N){return s=P,u=N,M()}}function continuous$1(){return transformer$2()(identity$4,identity$4)}function tickFormat$1(e,t,n,s){var u=tickStep(e,t,n),f;switch(s=formatSpecifier(s??",f"),s.type){case"s":{var d=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(f=precisionPrefix(u,d))&&(s.precision=f),formatPrefix(s,d)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(f=precisionRound(u,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=f-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(f=precisionFixed(u))&&(s.precision=f-(s.type==="%")*2);break}}return format$3(s)}function linearish(e){var t=e.domain;return e.ticks=function(n){var s=t();return ticks(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var u=t();return tickFormat$1(u[0],u[u.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=t(),u=0,f=s.length-1,d=s[u],g=s[f],v,S,M=10;for(g<d&&(S=d,d=g,g=S,S=u,u=f,f=S);M-- >0;){if(S=tickIncrement(d,g,n),S===v)return s[u]=d,s[f]=g,t(s);if(S>0)d=Math.floor(d/S)*S,g=Math.ceil(g/S)*S;else if(S<0)d=Math.ceil(d*S)/S,g=Math.floor(g*S)/S;else break;v=S}return e},e}function linear(){var e=continuous$1();return e.copy=function(){return copy$3(e,linear())},initRange.apply(e,arguments),linearish(e)}function identity$3(e){var t;function n(s){return s==null||isNaN(s=+s)?t:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,number$4),n):e.slice()},n.unknown=function(s){return arguments.length?(t=s,n):t},n.copy=function(){return identity$3(e).unknown(t)},e=arguments.length?Array.from(e,number$4):[0,1],linearish(n)}function nice(e,t){e=e.slice();var n=0,s=e.length-1,u=e[n],f=e[s],d;return f<u&&(d=n,n=s,s=d,d=u,u=f,f=d),e[n]=t.floor(u),e[s]=t.ceil(f),e}function transformLog(e){return Math.log(e)}function transformExp(e){return Math.exp(e)}function transformLogn(e){return-Math.log(-e)}function transformExpn(e){return-Math.exp(-e)}function pow10(e){return isFinite(e)?+("1e"+e):e<0?0:e}function powp(e){return e===10?pow10:e===Math.E?Math.exp:t=>Math.pow(e,t)}function logp(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function reflect(e){return(t,n)=>-e(-t,n)}function loggish(e){const t=e(transformLog,transformExp),n=t.domain;let s=10,u,f;function d(){return u=logp(s),f=powp(s),n()[0]<0?(u=reflect(u),f=reflect(f),e(transformLogn,transformExpn)):e(transformLog,transformExp),t}return t.base=function(g){return arguments.length?(s=+g,d()):s},t.domain=function(g){return arguments.length?(n(g),d()):n()},t.ticks=g=>{const v=n();let S=v[0],M=v[v.length-1];const I=M<S;I&&([S,M]=[M,S]);let P=u(S),N=u(M),F,j;const U=g==null?10:+g;let V=[];if(!(s%1)&&N-P<U){if(P=Math.floor(P),N=Math.ceil(N),S>0){for(;P<=N;++P)for(F=1;F<s;++F)if(j=P<0?F/f(-P):F*f(P),!(j<S)){if(j>M)break;V.push(j)}}else for(;P<=N;++P)for(F=s-1;F>=1;--F)if(j=P>0?F/f(-P):F*f(P),!(j<S)){if(j>M)break;V.push(j)}V.length*2<U&&(V=ticks(S,M,U))}else V=ticks(P,N,Math.min(N-P,U)).map(f);return I?V.reverse():V},t.tickFormat=(g,v)=>{if(g==null&&(g=10),v==null&&(v=s===10?"s":","),typeof v!="function"&&(!(s%1)&&(v=formatSpecifier(v)).precision==null&&(v.trim=!0),v=format$3(v)),g===1/0)return v;const S=Math.max(1,s*g/t.ticks().length);return M=>{let I=M/f(Math.round(u(M)));return I*s<s-.5&&(I*=s),I<=S?v(M):""}},t.nice=()=>n(nice(n(),{floor:g=>f(Math.floor(u(g))),ceil:g=>f(Math.ceil(u(g)))})),t}function log$3(){const e=loggish(transformer$2()).domain([1,10]);return e.copy=()=>copy$3(e,log$3()).base(e.base()),initRange.apply(e,arguments),e}function transformSymlog(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function transformSymexp(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function symlogish(e){var t=1,n=e(transformSymlog(t),transformSymexp(t));return n.constant=function(s){return arguments.length?e(transformSymlog(t=+s),transformSymexp(t)):t},linearish(n)}function symlog$1(){var e=symlogish(transformer$2());return e.copy=function(){return copy$3(e,symlog$1()).constant(e.constant())},initRange.apply(e,arguments)}function transformPow(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function transformSqrt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function transformSquare(e){return e<0?-e*e:e*e}function powish(e){var t=e(identity$4,identity$4),n=1;function s(){return n===1?e(identity$4,identity$4):n===.5?e(transformSqrt,transformSquare):e(transformPow(n),transformPow(1/n))}return t.exponent=function(u){return arguments.length?(n=+u,s()):n},linearish(t)}function pow$1(){var e=powish(transformer$2());return e.copy=function(){return copy$3(e,pow$1()).exponent(e.exponent())},initRange.apply(e,arguments),e}function sqrt$2(){return pow$1.apply(null,arguments).exponent(.5)}function quantile(){var e=[],t=[],n=[],s;function u(){var d=0,g=Math.max(1,t.length);for(n=new Array(g-1);++d<g;)n[d-1]=quantileSorted(e,d/g);return f}function f(d){return d==null||isNaN(d=+d)?s:t[bisect$1(n,d)]}return f.invertExtent=function(d){var g=t.indexOf(d);return g<0?[NaN,NaN]:[g>0?n[g-1]:e[0],g<n.length?n[g]:e[e.length-1]]},f.domain=function(d){if(!arguments.length)return e.slice();e=[];for(let g of d)g!=null&&!isNaN(g=+g)&&e.push(g);return e.sort(ascending$3),u()},f.range=function(d){return arguments.length?(t=Array.from(d),u()):t.slice()},f.unknown=function(d){return arguments.length?(s=d,f):s},f.quantiles=function(){return n.slice()},f.copy=function(){return quantile().domain(e).range(t).unknown(s)},initRange.apply(f,arguments)}function quantize(){var e=0,t=1,n=1,s=[.5],u=[0,1],f;function d(v){return v!=null&&v<=v?u[bisect$1(s,v,0,n)]:f}function g(){var v=-1;for(s=new Array(n);++v<n;)s[v]=((v+1)*t-(v-n)*e)/(n+1);return d}return d.domain=function(v){return arguments.length?([e,t]=v,e=+e,t=+t,g()):[e,t]},d.range=function(v){return arguments.length?(n=(u=Array.from(v)).length-1,g()):u.slice()},d.invertExtent=function(v){var S=u.indexOf(v);return S<0?[NaN,NaN]:S<1?[e,s[0]]:S>=n?[s[n-1],t]:[s[S-1],s[S]]},d.unknown=function(v){return arguments.length&&(f=v),d},d.thresholds=function(){return s.slice()},d.copy=function(){return quantize().domain([e,t]).range(u).unknown(f)},initRange.apply(linearish(d),arguments)}function threshold(){var e=[.5],t=[0,1],n,s=1;function u(f){return f!=null&&f<=f?t[bisect$1(e,f,0,s)]:n}return u.domain=function(f){return arguments.length?(e=Array.from(f),s=Math.min(e.length,t.length-1),u):e.slice()},u.range=function(f){return arguments.length?(t=Array.from(f),s=Math.min(e.length,t.length-1),u):t.slice()},u.invertExtent=function(f){var d=t.indexOf(f);return[e[d-1],e[d]]},u.unknown=function(f){return arguments.length?(n=f,u):n},u.copy=function(){return threshold().domain(e).range(t).unknown(n)},initRange.apply(u,arguments)}const t0$1=new Date,t1=new Date;function timeInterval$1(e,t,n,s){function u(f){return e(f=arguments.length===0?new Date:new Date(+f)),f}return u.floor=f=>(e(f=new Date(+f)),f),u.ceil=f=>(e(f=new Date(f-1)),t(f,1),e(f),f),u.round=f=>{const d=u(f),g=u.ceil(f);return f-d<g-f?d:g},u.offset=(f,d)=>(t(f=new Date(+f),d==null?1:Math.floor(d)),f),u.range=(f,d,g)=>{const v=[];if(f=u.ceil(f),g=g==null?1:Math.floor(g),!(f<d)||!(g>0))return v;let S;do v.push(S=new Date(+f)),t(f,g),e(f);while(S<f&&f<d);return v},u.filter=f=>timeInterval$1(d=>{if(d>=d)for(;e(d),!f(d);)d.setTime(d-1)},(d,g)=>{if(d>=d)if(g<0)for(;++g<=0;)for(;t(d,-1),!f(d););else for(;--g>=0;)for(;t(d,1),!f(d););}),n&&(u.count=(f,d)=>(t0$1.setTime(+f),t1.setTime(+d),e(t0$1),e(t1),Math.floor(n(t0$1,t1))),u.every=f=>(f=Math.floor(f),!isFinite(f)||!(f>0)?null:f>1?u.filter(s?d=>s(d)%f===0:d=>u.count(0,d)%f===0):u)),u}const millisecond=timeInterval$1(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);millisecond.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?timeInterval$1(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval$1(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*durationSecond)},(e,t)=>(t-e)/durationSecond,e=>e.getUTCSeconds());second.range;const timeMinute=timeInterval$1(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond)},(e,t)=>{e.setTime(+e+t*durationMinute)},(e,t)=>(t-e)/durationMinute,e=>e.getMinutes());timeMinute.range;const utcMinute=timeInterval$1(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*durationMinute)},(e,t)=>(t-e)/durationMinute,e=>e.getUTCMinutes());utcMinute.range;const timeHour=timeInterval$1(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond-e.getMinutes()*durationMinute)},(e,t)=>{e.setTime(+e+t*durationHour)},(e,t)=>(t-e)/durationHour,e=>e.getHours());timeHour.range;const utcHour=timeInterval$1(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*durationHour)},(e,t)=>(t-e)/durationHour,e=>e.getUTCHours());utcHour.range;const timeDay=timeInterval$1(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationDay,e=>e.getDate()-1);timeDay.range;const utcDay=timeInterval$1(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/durationDay,e=>e.getUTCDate()-1);utcDay.range;const unixDay=timeInterval$1(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/durationDay,e=>Math.floor(e/durationDay));unixDay.range;function timeWeekday(e){return timeInterval$1(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(e){return timeInterval$1(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval$1(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());timeMonth.range;const utcMonth=timeInterval$1(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());utcMonth.range;const timeYear=timeInterval$1(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());timeYear.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:timeInterval$1(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});timeYear.range;const utcYear=timeInterval$1(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());utcYear.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:timeInterval$1(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});utcYear.range;function ticker(e,t,n,s,u,f){const d=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[f,1,durationMinute],[f,5,5*durationMinute],[f,15,15*durationMinute],[f,30,30*durationMinute],[u,1,durationHour],[u,3,3*durationHour],[u,6,6*durationHour],[u,12,12*durationHour],[s,1,durationDay],[s,2,2*durationDay],[n,1,durationWeek],[t,1,durationMonth],[t,3,3*durationMonth],[e,1,durationYear]];function g(S,M,I){const P=M<S;P&&([S,M]=[M,S]);const N=I&&typeof I.range=="function"?I:v(S,M,I),F=N?N.range(S,+M+1):[];return P?F.reverse():F}function v(S,M,I){const P=Math.abs(M-S)/I,N=bisector(([,,U])=>U).right(d,P);if(N===d.length)return e.every(tickStep(S/durationYear,M/durationYear,I));if(N===0)return millisecond.every(Math.max(tickStep(S,M,I),1));const[F,j]=d[P/d[N-1][2]<d[N][2]/P?N-1:N];return F.every(j)}return[g,v]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newDate(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function formatLocale(e){var t=e.dateTime,n=e.date,s=e.time,u=e.periods,f=e.days,d=e.shortDays,g=e.months,v=e.shortMonths,S=formatRe(u),M=formatLookup(u),I=formatRe(f),P=formatLookup(f),N=formatRe(d),F=formatLookup(d),j=formatRe(g),U=formatLookup(g),V=formatRe(v),Z=formatLookup(v),Q={a:Oe,A:Ie,b:Be,B:De,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Pe,q:Ne,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},J={a:He,A:je,b:ze,B:Ve,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Ye,q:nt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},te={a:de,A:ge,b:ve,B:me,c:ye,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:le,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Ae,X:Te,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};Q.x=oe(n,Q),Q.X=oe(s,Q),Q.c=oe(t,Q),J.x=oe(n,J),J.X=oe(s,J),J.c=oe(t,J);function oe(Fe,Qe){return function(it){var at=[],wt=-1,st=0,ft=Fe.length,Dt,ut,_t;for(it instanceof Date||(it=new Date(+it));++wt<ft;)Fe.charCodeAt(wt)===37&&(at.push(Fe.slice(st,wt)),(ut=pads[Dt=Fe.charAt(++wt)])!=null?Dt=Fe.charAt(++wt):ut=Dt==="e"?" ":"0",(_t=Qe[Dt])&&(Dt=_t(it,ut)),at.push(Dt),st=wt+1);return at.push(Fe.slice(st,wt)),at.join("")}}function ue(Fe,Qe){return function(it){var at=newDate(1900,void 0,1),wt=se(at,Fe,it+="",0),st,ft;if(wt!=it.length)return null;if("Q"in at)return new Date(at.Q);if("s"in at)return new Date(at.s*1e3+("L"in at?at.L:0));if(Qe&&!("Z"in at)&&(at.Z=0),"p"in at&&(at.H=at.H%12+at.p*12),at.m===void 0&&(at.m="q"in at?at.q:0),"V"in at){if(at.V<1||at.V>53)return null;"w"in at||(at.w=1),"Z"in at?(st=utcDate(newDate(at.y,0,1)),ft=st.getUTCDay(),st=ft>4||ft===0?utcMonday.ceil(st):utcMonday(st),st=utcDay.offset(st,(at.V-1)*7),at.y=st.getUTCFullYear(),at.m=st.getUTCMonth(),at.d=st.getUTCDate()+(at.w+6)%7):(st=localDate(newDate(at.y,0,1)),ft=st.getDay(),st=ft>4||ft===0?timeMonday.ceil(st):timeMonday(st),st=timeDay.offset(st,(at.V-1)*7),at.y=st.getFullYear(),at.m=st.getMonth(),at.d=st.getDate()+(at.w+6)%7)}else("W"in at||"U"in at)&&("w"in at||(at.w="u"in at?at.u%7:"W"in at?1:0),ft="Z"in at?utcDate(newDate(at.y,0,1)).getUTCDay():localDate(newDate(at.y,0,1)).getDay(),at.m=0,at.d="W"in at?(at.w+6)%7+at.W*7-(ft+5)%7:at.w+at.U*7-(ft+6)%7);return"Z"in at?(at.H+=at.Z/100|0,at.M+=at.Z%100,utcDate(at)):localDate(at)}}function se(Fe,Qe,it,at){for(var wt=0,st=Qe.length,ft=it.length,Dt,ut;wt<st;){if(at>=ft)return-1;if(Dt=Qe.charCodeAt(wt++),Dt===37){if(Dt=Qe.charAt(wt++),ut=te[Dt in pads?Qe.charAt(wt++):Dt],!ut||(at=ut(Fe,it,at))<0)return-1}else if(Dt!=it.charCodeAt(at++))return-1}return at}function le(Fe,Qe,it){var at=S.exec(Qe.slice(it));return at?(Fe.p=M.get(at[0].toLowerCase()),it+at[0].length):-1}function de(Fe,Qe,it){var at=N.exec(Qe.slice(it));return at?(Fe.w=F.get(at[0].toLowerCase()),it+at[0].length):-1}function ge(Fe,Qe,it){var at=I.exec(Qe.slice(it));return at?(Fe.w=P.get(at[0].toLowerCase()),it+at[0].length):-1}function ve(Fe,Qe,it){var at=V.exec(Qe.slice(it));return at?(Fe.m=Z.get(at[0].toLowerCase()),it+at[0].length):-1}function me(Fe,Qe,it){var at=j.exec(Qe.slice(it));return at?(Fe.m=U.get(at[0].toLowerCase()),it+at[0].length):-1}function ye(Fe,Qe,it){return se(Fe,t,Qe,it)}function Ae(Fe,Qe,it){return se(Fe,n,Qe,it)}function Te(Fe,Qe,it){return se(Fe,s,Qe,it)}function Oe(Fe){return d[Fe.getDay()]}function Ie(Fe){return f[Fe.getDay()]}function Be(Fe){return v[Fe.getMonth()]}function De(Fe){return g[Fe.getMonth()]}function Pe(Fe){return u[+(Fe.getHours()>=12)]}function Ne(Fe){return 1+~~(Fe.getMonth()/3)}function He(Fe){return d[Fe.getUTCDay()]}function je(Fe){return f[Fe.getUTCDay()]}function ze(Fe){return v[Fe.getUTCMonth()]}function Ve(Fe){return g[Fe.getUTCMonth()]}function Ye(Fe){return u[+(Fe.getUTCHours()>=12)]}function nt(Fe){return 1+~~(Fe.getUTCMonth()/3)}return{format:function(Fe){var Qe=oe(Fe+="",Q);return Qe.toString=function(){return Fe},Qe},parse:function(Fe){var Qe=ue(Fe+="",!1);return Qe.toString=function(){return Fe},Qe},utcFormat:function(Fe){var Qe=oe(Fe+="",J);return Qe.toString=function(){return Fe},Qe},utcParse:function(Fe){var Qe=ue(Fe+="",!0);return Qe.toString=function(){return Fe},Qe}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad$1(e,t,n){var s=e<0?"-":"",u=(s?-e:e)+"",f=u.length;return s+(f<n?new Array(n-f+1).join(t)+u:u)}function requote(e){return e.replace(requoteRe,"\\$&")}function formatRe(e){return new RegExp("^(?:"+e.map(requote).join("|")+")","i")}function formatLookup(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function parseWeekdayNumberSunday(e,t,n){var s=numberRe.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function parseWeekdayNumberMonday(e,t,n){var s=numberRe.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function parseWeekNumberSunday(e,t,n){var s=numberRe.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function parseWeekNumberISO(e,t,n){var s=numberRe.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function parseWeekNumberMonday(e,t,n){var s=numberRe.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function parseFullYear(e,t,n){var s=numberRe.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function parseYear(e,t,n){var s=numberRe.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function parseZone(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function parseQuarter(e,t,n){var s=numberRe.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function parseMonthNumber(e,t,n){var s=numberRe.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function parseDayOfMonth(e,t,n){var s=numberRe.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function parseDayOfYear(e,t,n){var s=numberRe.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function parseHour24(e,t,n){var s=numberRe.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function parseMinutes(e,t,n){var s=numberRe.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function parseSeconds(e,t,n){var s=numberRe.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function parseMilliseconds(e,t,n){var s=numberRe.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function parseMicroseconds(e,t,n){var s=numberRe.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function parseLiteralPercent(e,t,n){var s=percentRe.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function parseUnixTimestamp(e,t,n){var s=numberRe.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function parseUnixTimestampSeconds(e,t,n){var s=numberRe.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function formatDayOfMonth(e,t){return pad$1(e.getDate(),t,2)}function formatHour24(e,t){return pad$1(e.getHours(),t,2)}function formatHour12(e,t){return pad$1(e.getHours()%12||12,t,2)}function formatDayOfYear(e,t){return pad$1(1+timeDay.count(timeYear(e),e),t,3)}function formatMilliseconds(e,t){return pad$1(e.getMilliseconds(),t,3)}function formatMicroseconds(e,t){return formatMilliseconds(e,t)+"000"}function formatMonthNumber(e,t){return pad$1(e.getMonth()+1,t,2)}function formatMinutes(e,t){return pad$1(e.getMinutes(),t,2)}function formatSeconds(e,t){return pad$1(e.getSeconds(),t,2)}function formatWeekdayNumberMonday(e){var t=e.getDay();return t===0?7:t}function formatWeekNumberSunday(e,t){return pad$1(timeSunday.count(timeYear(e)-1,e),t,2)}function dISO(e){var t=e.getDay();return t>=4||t===0?timeThursday(e):timeThursday.ceil(e)}function formatWeekNumberISO(e,t){return e=dISO(e),pad$1(timeThursday.count(timeYear(e),e)+(timeYear(e).getDay()===4),t,2)}function formatWeekdayNumberSunday(e){return e.getDay()}function formatWeekNumberMonday(e,t){return pad$1(timeMonday.count(timeYear(e)-1,e),t,2)}function formatYear(e,t){return pad$1(e.getFullYear()%100,t,2)}function formatYearISO(e,t){return e=dISO(e),pad$1(e.getFullYear()%100,t,2)}function formatFullYear(e,t){return pad$1(e.getFullYear()%1e4,t,4)}function formatFullYearISO(e,t){var n=e.getDay();return e=n>=4||n===0?timeThursday(e):timeThursday.ceil(e),pad$1(e.getFullYear()%1e4,t,4)}function formatZone(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pad$1(t/60|0,"0",2)+pad$1(t%60,"0",2)}function formatUTCDayOfMonth(e,t){return pad$1(e.getUTCDate(),t,2)}function formatUTCHour24(e,t){return pad$1(e.getUTCHours(),t,2)}function formatUTCHour12(e,t){return pad$1(e.getUTCHours()%12||12,t,2)}function formatUTCDayOfYear(e,t){return pad$1(1+utcDay.count(utcYear(e),e),t,3)}function formatUTCMilliseconds(e,t){return pad$1(e.getUTCMilliseconds(),t,3)}function formatUTCMicroseconds(e,t){return formatUTCMilliseconds(e,t)+"000"}function formatUTCMonthNumber(e,t){return pad$1(e.getUTCMonth()+1,t,2)}function formatUTCMinutes(e,t){return pad$1(e.getUTCMinutes(),t,2)}function formatUTCSeconds(e,t){return pad$1(e.getUTCSeconds(),t,2)}function formatUTCWeekdayNumberMonday(e){var t=e.getUTCDay();return t===0?7:t}function formatUTCWeekNumberSunday(e,t){return pad$1(utcSunday.count(utcYear(e)-1,e),t,2)}function UTCdISO(e){var t=e.getUTCDay();return t>=4||t===0?utcThursday(e):utcThursday.ceil(e)}function formatUTCWeekNumberISO(e,t){return e=UTCdISO(e),pad$1(utcThursday.count(utcYear(e),e)+(utcYear(e).getUTCDay()===4),t,2)}function formatUTCWeekdayNumberSunday(e){return e.getUTCDay()}function formatUTCWeekNumberMonday(e,t){return pad$1(utcMonday.count(utcYear(e)-1,e),t,2)}function formatUTCYear(e,t){return pad$1(e.getUTCFullYear()%100,t,2)}function formatUTCYearISO(e,t){return e=UTCdISO(e),pad$1(e.getUTCFullYear()%100,t,2)}function formatUTCFullYear(e,t){return pad$1(e.getUTCFullYear()%1e4,t,4)}function formatUTCFullYearISO(e,t){var n=e.getUTCDay();return e=n>=4||n===0?utcThursday(e):utcThursday.ceil(e),pad$1(e.getUTCFullYear()%1e4,t,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(e){return+e}function formatUnixTimestampSeconds(e){return Math.floor(+e/1e3)}var locale,timeFormat$1,timeParse$1,utcFormat$1,utcParse$1;defaultLocale$1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale$1(e){return locale=formatLocale(e),timeFormat$1=locale.format,timeParse$1=locale.parse,utcFormat$1=locale.utcFormat,utcParse$1=locale.utcParse,locale}function date(e){return new Date(e)}function number$3(e){return e instanceof Date?+e:+new Date(+e)}function calendar(e,t,n,s,u,f,d,g,v,S){var M=continuous$1(),I=M.invert,P=M.domain,N=S(".%L"),F=S(":%S"),j=S("%I:%M"),U=S("%I %p"),V=S("%a %d"),Z=S("%b %d"),Q=S("%B"),J=S("%Y");function te(oe){return(v(oe)<oe?N:g(oe)<oe?F:d(oe)<oe?j:f(oe)<oe?U:s(oe)<oe?u(oe)<oe?V:Z:n(oe)<oe?Q:J)(oe)}return M.invert=function(oe){return new Date(I(oe))},M.domain=function(oe){return arguments.length?P(Array.from(oe,number$3)):P().map(date)},M.ticks=function(oe){var ue=P();return e(ue[0],ue[ue.length-1],oe??10)},M.tickFormat=function(oe,ue){return ue==null?te:S(ue)},M.nice=function(oe){var ue=P();return(!oe||typeof oe.range!="function")&&(oe=t(ue[0],ue[ue.length-1],oe??10)),oe?P(nice(ue,oe)):M},M.copy=function(){return copy$3(M,calendar(e,t,n,s,u,f,d,g,v,S))},M}function time$1(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat$1).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat$1).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var e=0,t=1,n,s,u,f,d=identity$4,g=!1,v;function S(I){return I==null||isNaN(I=+I)?v:d(u===0?.5:(I=(f(I)-n)*u,g?Math.max(0,Math.min(1,I)):I))}S.domain=function(I){return arguments.length?([e,t]=I,n=f(e=+e),s=f(t=+t),u=n===s?0:1/(s-n),S):[e,t]},S.clamp=function(I){return arguments.length?(g=!!I,S):g},S.interpolator=function(I){return arguments.length?(d=I,S):d};function M(I){return function(P){var N,F;return arguments.length?([N,F]=P,d=I(N,F),S):[d(0),d(1)]}}return S.range=M(interpolate$1$1),S.rangeRound=M(interpolateRound),S.unknown=function(I){return arguments.length?(v=I,S):v},function(I){return f=I,n=I(e),s=I(t),u=n===s?0:1/(s-n),S}}function copy$2(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sequential(){var e=linearish(transformer$1()(identity$4));return e.copy=function(){return copy$2(e,sequential())},initInterpolator.apply(e,arguments)}function sequentialLog(){var e=loggish(transformer$1()).domain([1,10]);return e.copy=function(){return copy$2(e,sequentialLog()).base(e.base())},initInterpolator.apply(e,arguments)}function sequentialSymlog(){var e=symlogish(transformer$1());return e.copy=function(){return copy$2(e,sequentialSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)}function sequentialPow(){var e=powish(transformer$1());return e.copy=function(){return copy$2(e,sequentialPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function transformer(){var e=0,t=.5,n=1,s=1,u,f,d,g,v,S=identity$4,M,I=!1,P;function N(j){return isNaN(j=+j)?P:(j=.5+((j=+M(j))-f)*(s*j<s*f?g:v),S(I?Math.max(0,Math.min(1,j)):j))}N.domain=function(j){return arguments.length?([e,t,n]=j,u=M(e=+e),f=M(t=+t),d=M(n=+n),g=u===f?0:.5/(f-u),v=f===d?0:.5/(d-f),s=f<u?-1:1,N):[e,t,n]},N.clamp=function(j){return arguments.length?(I=!!j,N):I},N.interpolator=function(j){return arguments.length?(S=j,N):S};function F(j){return function(U){var V,Z,Q;return arguments.length?([V,Z,Q]=U,S=piecewise(j,[V,Z,Q]),N):[S(0),S(.5),S(1)]}}return N.range=F(interpolate$1$1),N.rangeRound=F(interpolateRound),N.unknown=function(j){return arguments.length?(P=j,N):P},function(j){return M=j,u=j(e),f=j(t),d=j(n),g=u===f?0:.5/(f-u),v=f===d?0:.5/(d-f),s=f<u?-1:1,N}}function diverging(){var e=linearish(transformer()(identity$4));return e.copy=function(){return copy$2(e,diverging())},initInterpolator.apply(e,arguments)}function divergingLog(){var e=loggish(transformer()).domain([.1,1,10]);return e.copy=function(){return copy$2(e,divergingLog()).base(e.base())},initInterpolator.apply(e,arguments)}function divergingSymlog(){var e=symlogish(transformer());return e.copy=function(){return copy$2(e,divergingSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)}function divergingPow(){var e=powish(transformer());return e.copy=function(){return copy$2(e,divergingPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}function constant$1(e){return function(){return e}}const abs=Math.abs,atan2=Math.atan2,cos$1=Math.cos,max$1=Math.max,min$1=Math.min,sin$1=Math.sin,sqrt$1=Math.sqrt,epsilon$1=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(e){return e>1?0:e<-1?pi:Math.acos(e)}function asin(e){return e>=1?halfPi:e<=-1?-halfPi:Math.asin(e)}function withPath(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);t=s}return e},()=>new Path(t)}function arcInnerRadius(e){return e.innerRadius}function arcOuterRadius(e){return e.outerRadius}function arcStartAngle(e){return e.startAngle}function arcEndAngle(e){return e.endAngle}function arcPadAngle(e){return e&&e.padAngle}function intersect$2(e,t,n,s,u,f,d,g){var v=n-e,S=s-t,M=d-u,I=g-f,P=I*v-M*S;if(!(P*P<epsilon$1))return P=(M*(t-f)-I*(e-u))/P,[e+P*v,t+P*S]}function cornerTangents(e,t,n,s,u,f,d){var g=e-n,v=t-s,S=(d?f:-f)/sqrt$1(g*g+v*v),M=S*v,I=-S*g,P=e+M,N=t+I,F=n+M,j=s+I,U=(P+F)/2,V=(N+j)/2,Z=F-P,Q=j-N,J=Z*Z+Q*Q,te=u-f,oe=P*j-F*N,ue=(Q<0?-1:1)*sqrt$1(max$1(0,te*te*J-oe*oe)),se=(oe*Q-Z*ue)/J,le=(-oe*Z-Q*ue)/J,de=(oe*Q+Z*ue)/J,ge=(-oe*Z+Q*ue)/J,ve=se-U,me=le-V,ye=de-U,Ae=ge-V;return ve*ve+me*me>ye*ye+Ae*Ae&&(se=de,le=ge),{cx:se,cy:le,x01:-M,y01:-I,x11:se*(u/te-1),y11:le*(u/te-1)}}function arc$3(){var e=arcInnerRadius,t=arcOuterRadius,n=constant$1(0),s=null,u=arcStartAngle,f=arcEndAngle,d=arcPadAngle,g=null,v=withPath(S);function S(){var M,I,P=+e.apply(this,arguments),N=+t.apply(this,arguments),F=u.apply(this,arguments)-halfPi,j=f.apply(this,arguments)-halfPi,U=abs(j-F),V=j>F;if(g||(g=M=v()),N<P&&(I=N,N=P,P=I),!(N>epsilon$1))g.moveTo(0,0);else if(U>tau-epsilon$1)g.moveTo(N*cos$1(F),N*sin$1(F)),g.arc(0,0,N,F,j,!V),P>epsilon$1&&(g.moveTo(P*cos$1(j),P*sin$1(j)),g.arc(0,0,P,j,F,V));else{var Z=F,Q=j,J=F,te=j,oe=U,ue=U,se=d.apply(this,arguments)/2,le=se>epsilon$1&&(s?+s.apply(this,arguments):sqrt$1(P*P+N*N)),de=min$1(abs(N-P)/2,+n.apply(this,arguments)),ge=de,ve=de,me,ye;if(le>epsilon$1){var Ae=asin(le/P*sin$1(se)),Te=asin(le/N*sin$1(se));(oe-=Ae*2)>epsilon$1?(Ae*=V?1:-1,J+=Ae,te-=Ae):(oe=0,J=te=(F+j)/2),(ue-=Te*2)>epsilon$1?(Te*=V?1:-1,Z+=Te,Q-=Te):(ue=0,Z=Q=(F+j)/2)}var Oe=N*cos$1(Z),Ie=N*sin$1(Z),Be=P*cos$1(te),De=P*sin$1(te);if(de>epsilon$1){var Pe=N*cos$1(Q),Ne=N*sin$1(Q),He=P*cos$1(J),je=P*sin$1(J),ze;if(U<pi)if(ze=intersect$2(Oe,Ie,He,je,Pe,Ne,Be,De)){var Ve=Oe-ze[0],Ye=Ie-ze[1],nt=Pe-ze[0],Fe=Ne-ze[1],Qe=1/sin$1(acos((Ve*nt+Ye*Fe)/(sqrt$1(Ve*Ve+Ye*Ye)*sqrt$1(nt*nt+Fe*Fe)))/2),it=sqrt$1(ze[0]*ze[0]+ze[1]*ze[1]);ge=min$1(de,(P-it)/(Qe-1)),ve=min$1(de,(N-it)/(Qe+1))}else ge=ve=0}ue>epsilon$1?ve>epsilon$1?(me=cornerTangents(He,je,Oe,Ie,N,ve,V),ye=cornerTangents(Pe,Ne,Be,De,N,ve,V),g.moveTo(me.cx+me.x01,me.cy+me.y01),ve<de?g.arc(me.cx,me.cy,ve,atan2(me.y01,me.x01),atan2(ye.y01,ye.x01),!V):(g.arc(me.cx,me.cy,ve,atan2(me.y01,me.x01),atan2(me.y11,me.x11),!V),g.arc(0,0,N,atan2(me.cy+me.y11,me.cx+me.x11),atan2(ye.cy+ye.y11,ye.cx+ye.x11),!V),g.arc(ye.cx,ye.cy,ve,atan2(ye.y11,ye.x11),atan2(ye.y01,ye.x01),!V))):(g.moveTo(Oe,Ie),g.arc(0,0,N,Z,Q,!V)):g.moveTo(Oe,Ie),!(P>epsilon$1)||!(oe>epsilon$1)?g.lineTo(Be,De):ge>epsilon$1?(me=cornerTangents(Be,De,Pe,Ne,P,-ge,V),ye=cornerTangents(Oe,Ie,He,je,P,-ge,V),g.lineTo(me.cx+me.x01,me.cy+me.y01),ge<de?g.arc(me.cx,me.cy,ge,atan2(me.y01,me.x01),atan2(ye.y01,ye.x01),!V):(g.arc(me.cx,me.cy,ge,atan2(me.y01,me.x01),atan2(me.y11,me.x11),!V),g.arc(0,0,P,atan2(me.cy+me.y11,me.cx+me.x11),atan2(ye.cy+ye.y11,ye.cx+ye.x11),V),g.arc(ye.cx,ye.cy,ge,atan2(ye.y11,ye.x11),atan2(ye.y01,ye.x01),!V))):g.arc(0,0,P,te,J,V)}if(g.closePath(),M)return g=null,M+""||null}return S.centroid=function(){var M=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,I=(+u.apply(this,arguments)+ +f.apply(this,arguments))/2-pi/2;return[cos$1(I)*M,sin$1(I)*M]},S.innerRadius=function(M){return arguments.length?(e=typeof M=="function"?M:constant$1(+M),S):e},S.outerRadius=function(M){return arguments.length?(t=typeof M=="function"?M:constant$1(+M),S):t},S.cornerRadius=function(M){return arguments.length?(n=typeof M=="function"?M:constant$1(+M),S):n},S.padRadius=function(M){return arguments.length?(s=M==null?null:typeof M=="function"?M:constant$1(+M),S):s},S.startAngle=function(M){return arguments.length?(u=typeof M=="function"?M:constant$1(+M),S):u},S.endAngle=function(M){return arguments.length?(f=typeof M=="function"?M:constant$1(+M),S):f},S.padAngle=function(M){return arguments.length?(d=typeof M=="function"?M:constant$1(+M),S):d},S.context=function(M){return arguments.length?(g=M??null,S):g},S}function array$3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Linear$1(e){this._context=e}Linear$1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function curveLinear(e){return new Linear$1(e)}function x$1(e){return e[0]}function y$1(e){return e[1]}function line$2$1(e,t){var n=constant$1(!0),s=null,u=curveLinear,f=null,d=withPath(g);e=typeof e=="function"?e:e===void 0?x$1:constant$1(e),t=typeof t=="function"?t:t===void 0?y$1:constant$1(t);function g(v){var S,M=(v=array$3(v)).length,I,P=!1,N;for(s==null&&(f=u(N=d())),S=0;S<=M;++S)!(S<M&&n(I=v[S],S,v))===P&&((P=!P)?f.lineStart():f.lineEnd()),P&&f.point(+e(I,S,v),+t(I,S,v));if(N)return f=null,N+""||null}return g.x=function(v){return arguments.length?(e=typeof v=="function"?v:constant$1(+v),g):e},g.y=function(v){return arguments.length?(t=typeof v=="function"?v:constant$1(+v),g):t},g.defined=function(v){return arguments.length?(n=typeof v=="function"?v:constant$1(!!v),g):n},g.curve=function(v){return arguments.length?(u=v,s!=null&&(f=u(s)),g):u},g.context=function(v){return arguments.length?(v==null?s=f=null:f=u(s=v),g):s},g}function area$2(e,t,n){var s=null,u=constant$1(!0),f=null,d=curveLinear,g=null,v=withPath(S);e=typeof e=="function"?e:e===void 0?x$1:constant$1(+e),t=typeof t=="function"?t:constant$1(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?y$1:constant$1(+n);function S(I){var P,N,F,j=(I=array$3(I)).length,U,V=!1,Z,Q=new Array(j),J=new Array(j);for(f==null&&(g=d(Z=v())),P=0;P<=j;++P){if(!(P<j&&u(U=I[P],P,I))===V)if(V=!V)N=P,g.areaStart(),g.lineStart();else{for(g.lineEnd(),g.lineStart(),F=P-1;F>=N;--F)g.point(Q[F],J[F]);g.lineEnd(),g.areaEnd()}V&&(Q[P]=+e(U,P,I),J[P]=+t(U,P,I),g.point(s?+s(U,P,I):Q[P],n?+n(U,P,I):J[P]))}if(Z)return g=null,Z+""||null}function M(){return line$2$1().defined(u).curve(d).context(f)}return S.x=function(I){return arguments.length?(e=typeof I=="function"?I:constant$1(+I),s=null,S):e},S.x0=function(I){return arguments.length?(e=typeof I=="function"?I:constant$1(+I),S):e},S.x1=function(I){return arguments.length?(s=I==null?null:typeof I=="function"?I:constant$1(+I),S):s},S.y=function(I){return arguments.length?(t=typeof I=="function"?I:constant$1(+I),n=null,S):t},S.y0=function(I){return arguments.length?(t=typeof I=="function"?I:constant$1(+I),S):t},S.y1=function(I){return arguments.length?(n=I==null?null:typeof I=="function"?I:constant$1(+I),S):n},S.lineX0=S.lineY0=function(){return M().x(e).y(t)},S.lineY1=function(){return M().x(e).y(n)},S.lineX1=function(){return M().x(s).y(t)},S.defined=function(I){return arguments.length?(u=typeof I=="function"?I:constant$1(!!I),S):u},S.curve=function(I){return arguments.length?(d=I,f!=null&&(g=d(f)),S):d},S.context=function(I){return arguments.length?(I==null?f=g=null:g=d(f=I),S):f},S}const circle$2={draw(e,t){const n=sqrt$1(t/pi);e.moveTo(n,0),e.arc(0,0,n,0,tau)}};function Symbol$5(e,t){let n=null,s=withPath(u);e=typeof e=="function"?e:constant$1(e||circle$2),t=typeof t=="function"?t:constant$1(t===void 0?64:+t);function u(){let f;if(n||(n=f=s()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),f)return n=null,f+""||null}return u.type=function(f){return arguments.length?(e=typeof f=="function"?f:constant$1(f),u):e},u.size=function(f){return arguments.length?(t=typeof f=="function"?f:constant$1(+f),u):t},u.context=function(f){return arguments.length?(n=f??null,u):n},u}function noop$2(){}function point$5(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Basis(e){this._context=e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasis(e){return new Basis(e)}function BasisClosed(e){this._context=e}BasisClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:point$5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasisClosed(e){return new BasisClosed(e)}function BasisOpen(e){this._context=e}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:point$5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasisOpen(e){return new BasisOpen(e)}function Bundle(e,t){this._basis=new Basis(e),this._beta=t}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var s=e[0],u=t[0],f=e[n]-s,d=t[n]-u,g=-1,v;++g<=n;)v=g/n,this._basis.point(this._beta*e[g]+(1-this._beta)*(s+v*f),this._beta*t[g]+(1-this._beta)*(u+v*d));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const curveBundle=function e(t){function n(s){return t===1?new Basis(s):new Bundle(s,t)}return n.beta=function(s){return e(+s)},n}(.85);function point$4(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Cardinal(e,t){this._context=e,this._k=(1-t)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$4(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:point$4(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const curveCardinal=function e(t){function n(s){return new Cardinal(s,t)}return n.tension=function(s){return e(+s)},n}(0);function CardinalClosed(e,t){this._context=e,this._k=(1-t)/6}CardinalClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:point$4(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const curveCardinalClosed=function e(t){function n(s){return new CardinalClosed(s,t)}return n.tension=function(s){return e(+s)},n}(0);function CardinalOpen(e,t){this._context=e,this._k=(1-t)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$4(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const curveCardinalOpen=function e(t){function n(s){return new CardinalOpen(s,t)}return n.tension=function(s){return e(+s)},n}(0);function point$3(e,t,n){var s=e._x1,u=e._y1,f=e._x2,d=e._y2;if(e._l01_a>epsilon$1){var g=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,v=3*e._l01_a*(e._l01_a+e._l12_a);s=(s*g-e._x0*e._l12_2a+e._x2*e._l01_2a)/v,u=(u*g-e._y0*e._l12_2a+e._y2*e._l01_2a)/v}if(e._l23_a>epsilon$1){var S=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,M=3*e._l23_a*(e._l23_a+e._l12_a);f=(f*S+e._x1*e._l23_2a-t*e._l12_2a)/M,d=(d*S+e._y1*e._l23_2a-n*e._l12_2a)/M}e._context.bezierCurveTo(s,u,f,d,e._x2,e._y2)}function CatmullRom(e,t){this._context=e,this._alpha=t}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,s=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:point$3(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const curveCatmullRom=function e(t){function n(s){return t?new CatmullRom(s,t):new Cardinal(s,0)}return n.alpha=function(s){return e(+s)},n}(.5);function CatmullRomClosed(e,t){this._context=e,this._alpha=t}CatmullRomClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,s=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:point$3(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const curveCatmullRomClosed=function e(t){function n(s){return t?new CatmullRomClosed(s,t):new CardinalClosed(s,0)}return n.alpha=function(s){return e(+s)},n}(.5);function CatmullRomOpen(e,t){this._context=e,this._alpha=t}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,s=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+s*s,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$3(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const curveCatmullRomOpen=function e(t){function n(s){return t?new CatmullRomOpen(s,t):new CardinalOpen(s,0)}return n.alpha=function(s){return e(+s)},n}(.5);function LinearClosed(e){this._context=e}LinearClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function curveLinearClosed(e){return new LinearClosed(e)}function sign(e){return e<0?-1:1}function slope3(e,t,n){var s=e._x1-e._x0,u=t-e._x1,f=(e._y1-e._y0)/(s||u<0&&-0),d=(n-e._y1)/(u||s<0&&-0),g=(f*u+d*s)/(s+u);return(sign(f)+sign(d))*Math.min(Math.abs(f),Math.abs(d),.5*Math.abs(g))||0}function slope2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function point$2(e,t,n){var s=e._x0,u=e._y0,f=e._x1,d=e._y1,g=(f-s)/3;e._context.bezierCurveTo(s+g,u+g*t,f-g,d-g*n,f,d)}function MonotoneX(e){this._context=e}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$2(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,point$2(this,slope2(this,n=slope3(this,e,t)),n);break;default:point$2(this,this._t0,n=slope3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function MonotoneY(e){this._context=new ReflectContext(e)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(e,t){MonotoneX.prototype.point.call(this,t,e)};function ReflectContext(e){this._context=e}ReflectContext.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,u,f){this._context.bezierCurveTo(t,e,s,n,f,u)}};function monotoneX(e){return new MonotoneX(e)}function monotoneY(e){return new MonotoneY(e)}function Natural(e){this._context=e}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var s=controlPoints$1(e),u=controlPoints$1(t),f=0,d=1;d<n;++f,++d)this._context.bezierCurveTo(s[0][f],u[0][f],s[1][f],u[1][f],e[d],t[d]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function controlPoints$1(e){var t,n=e.length-1,s,u=new Array(n),f=new Array(n),d=new Array(n);for(u[0]=0,f[0]=2,d[0]=e[0]+2*e[1],t=1;t<n-1;++t)u[t]=1,f[t]=4,d[t]=4*e[t]+2*e[t+1];for(u[n-1]=2,f[n-1]=7,d[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=u[t]/f[t-1],f[t]-=s,d[t]-=s*d[t-1];for(u[n-1]=d[n-1]/f[n-1],t=n-2;t>=0;--t)u[t]=(d[t]-u[t+1])/f[t];for(f[n-1]=(e[n]+u[n-1])/2,t=0;t<n-1;++t)f[t]=2*e[t+1]-u[t+1];return[u,f]}function curveNatural(e){return new Natural(e)}function Step(e,t){this._context=e,this._t=t}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function curveStep(e){return new Step(e,.5)}function stepBefore(e){return new Step(e,0)}function stepAfter(e){return new Step(e,1)}function Transform$1(e,t,n){this.k=e,this.x=t,this.y=n}Transform$1.prototype={constructor:Transform$1,scale:function(e){return e===1?this:new Transform$1(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Transform$1(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform$1.prototype;function identity$2(e){return e}function transform$1(e){if(e==null)return identity$2;var t,n,s=e.scale[0],u=e.scale[1],f=e.translate[0],d=e.translate[1];return function(g,v){v||(t=n=0);var S=2,M=g.length,I=new Array(M);for(I[0]=(t+=g[0])*s+f,I[1]=(n+=g[1])*u+d;S<M;)I[S]=g[S],++S;return I}}function reverse$1(e,t){for(var n,s=e.length,u=s-t;u<--s;)n=e[u],e[u++]=e[s],e[s]=n}function feature(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return feature$1(e,n)})}:feature$1(e,t)}function feature$1(e,t){var n=t.id,s=t.bbox,u=t.properties==null?{}:t.properties,f=object$1(e,t);return n==null&&s==null?{type:"Feature",properties:u,geometry:f}:s==null?{type:"Feature",id:n,properties:u,geometry:f}:{type:"Feature",id:n,bbox:s,properties:u,geometry:f}}function object$1(e,t){var n=transform$1(e.transform),s=e.arcs;function u(M,I){I.length&&I.pop();for(var P=s[M<0?~M:M],N=0,F=P.length;N<F;++N)I.push(n(P[N],N));M<0&&reverse$1(I,F)}function f(M){return n(M)}function d(M){for(var I=[],P=0,N=M.length;P<N;++P)u(M[P],I);return I.length<2&&I.push(I[0]),I}function g(M){for(var I=d(M);I.length<4;)I.push(I[0]);return I}function v(M){return M.map(g)}function S(M){var I=M.type,P;switch(I){case"GeometryCollection":return{type:I,geometries:M.geometries.map(S)};case"Point":P=f(M.coordinates);break;case"MultiPoint":P=M.coordinates.map(f);break;case"LineString":P=d(M.arcs);break;case"MultiLineString":P=M.arcs.map(d);break;case"Polygon":P=v(M.arcs);break;case"MultiPolygon":P=M.arcs.map(v);break;default:return null}return{type:I,coordinates:P}}return S(t)}function stitch(e,t){var n={},s={},u={},f=[],d=-1;t.forEach(function(S,M){var I=e.arcs[S<0?~S:S],P;I.length<3&&!I[1][0]&&!I[1][1]&&(P=t[++d],t[d]=S,t[M]=P)}),t.forEach(function(S){var M=g(S),I=M[0],P=M[1],N,F;if(N=u[I])if(delete u[N.end],N.push(S),N.end=P,F=s[P]){delete s[F.start];var j=F===N?N:N.concat(F);s[j.start=N.start]=u[j.end=F.end]=j}else s[N.start]=u[N.end]=N;else if(N=s[P])if(delete s[N.start],N.unshift(S),N.start=I,F=u[I]){delete u[F.end];var U=F===N?N:F.concat(N);s[U.start=F.start]=u[U.end=N.end]=U}else s[N.start]=u[N.end]=N;else N=[S],s[N.start=I]=u[N.end=P]=N});function g(S){var M=e.arcs[S<0?~S:S],I=M[0],P;return e.transform?(P=[0,0],M.forEach(function(N){P[0]+=N[0],P[1]+=N[1]})):P=M[M.length-1],S<0?[P,I]:[I,P]}function v(S,M){for(var I in S){var P=S[I];delete M[P.start],delete P.start,delete P.end,P.forEach(function(N){n[N<0?~N:N]=1}),f.push(P)}}return v(u,s),v(s,u),t.forEach(function(S){n[S<0?~S:S]||f.push([S])}),f}function mesh(e){return object$1(e,meshArcs.apply(this,arguments))}function meshArcs(e,t,n){var s,u,f;if(arguments.length>1)s=extractArcs(e,t,n);else for(u=0,s=new Array(f=e.arcs.length);u<f;++u)s[u]=u;return{type:"MultiLineString",arcs:stitch(e,s)}}function extractArcs(e,t,n){var s=[],u=[],f;function d(I){var P=I<0?~I:I;(u[P]||(u[P]=[])).push({i:I,g:f})}function g(I){I.forEach(d)}function v(I){I.forEach(g)}function S(I){I.forEach(v)}function M(I){switch(f=I,I.type){case"GeometryCollection":I.geometries.forEach(M);break;case"LineString":g(I.arcs);break;case"MultiLineString":case"Polygon":v(I.arcs);break;case"MultiPolygon":S(I.arcs);break}}return M(t),u.forEach(n==null?function(I){s.push(I[0].i)}:function(I){n(I[0].g,I[I.length-1].g)&&s.push(I[0].i)}),s}function accessor(e,t,n){return e.fields=t||[],e.fname=n,e}function getter(e){return e.length===1?get1(e[0]):getN(e)}const get1=e=>function(t){return t[e]},getN=e=>{const t=e.length;return function(n){for(let s=0;s<t;++s)n=n[e[s]];return n}};function error$1(e){throw Error(e)}function splitAccessPath(e){const t=[],n=e.length;let s=null,u=0,f="",d,g,v;e=e+"";function S(){t.push(f+e.substring(d,g)),f="",d=g+1}for(d=g=0;g<n;++g)if(v=e[g],v==="\\")f+=e.substring(d,g),f+=e.substring(++g,++g),d=g;else if(v===s)S(),s=null,u=-1;else{if(s)continue;d===u&&v==='"'||d===u&&v==="'"?(d=g+1,s=v):v==="."&&!u?g>d?S():d=g+1:v==="["?(g>d&&S(),u=d=g+1):v==="]"&&(u||error$1("Access path missing open bracket: "+e),u>0&&S(),u=0,d=g+1)}return u&&error$1("Access path missing closing bracket: "+e),s&&error$1("Access path missing closing quote: "+e),g>d&&(g++,S()),t}function field(e,t,n){const s=splitAccessPath(e);return e=s.length===1?s[0]:e,accessor((n&&n.get||getter)(s),[e],t||e)}const id=field("id"),identity$1=accessor(e=>e,[],"identity");accessor(()=>0,[],"zero");const one=accessor(()=>1,[],"one"),truthy=accessor(()=>!0,[],"true"),falsy=accessor(()=>!1,[],"false");function log$1(e,t,n){const s=[t].concat([].slice.call(n));console[e].apply(console,s)}const None=0,Error$1=1,Warn=2,Info=3,Debug=4;function logger(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:log$1,s=e||None;return{level(u){return arguments.length?(s=+u,this):s},error(){return s>=Error$1&&n(t||"error","ERROR",arguments),this},warn(){return s>=Warn&&n(t||"warn","WARN",arguments),this},info(){return s>=Info&&n(t||"log","INFO",arguments),this},debug(){return s>=Debug&&n(t||"log","DEBUG",arguments),this}}}var isArray$7=Array.isArray;function isObject$7(e){return e===Object(e)}function peek$1(e){return e[e.length-1]}function toNumber$2(e){return e==null||e===""?null:+e}const exp=e=>t=>e*Math.exp(t),log$2=e=>t=>Math.log(e*t),symlog=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),symexp=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,pow=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function pan(e,t,n,s){const u=n(e[0]),f=n(peek$1(e)),d=(f-u)*t;return[s(u-d),s(f-d)]}function panLinear(e,t){return pan(e,t,toNumber$2,identity$1)}function panLog(e,t){var n=Math.sign(e[0]);return pan(e,t,log$2(n),exp(n))}function panPow(e,t,n){return pan(e,t,pow(n),pow(1/n))}function panSymlog(e,t,n){return pan(e,t,symlog(n),symexp(n))}function zoom(e,t,n,s,u){const f=s(e[0]),d=s(peek$1(e)),g=t!=null?s(t):(f+d)/2;return[u(g+(f-g)*n),u(g+(d-g)*n)]}function zoomLinear(e,t,n){return zoom(e,t,n,toNumber$2,identity$1)}function zoomLog(e,t,n){const s=Math.sign(e[0]);return zoom(e,t,n,log$2(s),exp(s))}function zoomPow(e,t,n,s){return zoom(e,t,n,pow(s),pow(1/s))}function zoomSymlog(e,t,n,s){return zoom(e,t,n,symlog(s),symexp(s))}function quarter(e){return 1+~~(new Date(e).getMonth()/3)}function utcquarter(e){return 1+~~(new Date(e).getUTCMonth()/3)}function array$2(e){return e!=null?isArray$7(e)?e:[e]:[]}function clampRange(e,t,n){let s=e[0],u=e[1],f;return u<s&&(f=u,u=s,s=f),f=u-s,f>=n-t?[t,n]:[s=Math.min(Math.max(s,t),n-f),s+f]}function isFunction$2(e){return typeof e=="function"}function constant(e){return isFunction$2(e)?e:()=>e}function debounce$2(e,t){let n;return s=>{n&&clearTimeout(n),n=setTimeout(()=>(t(s),n=null),e)}}function extend$1(e){for(let t,n,s=1,u=arguments.length;s<u;++s){t=arguments[s];for(n in t)e[n]=t[n]}return e}function extent(e,t){let n=0,s,u,f,d;if(e&&(s=e.length))if(t==null){for(u=e[n];n<s&&(u==null||u!==u);u=e[++n]);for(f=d=u;n<s;++n)u=e[n],u!=null&&(u<f&&(f=u),u>d&&(d=u))}else{for(u=t(e[n]);n<s&&(u==null||u!==u);u=t(e[++n]));for(f=d=u;n<s;++n)u=t(e[n]),u!=null&&(u<f&&(f=u),u>d&&(d=u))}return[f,d]}const hop=Object.prototype.hasOwnProperty;function has(e,t){return hop.call(e,t)}const NULL={};function fastmap(e){let t={},n;function s(f){return has(t,f)&&t[f]!==NULL}const u={size:0,empty:0,object:t,has:s,get(f){return s(f)?t[f]:void 0},set(f,d){return s(f)||(++u.size,t[f]===NULL&&--u.empty),t[f]=d,this},delete(f){return s(f)&&(--u.size,++u.empty,t[f]=NULL),this},clear(){u.size=u.empty=0,u.object=t={}},test(f){return arguments.length?(n=f,u):n},clean(){const f={};let d=0;for(const g in t){const v=t[g];v!==NULL&&(!n||!n(v))&&(f[g]=v,++d)}u.size=d,u.empty=0,u.object=t=f}};return e&&Object.keys(e).forEach(f=>{u.set(f,e[f])}),u}function flush(e,t,n,s,u,f){if(!n&&n!==0)return f;const d=+n;let g=e[0],v=peek$1(e),S;v<g&&(S=g,g=v,v=S),S=Math.abs(t-g);const M=Math.abs(v-t);return S<M&&S<=d?s:M<=d?u:f}function inherits(e,t,n){const s=e.prototype=Object.create(t.prototype);return Object.defineProperty(s,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),extend$1(s,n)}function inrange(e,t,n,s){let u=t[0],f=t[t.length-1],d;return u>f&&(d=u,u=f,f=d),n=n===void 0||n,s=s===void 0||s,(n?u<=e:u<e)&&(s?e<=f:e<f)}function isBoolean$1(e){return typeof e=="boolean"}function isDate$2(e){return Object.prototype.toString.call(e)==="[object Date]"}function isIterable(e){return e&&isFunction$2(e[Symbol.iterator])}function isNumber$1(e){return typeof e=="number"}function isRegExp(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function isString(e){return typeof e=="string"}function lerp(e,t){const n=e[0],s=peek$1(e),u=+t;return u?u===1?s:n+u*(s-n):n}const DEFAULT_MAX_SIZE=1e4;function lruCache(e){e=+e||DEFAULT_MAX_SIZE;let t,n,s;const u=()=>{t={},n={},s=0},f=(d,g)=>(++s>e&&(n=t,t={},s=1),t[d]=g);return u(),{clear:u,has:d=>has(t,d)||has(n,d),get:d=>has(t,d)?t[d]:has(n,d)?f(d,n[d]):void 0,set:(d,g)=>has(t,d)?t[d]=g:f(d,g)}}function repeat(e,t){let n="";for(;--t>=0;)n+=e;return n}function pad(e,t,n,s){const u=n||" ",f=e+"",d=t-f.length;return d<=0?f:s==="left"?repeat(u,d)+f:s==="center"?repeat(u,~~(d/2))+f+repeat(u,Math.ceil(d/2)):f+repeat(u,d)}function span(e){return e&&peek$1(e)-e[0]||0}function $(e){return isArray$7(e)?"["+e.map($)+"]":isObject$7(e)||isString(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function toBoolean(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const defaultParser=e=>isNumber$1(e)||isDate$2(e)?e:Date.parse(e);function toDate(e,t){return t=t||defaultParser,e==null||e===""?null:t(e)}function toString$4(e){return e==null||e===""?null:e+""}function toSet(e){const t={},n=e.length;for(let s=0;s<n;++s)t[e[s]]=!0;return t}function truncate$1(e,t,n,s){const u=s??"",f=e+"",d=f.length,g=Math.max(0,t-u.length);return d<=t?f:n==="left"?u+f.slice(d-g):n==="center"?f.slice(0,Math.ceil(g/2))+u+f.slice(d-~~(g/2)):f.slice(0,g)+u}function visitArray(e,t,n){if(e)if(t){const s=e.length;for(let u=0;u<s;++u){const f=t(e[u]);f&&n(f,u,e)}}else e.forEach(n)}function domCanvas(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const domImage=()=>typeof Image<"u"?Image:null,YEAR="year",QUARTER="quarter",MONTH="month",WEEK="week",DATE="date",DAY="day",DAYOFYEAR="dayofyear",HOURS="hours",MINUTES="minutes",SECONDS="seconds",MILLISECONDS="milliseconds",TIME_UNITS=[YEAR,QUARTER,MONTH,WEEK,DATE,DAY,DAYOFYEAR,HOURS,MINUTES,SECONDS,MILLISECONDS],UNITS=TIME_UNITS.reduce((e,t,n)=>(e[t]=1+n,e),{});function timeUnits(e){const t=array$2(e).slice(),n={};return t.length||error$1("Missing time unit."),t.forEach(u=>{has(UNITS,u)?n[u]=1:error$1(`Invalid time unit: ${u}.`)}),(n[WEEK]||n[DAY]?1:0)+(n[QUARTER]||n[MONTH]||n[DATE]?1:0)+(n[DAYOFYEAR]?1:0)>1&&error$1(`Incompatible time units: ${e}`),t.sort((u,f)=>UNITS[u]-UNITS[f]),t}const defaultSpecifiers={[YEAR]:"%Y ",[QUARTER]:"Q%q ",[MONTH]:"%b ",[DATE]:"%d ",[WEEK]:"W%U ",[DAY]:"%a ",[DAYOFYEAR]:"%j ",[HOURS]:"%H:00",[MINUTES]:"00:%M",[SECONDS]:":%S",[MILLISECONDS]:".%L",[`${YEAR}-${MONTH}`]:"%Y-%m ",[`${YEAR}-${MONTH}-${DATE}`]:"%Y-%m-%d ",[`${HOURS}-${MINUTES}`]:"%H:%M"};function timeUnitSpecifier(e,t){const n=extend$1({},defaultSpecifiers,t),s=timeUnits(e),u=s.length;let f="",d=0,g,v;for(d=0;d<u;)for(g=s.length;g>d;--g)if(v=s.slice(d,g).join("-"),n[v]!=null){f+=n[v],d=g;break}return f.trim()}const t0=new Date;function localYear(e){return t0.setFullYear(e),t0.setMonth(0),t0.setDate(1),t0.setHours(0,0,0,0),t0}function dayofyear(e){return localDayOfYear(new Date(e))}function week(e){return localWeekNum(new Date(e))}function localDayOfYear(e){return timeDay.count(localYear(e.getFullYear())-1,e)}function localWeekNum(e){return timeSunday.count(localYear(e.getFullYear())-1,e)}function utcdayofyear(e){return utcDayOfYear(new Date(e))}function utcweek(e){return utcWeekNum(new Date(e))}function utcDayOfYear(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return utcDay.count(t-1,e)}function utcWeekNum(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return utcSunday.count(t-1,e)}const timeIntervals={[YEAR]:timeYear,[QUARTER]:timeMonth.every(3),[MONTH]:timeMonth,[WEEK]:timeSunday,[DATE]:timeDay,[DAY]:timeDay,[DAYOFYEAR]:timeDay,[HOURS]:timeHour,[MINUTES]:timeMinute,[SECONDS]:second,[MILLISECONDS]:millisecond},utcIntervals={[YEAR]:utcYear,[QUARTER]:utcMonth.every(3),[MONTH]:utcMonth,[WEEK]:utcSunday,[DATE]:utcDay,[DAY]:utcDay,[DAYOFYEAR]:utcDay,[HOURS]:utcHour,[MINUTES]:utcMinute,[SECONDS]:second,[MILLISECONDS]:millisecond};function timeInterval(e){return timeIntervals[e]}function utcInterval(e){return utcIntervals[e]}function offset$3(e,t,n){return e?e.offset(t,n):void 0}function timeOffset(e,t,n){return offset$3(timeInterval(e),t,n)}function utcOffset(e,t,n){return offset$3(utcInterval(e),t,n)}function sequence$1(e,t,n,s){return e?e.range(t,n,s):void 0}function timeSequence(e,t,n,s){return sequence$1(timeInterval(e),t,n,s)}function utcSequence(e,t,n,s){return sequence$1(utcInterval(e),t,n,s)}function memoize$3(e){const t={};return n=>t[n]||(t[n]=e(n))}function trimZeroes(e,t){return n=>{const s=e(n),u=s.indexOf(t);if(u<0)return s;let f=rightmostDigit(s,u);const d=f<s.length?s.slice(f):"";for(;--f>u;)if(s[f]!=="0"){++f;break}return s.slice(0,f)+d}}function rightmostDigit(e,t){let n=e.lastIndexOf("e"),s;if(n>0)return n;for(n=e.length;--n>t;)if(s=e.charCodeAt(n),s>=48&&s<=57)return n+1}function numberLocale(e){const t=memoize$3(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(s){const u=formatSpecifier(s||",");if(u.precision==null){switch(u.precision=12,u.type){case"%":u.precision-=2;break;case"e":u.precision-=1;break}return trimZeroes(t(u),t(".1f")(1)[1])}else return t(u)},formatSpan(s,u,f,d){d=formatSpecifier(d??",f");const g=tickStep(s,u,f),v=Math.max(Math.abs(s),Math.abs(u));let S;if(d.precision==null)switch(d.type){case"s":return isNaN(S=precisionPrefix(g,v))||(d.precision=S),n(d,v);case"":case"e":case"g":case"p":case"r":{isNaN(S=precisionRound(g,v))||(d.precision=S-(d.type==="e"));break}case"f":case"%":{isNaN(S=precisionFixed(g))||(d.precision=S-(d.type==="%")*2);break}}return t(d)}}}let defaultNumberLocale;resetNumberFormatDefaultLocale();function resetNumberFormatDefaultLocale(){return defaultNumberLocale=numberLocale({format:format$3,formatPrefix})}function numberFormatLocale(e){return numberLocale(formatLocale$1(e))}function numberFormatDefaultLocale(e){return arguments.length?defaultNumberLocale=numberFormatLocale(e):defaultNumberLocale}function timeMultiFormat(e,t,n){n=n||{},isObject$7(n)||error$1(`Invalid time multi-format specifier: ${n}`);const s=t(SECONDS),u=t(MINUTES),f=t(HOURS),d=t(DATE),g=t(WEEK),v=t(MONTH),S=t(QUARTER),M=t(YEAR),I=e(n[MILLISECONDS]||".%L"),P=e(n[SECONDS]||":%S"),N=e(n[MINUTES]||"%I:%M"),F=e(n[HOURS]||"%I %p"),j=e(n[DATE]||n[DAY]||"%a %d"),U=e(n[WEEK]||"%b %d"),V=e(n[MONTH]||"%B"),Z=e(n[QUARTER]||"%B"),Q=e(n[YEAR]||"%Y");return J=>(s(J)<J?I:u(J)<J?P:f(J)<J?N:d(J)<J?F:v(J)<J?g(J)<J?j:U:M(J)<J?S(J)<J?V:Z:Q)(J)}function timeLocale(e){const t=memoize$3(e.format),n=memoize$3(e.utcFormat);return{timeFormat:s=>isString(s)?t(s):timeMultiFormat(t,timeInterval,s),utcFormat:s=>isString(s)?n(s):timeMultiFormat(n,utcInterval,s),timeParse:memoize$3(e.parse),utcParse:memoize$3(e.utcParse)}}let defaultTimeLocale;resetTimeFormatDefaultLocale();function resetTimeFormatDefaultLocale(){return defaultTimeLocale=timeLocale({format:timeFormat$1,parse:timeParse$1,utcFormat:utcFormat$1,utcParse:utcParse$1})}function timeFormatLocale(e){return timeLocale(formatLocale(e))}function timeFormatDefaultLocale(e){return arguments.length?defaultTimeLocale=timeFormatLocale(e):defaultTimeLocale}const createLocale=(e,t)=>extend$1({},e,t);function defaultLocale(e,t){const n=arguments.length;return n&&n!==2&&error$1("defaultLocale expects either zero or two arguments."),n?createLocale(numberFormatDefaultLocale(e),timeFormatDefaultLocale(t)):createLocale(numberFormatDefaultLocale(),timeFormatDefaultLocale())}const protocol_re=/^(data:|([A-Za-z]+:)?\/\/)/,allowed_re=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,whitespace_re=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,fileProtocol="file://";function loaderFactory(e,t){return n=>({options:n||{},sanitize,load,fileAccess:!!t,file:fileLoader(t),http:httpLoader(e)})}async function load(e,t){const n=await this.sanitize(e,t),s=n.href;return n.localFile?this.file(s):this.http(s,t)}async function sanitize(e,t){t=extend$1({},this.options,t);const n=this.fileAccess,s={href:null};let u,f,d;const g=allowed_re.test(e.replace(whitespace_re,""));(e==null||typeof e!="string"||!g)&&error$1("Sanitize failure, invalid URI: "+$(e));const v=protocol_re.test(e);return(d=t.baseURL)&&!v&&(!e.startsWith("/")&&!d.endsWith("/")&&(e="/"+e),e=d+e),f=(u=e.startsWith(fileProtocol))||t.mode==="file"||t.mode!=="http"&&!v&&n,u?e=e.slice(fileProtocol.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),f=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(s,"localFile",{value:!!f}),s.href=e,t.target&&(s.target=t.target+""),t.rel&&(s.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(s.crossOrigin=t.crossOrigin+""),s}function fileLoader(e){return e?t=>new Promise((n,s)=>{e.readFile(t,(u,f)=>{u?s(u):n(f)})}):fileReject}async function fileReject(){error$1("No file system access.")}function httpLoader(e){return e?async function(t,n){const s=extend$1({},this.options.http,n),u=n&&n.response,f=await e(t,s);return f.ok?isFunction$2(f[u])?f[u]():f.text():error$1(f.status+""+f.statusText)}:httpReject}async function httpReject(){error$1("No HTTP fetch method available.")}const isValid=e=>e!=null&&e===e,isBoolean=e=>e==="true"||e==="false"||e===!0||e===!1,isDate$1=e=>!Number.isNaN(Date.parse(e)),isNumber=e=>!Number.isNaN(+e)&&!(e instanceof Date),isInteger=e=>isNumber(e)&&Number.isInteger(+e),typeParsers={boolean:toBoolean,integer:toNumber$2,number:toNumber$2,date:toDate,string:toString$4,unknown:identity$1},typeTests=[isBoolean,isInteger,isNumber,isDate$1],typeList=["boolean","integer","number","date"];function inferType(e,t){if(!e||!e.length)return"unknown";const n=e.length,s=typeTests.length,u=typeTests.map((f,d)=>d+1);for(let f=0,d=0,g,v;f<n;++f)for(v=t?e[f][t]:e[f],g=0;g<s;++g)if(u[g]&&isValid(v)&&!typeTests[g](v)&&(u[g]=0,++d,d===typeTests.length))return"string";return typeList[u.reduce((f,d)=>f===0?d:f,0)-1]}function inferTypes(e,t){return t.reduce((n,s)=>(n[s]=inferType(e,s),n),{})}function delimitedFormat(e){const t=function(n,s){const u={delimiter:e};return dsv(n,s?extend$1(s,u):u)};return t.responseType="text",t}function dsv(e,t){return t.header&&(e=t.header.map($).join(t.delimiter)+`
`+e),dsvFormat(t.delimiter).parse(e+"")}dsv.responseType="text";function isBuffer$1(e){return typeof Buffer=="function"&&isFunction$2(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function json$1(e,t){const n=t&&t.property?field(t.property):identity$1;return isObject$7(e)&&!isBuffer$1(e)?parseJSON(n(e),t):n(JSON.parse(e))}json$1.responseType="json";function parseJSON(e,t){return!isArray$7(e)&&isIterable(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const filters={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function topojson(e,t){let n,s,u,f;return e=json$1(e,t),t&&t.feature?(n=feature,u=t.feature):t&&t.mesh?(n=mesh,u=t.mesh,f=filters[t.filter]):error$1("Missing TopoJSON feature or mesh parameter."),s=(s=e.objects[u])?n(e,s,f):error$1("Invalid TopoJSON object: "+u),s&&s.features||[s]}topojson.responseType="json";const format$2={dsv,csv:delimitedFormat(","),tsv:delimitedFormat("	"),json:json$1,topojson};function formats$1(e,t){return arguments.length>1?(format$2[e]=t,this):has(format$2,e)?format$2[e]:null}function responseType(e){const t=formats$1(e);return t&&t.responseType||"text"}function read(e,t,n,s){t=t||{};const u=formats$1(t.type||"json");return u||error$1("Unknown data format type: "+t.type),e=u(e,t),t.parse&&parse$4(e,t.parse,n,s),has(e,"columns")&&delete e.columns,e}function parse$4(e,t,n,s){if(!e.length)return;const u=timeFormatDefaultLocale();n=n||u.timeParse,s=s||u.utcParse;let f=e.columns||Object.keys(e[0]),d,g,v,S,M,I;t==="auto"&&(t=inferTypes(e,f)),f=Object.keys(t);const P=f.map(N=>{const F=t[N];let j,U;if(F&&(F.startsWith("date:")||F.startsWith("utc:")))return j=F.split(/:(.+)?/,2),U=j[1],(U[0]==="'"&&U[U.length-1]==="'"||U[0]==='"'&&U[U.length-1]==='"')&&(U=U.slice(1,-1)),(j[0]==="utc"?s:n)(U);if(!typeParsers[F])throw Error("Illegal format pattern: "+N+":"+F);return typeParsers[F]});for(v=0,M=e.length,I=f.length;v<M;++v)for(d=e[v],S=0;S<I;++S)g=f[S],d[g]=P[S](d[g])}const loader=loaderFactory(typeof fetch<"u"&&fetch,null);function bandSpace(e,t,n){const s=e-t+n*2;return e?s>0?s:1:0}const Identity="identity",Linear="linear",Log="log",Pow="pow",Sqrt="sqrt",Symlog="symlog",Time="time",UTC="utc",Sequential="sequential",Diverging="diverging",Quantile="quantile",Quantize="quantize",Threshold="threshold",Ordinal="ordinal",Point$2="point",Band="band",BinOrdinal="bin-ordinal",Continuous="continuous",Discrete="discrete",Discretizing="discretizing",Interpolating="interpolating",Temporal="temporal";function invertRange(e){return function(t){let n=t[0],s=t[1],u;return s<n&&(u=n,n=s,s=u),[e.invert(n),e.invert(s)]}}function invertRangeExtent(e){return function(t){const n=e.range();let s=t[0],u=t[1],f=-1,d,g,v,S;for(u<s&&(g=s,s=u,u=g),v=0,S=n.length;v<S;++v)n[v]>=s&&n[v]<=u&&(f<0&&(f=v),d=v);if(!(f<0))return s=e.invertExtent(n[f]),u=e.invertExtent(n[d]),[s[0]===void 0?s[1]:s[0],u[1]===void 0?u[0]:u[1]]}}function band(){const e=ordinal().unknown(void 0),t=e.domain,n=e.range;let s=[0,1],u,f,d=!1,g=0,v=0,S=.5;delete e.unknown;function M(){const I=t().length,P=s[1]<s[0],N=s[1-P],F=bandSpace(I,g,v);let j=s[P-0];u=(N-j)/(F||1),d&&(u=Math.floor(u)),j+=(N-j-u*(I-g))*S,f=u*(1-g),d&&(j=Math.round(j),f=Math.round(f));const U=range$3(I).map(V=>j+u*V);return n(P?U.reverse():U)}return e.domain=function(I){return arguments.length?(t(I),M()):t()},e.range=function(I){return arguments.length?(s=[+I[0],+I[1]],M()):s.slice()},e.rangeRound=function(I){return s=[+I[0],+I[1]],d=!0,M()},e.bandwidth=function(){return f},e.step=function(){return u},e.round=function(I){return arguments.length?(d=!!I,M()):d},e.padding=function(I){return arguments.length?(v=Math.max(0,Math.min(1,I)),g=v,M()):g},e.paddingInner=function(I){return arguments.length?(g=Math.max(0,Math.min(1,I)),M()):g},e.paddingOuter=function(I){return arguments.length?(v=Math.max(0,Math.min(1,I)),M()):v},e.align=function(I){return arguments.length?(S=Math.max(0,Math.min(1,I)),M()):S},e.invertRange=function(I){if(I[0]==null||I[1]==null)return;const P=s[1]<s[0],N=P?n().reverse():n(),F=N.length-1;let j=+I[0],U=+I[1],V,Z,Q;if(!(j!==j||U!==U)&&(U<j&&(Q=j,j=U,U=Q),!(U<N[0]||j>s[1-P])))return V=Math.max(0,bisectRight$1(N,j)-1),Z=j===U?V:bisectRight$1(N,U)-1,j-N[V]>f+1e-10&&++V,P&&(Q=V,V=F-Z,Z=F-Q),V>Z?void 0:t().slice(V,Z+1)},e.invert=function(I){const P=e.invertRange([I,I]);return P&&P[0]},e.copy=function(){return band().domain(t()).range(s).round(d).paddingInner(g).paddingOuter(v).align(S)},M()}function pointish(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return pointish(t())},e}function point$1(){return pointish(band().paddingInner(1))}var map=Array.prototype.map;function numbers(e){return map.call(e,toNumber$2)}const slice$1=Array.prototype.slice;function scaleBinOrdinal(){let e=[],t=[];function n(s){return s==null||s!==s?void 0:t[(bisect$1(e,s)-1)%t.length]}return n.domain=function(s){return arguments.length?(e=numbers(s),n):e.slice()},n.range=function(s){return arguments.length?(t=slice$1.call(s),n):t.slice()},n.tickFormat=function(s,u){return tickFormat$1(e[0],peek$1(e),s??10,u)},n.copy=function(){return scaleBinOrdinal().domain(n.domain()).range(n.range())},n}const scales$3=new Map,VEGA_SCALE=Symbol("vega_scale");function registerScale(e){return e[VEGA_SCALE]=!0,e}function isRegisteredScale(e){return e&&e[VEGA_SCALE]===!0}function create(e,t,n){const s=function(){const f=t();return f.invertRange||(f.invertRange=f.invert?invertRange(f):f.invertExtent?invertRangeExtent(f):void 0),f.type=e,registerScale(f)};return s.metadata=toSet(array$2(n)),s}function scale$3(e,t,n){return arguments.length>1?(scales$3.set(e,create(e,t,n)),this):isValidScaleType(e)?scales$3.get(e):void 0}scale$3(Identity,identity$3);scale$3(Linear,linear,Continuous);scale$3(Log,log$3,[Continuous,Log]);scale$3(Pow,pow$1,Continuous);scale$3(Sqrt,sqrt$2,Continuous);scale$3(Symlog,symlog$1,Continuous);scale$3(Time,time$1,[Continuous,Temporal]);scale$3(UTC,utcTime,[Continuous,Temporal]);scale$3(Sequential,sequential,[Continuous,Interpolating]);scale$3(`${Sequential}-${Linear}`,sequential,[Continuous,Interpolating]);scale$3(`${Sequential}-${Log}`,sequentialLog,[Continuous,Interpolating,Log]);scale$3(`${Sequential}-${Pow}`,sequentialPow,[Continuous,Interpolating]);scale$3(`${Sequential}-${Sqrt}`,sequentialSqrt,[Continuous,Interpolating]);scale$3(`${Sequential}-${Symlog}`,sequentialSymlog,[Continuous,Interpolating]);scale$3(`${Diverging}-${Linear}`,diverging,[Continuous,Interpolating]);scale$3(`${Diverging}-${Log}`,divergingLog,[Continuous,Interpolating,Log]);scale$3(`${Diverging}-${Pow}`,divergingPow,[Continuous,Interpolating]);scale$3(`${Diverging}-${Sqrt}`,divergingSqrt,[Continuous,Interpolating]);scale$3(`${Diverging}-${Symlog}`,divergingSymlog,[Continuous,Interpolating]);scale$3(Quantile,quantile,[Discretizing,Quantile]);scale$3(Quantize,quantize,Discretizing);scale$3(Threshold,threshold,Discretizing);scale$3(BinOrdinal,scaleBinOrdinal,[Discrete,Discretizing]);scale$3(Ordinal,ordinal,Discrete);scale$3(Band,band,Discrete);scale$3(Point$2,point$1,Discrete);function isValidScaleType(e){return scales$3.has(e)}function hasType(e,t){const n=scales$3.get(e);return n&&n.metadata[t]}function isContinuous(e){return hasType(e,Continuous)}function isDiscrete(e){return hasType(e,Discrete)}function isDiscretizing(e){return hasType(e,Discretizing)}function isLogarithmic(e){return hasType(e,Log)}function isTemporal(e){return hasType(e,Temporal)}function isInterpolating(e){return hasType(e,Interpolating)}const scaleProps=["clamp","base","constant","exponent"];function interpolateRange(e,t){const n=t[0],s=peek$1(t)-n;return function(u){return e(n+u*s)}}function interpolateColors(e,t,n){return piecewise(interpolate(t||"rgb",n),e)}function quantizeInterpolator(e,t){const n=new Array(t),s=t+1;for(let u=0;u<t;)n[u]=e(++u/s);return n}function scaleFraction(e,t,n){const s=n-t;let u,f,d;return!s||!Number.isFinite(s)?constant(.5):(u=(f=e.type).indexOf("-"),f=u<0?f:f.slice(u+1),d=scale$3(f)().domain([t,n]).range([0,1]),scaleProps.forEach(g=>e[g]?d[g](e[g]()):0),d)}function interpolate(e,t){const n=$$1[method(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function method(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const continuous={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},discrete={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function colors$1(e){const t=e.length/6|0,n=new Array(t);for(let s=0;s<t;)n[s]="#"+e.slice(s*6,++s*6);return n}function apply(e,t){for(const n in e)scheme(n,t(e[n]))}const schemes={};apply(discrete,colors$1);apply(continuous,e=>interpolateColors(colors$1(e)));function scheme(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(schemes[e]=t,this):schemes[e]}const SymbolLegend="symbol",DiscreteLegend="discrete",GradientLegend="gradient",defaultFormatter=e=>isArray$7(e)?e.map(t=>String(t)):String(e),ascending$1=(e,t)=>e[1]-t[1],descending$1=(e,t)=>t[1]-e[1];function tickCount(e,t,n){let s;return isNumber$1(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(span(e.domain())/n||1)))),isObject$7(t)&&(s=t.step,t=t.interval),isString(t)&&(t=e.type===Time?timeInterval(t):e.type==UTC?utcInterval(t):error$1("Only time and utc scales accept interval strings."),s&&(t=t.every(s))),t}function validTicks(e,t,n){let s=e.range(),u=s[0],f=peek$1(s),d=ascending$1;if(u>f&&(s=f,f=u,u=s,d=descending$1),u=Math.floor(u),f=Math.ceil(f),t=t.map(g=>[g,e(g)]).filter(g=>u<=g[1]&&g[1]<=f).sort(d).map(g=>g[0]),n>0&&t.length>1){const g=[t[0],peek$1(t)];for(;t.length>n&&t.length>=3;)t=t.filter((v,S)=>!(S%2));t.length<3&&(t=g)}return t}function tickValues(e,t){return e.bins?validTicks(e,e.bins):e.ticks?e.ticks(t):e.domain()}function tickFormat(e,t,n,s,u,f){const d=t.type;let g=defaultFormatter;if(d===Time||u===Time)g=e.timeFormat(s);else if(d===UTC||u===UTC)g=e.utcFormat(s);else if(isLogarithmic(d)){const v=e.formatFloat(s);if(f||t.bins)g=v;else{const S=tickLog(t,n,!1);g=M=>S(M)?v(M):""}}else if(t.tickFormat){const v=t.domain();g=e.formatSpan(v[0],v[v.length-1],n,s)}else s&&(g=e.format(s));return g}function tickLog(e,t,n){const s=tickValues(e,t),u=e.base(),f=Math.log(u),d=Math.max(1,u*t/s.length),g=v=>{let S=v/Math.pow(u,Math.round(Math.log(v)/f));return S*u<u-.5&&(S*=u),S<=d};return n?s.filter(g):g}const symbols$1={[Quantile]:"quantiles",[Quantize]:"thresholds",[Threshold]:"domain"},formats={[Quantile]:"quantiles",[Quantize]:"domain"};function labelValues(e,t){return e.bins?binValues(e.bins):e.type===Log?tickLog(e,t,!0):symbols$1[e.type]?thresholdValues(e[symbols$1[e.type]]()):tickValues(e,t)}function thresholdFormat(e,t,n){const s=t[formats[t.type]](),u=s.length;let f=u>1?s[1]-s[0]:s[0],d;for(d=1;d<u;++d)f=Math.min(f,s[d]-s[d-1]);return e.formatSpan(0,f,3*10,n)}function thresholdValues(e){const t=[-1/0].concat(e);return t.max=1/0,t}function binValues(e){const t=e.slice(0,-1);return t.max=peek$1(e),t}const isDiscreteRange=e=>symbols$1[e.type]||e.bins;function labelFormat(e,t,n,s,u,f,d){const g=formats[t.type]&&f!==Time&&f!==UTC?thresholdFormat(e,t,u):tickFormat(e,t,n,u,f,d);return s===SymbolLegend&&isDiscreteRange(t)?formatRange(g):s===DiscreteLegend?formatDiscrete(g):formatPoint(g)}const formatRange=e=>(t,n,s)=>{const u=get$3(s[n+1],get$3(s.max,1/0)),f=formatValue$1(t,e),d=formatValue$1(u,e);return f&&d?f+"  "+d:d?"< "+d:" "+f},get$3=(e,t)=>e??t,formatDiscrete=e=>(t,n)=>n?e(t):null,formatPoint=e=>t=>e(t),formatValue$1=(e,t)=>Number.isFinite(e)?t(e):null;function labelFraction(e){const t=e.domain(),n=t.length-1;let s=+t[0],u=+peek$1(t),f=u-s;if(e.type===Threshold){const d=n?f/n:.1;s-=d,u+=d,f=u-s}return d=>(d-s)/f}function format$1(e,t,n,s){const u=s||t.type;return isString(n)&&isTemporal(u)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&u===Time?e.timeFormat("%A, %d %B %Y, %X"):!n&&u===UTC?e.utcFormat("%A, %d %B %Y, %X UTC"):labelFormat(e,t,5,null,n,s,!0)}function domainCaption(e,t,n){n=n||{};const s=Math.max(3,n.maxlen||7),u=format$1(e,t,n.format,n.formatType);if(isDiscretizing(t.type)){const f=labelValues(t).slice(1).map(u),d=f.length;return`${d} boundar${d===1?"y":"ies"}: ${f.join(", ")}`}else if(isDiscrete(t.type)){const f=t.domain(),d=f.length,g=d>s?f.slice(0,s-2).map(u).join(", ")+", ending with "+f.slice(-1).map(u):f.map(u).join(", ");return`${d} value${d===1?"":"s"}: ${g}`}else{const f=t.domain();return`values from ${u(f[0])} to ${u(peek$1(f))}`}}let gradient_id=0;const patternPrefix="p_";function isGradient(e){return e&&e.gradient}function gradientRef(e,t,n){const s=e.gradient;let u=e.id,f=s==="radial"?patternPrefix:"";return u||(u=e.id="gradient_"+gradient_id++,s==="radial"?(e.x1=get$2(e.x1,.5),e.y1=get$2(e.y1,.5),e.r1=get$2(e.r1,0),e.x2=get$2(e.x2,.5),e.y2=get$2(e.y2,.5),e.r2=get$2(e.r2,.5),f=patternPrefix):(e.x1=get$2(e.x1,0),e.y1=get$2(e.y1,0),e.x2=get$2(e.x2,1),e.y2=get$2(e.y2,0))),t[u]=e,"url("+(n||"")+"#"+f+u+")"}function get$2(e,t){return e??t}function Gradient(e,t){var n=[],s;return s={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(u,f){return n.push({offset:u,color:f}),s}}}const lookup$2={basis:{curve:curveBasis},"basis-closed":{curve:curveBasisClosed},"basis-open":{curve:curveBasisOpen},bundle:{curve:curveBundle,tension:"beta",value:.85},cardinal:{curve:curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:curveCardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:curveLinear},"linear-closed":{curve:curveLinearClosed},monotone:{horizontal:monotoneY,vertical:monotoneX},natural:{curve:curveNatural},step:{curve:curveStep},"step-after":{curve:stepAfter},"step-before":{curve:stepBefore}};function curves(e,t,n){var s=has(lookup$2,e)&&lookup$2[e],u=null;return s&&(u=s.curve||s[t||"vertical"],s.tension&&n!=null&&(u=u[s.tension](n))),u}const paramCounts={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},commandPattern=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,numberPattern=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,spacePattern=/^((\s+,?\s*)|(,\s*))/,flagPattern=/^[01]/;function parse$3(e){const t=[];return(e.match(commandPattern)||[]).forEach(s=>{let u=s[0];const f=u.toLowerCase(),d=paramCounts[f],g=parseParams(f,d,s.slice(1).trim()),v=g.length;if(v<d||v&&v%d!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([u,...g.slice(0,d)]),v!==d){f==="m"&&(u=u==="M"?"L":"l");for(let S=d;S<v;S+=d)t.push([u,...g.slice(S,S+d)])}}),t}function parseParams(e,t,n){const s=[];for(let u=0;t&&u<n.length;)for(let f=0;f<t;++f){const d=e==="a"&&(f===3||f===4)?flagPattern:numberPattern,g=n.slice(u).match(d);if(g===null)throw Error("Invalid SVG path, incorrect parameter type");u+=g[0].length,s.push(+g[0]);const v=n.slice(u).match(spacePattern);v!==null&&(u+=v[0].length)}return s}const DegToRad=Math.PI/180,Epsilon=1e-14,HalfPi=Math.PI/2,Tau=Math.PI*2,HalfSqrt3=Math.sqrt(3)/2;var segmentCache={},bezierCache={},join$1=[].join;function segments(e,t,n,s,u,f,d,g,v){const S=join$1.call(arguments);if(segmentCache[S])return segmentCache[S];const M=d*DegToRad,I=Math.sin(M),P=Math.cos(M);n=Math.abs(n),s=Math.abs(s);const N=P*(g-e)*.5+I*(v-t)*.5,F=P*(v-t)*.5-I*(g-e)*.5;let j=N*N/(n*n)+F*F/(s*s);j>1&&(j=Math.sqrt(j),n*=j,s*=j);const U=P/n,V=I/n,Z=-I/s,Q=P/s,J=U*g+V*v,te=Z*g+Q*v,oe=U*e+V*t,ue=Z*e+Q*t;let le=1/((oe-J)*(oe-J)+(ue-te)*(ue-te))-.25;le<0&&(le=0);let de=Math.sqrt(le);f==u&&(de=-de);const ge=.5*(J+oe)-de*(ue-te),ve=.5*(te+ue)+de*(oe-J),me=Math.atan2(te-ve,J-ge);let Ae=Math.atan2(ue-ve,oe-ge)-me;Ae<0&&f===1?Ae+=Tau:Ae>0&&f===0&&(Ae-=Tau);const Te=Math.ceil(Math.abs(Ae/(HalfPi+.001))),Oe=[];for(let Ie=0;Ie<Te;++Ie){const Be=me+Ie*Ae/Te,De=me+(Ie+1)*Ae/Te;Oe[Ie]=[ge,ve,Be,De,n,s,I,P]}return segmentCache[S]=Oe}function bezier(e){const t=join$1.call(e);if(bezierCache[t])return bezierCache[t];var n=e[0],s=e[1],u=e[2],f=e[3],d=e[4],g=e[5],v=e[6],S=e[7];const M=S*d,I=-v*g,P=v*d,N=S*g,F=Math.cos(u),j=Math.sin(u),U=Math.cos(f),V=Math.sin(f),Z=.5*(f-u),Q=Math.sin(Z*.5),J=8/3*Q*Q/Math.sin(Z),te=n+F-J*j,oe=s+j+J*F,ue=n+U,se=s+V,le=ue+J*V,de=se-J*U;return bezierCache[t]=[M*te+I*oe,P*te+N*oe,M*le+I*de,P*le+N*de,M*ue+I*se,P*ue+N*se]}const temp=["l",0,0,0,0,0,0,0];function scale$1$1(e,t,n){const s=temp[0]=e[0];if(s==="a"||s==="A")temp[1]=t*e[1],temp[2]=n*e[2],temp[3]=e[3],temp[4]=e[4],temp[5]=e[5],temp[6]=t*e[6],temp[7]=n*e[7];else if(s==="h"||s==="H")temp[1]=t*e[1];else if(s==="v"||s==="V")temp[1]=n*e[1];else for(var u=1,f=e.length;u<f;++u)temp[u]=(u%2==1?t:n)*e[u];return temp}function pathRender(e,t,n,s,u,f){var d,g=null,v=0,S=0,M=0,I=0,P,N,F,j,U=0,V=0;n==null&&(n=0),s==null&&(s=0),u==null&&(u=1),f==null&&(f=u),e.beginPath&&e.beginPath();for(var Z=0,Q=t.length;Z<Q;++Z){switch(d=t[Z],(u!==1||f!==1)&&(d=scale$1$1(d,u,f)),d[0]){case"l":v+=d[1],S+=d[2],e.lineTo(v+n,S+s);break;case"L":v=d[1],S=d[2],e.lineTo(v+n,S+s);break;case"h":v+=d[1],e.lineTo(v+n,S+s);break;case"H":v=d[1],e.lineTo(v+n,S+s);break;case"v":S+=d[1],e.lineTo(v+n,S+s);break;case"V":S=d[1],e.lineTo(v+n,S+s);break;case"m":v+=d[1],S+=d[2],U=v,V=S,e.moveTo(v+n,S+s);break;case"M":v=d[1],S=d[2],U=v,V=S,e.moveTo(v+n,S+s);break;case"c":P=v+d[5],N=S+d[6],M=v+d[3],I=S+d[4],e.bezierCurveTo(v+d[1]+n,S+d[2]+s,M+n,I+s,P+n,N+s),v=P,S=N;break;case"C":v=d[5],S=d[6],M=d[3],I=d[4],e.bezierCurveTo(d[1]+n,d[2]+s,M+n,I+s,v+n,S+s);break;case"s":P=v+d[3],N=S+d[4],M=2*v-M,I=2*S-I,e.bezierCurveTo(M+n,I+s,v+d[1]+n,S+d[2]+s,P+n,N+s),M=v+d[1],I=S+d[2],v=P,S=N;break;case"S":P=d[3],N=d[4],M=2*v-M,I=2*S-I,e.bezierCurveTo(M+n,I+s,d[1]+n,d[2]+s,P+n,N+s),v=P,S=N,M=d[1],I=d[2];break;case"q":P=v+d[3],N=S+d[4],M=v+d[1],I=S+d[2],e.quadraticCurveTo(M+n,I+s,P+n,N+s),v=P,S=N;break;case"Q":P=d[3],N=d[4],e.quadraticCurveTo(d[1]+n,d[2]+s,P+n,N+s),v=P,S=N,M=d[1],I=d[2];break;case"t":P=v+d[1],N=S+d[2],g[0].match(/[QqTt]/)===null?(M=v,I=S):g[0]==="t"?(M=2*v-F,I=2*S-j):g[0]==="q"&&(M=2*v-M,I=2*S-I),F=M,j=I,e.quadraticCurveTo(M+n,I+s,P+n,N+s),v=P,S=N,M=v+d[1],I=S+d[2];break;case"T":P=d[1],N=d[2],M=2*v-M,I=2*S-I,e.quadraticCurveTo(M+n,I+s,P+n,N+s),v=P,S=N;break;case"a":drawArc(e,v+n,S+s,[d[1],d[2],d[3],d[4],d[5],d[6]+v+n,d[7]+S+s]),v+=d[6],S+=d[7];break;case"A":drawArc(e,v+n,S+s,[d[1],d[2],d[3],d[4],d[5],d[6]+n,d[7]+s]),v=d[6],S=d[7];break;case"z":case"Z":v=U,S=V,e.closePath();break}g=d}}function drawArc(e,t,n,s){const u=segments(s[5],s[6],s[0],s[1],s[3],s[4],s[2],t,n);for(let f=0;f<u.length;++f){const d=bezier(u[f]);e.bezierCurveTo(d[0],d[1],d[2],d[3],d[4],d[5])}}const Tan30=.5773502691896257,builtins={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Tau)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,s=n/2.5;e.moveTo(-n,-s),e.lineTo(-n,s),e.lineTo(-s,s),e.lineTo(-s,n),e.lineTo(s,n),e.lineTo(s,s),e.lineTo(n,s),e.lineTo(n,-s),e.lineTo(s,-s),e.lineTo(s,-n),e.lineTo(-s,-n),e.lineTo(-s,-s),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),s=-n/2;e.rect(s,s,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,s=n/7,u=n/2.5,f=n/8;e.moveTo(-s,n),e.lineTo(s,n),e.lineTo(s,-f),e.lineTo(u,-f),e.lineTo(0,-n),e.lineTo(-u,-f),e.lineTo(-s,-f),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,s=HalfSqrt3*n,u=s-n*Tan30,f=n/4;e.moveTo(0,-s-u),e.lineTo(-f,s-u),e.lineTo(f,s-u),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,s=HalfSqrt3*n,u=s-n*Tan30;e.moveTo(0,-s-u),e.lineTo(-n,s-u),e.lineTo(n,s-u),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,s=HalfSqrt3*n;e.moveTo(0,-s),e.lineTo(-n,s),e.lineTo(n,s),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,s=HalfSqrt3*n;e.moveTo(0,s),e.lineTo(-n,-s),e.lineTo(n,-s),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,s=HalfSqrt3*n;e.moveTo(s,0),e.lineTo(-s,-n),e.lineTo(-s,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,s=HalfSqrt3*n;e.moveTo(-s,0),e.lineTo(s,-n),e.lineTo(s,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function symbols(e){return has(builtins,e)?builtins[e]:customSymbol(e)}var custom={};function customSymbol(e){if(!has(custom,e)){const t=parse$3(e);custom[e]={draw:function(n,s){pathRender(n,t,0,0,Math.sqrt(s)/2)}}}return custom[e]}const C=.448084975506;function rectangleX(e){return e.x}function rectangleY(e){return e.y}function rectangleWidth(e){return e.width}function rectangleHeight(e){return e.height}function number$2(e){return typeof e=="function"?e:()=>+e}function clamp(e,t,n){return Math.max(t,Math.min(e,n))}function vg_rect(){var e=rectangleX,t=rectangleY,n=rectangleWidth,s=rectangleHeight,u=number$2(0),f=u,d=u,g=u,v=null;function S(M,I,P){var N,F=I??+e.call(this,M),j=P??+t.call(this,M),U=+n.call(this,M),V=+s.call(this,M),Z=Math.min(U,V)/2,Q=clamp(+u.call(this,M),0,Z),J=clamp(+f.call(this,M),0,Z),te=clamp(+d.call(this,M),0,Z),oe=clamp(+g.call(this,M),0,Z);if(v||(v=N=path$3()),Q<=0&&J<=0&&te<=0&&oe<=0)v.rect(F,j,U,V);else{var ue=F+U,se=j+V;v.moveTo(F+Q,j),v.lineTo(ue-J,j),v.bezierCurveTo(ue-C*J,j,ue,j+C*J,ue,j+J),v.lineTo(ue,se-oe),v.bezierCurveTo(ue,se-C*oe,ue-C*oe,se,ue-oe,se),v.lineTo(F+te,se),v.bezierCurveTo(F+C*te,se,F,se-C*te,F,se-te),v.lineTo(F,j+Q),v.bezierCurveTo(F,j+C*Q,F+C*Q,j,F+Q,j),v.closePath()}if(N)return v=null,N+""||null}return S.x=function(M){return arguments.length?(e=number$2(M),S):e},S.y=function(M){return arguments.length?(t=number$2(M),S):t},S.width=function(M){return arguments.length?(n=number$2(M),S):n},S.height=function(M){return arguments.length?(s=number$2(M),S):s},S.cornerRadius=function(M,I,P,N){return arguments.length?(u=number$2(M),f=I!=null?number$2(I):u,g=P!=null?number$2(P):u,d=N!=null?number$2(N):f,S):u},S.context=function(M){return arguments.length?(v=M??null,S):v},S}function vg_trail(){var e,t,n,s,u=null,f,d,g,v;function S(I,P,N){const F=N/2;if(f){var j=g-P,U=I-d;if(j||U){var V=Math.sqrt(j*j+U*U),Z=(j/=V)*v,Q=(U/=V)*v,J=Math.atan2(U,j);u.moveTo(d-Z,g-Q),u.lineTo(I-j*F,P-U*F),u.arc(I,P,F,J-Math.PI,J),u.lineTo(d+Z,g+Q),u.arc(d,g,v,J,J+Math.PI)}else u.arc(I,P,F,0,Tau);u.closePath()}else f=1;d=I,g=P,v=F}function M(I){var P,N=I.length,F,j=!1,U;for(u==null&&(u=U=path$3()),P=0;P<=N;++P)!(P<N&&s(F=I[P],P,I))===j&&(j=!j)&&(f=0),j&&S(+e(F,P,I),+t(F,P,I),+n(F,P,I));if(U)return u=null,U+""||null}return M.x=function(I){return arguments.length?(e=I,M):e},M.y=function(I){return arguments.length?(t=I,M):t},M.size=function(I){return arguments.length?(n=I,M):n},M.defined=function(I){return arguments.length?(s=I,M):s},M.context=function(I){return arguments.length?(I==null?u=null:u=I,M):u},M}function value$1(e,t){return e??t}const x=e=>e.x||0,y=e=>e.y||0,w=e=>e.width||0,h=e=>e.height||0,xw=e=>(e.x||0)+(e.width||0),yh=e=>(e.y||0)+(e.height||0),sa=e=>e.startAngle||0,ea=e=>e.endAngle||0,pa=e=>e.padAngle||0,ir=e=>e.innerRadius||0,or=e=>e.outerRadius||0,cr=e=>e.cornerRadius||0,tl=e=>value$1(e.cornerRadiusTopLeft,e.cornerRadius)||0,tr=e=>value$1(e.cornerRadiusTopRight,e.cornerRadius)||0,br=e=>value$1(e.cornerRadiusBottomRight,e.cornerRadius)||0,bl=e=>value$1(e.cornerRadiusBottomLeft,e.cornerRadius)||0,sz=e=>value$1(e.size,64),ts=e=>e.size||1,def=e=>e.defined!==!1,type=e=>symbols(e.shape||"circle"),arcShape=arc$3().startAngle(sa).endAngle(ea).padAngle(pa).innerRadius(ir).outerRadius(or).cornerRadius(cr),areavShape=area$2().x(x).y1(y).y0(yh).defined(def),areahShape=area$2().y(y).x1(x).x0(xw).defined(def),lineShape=line$2$1().x(x).y(y).defined(def),rectShape=vg_rect().x(x).y(y).width(w).height(h).cornerRadius(tl,tr,br,bl),symbolShape=Symbol$5().type(type).size(sz),trailShape=vg_trail().x(x).y(y).defined(def).size(ts);function hasCornerRadius(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function arc$1(e,t){return arcShape.context(e)(t)}function area$1(e,t){const n=t[0],s=n.interpolate||"linear";return(n.orient==="horizontal"?areahShape:areavShape).curve(curves(s,n.orient,n.tension)).context(e)(t)}function line$1(e,t){const n=t[0],s=n.interpolate||"linear";return lineShape.curve(curves(s,n.orient,n.tension)).context(e)(t)}function rectangle$1(e,t,n,s){return rectShape.context(e)(t,n,s)}function shape$1(e,t){return(t.mark.shape||t.shape).context(e)(t)}function symbol$1(e,t){return symbolShape.context(e)(t)}function trail$1(e,t){return trailShape.context(e)(t)}var clip_id=1;function clip$1(e,t,n){var s=t.clip,u=e._defs,f=t.clip_id||(t.clip_id="clip"+clip_id++),d=u.clipping[f]||(u.clipping[f]={id:f});return isFunction$2(s)?d.path=s(null):hasCornerRadius(n)?d.path=rectangle$1(null,n,0,0):(d.width=n.width||0,d.height=n.height||0),"url(#"+f+")"}function Bounds(e){this.clear(),e&&this.union(e)}Bounds.prototype={clone(){return new Bounds(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,s){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),s<t?(this.y2=t,this.y1=s):(this.y1=t,this.y2=s),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const s=this.rotatedPoints(e,t,n);return this.clear().add(s[0],s[1]).add(s[2],s[3]).add(s[4],s[5]).add(s[6],s[7])},rotatedPoints(e,t,n){var{x1:s,y1:u,x2:f,y2:d}=this,g=Math.cos(e),v=Math.sin(e),S=t-t*g+n*v,M=n-t*v-n*g;return[g*s-v*u+S,v*s+g*u+M,g*s-v*d+S,v*s+g*d+M,g*f-v*u+S,v*f+g*u+M,g*f-v*d+S,v*f+g*d+M]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function Item(e){this.mark=e,this.bounds=this.bounds||new Bounds}function GroupItem(e){Item.call(this,e),this.items=this.items||[]}inherits(GroupItem,Item);function ResourceLoader(e){this._pending=0,this._loader=e||loader()}function increment(e){e._pending+=1}function decrement(e){e._pending-=1}ResourceLoader.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return increment(t),t._loader.sanitize(e,{context:"href"}).then(n=>(decrement(t),n)).catch(()=>(decrement(t),null))},loadImage(e){const t=this,n=domImage();return increment(t),t._loader.sanitize(e,{context:"image"}).then(s=>{const u=s.href;if(!u||!n)throw{url:u};const f=new n,d=has(s,"crossOrigin")?s.crossOrigin:"anonymous";return d!=null&&(f.crossOrigin=d),f.onload=()=>decrement(t),f.onerror=()=>decrement(t),f.src=u,f}).catch(s=>(decrement(t),{complete:!1,width:0,height:0,src:s&&s.url||""}))},ready(){const e=this;return new Promise(t=>{function n(s){e.pending()?setTimeout(()=>{n(!0)},10):t(s)}n(!1)})}};function boundStroke(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const s=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(s+(n?miterAdjustment(t,s):0))}return e}function miterAdjustment(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const circleThreshold=Tau-1e-8;let bounds$1,lx,ly,rot$1,ma,mb,mc,md;const add$1=(e,t)=>bounds$1.add(e,t),addL=(e,t)=>add$1(lx=e,ly=t),addX=e=>add$1(e,bounds$1.y1),addY=e=>add$1(bounds$1.x1,e),px=(e,t)=>ma*e+mc*t,py=(e,t)=>mb*e+md*t,addp=(e,t)=>add$1(px(e,t),py(e,t)),addpL=(e,t)=>addL(px(e,t),py(e,t));function boundContext(e,t){return bounds$1=e,t?(rot$1=t*DegToRad,ma=md=Math.cos(rot$1),mb=Math.sin(rot$1),mc=-mb):(ma=md=1,rot$1=mb=mc=0),context$1}const context$1={beginPath(){},closePath(){},moveTo:addpL,lineTo:addpL,rect(e,t,n,s){rot$1?(addp(e+n,t),addp(e+n,t+s),addp(e,t+s),addpL(e,t)):(add$1(e+n,t+s),addL(e,t))},quadraticCurveTo(e,t,n,s){const u=px(e,t),f=py(e,t),d=px(n,s),g=py(n,s);quadExtrema(lx,u,d,addX),quadExtrema(ly,f,g,addY),addL(d,g)},bezierCurveTo(e,t,n,s,u,f){const d=px(e,t),g=py(e,t),v=px(n,s),S=py(n,s),M=px(u,f),I=py(u,f);cubicExtrema(lx,d,v,M,addX),cubicExtrema(ly,g,S,I,addY),addL(M,I)},arc(e,t,n,s,u,f){if(s+=rot$1,u+=rot$1,lx=n*Math.cos(u)+e,ly=n*Math.sin(u)+t,Math.abs(u-s)>circleThreshold)add$1(e-n,t-n),add$1(e+n,t+n);else{const d=S=>add$1(n*Math.cos(S)+e,n*Math.sin(S)+t);let g,v;if(d(s),d(u),u!==s)if(s=s%Tau,s<0&&(s+=Tau),u=u%Tau,u<0&&(u+=Tau),u<s&&(f=!f,g=s,s=u,u=g),f)for(u-=Tau,g=s-s%HalfPi,v=0;v<4&&g>u;++v,g-=HalfPi)d(g);else for(g=s-s%HalfPi+HalfPi,v=0;v<4&&g<u;++v,g=g+HalfPi)d(g)}}};function quadExtrema(e,t,n,s){const u=(e-t)/(e+n-2*t);0<u&&u<1&&s(e+(t-e)*u)}function cubicExtrema(e,t,n,s,u){const f=s-e+3*t-3*n,d=e+n-2*t,g=e-t;let v=0,S=0,M;Math.abs(f)>Epsilon?(M=d*d+g*f,M>=0&&(M=Math.sqrt(M),v=(-d+M)/f,S=(-d-M)/f)):v=.5*g/d,0<v&&v<1&&u(cubic(v,e,t,n,s)),0<S&&S<1&&u(cubic(S,e,t,n,s))}function cubic(e,t,n,s,u){const f=1-e,d=f*f,g=e*e;return d*f*t+3*d*e*n+3*f*g*s+g*e*u}var context=(context=domCanvas(1,1))?context.getContext("2d"):null;const b=new Bounds;function intersectPath(e){return function(t,n){if(!context)return!0;e(context,t),b.clear().union(t.bounds).intersect(n).round();const{x1:s,y1:u,x2:f,y2:d}=b;for(let g=u;g<=d;++g)for(let v=s;v<=f;++v)if(context.isPointInPath(v,g))return!0;return!1}}function intersectPoint(e,t){return t.contains(e.x||0,e.y||0)}function intersectRect(e,t){const n=e.x||0,s=e.y||0,u=e.width||0,f=e.height||0;return t.intersects(b.set(n,s,n+u,s+f))}function intersectRule(e,t){const n=e.x||0,s=e.y||0,u=e.x2!=null?e.x2:n,f=e.y2!=null?e.y2:s;return intersectBoxLine(t,n,s,u,f)}function intersectBoxLine(e,t,n,s,u){const{x1:f,y1:d,x2:g,y2:v}=e,S=s-t,M=u-n;let I=0,P=1,N,F,j,U;for(U=0;U<4;++U){if(U===0&&(N=-S,F=-(f-t)),U===1&&(N=S,F=g-t),U===2&&(N=-M,F=-(d-n)),U===3&&(N=M,F=v-n),Math.abs(N)<1e-10&&F<0)return!1;if(j=F/N,N<0){if(j>P)return!1;j>I&&(I=j)}else if(N>0){if(j<I)return!1;j<P&&(P=j)}}return!0}function blend(e,t){e.globalCompositeOperation=t.blend||"source-over"}function value(e,t){return e??t}function addStops(e,t){const n=t.length;for(let s=0;s<n;++s)e.addColorStop(t[s].offset,t[s].color);return e}function gradient(e,t,n){const s=n.width(),u=n.height();let f;if(t.gradient==="radial")f=e.createRadialGradient(n.x1+value(t.x1,.5)*s,n.y1+value(t.y1,.5)*u,Math.max(s,u)*value(t.r1,0),n.x1+value(t.x2,.5)*s,n.y1+value(t.y2,.5)*u,Math.max(s,u)*value(t.r2,.5));else{const d=value(t.x1,0),g=value(t.y1,0),v=value(t.x2,1),S=value(t.y2,0);if(d===v||g===S||s===u)f=e.createLinearGradient(n.x1+d*s,n.y1+g*u,n.x1+v*s,n.y1+S*u);else{const M=domCanvas(Math.ceil(s),Math.ceil(u)),I=M.getContext("2d");return I.scale(s,u),I.fillStyle=addStops(I.createLinearGradient(d,g,v,S),t.stops),I.fillRect(0,0,s,u),e.createPattern(M,"no-repeat")}}return addStops(f,t.stops)}function color(e,t,n){return isGradient(n)?gradient(e,n,t.bounds):n}function fill(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=color(e,t,t.fill),!0):!1}var Empty=[];function stroke(e,t,n){var s=(s=t.strokeWidth)!=null?s:1;return s<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=color(e,t,t.stroke),e.lineWidth=s,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||Empty),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function compare$1(e,t){return e.zindex-t.zindex||e.index-t.index}function zorder(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],s,u,f;for(u=0,f=t.length;u<f;++u)s=t[u],s.index=u,s.zindex&&n.push(s);return e.zdirty=!1,e.zitems=n.sort(compare$1)}function visit(e,t){var n=e.items,s,u;if(!n||!n.length)return;const f=zorder(e);if(f&&f.length){for(s=0,u=n.length;s<u;++s)n[s].zindex||t(n[s]);n=f}for(s=0,u=n.length;s<u;++s)t(n[s])}function pickVisit(e,t){var n=e.items,s,u;if(!n||!n.length)return null;const f=zorder(e);for(f&&f.length&&(n=f),u=n.length;--u>=0;)if(s=t(n[u]))return s;if(n===f){for(n=e.items,u=n.length;--u>=0;)if(!n[u].zindex&&(s=t(n[u])))return s}return null}function drawAll(e){return function(t,n,s){visit(n,u=>{(!s||s.intersects(u.bounds))&&drawPath(e,t,u,u)})}}function drawOne(e){return function(t,n,s){n.items.length&&(!s||s.intersects(n.bounds))&&drawPath(e,t,n.items[0],n.items)}}function drawPath(e,t,n,s){var u=n.opacity==null?1:n.opacity;u!==0&&(e(t,s)||(blend(t,n),n.fill&&fill(t,n,u)&&t.fill(),n.stroke&&stroke(t,n,u)&&t.stroke()))}function pick$1(e){return e=e||truthy,function(t,n,s,u,f,d){return s*=t.pixelRatio,u*=t.pixelRatio,pickVisit(n,g=>{const v=g.bounds;if(!(v&&!v.contains(f,d)||!v)&&e(t,g,s,u,f,d))return g})}}function hitPath(e,t){return function(n,s,u,f){var d=Array.isArray(s)?s[0]:s,g=t??d.fill,v=d.stroke&&n.isPointInStroke,S,M;return v&&(S=d.strokeWidth,M=d.strokeCap,n.lineWidth=S??1,n.lineCap=M??"butt"),e(n,s)?!1:g&&n.isPointInPath(u,f)||v&&n.isPointInStroke(u,f)}}function pickPath(e){return pick$1(hitPath(e))}function translate(e,t){return"translate("+e+","+t+")"}function rotate(e){return"rotate("+e+")"}function scale$2(e,t){return"scale("+e+","+t+")"}function translateItem(e){return translate(e.x||0,e.y||0)}function rotateItem(e){return translate(e.x||0,e.y||0)+(e.angle?" "+rotate(e.angle):"")}function transformItem(e){return translate(e.x||0,e.y||0)+(e.angle?" "+rotate(e.angle):"")+(e.scaleX||e.scaleY?" "+scale$2(e.scaleX||1,e.scaleY||1):"")}function markItemPath(e,t,n){function s(d,g){d("transform",rotateItem(g)),d("d",t(null,g))}function u(d,g){return t(boundContext(d,g.angle),g),boundStroke(d,g).translate(g.x||0,g.y||0)}function f(d,g){var v=g.x||0,S=g.y||0,M=g.angle||0;d.translate(v,S),M&&d.rotate(M*=DegToRad),d.beginPath(),t(d,g),M&&d.rotate(-M),d.translate(-v,-S)}return{type:e,tag:"path",nested:!1,attr:s,bound:u,draw:drawAll(f),pick:pickPath(f),isect:n||intersectPath(f)}}var arc$2=markItemPath("arc",arc$1);function pickArea(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],s=e[0].orient==="horizontal"?"y":"x",u=e.length,f=1/0,d,g;--u>=0;)e[u].defined!==!1&&(g=Math.abs(e[u][s]-n),g<f&&(f=g,d=e[u]));return d}function pickLine(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),s=e.length,u,f,d;--s>=0;)if(e[s].defined!==!1&&(u=e[s].x-t[0],f=e[s].y-t[1],d=u*u+f*f,d<n))return e[s];return null}function pickTrail(e,t){for(var n=e.length,s,u,f;--n>=0;)if(e[n].defined!==!1&&(s=e[n].x-t[0],u=e[n].y-t[1],f=s*s+u*u,s=e[n].size||1,f<s*s))return e[n];return null}function markMultiItemPath(e,t,n){function s(v,S){var M=S.mark.items;M.length&&v("d",t(null,M))}function u(v,S){var M=S.items;return M.length===0?v:(t(boundContext(v),M),boundStroke(v,M[0]))}function f(v,S){v.beginPath(),t(v,S)}const d=hitPath(f);function g(v,S,M,I,P,N){var F=S.items,j=S.bounds;return!F||!F.length||j&&!j.contains(P,N)?null:(M*=v.pixelRatio,I*=v.pixelRatio,d(v,F,M,I)?F[0]:null)}return{type:e,tag:"path",nested:!0,attr:s,bound:u,draw:drawOne(f),pick:g,isect:intersectPoint,tip:n}}var area=markMultiItemPath("area",area$1,pickArea);function clip(e,t){var n=t.clip;e.save(),isFunction$2(n)?(e.beginPath(),n(e),e.clip()):clipGroup(e,t.group)}function clipGroup(e,t){e.beginPath(),hasCornerRadius(t)?rectangle$1(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function offset$1(e){const t=value(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function attr$5(e,t){e("transform",translateItem(t))}function emitRectangle(e,t){const n=offset$1(t);e("d",rectangle$1(null,t,n,n))}function background(e,t){e("class","background"),e("aria-hidden",!0),emitRectangle(e,t)}function foreground(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?emitRectangle(e,t):e("d","")}function content(e,t,n){const s=t.clip?clip$1(n,t,t):null;e("clip-path",s)}function bound$5(e,t){if(!t.clip&&t.items){const n=t.items,s=n.length;for(let u=0;u<s;++u)e.union(n[u].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),boundStroke(e,t),e.translate(t.x||0,t.y||0)}function rectanglePath(e,t,n,s){const u=offset$1(t);e.beginPath(),rectangle$1(e,t,(n||0)+u,(s||0)+u)}const hitBackground=hitPath(rectanglePath),hitForeground=hitPath(rectanglePath,!1),hitCorner=hitPath(rectanglePath,!0);function draw$4(e,t,n){visit(t,s=>{const u=s.x||0,f=s.y||0,d=s.strokeForeground,g=s.opacity==null?1:s.opacity;(s.stroke||s.fill)&&g&&(rectanglePath(e,s,u,f),blend(e,s),s.fill&&fill(e,s,g)&&e.fill(),s.stroke&&!d&&stroke(e,s,g)&&e.stroke()),e.save(),e.translate(u,f),s.clip&&clipGroup(e,s),n&&n.translate(-u,-f),visit(s,v=>{this.draw(e,v,n)}),n&&n.translate(u,f),e.restore(),d&&s.stroke&&g&&(rectanglePath(e,s,u,f),blend(e,s),stroke(e,s,g)&&e.stroke())})}function pick(e,t,n,s,u,f){if(t.bounds&&!t.bounds.contains(u,f)||!t.items)return null;const d=n*e.pixelRatio,g=s*e.pixelRatio;return pickVisit(t,v=>{let S,M,I;const P=v.bounds;if(P&&!P.contains(u,f))return;M=v.x||0,I=v.y||0;const N=M+(v.width||0),F=I+(v.height||0),j=v.clip;if(j&&(u<M||u>N||f<I||f>F))return;if(e.save(),e.translate(M,I),M=u-M,I=f-I,j&&hasCornerRadius(v)&&!hitCorner(e,v,d,g))return e.restore(),null;const U=v.strokeForeground,V=t.interactive!==!1;return V&&U&&v.stroke&&hitForeground(e,v,d,g)?(e.restore(),v):(S=pickVisit(v,Z=>pickMark(Z,M,I)?this.pick(Z,n,s,M,I):null),!S&&V&&(v.fill||!U&&v.stroke)&&hitBackground(e,v,d,g)&&(S=v),e.restore(),S||null)})}function pickMark(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var group$1={type:"group",tag:"g",nested:!1,attr:attr$5,bound:bound$5,draw:draw$4,pick,isect:intersectRect,content,background,foreground},metadata={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function getImage(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(s=>{e.image=s,e.image.url=e.url})),n}function imageWidth(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function imageHeight(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function imageXOffset(e,t){return e==="center"?t/2:e==="right"?t:0}function imageYOffset(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function attr$4(e,t,n){const s=getImage(t,n),u=imageWidth(t,s),f=imageHeight(t,s),d=(t.x||0)-imageXOffset(t.align,u),g=(t.y||0)-imageYOffset(t.baseline,f),v=!s.src&&s.toDataURL?s.toDataURL():s.src||"";e("href",v,metadata["xmlns:xlink"],"xlink:href"),e("transform",translate(d,g)),e("width",u),e("height",f),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function bound$4(e,t){const n=t.image,s=imageWidth(t,n),u=imageHeight(t,n),f=(t.x||0)-imageXOffset(t.align,s),d=(t.y||0)-imageYOffset(t.baseline,u);return e.set(f,d,f+s,d+u)}function draw$3(e,t,n){visit(t,s=>{if(n&&!n.intersects(s.bounds))return;const u=getImage(s,this);let f=imageWidth(s,u),d=imageHeight(s,u);if(f===0||d===0)return;let g=(s.x||0)-imageXOffset(s.align,f),v=(s.y||0)-imageYOffset(s.baseline,d),S,M,I,P;s.aspect!==!1&&(M=u.width/u.height,I=s.width/s.height,M===M&&I===I&&M!==I&&(I<M?(P=f/M,v+=(d-P)/2,d=P):(P=d*M,g+=(f-P)/2,f=P))),(u.complete||u.toDataURL)&&(blend(e,s),e.globalAlpha=(S=s.opacity)!=null?S:1,e.imageSmoothingEnabled=s.smooth!==!1,e.drawImage(u,g,v,f,d))})}var image={type:"image",tag:"image",nested:!1,attr:attr$4,bound:bound$4,draw:draw$3,pick:pick$1(),isect:truthy,get:getImage,xOffset:imageXOffset,yOffset:imageYOffset},line$2=markMultiItemPath("line",line$1,pickLine);function attr$3(e,t){var n=t.scaleX||1,s=t.scaleY||1;(n!==1||s!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",transformItem(t)),e("d",t.path)}function path$1(e,t){var n=t.path;if(n==null)return!0;var s=t.x||0,u=t.y||0,f=t.scaleX||1,d=t.scaleY||1,g=(t.angle||0)*DegToRad,v=t.pathCache;(!v||v.path!==n)&&((t.pathCache=v=parse$3(n)).path=n),g&&e.rotate&&e.translate?(e.translate(s,u),e.rotate(g),pathRender(e,v,0,0,f,d),e.rotate(-g),e.translate(-s,-u)):pathRender(e,v,s,u,f,d)}function bound$3(e,t){return path$1(boundContext(e,t.angle),t)?e.set(0,0,0,0):boundStroke(e,t,!0)}var path$2={type:"path",tag:"path",nested:!1,attr:attr$3,bound:bound$3,draw:drawAll(path$1),pick:pickPath(path$1),isect:intersectPath(path$1)};function attr$2(e,t){e("d",rectangle$1(null,t))}function bound$2(e,t){var n,s;return boundStroke(e.set(n=t.x||0,s=t.y||0,n+t.width||0,s+t.height||0),t)}function draw$2(e,t){e.beginPath(),rectangle$1(e,t)}var rect={type:"rect",tag:"path",nested:!1,attr:attr$2,bound:bound$2,draw:drawAll(draw$2),pick:pickPath(draw$2),isect:intersectRect};function attr$1(e,t){e("transform",translateItem(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function bound$1(e,t){var n,s;return boundStroke(e.set(n=t.x||0,s=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:s),t)}function path(e,t,n){var s,u,f,d;return t.stroke&&stroke(e,t,n)?(s=t.x||0,u=t.y||0,f=t.x2!=null?t.x2:s,d=t.y2!=null?t.y2:u,e.beginPath(),e.moveTo(s,u),e.lineTo(f,d),!0):!1}function draw$1(e,t,n){visit(t,s=>{if(!(n&&!n.intersects(s.bounds))){var u=s.opacity==null?1:s.opacity;u&&path(e,s,u)&&(blend(e,s),e.stroke())}})}function hit$1(e,t,n,s){return e.isPointInStroke?path(e,t,1)&&e.isPointInStroke(n,s):!1}var rule={type:"rule",tag:"line",nested:!1,attr:attr$1,bound:bound$1,draw:draw$1,pick:pick$1(hit$1),isect:intersectRule},shape=markItemPath("shape",shape$1),symbol=markItemPath("symbol",symbol$1,intersectPoint);const widthCache=lruCache();var textMetrics={height:fontSize,measureWidth,estimateWidth,width:estimateWidth,canvas:useCanvas};useCanvas(!0);function useCanvas(e){textMetrics.width=e&&context?measureWidth:estimateWidth}function estimateWidth(e,t){return _estimateWidth(textValue(e,t),fontSize(e))}function _estimateWidth(e,t){return~~(.8*e.length*t)}function measureWidth(e,t){return fontSize(e)<=0||!(t=textValue(e,t))?0:_measureWidth(t,font(e))}function _measureWidth(e,t){const n=`(${t}) ${e}`;let s=widthCache.get(n);return s===void 0&&(context.font=t,s=context.measureText(e).width,widthCache.set(n,s)),s}function fontSize(e){return e.fontSize!=null?+e.fontSize||0:11}function lineHeight(e){return e.lineHeight!=null?e.lineHeight:fontSize(e)+2}function lineArray(e){return isArray$7(e)?e.length>1?e:e[0]:e}function textLines(e){return lineArray(e.lineBreak&&e.text&&!isArray$7(e.text)?e.text.split(e.lineBreak):e.text)}function textValue(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?truncate(e,n):n}function widthGetter(e){if(textMetrics.width===measureWidth){const t=font(e);return n=>_measureWidth(n,t)}else{const t=fontSize(e);return n=>_estimateWidth(n,t)}}function truncate(e,t){var n=+e.limit,s=widthGetter(e);if(s(t)<n)return t;var u=e.ellipsis||"",f=e.dir==="rtl",d=0,g=t.length,v;if(n-=s(u),f){for(;d<g;)v=d+g>>>1,s(t.slice(v))>n?d=v+1:g=v;return u+t.slice(d)}else{for(;d<g;)v=1+(d+g>>>1),s(t.slice(0,v))<n?d=v:g=v-1;return t.slice(0,d)+u}}function fontFamily(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function font(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+fontSize(e)+"px "+fontFamily(e,t)}function offset$2(e){var t=e.baseline,n=fontSize(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*lineHeight(e):t==="line-bottom"?.29*n-.5*lineHeight(e):0)}const textAlign={left:"start",center:"middle",right:"end"},tempBounds=new Bounds;function anchorPoint(e){var t=e.x||0,n=e.y||0,s=e.radius||0,u;return s&&(u=(e.theta||0)-HalfPi,t+=s*Math.cos(u),n+=s*Math.sin(u)),tempBounds.x1=t,tempBounds.y1=n,tempBounds}function attr(e,t){var n=t.dx||0,s=(t.dy||0)+offset$2(t),u=anchorPoint(t),f=u.x1,d=u.y1,g=t.angle||0,v;e("text-anchor",textAlign[t.align]||"start"),g?(v=translate(f,d)+" "+rotate(g),(n||s)&&(v+=" "+translate(n,s))):v=translate(f+n,d+s),e("transform",v)}function bound$6(e,t,n){var s=textMetrics.height(t),u=t.align,f=anchorPoint(t),d=f.x1,g=f.y1,v=t.dx||0,S=(t.dy||0)+offset$2(t)-Math.round(.8*s),M=textLines(t),I;if(isArray$7(M)?(s+=lineHeight(t)*(M.length-1),I=M.reduce((P,N)=>Math.max(P,textMetrics.width(t,N)),0)):I=textMetrics.width(t,M),u==="center"?v-=I/2:u==="right"&&(v-=I),e.set(v+=d,S+=g,v+I,S+s),t.angle&&!n)e.rotate(t.angle*DegToRad,d,g);else if(n===2)return e.rotatedPoints(t.angle*DegToRad,d,g);return e}function draw(e,t,n){visit(t,s=>{var u=s.opacity==null?1:s.opacity,f,d,g,v,S,M,I;if(!(n&&!n.intersects(s.bounds)||u===0||s.fontSize<=0||s.text==null||s.text.length===0)){if(e.font=font(s),e.textAlign=s.align||"left",f=anchorPoint(s),d=f.x1,g=f.y1,s.angle&&(e.save(),e.translate(d,g),e.rotate(s.angle*DegToRad),d=g=0),d+=s.dx||0,g+=(s.dy||0)+offset$2(s),M=textLines(s),blend(e,s),isArray$7(M))for(S=lineHeight(s),v=0;v<M.length;++v)I=textValue(s,M[v]),s.fill&&fill(e,s,u)&&e.fillText(I,d,g),s.stroke&&stroke(e,s,u)&&e.strokeText(I,d,g),g+=S;else I=textValue(s,M),s.fill&&fill(e,s,u)&&e.fillText(I,d,g),s.stroke&&stroke(e,s,u)&&e.strokeText(I,d,g);s.angle&&e.restore()}})}function hit(e,t,n,s,u,f){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var d=anchorPoint(t),g=d.x1,v=d.y1,S=bound$6(tempBounds,t,1),M=-t.angle*DegToRad,I=Math.cos(M),P=Math.sin(M),N=I*u-P*f+(g-I*g+P*v),F=P*u+I*f+(v-P*g-I*v);return S.contains(N,F)}function intersectText(e,t){const n=bound$6(tempBounds,e,2);return intersectBoxLine(t,n[0],n[1],n[2],n[3])||intersectBoxLine(t,n[0],n[1],n[4],n[5])||intersectBoxLine(t,n[4],n[5],n[6],n[7])||intersectBoxLine(t,n[2],n[3],n[6],n[7])}var text={type:"text",tag:"text",nested:!1,attr,bound:bound$6,draw,pick:pick$1(hit),isect:intersectText},trail=markMultiItemPath("trail",trail$1,pickTrail),Marks={arc:arc$2,area,group:group$1,image,line:line$2,path:path$2,rect,rule,shape,symbol,text,trail};function boundItem(e,t,n){var s=Marks[e.mark.marktype],u=t||s.bound;return s.nested&&(e=e.mark),u(e.bounds||(e.bounds=new Bounds),e,n)}var DUMMY={mark:null};function boundMark(e,t,n){var s=Marks[e.marktype],u=s.bound,f=e.items,d=f&&f.length,g,v,S,M;if(s.nested)return d?S=f[0]:(DUMMY.mark=e,S=DUMMY),M=boundItem(S,u,n),t=t&&t.union(M)||M,t;if(t=t||e.bounds&&e.bounds.clear()||new Bounds,d)for(g=0,v=f.length;g<v;++g)t.union(boundItem(f[g],u,n));return e.bounds=t}function sceneFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return initialize(t)}function initialize(e){var t=e.marktype,n=e.items,s,u,f;if(n)for(u=0,f=n.length;u<f;++u)s=t?"mark":"group",n[u][s]=e,n[u].zindex&&(n[u][s].zdirty=!0),(t||s)==="group"&&initialize(n[u]);return t&&boundMark(e),e}function domCreate(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function domFind(e,t){t=t.toLowerCase();for(var n=e.childNodes,s=0,u=n.length;s<u;++s)if(n[s].tagName.toLowerCase()===t)return n[s]}function domChild(e,t,n,s){var u=e.childNodes[t],f;return(!u||u.tagName.toLowerCase()!==n.toLowerCase())&&(f=u||null,u=domCreate(e.ownerDocument,n,s),e.insertBefore(u,f)),u}function domClear(e,t){for(var n=e.childNodes,s=n.length;s>t;)e.removeChild(n[--s]);return e}function cssClass(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function point(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function resolveItem(e,t,n,s){var u=e&&e.mark,f,d;if(u&&(f=Marks[u.marktype]).tip){for(d=point(t,n),d[0]-=s[0],d[1]-=s[1];e=e.mark.group;)d[0]-=e.x||0,d[1]-=e.y||0;e=f.tip(u.items,d)}return e}function Handler(e,t){this._active=null,this._handlers={},this._loader=e||loader(),this._tooltip=t||defaultTooltip}function defaultTooltip(e,t,n,s){e.element().setAttribute("title",s||"")}Handler.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let s=e?e.length:0;--s>=0;)if(e[s].type===t&&(!n||e[s].handler===n))return s;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(const s in t)n.push(...t[s]);return n},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then(s=>{const u=new MouseEvent(e.type,e),f=domCreate(null,"a");for(const d in s)f.setAttribute(d,s[d]);f.dispatchEvent(u)}).catch(()=>{})},handleTooltip(e,t,n){if(t&&t.tooltip!=null){t=resolveItem(t,e,this.canvas(),this._origin);const s=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,s)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),s=this._origin,u=e.bounds,f=u.width(),d=u.height();let g=u.x1+s[0]+n.left,v=u.y1+s[1]+n.top;for(;e.mark&&(e=e.mark.group);)g+=e.x||0,v+=e.y||0;return{x:g,y:v,width:f,height:d,left:g,top:v,right:g+f,bottom:v+d}}};function Renderer(e){this._el=null,this._bgcolor=null,this._loader=new ResourceLoader(e)}Renderer.prototype={initialize(e,t,n,s,u){return this._el=e,this.resize(t,n,s,u)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return arguments.length===0?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,s){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=s||1,this},dirty(){},render(e){const t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){const t=this.render(e);return this._ready?this._ready.then(()=>t):Promise.resolve(t)},_load(e,t){var n=this,s=n._loader[e](t);if(!n._ready){const u=n._call;n._ready=n._loader.ready().then(f=>{f&&u(),n._ready=null})}return s},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const KeyDownEvent="keydown",KeyPressEvent="keypress",KeyUpEvent="keyup",DragEnterEvent="dragenter",DragLeaveEvent="dragleave",DragOverEvent="dragover",MouseDownEvent="mousedown",MouseUpEvent="mouseup",MouseMoveEvent="mousemove",MouseOutEvent="mouseout",MouseOverEvent="mouseover",ClickEvent="click",DoubleClickEvent="dblclick",WheelEvent="wheel",MouseWheelEvent="mousewheel",TouchStartEvent="touchstart",TouchMoveEvent="touchmove",TouchEndEvent="touchend",Events=[KeyDownEvent,KeyPressEvent,KeyUpEvent,DragEnterEvent,DragLeaveEvent,DragOverEvent,MouseDownEvent,MouseUpEvent,MouseMoveEvent,MouseOutEvent,MouseOverEvent,ClickEvent,DoubleClickEvent,WheelEvent,MouseWheelEvent,TouchStartEvent,TouchMoveEvent,TouchEndEvent],TooltipShowEvent=MouseMoveEvent,TooltipHideEvent=MouseOutEvent,HrefEvent=ClickEvent;function CanvasHandler(e,t){Handler.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}const eventBundle=e=>e===TouchStartEvent||e===TouchMoveEvent||e===TouchEndEvent?[TouchStartEvent,TouchMoveEvent,TouchEndEvent]:[e];function eventListenerCheck(e,t){eventBundle(t).forEach(n=>addEventListener(e,n))}function addEventListener(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?s=>e[t](s):s=>e.fire(t,s)))}function move(e,t,n){return function(s){const u=this._active,f=this.pickEvent(s);f===u?this.fire(e,s):((!u||!u.exit)&&this.fire(n,s),this._active=f,this.fire(t,s),this.fire(e,s))}}function inactive(e){return function(t){this.fire(e,t),this._active=null}}inherits(CanvasHandler,Handler,{initialize(e,t,n){return this._canvas=e&&domFind(e,"canvas"),[ClickEvent,MouseDownEvent,MouseMoveEvent,MouseOutEvent,DragLeaveEvent].forEach(s=>eventListenerCheck(this,s)),Handler.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:Events,DOMMouseScroll(e){this.fire(MouseWheelEvent,e)},mousemove:move(MouseMoveEvent,MouseOverEvent,MouseOutEvent),dragover:move(DragOverEvent,DragEnterEvent,DragLeaveEvent),mouseout:inactive(MouseOutEvent),dragleave:inactive(DragLeaveEvent),mousedown(e){this._down=this._active,this.fire(MouseDownEvent,e)},click(e){this._down===this._active&&(this.fire(ClickEvent,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(TouchStartEvent,e,!0)},touchmove(e){this.fire(TouchMoveEvent,e,!0)},touchend(e){this.fire(TouchEndEvent,e,!0),this._touch=null},fire(e,t,n){const s=n?this._touch:this._active,u=this._handlers[e];if(t.vegaType=e,e===HrefEvent&&s&&s.href?this.handleHref(t,s,s.href):(e===TooltipShowEvent||e===TooltipHideEvent)&&this.handleTooltip(t,s,e!==TooltipHideEvent),u)for(let f=0,d=u.length;f<d;++f)u[f].handler.call(this._obj,t,s)},on(e,t){const n=this.eventName(e),s=this._handlers;return this._handlerIndex(s[n],e,t)<0&&(eventListenerCheck(this,e),(s[n]||(s[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),s=this._handlers[n],u=this._handlerIndex(s,e,t);return u>=0&&s.splice(u,1),this},pickEvent(e){const t=point(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,s,u){const f=this.context();return Marks[e.marktype].pick.call(this,f,e,t,n,s,u)}});function devicePixelRatio(){return typeof window<"u"&&window.devicePixelRatio||1}var pixelRatio=devicePixelRatio();function resize(e,t,n,s,u,f){const d=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,g=e.getContext("2d"),v=d?pixelRatio:u;e.width=t*v,e.height=n*v;for(const S in f)g[S]=f[S];return d&&v!==1&&(e.style.width=t+"px",e.style.height=n+"px"),g.pixelRatio=v,g.setTransform(v,0,0,v,v*s[0],v*s[1]),e}function CanvasRenderer$1(e){Renderer.call(this,e),this._options={},this._redraw=!1,this._dirty=new Bounds,this._tempb=new Bounds}const base$1=Renderer.prototype,viewBounds=(e,t,n)=>new Bounds().set(0,0,t,n).translate(-e[0],-e[1]);function clipToBounds(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}inherits(CanvasRenderer$1,Renderer,{initialize(e,t,n,s,u,f){return this._options=f||{},this._canvas=this._options.externalContext?null:domCanvas(1,1,this._options.type),e&&this._canvas&&(domClear(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),base$1.initialize.call(this,e,t,n,s,u)},resize(e,t,n,s){if(base$1.resize.call(this,e,t,n,s),this._canvas)resize(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const u=this._options.externalContext;u||error$1("CanvasRenderer is missing a valid canvas or context"),u.scale(this._scale,this._scale),u.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e){const t=this.context(),n=this._origin,s=this._width,u=this._height,f=this._dirty,d=viewBounds(n,s,u);t.save();const g=this._redraw||f.empty()?(this._redraw=!1,d.expand(1)):clipToBounds(t,d.intersect(f),n);return this.clear(-n[0],-n[1],s,u),this.draw(t,e,g),t.restore(),f.clear(),this},draw(e,t,n){const s=Marks[t.marktype];t.clip&&clip(e,t),s.draw.call(this,e,t,n),t.clip&&e.restore()},clear(e,t,n,s){const u=this._options,f=this.context();u.type!=="pdf"&&!u.externalContext&&f.clearRect(e,t,n,s),this._bgcolor!=null&&(f.fillStyle=this._bgcolor,f.fillRect(e,t,n,s))}});function SVGHandler(e,t){Handler.call(this,e,t);const n=this;n._hrefHandler=listener(n,(s,u)=>{u&&u.href&&n.handleHref(s,u,u.href)}),n._tooltipHandler=listener(n,(s,u)=>{n.handleTooltip(s,u,s.type!==TooltipHideEvent)})}const listener=(e,t)=>n=>{let s=n.target.__data__;s=Array.isArray(s)?s[0]:s,n.vegaType=n.type,t.call(e._obj,n,s)};inherits(SVGHandler,Handler,{initialize(e,t,n){let s=this._svg;return s&&(s.removeEventListener(HrefEvent,this._hrefHandler),s.removeEventListener(TooltipShowEvent,this._tooltipHandler),s.removeEventListener(TooltipHideEvent,this._tooltipHandler)),this._svg=s=e&&domFind(e,"svg"),s&&(s.addEventListener(HrefEvent,this._hrefHandler),s.addEventListener(TooltipShowEvent,this._tooltipHandler),s.addEventListener(TooltipHideEvent,this._tooltipHandler)),Handler.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),s=this._handlers;if(this._handlerIndex(s[n],e,t)<0){const f={type:e,handler:t,listener:listener(this,t)};(s[n]||(s[n]=[])).push(f),this._svg&&this._svg.addEventListener(n,f.listener)}return this},off(e,t){const n=this.eventName(e),s=this._handlers[n],u=this._handlerIndex(s,e,t);return u>=0&&(this._svg&&this._svg.removeEventListener(n,s[u].listener),s.splice(u,1)),this}});const ARIA_HIDDEN="aria-hidden",ARIA_LABEL="aria-label",ARIA_ROLE="role",ARIA_ROLEDESCRIPTION="aria-roledescription",GRAPHICS_OBJECT="graphics-object",GRAPHICS_SYMBOL="graphics-symbol",bundle=(e,t,n)=>({[ARIA_ROLE]:e,[ARIA_ROLEDESCRIPTION]:t,[ARIA_LABEL]:n||void 0}),AriaIgnore=toSet(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),AriaGuides={axis:{desc:"axis",caption:axisCaption},legend:{desc:"legend",caption:legendCaption},"title-text":{desc:"title",caption:e=>`Title text '${titleCaption(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${titleCaption(e)}'`}},AriaEncode={ariaRole:ARIA_ROLE,ariaRoleDescription:ARIA_ROLEDESCRIPTION,description:ARIA_LABEL};function ariaItemAttributes(e,t){const n=t.aria===!1;if(e(ARIA_HIDDEN,n||void 0),n||t.description==null)for(const s in AriaEncode)e(AriaEncode[s],void 0);else{const s=t.mark.marktype;e(ARIA_LABEL,t.description),e(ARIA_ROLE,t.ariaRole||(s==="group"?GRAPHICS_OBJECT:GRAPHICS_SYMBOL)),e(ARIA_ROLEDESCRIPTION,t.ariaRoleDescription||`${s} mark`)}}function ariaMarkAttributes(e){return e.aria===!1?{[ARIA_HIDDEN]:!0}:AriaIgnore[e.role]?null:AriaGuides[e.role]?ariaGuide(e,AriaGuides[e.role]):ariaMark(e)}function ariaMark(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(s=>s.description!=null&&s.aria!==!1);return bundle(n?GRAPHICS_OBJECT:GRAPHICS_SYMBOL,`${t} mark container`,e.description)}function ariaGuide(e,t){try{const n=e.items[0],s=t.caption||(()=>"");return bundle(t.role||GRAPHICS_SYMBOL,t.desc,n.description||s(n))}catch{return null}}function titleCaption(e){return array$2(e.text).join(" ")}function axisCaption(e){const t=e.datum,n=e.orient,s=t.title?extractTitle(e):null,u=e.context,f=u.scales[t.scale].value,d=u.dataflow.locale(),g=f.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(s?` titled '${s}'`:"")+` for a ${isDiscrete(g)?"discrete":g} scale with ${domainCaption(d,f,e)}`}function legendCaption(e){const t=e.datum,n=t.title?extractTitle(e):null,s=`${t.type||""} legend`.trim(),u=t.scales,f=Object.keys(u),d=e.context,g=d.scales[u[f[0]]].value,v=d.dataflow.locale();return capitalize$1(s)+(n?` titled '${n}'`:"")+` for ${channelCaption(f)} with ${domainCaption(v,g,e)}`}function extractTitle(e){try{return array$2(peek$1(e.items).items[0].text).join(" ")}catch{return null}}function channelCaption(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+peek$1(e)}function capitalize$1(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const innerText=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),attrText=e=>innerText(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function markup(){let e="",t="",n="";const s=[],u=()=>t=n="",f=v=>{t&&(e+=`${t}>${n}`,u()),s.push(v)},d=(v,S)=>(S!=null&&(t+=` ${v}="${attrText(S)}"`),g),g={open(v){f(v),t="<"+v;for(var S=arguments.length,M=new Array(S>1?S-1:0),I=1;I<S;I++)M[I-1]=arguments[I];for(const P of M)for(const N in P)d(N,P[N]);return g},close(){const v=s.pop();return t?e+=t+(n?`>${n}</${v}>`:"/>"):e+=`</${v}>`,u(),g},attr:d,text:v=>(n+=innerText(v),g),toString:()=>e};return g}const serializeXML=e=>_serialize(markup(),e)+"";function _serialize(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,s=n.length;for(let u=0;u<s;++u)e.attr(n[u].name,n[u].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const s of n)s.nodeType===3?e.text(s.nodeValue):_serialize(e,s)}return e.close()}const stylesAttr={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},stylesCss={blend:"mix-blend-mode"},rootAttributes={fill:"none","stroke-miterlimit":10},RootIndex=0,xmlns="http://www.w3.org/2000/xmlns/",svgns=metadata.xmlns;function SVGRenderer(e){Renderer.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const base=Renderer.prototype;inherits(SVGRenderer,Renderer,{initialize(e,t,n,s,u){return this._defs={},this._clearDefs(),e&&(this._svg=domChild(e,0,"svg",svgns),this._svg.setAttributeNS(xmlns,"xmlns",svgns),this._svg.setAttributeNS(xmlns,"xmlns:xlink",metadata["xmlns:xlink"]),this._svg.setAttribute("version",metadata.version),this._svg.setAttribute("class","marks"),domClear(e,1),this._root=domChild(this._svg,RootIndex,"g",svgns),setAttributes(this._root,rootAttributes),domClear(this._svg,RootIndex+1)),this.background(this._bgcolor),base.initialize.call(this,e,t,n,s,u)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),base.background.apply(this,arguments)},resize(e,t,n,s){return base.resize.call(this,e,t,n,s),this._svg&&(setAttributes(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=domChild(e,RootIndex,"rect",svgns),setAttributes(n,{width:this._width,height:this._height,fill:t}));const s=serializeXML(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),s},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),domClear(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||!e._svg.ownerSVGElement||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,s,u,f,d,g,v;for(d=0,g=e.length;d<g;++d)if(n=e[d],s=n.mark,s.marktype!==u&&(u=s.marktype,f=Marks[u]),s.zdirty&&s.dirty!==t&&(this._dirtyAll=!1,dirtyParents(n,t),s.items.forEach(S=>{S.dirty=t})),!s.zdirty){if(n.exit){f.nested&&s.items.length?(v=s.items[0],v._svg&&this._update(f,v._svg,v)):n._svg&&(v=n._svg.parentNode,v&&v.removeChild(n._svg)),n._svg=null;continue}n=f.nested?s.items[0]:n,n._update!==t&&(!n._svg||!n._svg.ownerSVGElement?(this._dirtyAll=!1,dirtyParents(n,t)):this._update(f,n._svg,n),n._update=t)}return!this._dirtyAll},mark(e,t,n){if(!this.isDirty(t))return t._svg;const s=this._svg,u=Marks[t.marktype],f=t.interactive===!1?"none":null,d=u.tag==="g",g=bind(t,e,n,"g",s);g.setAttribute("class",cssClass(t));const v=ariaMarkAttributes(t);for(const P in v)setAttribute(g,P,v[P]);d||setAttribute(g,"pointer-events",f),setAttribute(g,"clip-path",t.clip?clip$1(this,t,t.group):null);let S=null,M=0;const I=P=>{const N=this.isDirty(P),F=bind(P,g,S,u.tag,s);N&&(this._update(u,F,P),d&&recurse(this,F,P)),S=F,++M};return u.nested?t.items.length&&I(t.items[0]):visit(t,I),domClear(g,M),g},_update(e,t,n){element$1=t,values=t.__values__,ariaItemAttributes(emit,n),e.attr(emit,n,this);const s=mark_extras[e.type];s&&s.call(this,e,t,n),element$1&&this.style(element$1,n)},style(e,t){if(t!=null){for(const n in stylesAttr){let s=n==="font"?fontFamily(t):t[n];if(s===values[n])continue;const u=stylesAttr[n];s==null?e.removeAttribute(u):(isGradient(s)&&(s=gradientRef(s,this._defs.gradient,href())),e.setAttribute(u,s+"")),values[n]=s}for(const n in stylesCss)setStyle(e,stylesCss[n],t[n])}},defs(){const e=this._svg,t=this._defs;let n=t.el,s=0;for(const u in t.gradient)n||(t.el=n=domChild(e,RootIndex+1,"defs",svgns)),s=updateGradient(n,t.gradient[u],s);for(const u in t.clipping)n||(t.el=n=domChild(e,RootIndex+1,"defs",svgns)),s=updateClipping(n,t.clipping[u],s);n&&(s===0?(e.removeChild(n),t.el=null):domClear(n,s))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});function dirtyParents(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function updateGradient(e,t,n){let s,u,f;if(t.gradient==="radial"){let d=domChild(e,n++,"pattern",svgns);setAttributes(d,{id:patternPrefix+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),d=domChild(d,0,"rect",svgns),setAttributes(d,{width:1,height:1,fill:`url(${href()}#${t.id})`}),e=domChild(e,n++,"radialGradient",svgns),setAttributes(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=domChild(e,n++,"linearGradient",svgns),setAttributes(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(s=0,u=t.stops.length;s<u;++s)f=domChild(e,s,"stop",svgns),f.setAttribute("offset",t.stops[s].offset),f.setAttribute("stop-color",t.stops[s].color);return domClear(e,s),n}function updateClipping(e,t,n){let s;return e=domChild(e,n,"clipPath",svgns),e.setAttribute("id",t.id),t.path?(s=domChild(e,0,"path",svgns),s.setAttribute("d",t.path)):(s=domChild(e,0,"rect",svgns),setAttributes(s,{x:0,y:0,width:t.width,height:t.height})),domClear(e,1),n+1}function recurse(e,t,n){t=t.lastChild.previousSibling;let s,u=0;visit(n,f=>{s=e.mark(t,f,s),++u}),domClear(t,1+u)}function bind(e,t,n,s,u){let f=e._svg,d;if(!f&&(d=t.ownerDocument,f=domCreate(d,s,svgns),e._svg=f,e.mark&&(f.__data__=e,f.__values__={fill:"default"},s==="g"))){const g=domCreate(d,"path",svgns);f.appendChild(g),g.__data__=e;const v=domCreate(d,"g",svgns);f.appendChild(v),v.__data__=e;const S=domCreate(d,"path",svgns);f.appendChild(S),S.__data__=e,S.__values__={fill:"default"}}return(f.ownerSVGElement!==u||siblingCheck(f,n))&&t.insertBefore(f,n?n.nextSibling:t.firstChild),f}function siblingCheck(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let element$1=null,values=null;const mark_extras={group(e,t,n){const s=element$1=t.childNodes[2];values=s.__values__,e.foreground(emit,n,this),values=t.__values__,element$1=t.childNodes[1],e.content(emit,n,this);const u=element$1=t.childNodes[0];e.background(emit,n,this);const f=n.mark.interactive===!1?"none":null;if(f!==values.events&&(setAttribute(s,"pointer-events",f),setAttribute(u,"pointer-events",f),values.events=f),n.strokeForeground&&n.stroke){const d=n.fill;setAttribute(s,"display",null),this.style(u,n),setAttribute(u,"stroke",null),d&&(n.fill=null),values=s.__values__,this.style(s,n),d&&(n.fill=d),element$1=null}else setAttribute(s,"display","none")},image(e,t,n){n.smooth===!1?(setStyle(t,"image-rendering","optimizeSpeed"),setStyle(t,"image-rendering","pixelated")):setStyle(t,"image-rendering",null)},text(e,t,n){const s=textLines(n);let u,f,d,g;isArray$7(s)?(f=s.map(v=>textValue(n,v)),u=f.join(`
`),u!==values.text&&(domClear(t,0),d=t.ownerDocument,g=lineHeight(n),f.forEach((v,S)=>{const M=domCreate(d,"tspan",svgns);M.__data__=n,M.textContent=v,S&&(M.setAttribute("x",0),M.setAttribute("dy",g)),t.appendChild(M)}),values.text=u)):(f=textValue(n,s),f!==values.text&&(t.textContent=f,values.text=f)),setAttribute(t,"font-family",fontFamily(n)),setAttribute(t,"font-size",fontSize(n)+"px"),setAttribute(t,"font-style",n.fontStyle),setAttribute(t,"font-variant",n.fontVariant),setAttribute(t,"font-weight",n.fontWeight)}};function emit(e,t,n){t!==values[e]&&(n?setAttributeNS(element$1,e,t,n):setAttribute(element$1,e,t),values[e]=t)}function setStyle(e,t,n){n!==values[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),values[t]=n)}function setAttributes(e,t){for(const n in t)setAttribute(e,n,t[n])}function setAttribute(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function setAttributeNS(e,t,n,s){n!=null?e.setAttributeNS(s,t,n):e.removeAttributeNS(s,t)}function href(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function SVGStringRenderer(e){Renderer.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}inherits(SVGStringRenderer,Renderer,{svg(){return this._text},_render(e){const t=markup();t.open("svg",extend$1({},metadata,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const n=this._bgcolor;return n&&n!=="transparent"&&n!=="none"&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",rootAttributes,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=Marks[t.marktype],s=n.tag,u=[ariaItemAttributes,n.attr];e.open("g",{class:cssClass(t),"clip-path":t.clip?clip$1(this,t,t.group):null},ariaMarkAttributes(t),{"pointer-events":s!=="g"&&t.interactive===!1?"none":null});const f=d=>{const g=this.href(d);if(g&&e.open("a",g),e.open(s,this.attr(t,d,u,s!=="g"?s:null)),s==="text"){const v=textLines(d);if(isArray$7(v)){const S={x:0,dy:lineHeight(d)};for(let M=0;M<v.length;++M)e.open("tspan",M?S:null).text(textValue(d,v[M])).close()}else e.text(textValue(d,v))}else if(s==="g"){const v=d.strokeForeground,S=d.fill,M=d.stroke;v&&M&&(d.stroke=null),e.open("path",this.attr(t,d,n.background,"bgrect")).close(),e.open("g",this.attr(t,d,n.content)),visit(d,I=>this.mark(e,I)),e.close(),v&&M?(S&&(d.fill=null),d.stroke=M,e.open("path",this.attr(t,d,n.foreground,"bgrect")).close(),S&&(d.fill=S)):e.open("path",this.attr(t,d,n.foreground,"bgfore")).close()}e.close(),g&&e.close()};return n.nested?t.items&&t.items.length&&f(t.items[0]):visit(t,f),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then(s=>{s["xlink:href"]=s.href,s.href=null,(this._hrefs||(this._hrefs={}))[t]=s})}return null},attr(e,t,n,s){const u={},f=(d,g,v,S)=>{u[S||d]=g};return Array.isArray(n)?n.forEach(d=>d(f,t,this)):n(f,t,this),s&&style(u,t,e,s,this._defs),u},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(Object.keys(t).length+Object.keys(n).length!==0){e.open("defs");for(const u in t){const f=t[u],d=f.stops;f.gradient==="radial"?(e.open("pattern",{id:patternPrefix+u,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+u+")"}).close(),e.close(),e.open("radialGradient",{id:u,fx:f.x1,fy:f.y1,fr:f.r1,cx:f.x2,cy:f.y2,r:f.r2})):e.open("linearGradient",{id:u,x1:f.x1,x2:f.x2,y1:f.y1,y2:f.y2});for(let g=0;g<d.length;++g)e.open("stop",{offset:d[g].offset,"stop-color":d[g].color}).close();e.close()}for(const u in n){const f=n[u];e.open("clipPath",{id:u}),f.path?e.open("path",{d:f.path}).close():e.open("rect",{x:0,y:0,width:f.width,height:f.height}).close(),e.close()}e.close()}}});function style(e,t,n,s,u){let f;if(t==null||(s==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),s==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;s==="image"&&t.smooth===!1&&(f=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),s==="text"&&(e["font-family"]=fontFamily(t),e["font-size"]=fontSize(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const d in stylesAttr){let g=t[d];const v=stylesAttr[d];g==="transparent"&&(v==="fill"||v==="stroke")||g!=null&&(isGradient(g)&&(g=gradientRef(g,u.gradient,"")),e[v]=g)}for(const d in stylesCss){const g=t[d];g!=null&&(f=f||[],f.push(`${stylesCss[d]}: ${g};`))}return f&&(e.style=f.join(" ")),e}function intersect$1(e,t,n){const s=[],u=new Bounds().union(t),f=e.marktype;return f?intersectMark(e,u,n,s):f==="group"?intersectGroup(e,u,n,s):error$1("Intersect scene must be mark node or group item.")}function intersectMark(e,t,n,s){if(visitMark(e,t,n)){const u=e.items,f=e.marktype,d=u.length;let g=0;if(f==="group")for(;g<d;++g)intersectGroup(u[g],t,n,s);else for(const v=Marks[f].isect;g<d;++g){const S=u[g];intersectItem(S,t,v)&&s.push(S)}}return s}function visitMark(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function intersectGroup(e,t,n,s){n&&n(e.mark)&&intersectItem(e,t,Marks.group.isect)&&s.push(e);const u=e.items,f=u&&u.length;if(f){const d=e.x||0,g=e.y||0;t.translate(-d,-g);for(let v=0;v<f;++v)intersectMark(u[v],t,n,s);t.translate(d,g)}return s}function intersectItem(e,t,n){const s=e.bounds;return t.encloses(s)||t.intersects(s)&&n(e,t)}new Bounds;const isArray$6=e=>Object.prototype.toString.call(e)==="[object Array]",select=(e,t)=>{if(!t)return[];const n=t.split(".");for(const s of n){if(typeof e>"u")return;if(isArray$6(e))e=e.map(u=>u[s]).flat();else if(s.includes("[")){const[u,f]=s.split("["),[d]=f.split("]");e=e[u][d]}else e=e[s]}return e},group=(e,t,n)=>{const s={},u=e[t];for(const f of u){let d=s;for(let g=0;g<n.length;g++){const v=n[g],S=select(f,v);d[S]||(d[S]=g<n.length-1?{}:[]),d=d[S]}d.push(f)}return s},groupFlattened=(e,t,n)=>{const s=new Map,u=select(e,t);let f=0;for(const d of u){const g=JSON.stringify(n.map(v=>select(d,v)));s.has(g)?(s.get(g).data.push(d),s.get(g).size+=1):(s.set(g,{id:f,data:[d],size:1,key:JSON.parse(g)}),f++)}return Array.from(s.values())},groupFlattenedComplete=(e,t,n,s,u)=>{const f=new Map,d=new Map,g=select(e,t);let v=0;const S=[];for(const I of g){for(const N of n){f.has(N)||f.set(N,[]);const F=select(I,N),j=f.get(N);j.includes(F)||j.push(F)}const P=JSON.stringify(n.map(N=>select(I,N)));S.push(P),d.has(P)?(d.get(P).data.push(I),d.get(P).size+=1):(d.set(P,{id:v,data:[I],size:1,key:JSON.parse(P)}),v++)}let M;if(s){let I=[].concat.apply([],...f.values());if(u){const N=select(e,u);for(const F of N)I.push(select(F,n[0])),I.push(select(F,n[1]))}const P=Array.from(new Set(I));M=cross$1(P,P)}else M=cross$1(...f.values());for(const I of M){const P=JSON.stringify(I);S.includes(P)||(d.set(P,{id:v,data:[],size:0,key:JSON.parse(P)}),v++)}return Array.from(d.values())},uncorrectedVariance=e=>variance(e)*(e.length-1)/e.length,aggregationFunctions={count:e=>e.length,valid:e=>e.filter(t=>t!==null&&typeof t<"u"&&!(typeof t=="number"&&Number.isNaN(t))).length,missing:e=>e.filter(t=>t===null||typeof t>"u"||t==="").length,distinct:e=>new Set(e).size,sum,product:e=>e.reduce((t,n)=>t*n,1),mean:mean$1,average:mean$1,variance:uncorrectedVariance,variancep:variance,stdev:e=>Math.sqrt(uncorrectedVariance(e)),stdevp:deviation,median:median$2,q1:e=>quantile$1(e,.25),q3:e=>quantile$1(e,.75),min:min$3,max:max$3,argmin:e=>e[minIndex(e)],argmax:e=>e[maxIndex(e)],mode},computeAggregation=(e,t)=>{var n,s,u;const f=t.groupby?group({data:e},"data",t.groupby):{all:e},d=[];if(!t.fields||t.fields.length===0)for(const g of Object.keys(f)){const v=f[g],S=((n=t.as)===null||n===void 0?void 0:n[0])||"count",M={};for(const I of t.groupby)M[I]=select(v[0],I);M[S]=aggregationFunctions.count(v),d.push(M)}else for(const g of Object.keys(f)){const v=f[g],S={};for(const M of t.groupby||[])S[M]=select(v[0],M);for(const M in t.fields){const I=t.fields[M],P=((s=t.ops)===null||s===void 0?void 0:s[M])||"count",N=aggregationFunctions[P],F=((u=t.as)===null||u===void 0?void 0:u[M])||P;S[F]=N(v.map(j=>j[I]))}d.push(S)}return d},computeBins=(e,t)=>{const s=bin().value(f=>select(f,t.field))(e),u=[];for(const f of s)for(const d of f)u.push(Object.assign(Object.assign({},d),{bin0:f.x0,bin1:f.x1}));return u},RawCode="RawCode",Literal="Literal",Property="Property",Identifier="Identifier",ArrayExpression="ArrayExpression",BinaryExpression="BinaryExpression",CallExpression="CallExpression",ConditionalExpression="ConditionalExpression",LogicalExpression="LogicalExpression",MemberExpression="MemberExpression",ObjectExpression="ObjectExpression",UnaryExpression="UnaryExpression";function ASTNode(e){this.type=e}ASTNode.prototype.visit=function(e){let t,n,s;if(e(this))return 1;for(t=children(this),n=0,s=t.length;n<s;++n)if(t[n].visit(e))return 1};function children(e){switch(e.type){case ArrayExpression:return e.elements;case BinaryExpression:case LogicalExpression:return[e.left,e.right];case CallExpression:return[e.callee].concat(e.arguments);case ConditionalExpression:return[e.test,e.consequent,e.alternate];case MemberExpression:return[e.object,e.property];case ObjectExpression:return e.properties;case Property:return[e.key,e.value];case UnaryExpression:return[e.argument];case Identifier:case Literal:case RawCode:default:return[]}}var TokenName,source,index,length$2,lookahead,TokenBooleanLiteral=1,TokenEOF=2,TokenIdentifier=3,TokenKeyword=4,TokenNullLiteral=5,TokenNumericLiteral=6,TokenPunctuator=7,TokenStringLiteral=8,TokenRegularExpression=9;TokenName={};TokenName[TokenBooleanLiteral]="Boolean";TokenName[TokenEOF]="<end>";TokenName[TokenIdentifier]="Identifier";TokenName[TokenKeyword]="Keyword";TokenName[TokenNullLiteral]="Null";TokenName[TokenNumericLiteral]="Numeric";TokenName[TokenPunctuator]="Punctuator";TokenName[TokenStringLiteral]="String";TokenName[TokenRegularExpression]="RegularExpression";var SyntaxArrayExpression="ArrayExpression",SyntaxBinaryExpression="BinaryExpression",SyntaxCallExpression="CallExpression",SyntaxConditionalExpression="ConditionalExpression",SyntaxIdentifier="Identifier",SyntaxLiteral="Literal",SyntaxLogicalExpression="LogicalExpression",SyntaxMemberExpression="MemberExpression",SyntaxObjectExpression="ObjectExpression",SyntaxProperty="Property",SyntaxUnaryExpression="UnaryExpression",MessageUnexpectedToken="Unexpected token %0",MessageUnexpectedNumber="Unexpected number",MessageUnexpectedString="Unexpected string",MessageUnexpectedIdentifier="Unexpected identifier",MessageUnexpectedReserved="Unexpected reserved word",MessageUnexpectedEOS="Unexpected end of input",MessageInvalidRegExp="Invalid regular expression",MessageUnterminatedRegExp="Invalid regular expression: missing /",MessageStrictOctalLiteral="Octal literals are not allowed in strict mode.",MessageStrictDuplicateProperty="Duplicate data property in object literal not allowed in strict mode",ILLEGAL="ILLEGAL",DISABLED="Disabled.",RegexNonAsciiIdentifierStart=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),RegexNonAsciiIdentifierPart=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function assert$1(e,t){if(!e)throw new Error("ASSERT: "+t)}function isDecimalDigit(e){return e>=48&&e<=57}function isHexDigit(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function isOctalDigit(e){return"01234567".indexOf(e)>=0}function isWhiteSpace(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function isLineTerminator(e){return e===10||e===13||e===8232||e===8233}function isIdentifierStart(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&RegexNonAsciiIdentifierStart.test(String.fromCharCode(e))}function isIdentifierPart(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&RegexNonAsciiIdentifierPart.test(String.fromCharCode(e))}const keywords={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function skipComment(){for(;index<length$2;){const e=source.charCodeAt(index);if(isWhiteSpace(e)||isLineTerminator(e))++index;else break}}function scanHexEscape(e){var t,n,s,u=0;for(n=e==="u"?4:2,t=0;t<n;++t)index<length$2&&isHexDigit(source[index])?(s=source[index++],u=u*16+"0123456789abcdef".indexOf(s.toLowerCase())):throwError({},MessageUnexpectedToken,ILLEGAL);return String.fromCharCode(u)}function scanUnicodeCodePointEscape(){var e,t,n,s;for(e=source[index],t=0,e==="}"&&throwError({},MessageUnexpectedToken,ILLEGAL);index<length$2&&(e=source[index++],!!isHexDigit(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&throwError({},MessageUnexpectedToken,ILLEGAL),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,s=(t-65536&1023)+56320,String.fromCharCode(n,s))}function getEscapedIdentifier(){var e,t;for(e=source.charCodeAt(index++),t=String.fromCharCode(e),e===92&&(source.charCodeAt(index)!==117&&throwError({},MessageUnexpectedToken,ILLEGAL),++index,e=scanHexEscape("u"),(!e||e==="\\"||!isIdentifierStart(e.charCodeAt(0)))&&throwError({},MessageUnexpectedToken,ILLEGAL),t=e);index<length$2&&(e=source.charCodeAt(index),!!isIdentifierPart(e));)++index,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),source.charCodeAt(index)!==117&&throwError({},MessageUnexpectedToken,ILLEGAL),++index,e=scanHexEscape("u"),(!e||e==="\\"||!isIdentifierPart(e.charCodeAt(0)))&&throwError({},MessageUnexpectedToken,ILLEGAL),t+=e);return t}function getIdentifier(){var e,t;for(e=index++;index<length$2;){if(t=source.charCodeAt(index),t===92)return index=e,getEscapedIdentifier();if(isIdentifierPart(t))++index;else break}return source.slice(e,index)}function scanIdentifier(){var e,t,n;return e=index,t=source.charCodeAt(index)===92?getEscapedIdentifier():getIdentifier(),t.length===1?n=TokenIdentifier:keywords.hasOwnProperty(t)?n=TokenKeyword:t==="null"?n=TokenNullLiteral:t==="true"||t==="false"?n=TokenBooleanLiteral:n=TokenIdentifier,{type:n,value:t,start:e,end:index}}function scanPunctuator(){var e=index,t=source.charCodeAt(index),n,s=source[index],u,f,d;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++index,{type:TokenPunctuator,value:String.fromCharCode(t),start:e,end:index};default:if(n=source.charCodeAt(index+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return index+=2,{type:TokenPunctuator,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:index};case 33:case 61:return index+=2,source.charCodeAt(index)===61&&++index,{type:TokenPunctuator,value:source.slice(e,index),start:e,end:index}}}if(d=source.substr(index,4),d===">>>=")return index+=4,{type:TokenPunctuator,value:d,start:e,end:index};if(f=d.substr(0,3),f===">>>"||f==="<<="||f===">>=")return index+=3,{type:TokenPunctuator,value:f,start:e,end:index};if(u=f.substr(0,2),s===u[1]&&"+-<>&|".indexOf(s)>=0||u==="=>")return index+=2,{type:TokenPunctuator,value:u,start:e,end:index};if(u==="//"&&throwError({},MessageUnexpectedToken,ILLEGAL),"<>=!+-*%&|^/".indexOf(s)>=0)return++index,{type:TokenPunctuator,value:s,start:e,end:index};throwError({},MessageUnexpectedToken,ILLEGAL)}function scanHexLiteral(e){let t="";for(;index<length$2&&isHexDigit(source[index]);)t+=source[index++];return t.length===0&&throwError({},MessageUnexpectedToken,ILLEGAL),isIdentifierStart(source.charCodeAt(index))&&throwError({},MessageUnexpectedToken,ILLEGAL),{type:TokenNumericLiteral,value:parseInt("0x"+t,16),start:e,end:index}}function scanOctalLiteral(e){let t="0"+source[index++];for(;index<length$2&&isOctalDigit(source[index]);)t+=source[index++];return(isIdentifierStart(source.charCodeAt(index))||isDecimalDigit(source.charCodeAt(index)))&&throwError({},MessageUnexpectedToken,ILLEGAL),{type:TokenNumericLiteral,value:parseInt(t,8),octal:!0,start:e,end:index}}function scanNumericLiteral(){var e,t,n;if(n=source[index],assert$1(isDecimalDigit(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=index,e="",n!=="."){if(e=source[index++],n=source[index],e==="0"){if(n==="x"||n==="X")return++index,scanHexLiteral(t);if(isOctalDigit(n))return scanOctalLiteral(t);n&&isDecimalDigit(n.charCodeAt(0))&&throwError({},MessageUnexpectedToken,ILLEGAL)}for(;isDecimalDigit(source.charCodeAt(index));)e+=source[index++];n=source[index]}if(n==="."){for(e+=source[index++];isDecimalDigit(source.charCodeAt(index));)e+=source[index++];n=source[index]}if(n==="e"||n==="E")if(e+=source[index++],n=source[index],(n==="+"||n==="-")&&(e+=source[index++]),isDecimalDigit(source.charCodeAt(index)))for(;isDecimalDigit(source.charCodeAt(index));)e+=source[index++];else throwError({},MessageUnexpectedToken,ILLEGAL);return isIdentifierStart(source.charCodeAt(index))&&throwError({},MessageUnexpectedToken,ILLEGAL),{type:TokenNumericLiteral,value:parseFloat(e),start:t,end:index}}function scanStringLiteral(){var e="",t,n,s,u,f=!1;for(t=source[index],assert$1(t==="'"||t==='"',"String literal must starts with a quote"),n=index,++index;index<length$2;)if(s=source[index++],s===t){t="";break}else if(s==="\\")if(s=source[index++],!s||!isLineTerminator(s.charCodeAt(0)))switch(s){case"u":case"x":source[index]==="{"?(++index,e+=scanUnicodeCodePointEscape()):e+=scanHexEscape(s);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:isOctalDigit(s)?(u="01234567".indexOf(s),u!==0&&(f=!0),index<length$2&&isOctalDigit(source[index])&&(f=!0,u=u*8+"01234567".indexOf(source[index++]),"0123".indexOf(s)>=0&&index<length$2&&isOctalDigit(source[index])&&(u=u*8+"01234567".indexOf(source[index++]))),e+=String.fromCharCode(u)):e+=s;break}else s==="\r"&&source[index]===`
`&&++index;else{if(isLineTerminator(s.charCodeAt(0)))break;e+=s}return t!==""&&throwError({},MessageUnexpectedToken,ILLEGAL),{type:TokenStringLiteral,value:e,octal:f,start:n,end:index}}function testRegExp(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(s,u)=>{if(parseInt(u,16)<=1114111)return"x";throwError({},MessageInvalidRegExp)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{throwError({},MessageInvalidRegExp)}try{return new RegExp(e,t)}catch{return null}}function scanRegExpBody(){var e,t,n,s,u;for(e=source[index],assert$1(e==="/","Regular expression literal must start with a slash"),t=source[index++],n=!1,s=!1;index<length$2;)if(e=source[index++],t+=e,e==="\\")e=source[index++],isLineTerminator(e.charCodeAt(0))&&throwError({},MessageUnterminatedRegExp),t+=e;else if(isLineTerminator(e.charCodeAt(0)))throwError({},MessageUnterminatedRegExp);else if(n)e==="]"&&(n=!1);else if(e==="/"){s=!0;break}else e==="["&&(n=!0);return s||throwError({},MessageUnterminatedRegExp),u=t.substr(1,t.length-2),{value:u,literal:t}}function scanRegExpFlags(){var e,t,n;for(t="",n="";index<length$2&&(e=source[index],!!isIdentifierPart(e.charCodeAt(0)));)++index,e==="\\"&&index<length$2?throwError({},MessageUnexpectedToken,ILLEGAL):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&throwError({},MessageInvalidRegExp,n),{value:n,literal:t}}function scanRegExp(){var e,t,n,s;return lookahead=null,skipComment(),e=index,t=scanRegExpBody(),n=scanRegExpFlags(),s=testRegExp(t.value,n.value),{literal:t.literal+n.literal,value:s,regex:{pattern:t.value,flags:n.value},start:e,end:index}}function isIdentifierName(e){return e.type===TokenIdentifier||e.type===TokenKeyword||e.type===TokenBooleanLiteral||e.type===TokenNullLiteral}function advance(){if(skipComment(),index>=length$2)return{type:TokenEOF,start:index,end:index};const e=source.charCodeAt(index);return isIdentifierStart(e)?scanIdentifier():e===40||e===41||e===59?scanPunctuator():e===39||e===34?scanStringLiteral():e===46?isDecimalDigit(source.charCodeAt(index+1))?scanNumericLiteral():scanPunctuator():isDecimalDigit(e)?scanNumericLiteral():scanPunctuator()}function lex(){const e=lookahead;return index=e.end,lookahead=advance(),index=e.end,e}function peek(){const e=index;lookahead=advance(),index=e}function finishArrayExpression(e){const t=new ASTNode(SyntaxArrayExpression);return t.elements=e,t}function finishBinaryExpression(e,t,n){const s=new ASTNode(e==="||"||e==="&&"?SyntaxLogicalExpression:SyntaxBinaryExpression);return s.operator=e,s.left=t,s.right=n,s}function finishCallExpression(e,t){const n=new ASTNode(SyntaxCallExpression);return n.callee=e,n.arguments=t,n}function finishConditionalExpression(e,t,n){const s=new ASTNode(SyntaxConditionalExpression);return s.test=e,s.consequent=t,s.alternate=n,s}function finishIdentifier(e){const t=new ASTNode(SyntaxIdentifier);return t.name=e,t}function finishLiteral(e){const t=new ASTNode(SyntaxLiteral);return t.value=e.value,t.raw=source.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function finishMemberExpression(e,t,n){const s=new ASTNode(SyntaxMemberExpression);return s.computed=e==="[",s.object=t,s.property=n,s.computed||(n.member=!0),s}function finishObjectExpression(e){const t=new ASTNode(SyntaxObjectExpression);return t.properties=e,t}function finishProperty(e,t,n){const s=new ASTNode(SyntaxProperty);return s.key=t,s.value=n,s.kind=e,s}function finishUnaryExpression(e,t){const n=new ASTNode(SyntaxUnaryExpression);return n.operator=e,n.argument=t,n.prefix=!0,n}function throwError(e,t){var n,s=Array.prototype.slice.call(arguments,2),u=t.replace(/%(\d)/g,(f,d)=>(assert$1(d<s.length,"Message reference must be in range"),s[d]));throw n=new Error(u),n.index=index,n.description=u,n}function throwUnexpected(e){e.type===TokenEOF&&throwError(e,MessageUnexpectedEOS),e.type===TokenNumericLiteral&&throwError(e,MessageUnexpectedNumber),e.type===TokenStringLiteral&&throwError(e,MessageUnexpectedString),e.type===TokenIdentifier&&throwError(e,MessageUnexpectedIdentifier),e.type===TokenKeyword&&throwError(e,MessageUnexpectedReserved),throwError(e,MessageUnexpectedToken,e.value)}function expect(e){const t=lex();(t.type!==TokenPunctuator||t.value!==e)&&throwUnexpected(t)}function match$1(e){return lookahead.type===TokenPunctuator&&lookahead.value===e}function matchKeyword(e){return lookahead.type===TokenKeyword&&lookahead.value===e}function parseArrayInitialiser(){const e=[];for(index=lookahead.start,expect("[");!match$1("]");)match$1(",")?(lex(),e.push(null)):(e.push(parseConditionalExpression()),match$1("]")||expect(","));return lex(),finishArrayExpression(e)}function parseObjectPropertyKey(){index=lookahead.start;const e=lex();return e.type===TokenStringLiteral||e.type===TokenNumericLiteral?(e.octal&&throwError(e,MessageStrictOctalLiteral),finishLiteral(e)):finishIdentifier(e.value)}function parseObjectProperty(){var e,t,n,s;if(index=lookahead.start,e=lookahead,e.type===TokenIdentifier)return n=parseObjectPropertyKey(),expect(":"),s=parseConditionalExpression(),finishProperty("init",n,s);if(e.type===TokenEOF||e.type===TokenPunctuator)throwUnexpected(e);else return t=parseObjectPropertyKey(),expect(":"),s=parseConditionalExpression(),finishProperty("init",t,s)}function parseObjectInitialiser(){var e=[],t,n,s,u={},f=String;for(index=lookahead.start,expect("{");!match$1("}");)t=parseObjectProperty(),t.key.type===SyntaxIdentifier?n=t.key.name:n=f(t.key.value),s="$"+n,Object.prototype.hasOwnProperty.call(u,s)?throwError({},MessageStrictDuplicateProperty):u[s]=!0,e.push(t),match$1("}")||expect(",");return expect("}"),finishObjectExpression(e)}function parseGroupExpression(){expect("(");const e=parseExpression();return expect(")"),e}const legalKeywords={if:1};function parsePrimaryExpression(){var e,t,n;if(match$1("("))return parseGroupExpression();if(match$1("["))return parseArrayInitialiser();if(match$1("{"))return parseObjectInitialiser();if(e=lookahead.type,index=lookahead.start,e===TokenIdentifier||legalKeywords[lookahead.value])n=finishIdentifier(lex().value);else if(e===TokenStringLiteral||e===TokenNumericLiteral)lookahead.octal&&throwError(lookahead,MessageStrictOctalLiteral),n=finishLiteral(lex());else{if(e===TokenKeyword)throw new Error(DISABLED);e===TokenBooleanLiteral?(t=lex(),t.value=t.value==="true",n=finishLiteral(t)):e===TokenNullLiteral?(t=lex(),t.value=null,n=finishLiteral(t)):match$1("/")||match$1("/=")?(n=finishLiteral(scanRegExp()),peek()):throwUnexpected(lex())}return n}function parseArguments(){const e=[];if(expect("("),!match$1(")"))for(;index<length$2&&(e.push(parseConditionalExpression()),!match$1(")"));)expect(",");return expect(")"),e}function parseNonComputedProperty(){index=lookahead.start;const e=lex();return isIdentifierName(e)||throwUnexpected(e),finishIdentifier(e.value)}function parseNonComputedMember(){return expect("."),parseNonComputedProperty()}function parseComputedMember(){expect("[");const e=parseExpression();return expect("]"),e}function parseLeftHandSideExpressionAllowCall(){var e,t,n;for(e=parsePrimaryExpression();;)if(match$1("."))n=parseNonComputedMember(),e=finishMemberExpression(".",e,n);else if(match$1("("))t=parseArguments(),e=finishCallExpression(e,t);else if(match$1("["))n=parseComputedMember(),e=finishMemberExpression("[",e,n);else break;return e}function parsePostfixExpression(){const e=parseLeftHandSideExpressionAllowCall();if(lookahead.type===TokenPunctuator&&(match$1("++")||match$1("--")))throw new Error(DISABLED);return e}function parseUnaryExpression(){var e,t;if(lookahead.type!==TokenPunctuator&&lookahead.type!==TokenKeyword)t=parsePostfixExpression();else{if(match$1("++")||match$1("--"))throw new Error(DISABLED);if(match$1("+")||match$1("-")||match$1("~")||match$1("!"))e=lex(),t=parseUnaryExpression(),t=finishUnaryExpression(e.value,t);else{if(matchKeyword("delete")||matchKeyword("void")||matchKeyword("typeof"))throw new Error(DISABLED);t=parsePostfixExpression()}}return t}function binaryPrecedence(e){let t=0;if(e.type!==TokenPunctuator&&e.type!==TokenKeyword)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function parseBinaryExpression(){var e,t,n,s,u,f,d,g,v,S;if(e=lookahead,v=parseUnaryExpression(),s=lookahead,u=binaryPrecedence(s),u===0)return v;for(s.prec=u,lex(),t=[e,lookahead],d=parseUnaryExpression(),f=[v,s,d];(u=binaryPrecedence(lookahead))>0;){for(;f.length>2&&u<=f[f.length-2].prec;)d=f.pop(),g=f.pop().value,v=f.pop(),t.pop(),n=finishBinaryExpression(g,v,d),f.push(n);s=lex(),s.prec=u,f.push(s),t.push(lookahead),n=parseUnaryExpression(),f.push(n)}for(S=f.length-1,n=f[S],t.pop();S>1;)t.pop(),n=finishBinaryExpression(f[S-1].value,f[S-2],n),S-=2;return n}function parseConditionalExpression(){var e,t,n;return e=parseBinaryExpression(),match$1("?")&&(lex(),t=parseConditionalExpression(),expect(":"),n=parseConditionalExpression(),e=finishConditionalExpression(e,t,n)),e}function parseExpression(){const e=parseConditionalExpression();if(match$1(","))throw new Error(DISABLED);return e}function parser(e){source=e,index=0,length$2=source.length,lookahead=null,peek();const t=parseExpression();if(lookahead.type!==TokenEOF)throw new Error("Unexpect token after expression.");return t}var Constants={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Functions(e){function t(d,g,v,S){let M=e(g[0]);return v&&(M=v+"("+M+")",v.lastIndexOf("new ",0)===0&&(M="("+M+")")),M+"."+d+(S<0?"":S===0?"()":"("+g.slice(1).map(e).join(",")+")")}function n(d,g,v){return S=>t(d,S,g,v)}const s="new Date",u="String",f="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(d){d.length<3&&error$1("Missing arguments to clamp function."),d.length>3&&error$1("Too many arguments to clamp function.");const g=d.map(e);return"Math.max("+g[1]+", Math.min("+g[2]+","+g[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:s,date:n("getDate",s,0),day:n("getDay",s,0),year:n("getFullYear",s,0),month:n("getMonth",s,0),hours:n("getHours",s,0),minutes:n("getMinutes",s,0),seconds:n("getSeconds",s,0),milliseconds:n("getMilliseconds",s,0),time:n("getTime",s,0),timezoneoffset:n("getTimezoneOffset",s,0),utcdate:n("getUTCDate",s,0),utcday:n("getUTCDay",s,0),utcyear:n("getUTCFullYear",s,0),utcmonth:n("getUTCMonth",s,0),utchours:n("getUTCHours",s,0),utcminutes:n("getUTCMinutes",s,0),utcseconds:n("getUTCSeconds",s,0),utcmilliseconds:n("getUTCMilliseconds",s,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",u,0),lower:n("toLowerCase",u,0),substring:n("substring",u),split:n("split",u),trim:n("trim",u,0),regexp:f,test:n("test",f),if:function(d){d.length<3&&error$1("Missing arguments to if function."),d.length>3&&error$1("Too many arguments to if function.");const g=d.map(e);return"("+g[0]+"?"+g[1]+":"+g[2]+")"}}}function stripQuotes(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function codegen(e){e=e||{};const t=e.allowed?toSet(e.allowed):{},n=e.forbidden?toSet(e.forbidden):{},s=e.constants||Constants,u=(e.functions||Functions)(I),f=e.globalvar,d=e.fieldvar,g=isFunction$2(f)?f:F=>`${f}["${F}"]`;let v={},S={},M=0;function I(F){if(isString(F))return F;const j=P[F.type];return j==null&&error$1("Unsupported type: "+F.type),j(F)}const P={Literal:F=>F.raw,Identifier:F=>{const j=F.name;return M>0?j:has(n,j)?error$1("Illegal identifier: "+j):has(s,j)?s[j]:has(t,j)?j:(v[j]=1,g(j))},MemberExpression:F=>{const j=!F.computed,U=I(F.object);j&&(M+=1);const V=I(F.property);return U===d&&(S[stripQuotes(V)]=1),j&&(M-=1),U+(j?"."+V:"["+V+"]")},CallExpression:F=>{F.callee.type!=="Identifier"&&error$1("Illegal callee type: "+F.callee.type);const j=F.callee.name,U=F.arguments,V=has(u,j)&&u[j];return V||error$1("Unrecognized function: "+j),isFunction$2(V)?V(U):V+"("+U.map(I).join(",")+")"},ArrayExpression:F=>"["+F.elements.map(I).join(",")+"]",BinaryExpression:F=>"("+I(F.left)+" "+F.operator+" "+I(F.right)+")",UnaryExpression:F=>"("+F.operator+I(F.argument)+")",ConditionalExpression:F=>"("+I(F.test)+"?"+I(F.consequent)+":"+I(F.alternate)+")",LogicalExpression:F=>"("+I(F.left)+F.operator+I(F.right)+")",ObjectExpression:F=>"{"+F.properties.map(I).join(",")+"}",Property:F=>{M+=1;const j=I(F.key);return M-=1,j+":"+I(F.value)}};function N(F){const j={code:I(F),globals:Object.keys(v),fields:Object.keys(S)};return v={},S={},j}return N.functions=u,N.constants=s,N}function UniqueList(e){const t=e||identity$1,n=[],s={};return n.add=u=>{const f=t(u);return s[f]||(s[f]=1,n.push(u)),n},n.remove=u=>{const f=t(u);if(s[f]){s[f]=0;const d=n.indexOf(u);d>=0&&n.splice(d,1)}return n},n}async function asyncCallback(e,t){try{await t(e)}catch(n){e.error(n)}}const TUPLE_ID_KEY=Symbol("vega_id");let TUPLE_ID=1;function isTuple(e){return!!(e&&tupleid(e))}function tupleid(e){return e[TUPLE_ID_KEY]}function setid(e,t){return e[TUPLE_ID_KEY]=t,e}function ingest$1(e){const t=e===Object(e)?e:{data:e};return tupleid(t)?t:setid(t,TUPLE_ID++)}function stableCompare(e,t){return e?t?(n,s)=>e(n,s)||tupleid(t(n))-tupleid(t(s)):(n,s)=>e(n,s)||tupleid(n)-tupleid(s):null}function isChangeSet(e){return e&&e.constructor===changeset}function changeset(){const e=[],t=[],n=[],s=[],u=[];let f=null,d=!1;return{constructor:changeset,insert(g){const v=array$2(g),S=v.length;for(let M=0;M<S;++M)e.push(v[M]);return this},remove(g){const v=isFunction$2(g)?s:t,S=array$2(g),M=S.length;for(let I=0;I<M;++I)v.push(S[I]);return this},modify(g,v,S){const M={field:v,value:constant(S)};return isFunction$2(g)?(M.filter=g,u.push(M)):(M.tuple=g,n.push(M)),this},encode(g,v){return isFunction$2(g)?u.push({filter:g,field:v}):n.push({tuple:g,field:v}),this},clean(g){return f=g,this},reflow(){return d=!0,this},pulse(g,v){const S={},M={};let I,P,N,F,j,U;for(I=0,P=v.length;I<P;++I)S[tupleid(v[I])]=1;for(I=0,P=t.length;I<P;++I)j=t[I],S[tupleid(j)]=-1;for(I=0,P=s.length;I<P;++I)F=s[I],v.forEach(Z=>{F(Z)&&(S[tupleid(Z)]=-1)});for(I=0,P=e.length;I<P;++I)j=e[I],U=tupleid(j),S[U]?S[U]=1:g.add.push(ingest$1(e[I]));for(I=0,P=v.length;I<P;++I)j=v[I],S[tupleid(j)]<0&&g.rem.push(j);function V(Z,Q,J){J?Z[Q]=J(Z):g.encode=Q,d||(M[tupleid(Z)]=Z)}for(I=0,P=n.length;I<P;++I)N=n[I],j=N.tuple,F=N.field,U=S[tupleid(j)],U>0&&(V(j,F,N.value),g.modifies(F));for(I=0,P=u.length;I<P;++I)N=u[I],F=N.filter,v.forEach(Z=>{F(Z)&&S[tupleid(Z)]>0&&V(Z,N.field,N.value)}),g.modifies(N.field);if(d)g.mod=t.length||s.length?v.filter(Z=>S[tupleid(Z)]>0):v.slice();else for(U in M)g.mod.push(M[U]);return(f||f==null&&(t.length||s.length))&&g.clean(!0),g}}}const CACHE="_:mod:_";function Parameters(){Object.defineProperty(this,CACHE,{writable:!0,value:{}})}Parameters.prototype={set(e,t,n,s){const u=this,f=u[e],d=u[CACHE];return t!=null&&t>=0?(f[t]!==n||s)&&(f[t]=n,d[t+":"+e]=-1,d[e]=-1):(f!==n||s)&&(u[e]=n,d[e]=isArray$7(n)?1+n.length:-1),u},modified(e,t){const n=this[CACHE];if(arguments.length){if(isArray$7(e)){for(let s=0;s<e.length;++s)if(n[e[s]])return!0;return!1}}else{for(const s in n)if(n[s])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[CACHE]={},this}};let OP_ID=0;const PULSE="pulse",NO_PARAMS=new Parameters,SKIP$1=1,MODIFIED=2;function Operator(e,t,n,s){this.id=++OP_ID,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,s)}function flag(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Operator.prototype={targets(){return this._targets||(this._targets=UniqueList(id))},set(e){return this.value!==e?(this.value=e,1):0},skip:flag(SKIP$1),modified:flag(MODIFIED),parameters(e,t,n){t=t!==!1;const s=this._argval=this._argval||new Parameters,u=this._argops=this._argops||[],f=[];let d,g,v,S;const M=(I,P,N)=>{N instanceof Operator?(N!==this&&(t&&N.targets().add(this),f.push(N)),u.push({op:N,name:I,index:P})):s.set(I,P,N)};for(d in e)if(g=e[d],d===PULSE)array$2(g).forEach(I=>{I instanceof Operator?I!==this&&(I.targets().add(this),f.push(I)):error$1("Pulse parameters must be operator instances.")}),this.source=g;else if(isArray$7(g))for(s.set(d,-1,Array(v=g.length)),S=0;S<v;++S)M(d,S,g[S]);else M(d,-1,g);return this.marshall().clear(),n&&(u.initonly=!0),f},marshall(e){const t=this._argval||NO_PARAMS,n=this._argops;let s,u,f,d;if(n){const g=n.length;for(u=0;u<g;++u)s=n[u],f=s.op,d=f.modified()&&f.stamp===e,t.set(s.name,s.index,f.value,d);if(n.initonly){for(u=0;u<g;++u)s=n[u],s.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,s,u;if(e)for(t=0,n=e.length;t<n;++t)s=e[t],u=s.op,u._targets&&u._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),s=t.call(this,n,e);if(n.clear(),s!==this.value)this.value=s;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function add(e,t,n,s){let u=1,f;return e instanceof Operator?f=e:e&&e.prototype instanceof Operator?f=new e:isFunction$2(e)?f=new Operator(null,e):(u=0,f=new Operator(e,t)),this.rank(f),u&&(s=n,n=t),n&&this.connect(f,f.parameters(n,s)),this.touch(f),f}function connect(e,t){const n=e.rank,s=t.length;for(let u=0;u<s;++u)if(n<t[u].rank){this.rerank(e);return}}let STREAM_ID=0;function EventStream(e,t,n){this.id=++STREAM_ID,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function stream(e,t,n){return new EventStream(e,t,n)}EventStream.prototype={_filter:truthy,_apply:identity$1,targets(){return this._targets||(this._targets=UniqueList(id))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,s=n?n.length:0;for(let u=0;u<s;++u)n[u].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=stream(e);return this.targets().add(t),t},apply(e){const t=stream(null,e);return this.targets().add(t),t},merge(){const e=stream();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=stream();return this.targets().add(stream(null,null,debounce$2(e,n=>{const s=n.dataflow;t.receive(n),s&&s.run&&s.run()}))),t},between(e,t){let n=!1;return e.targets().add(stream(null,null,()=>n=!0)),t.targets().add(stream(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=truthy,this._targets=null}};function events(e,t,n,s){const u=this,f=stream(n,s),d=function(S){S.dataflow=u;try{f.receive(S)}catch(M){u.error(M)}finally{u.run()}};let g;typeof e=="string"&&typeof document<"u"?g=document.querySelectorAll(e):g=array$2(e);const v=g.length;for(let S=0;S<v;++S)g[S].addEventListener(t,d);return f}function parse$2(e,t){const n=this.locale();return read(e,t,n.timeParse,n.utcParse)}function ingest(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function request(e,t){const n=this;let s=0,u;try{u=await n.loader().load(e,{context:"dataflow",response:responseType(t&&t.type)});try{u=n.parse(u,t)}catch(f){s=-2,n.warn("Data ingestion failed",e,f)}}catch(f){s=-1,n.warn("Loading failed",e,f)}return{data:u,status:s}}async function preload(e,t,n){const s=this,u=s._pending||loadPending(s);u.requests+=1;const f=await s.request(t,n);return s.pulse(e,s.changeset().remove(truthy).insert(f.data||[])),u.done(),f}function loadPending(e){let t;const n=new Promise(s=>t=s);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const SKIP$2={skip:!0};function on(e,t,n,s,u){return(e instanceof Operator?onOperator:onStream)(this,e,t,n,s,u),this}function onStream(e,t,n,s,u,f){const d=extend$1({},f,SKIP$2);let g,v;isFunction$2(n)||(n=constant(n)),s===void 0?g=S=>e.touch(n(S)):isFunction$2(s)?(v=new Operator(null,s,u,!1),g=S=>{v.evaluate(S);const M=n(S),I=v.value;isChangeSet(I)?e.pulse(M,I,f):e.update(M,I,d)}):g=S=>e.update(n(S),s,d),t.apply(g)}function onOperator(e,t,n,s,u,f){if(s===void 0)t.targets().add(n);else{const d=f||{},g=new Operator(null,updater(n,s),u,!1);g.modified(d.force),g.rank=t.rank,t.targets().add(g),n&&(g.skip(!0),g.value=n.value,g.targets().add(n),e.connect(n,[g]))}}function updater(e,t){return t=isFunction$2(t)?t:constant(t),e?function(n,s){const u=t(n,s);return e.skip()||(e.skip(u!==this.value).value=u),u}:t}function rank(e){e.rank=++this._rank}function rerank(e){const t=[e];let n,s,u;for(;t.length;)if(this.rank(n=t.pop()),s=n._targets)for(u=s.length;--u>=0;)t.push(n=s[u]),n===e&&error$1("Cycle detected in dataflow graph.")}const StopPropagation={},ADD=1<<0,REM=1<<1,MOD=1<<2,ADD_REM=ADD|REM,ADD_MOD=ADD|MOD,ALL=ADD|REM|MOD,REFLOW=1<<3,SOURCE=1<<4,NO_SOURCE=1<<5,NO_FIELDS=1<<6;function Pulse(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function materialize(e,t){const n=[];return visitArray(e,t,s=>n.push(s)),n}function filter$4(e,t){const n={};return e.visit(t,s=>{n[tupleid(s)]=1}),s=>n[tupleid(s)]?null:s}function addFilter(e,t){return e?(n,s)=>e(n,s)&&t(n,s):t}Pulse.prototype={StopPropagation,ADD,REM,MOD,ADD_REM,ADD_MOD,ALL,REFLOW,SOURCE,NO_SOURCE,NO_FIELDS,fork(e){return new Pulse(this.dataflow).init(this,e)},clone(){const e=this.fork(ALL);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(ALL|SOURCE)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Pulse(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&NO_FIELDS)&&(n.fields=e.fields),t&ADD?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&REM?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&MOD?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&NO_SOURCE?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||ALL;return t&ADD&&this.add.length||t&REM&&this.rem.length||t&MOD&&this.mod.length},reflow(e){if(e)return this.fork(ALL).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(MOD,filter$4(this,ADD))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return isArray$7(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?isArray$7(e)?e.some(s=>n[s]):n[e]:!!n:!1},filter(e,t){const n=this;return e&ADD&&(n.addF=addFilter(n.addF,t)),e&REM&&(n.remF=addFilter(n.remF,t)),e&MOD&&(n.modF=addFilter(n.modF,t)),e&SOURCE&&(n.srcF=addFilter(n.srcF,t)),n},materialize(e){e=e||ALL;const t=this;return e&ADD&&t.addF&&(t.add=materialize(t.add,t.addF),t.addF=null),e&REM&&t.remF&&(t.rem=materialize(t.rem,t.remF),t.remF=null),e&MOD&&t.modF&&(t.mod=materialize(t.mod,t.modF),t.modF=null),e&SOURCE&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,s=t;if(e&SOURCE)return visitArray(n.source,n.srcF,s),n;e&ADD&&visitArray(n.add,n.addF,s),e&REM&&visitArray(n.rem,n.remF,s),e&MOD&&visitArray(n.mod,n.modF,s);const u=n.source;if(e&REFLOW&&u){const f=n.add.length+n.mod.length;f===u.length||(f?visitArray(u,filter$4(n,ADD_MOD),s):visitArray(u,n.srcF,s))}return n}};function MultiPulse(e,t,n,s){const u=this;let f=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=s||null,this.pulses=n;for(const d of n)if(d.stamp===t){if(d.fields){const g=u.fields||(u.fields={});for(const v in d.fields)g[v]=1}d.changed(u.ADD)&&(f|=u.ADD),d.changed(u.REM)&&(f|=u.REM),d.changed(u.MOD)&&(f|=u.MOD)}this.changes=f}inherits(MultiPulse,Pulse,{fork(e){const t=new Pulse(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?isArray$7(e)?e.some(s=>n[s]):n[e]:0},filter(){error$1("MultiPulse does not support filtering.")},materialize(){error$1("MultiPulse does not support materialization.")},visit(e,t){const n=this,s=n.pulses,u=s.length;let f=0;if(e&n.SOURCE)for(;f<u;++f)s[f].visit(e,t);else for(;f<u;++f)s[f].stamp===n.stamp&&s[f].visit(e,t);return n}});async function evaluate(e,t,n){const s=this,u=[];if(s._pulse)return reentrant(s);if(s._pending&&await s._pending,t&&await asyncCallback(s,t),!s._touched.length)return s.debug("Dataflow invoked, but nothing to do."),s;const f=++s._clock;s._pulse=new Pulse(s,f,e),s._touched.forEach(M=>s._enqueue(M,!0)),s._touched=UniqueList(id);let d=0,g,v,S;try{for(;s._heap.size()>0;){if(g=s._heap.pop(),g.rank!==g.qrank){s._enqueue(g,!0);continue}v=g.run(s._getPulse(g,e)),v.then?v=await v:v.async&&(u.push(v.async),v=StopPropagation),v!==StopPropagation&&g._targets&&g._targets.forEach(M=>s._enqueue(M)),++d}}catch(M){s._heap.clear(),S=M}if(s._input={},s._pulse=null,s.debug(`Pulse ${f}: ${d} operators`),S&&(s._postrun=[],s.error(S)),s._postrun.length){const M=s._postrun.sort((I,P)=>P.priority-I.priority);s._postrun=[];for(let I=0;I<M.length;++I)await asyncCallback(s,M[I].callback)}return n&&await asyncCallback(s,n),u.length&&Promise.all(u).then(M=>s.runAsync(null,()=>{M.forEach(I=>{try{I(s)}catch(P){s.error(P)}})})),s}async function runAsync(e,t,n){for(;this._running;)await this._running;const s=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(s,s),this._running}function run(e,t,n){return this._pulse?reentrant(this):(this.evaluate(e,t,n),this)}function runAfter(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(s){this.error(s)}}function reentrant(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function enqueue(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function getPulse(e,t){const n=e.source,s=this._clock;return n&&isArray$7(n)?new MultiPulse(this,s,n.map(u=>u.pulse),t):this._input[e.id]||singlePulse(this._pulse,n&&n.pulse)}function singlePulse(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==StopPropagation&&(e.source=t.source),e)}const NO_OPT={skip:!1,force:!1};function touch(e,t){const n=t||NO_OPT;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function update$1(e,t,n){const s=n||NO_OPT;return(e.set(t)||s.force)&&this.touch(e,s),this}function pulse(e,t,n){this.touch(e,n||NO_OPT);const s=new Pulse(this,this._clock+(this._pulse?0:1)),u=e.pulse&&e.pulse.source||[];return s.target=e,this._input[e.id]=t.pulse(s,u),this}function Heap$1(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),siftdown(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let s;return t.length?(s=t[0],t[0]=n,siftup(t,0,e)):s=n,s}}}function siftdown(e,t,n,s){let u,f;const d=e[n];for(;n>t;){if(f=n-1>>1,u=e[f],s(d,u)<0){e[n]=u,n=f;continue}break}return e[n]=d}function siftup(e,t,n){const s=t,u=e.length,f=e[t];let d=(t<<1)+1,g;for(;d<u;)g=d+1,g<u&&n(e[d],e[g])>=0&&(d=g),e[t]=e[d],t=d,d=(t<<1)+1;return e[t]=f,siftdown(e,s,t,n)}function Dataflow(){this.logger(logger()),this.logLevel(Error$1),this._clock=0,this._rank=0,this._locale=defaultLocale();try{this._loader=loader()}catch{}this._touched=UniqueList(id),this._input={},this._pulse=null,this._heap=Heap$1((e,t)=>e.qrank-t.qrank),this._postrun=[]}function logMethod(e){return function(){return this._log[e].apply(this,arguments)}}Dataflow.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:logMethod("error"),warn:logMethod("warn"),info:logMethod("info"),debug:logMethod("debug"),logLevel:logMethod("level"),cleanThreshold:1e4,add,connect,rank,rerank,pulse,touch,update:update$1,changeset,ingest,parse:parse$2,preload,request,events,on,evaluate,run,runAsync,runAfter,_enqueue:enqueue,_getPulse:getPulse};function Transform(e,t){Operator.call(this,e,null,t)}inherits(Transform,Operator,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const Intersect="intersect",Union="union",VlMulti="vlMulti",VlPoint="vlPoint",Or="or",And="and",SelectionId="_vgsid_",$selectionId=field(SelectionId),TYPE_ENUM="E",TYPE_RANGE_INC="R",TYPE_RANGE_EXC="R-E",TYPE_RANGE_LE="R-LE",TYPE_RANGE_RE="R-RE",UNIT_INDEX="index:unit";function testPoint(e,t){for(var n=t.fields,s=t.values,u=n.length,f=0,d,g;f<u;++f)if(g=n[f],g.getter=field.getter||field(g.field),d=g.getter(e),isDate$2(d)&&(d=toNumber$2(d)),isDate$2(s[f])&&(s[f]=toNumber$2(s[f])),isDate$2(s[f][0])&&(s[f]=s[f].map(toNumber$2)),g.type===TYPE_ENUM){if(isArray$7(s[f])?s[f].indexOf(d)<0:d!==s[f])return!1}else if(g.type===TYPE_RANGE_INC){if(!inrange(d,s[f]))return!1}else if(g.type===TYPE_RANGE_RE){if(!inrange(d,s[f],!0,!1))return!1}else if(g.type===TYPE_RANGE_EXC){if(!inrange(d,s[f],!1,!1))return!1}else if(g.type===TYPE_RANGE_LE&&!inrange(d,s[f],!1,!0))return!1;return!0}function selectionTest(e,t,n){for(var s=this.context.data[e],u=s?s.values.value:[],f=s?s[UNIT_INDEX]&&s[UNIT_INDEX].value:void 0,d=n===Intersect,g=u.length,v=0,S,M,I,P,N;v<g;++v)if(S=u[v],f&&d){if(M=M||{},I=M[P=S.unit]||0,I===-1)continue;if(N=testPoint(t,S),M[P]=N?-1:++I,N&&f.size===1)return!0;if(!N&&I===f.get(P).count)return!1}else if(N=testPoint(t,S),d^N)return N;return g&&d}const bisect=bisector($selectionId),bisectLeft=bisect.left,bisectRight=bisect.right;function selectionIdTest(e,t,n){const s=this.context.data[e],u=s?s.values.value:[],f=s?s[UNIT_INDEX]&&s[UNIT_INDEX].value:void 0,d=n===Intersect,g=$selectionId(t),v=bisectLeft(u,g);if(v===u.length||$selectionId(u[v])!==g)return!1;if(f&&d){if(f.size===1)return!0;if(bisectRight(u,g)-v<f.size)return!1}return!0}function selectionTuples(e,t){return e.map(n=>extend$1(t.fields?{values:t.fields.map(s=>(s.getter||(s.getter=field(s.field)))(n.datum))}:{[SelectionId]:$selectionId(n.datum)},t))}function selectionResolve(e,t,n,s){for(var u=this.context.data[e],f=u?u.values.value:[],d={},g={},v={},S,M,I,P,N,F,j,U,V,Z,Q=f.length,J=0,te,oe;J<Q;++J)if(S=f[J],P=S.unit,M=S.fields,I=S.values,M&&I){for(te=0,oe=M.length;te<oe;++te)N=M[te],j=d[N.field]||(d[N.field]={}),U=j[P]||(j[P]=[]),v[N.field]=V=N.type.charAt(0),Z=ops[`${V}_union`],j[P]=Z(U,array$2(I[te]));n&&(U=g[P]||(g[P]=[]),U.push(array$2(I).reduce((ue,se,le)=>(ue[M[le].field]=se,ue),{})))}else N=SelectionId,F=$selectionId(S),j=d[N]||(d[N]={}),U=j[P]||(j[P]=[]),U.push(F),n&&(U=g[P]||(g[P]=[]),U.push({[SelectionId]:F}));if(t=t||Union,d[SelectionId]?d[SelectionId]=ops[`${SelectionId}_${t}`](...Object.values(d[SelectionId])):Object.keys(d).forEach(ue=>{d[ue]=Object.keys(d[ue]).map(se=>d[ue][se]).reduce((se,le)=>se===void 0?le:ops[`${v[ue]}_${t}`](se,le))}),f=Object.keys(g),n&&f.length){const ue=s?VlPoint:VlMulti;d[ue]=t===Union?{[Or]:f.reduce((se,le)=>(se.push(...g[le]),se),[])}:{[And]:f.map(se=>({[Or]:g[se]}))}}return d}var ops={[`${SelectionId}_union`]:union,[`${SelectionId}_intersect`]:intersection$1,E_union:function(e,t){if(!e.length)return t;for(var n=0,s=t.length;n<s;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=toNumber$2(t[0]),s=toNumber$2(t[1]);return n>s&&(n=t[1],s=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<s&&(e[1]=s),e):[n,s]},R_intersect:function(e,t){var n=toNumber$2(t[0]),s=toNumber$2(t[1]);return n>s&&(n=t[1],s=t[0]),e.length?s<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>s&&(e[1]=s),e):[n,s]}};const DataPrefix$1=":",IndexPrefix$1="@";function selectionVisitor(e,t,n,s){t[0].type!==Literal&&error$1("First argument to selection functions must be a string literal.");const u=t[0].value,f=t.length>=2&&peek$1(t).value,d="unit",g=IndexPrefix$1+d,v=DataPrefix$1+u;f===Intersect&&!has(s,g)&&(s[g]=n.getData(u).indataRef(n,d)),has(s,v)||(s[v]=n.getData(u).tuplesRef())}var random$1=Math.random;const SQRT2PI=Math.sqrt(2*Math.PI),SQRT2=Math.SQRT2;let nextSample=NaN;function sampleNormal(e,t){e=e||0,t=t??1;let n=0,s=0,u,f;if(nextSample===nextSample)n=nextSample,nextSample=NaN;else{do n=random$1()*2-1,s=random$1()*2-1,u=n*n+s*s;while(u===0||u>1);f=Math.sqrt(-2*Math.log(u)/u),n*=f,nextSample=s*f}return e+n*t}function densityNormal(e,t,n){n=n??1;const s=(e-(t||0))/n;return Math.exp(-.5*s*s)/(n*SQRT2PI)}function cumulativeNormal(e,t,n){t=t||0,n=n??1;const s=(e-t)/n,u=Math.abs(s);let f;if(u>37)f=0;else{const d=Math.exp(-u*u/2);let g;u<7.07106781186547?(g=.0352624965998911*u+.700383064443688,g=g*u+6.37396220353165,g=g*u+33.912866078383,g=g*u+112.079291497871,g=g*u+221.213596169931,g=g*u+220.206867912376,f=d*g,g=.0883883476483184*u+1.75566716318264,g=g*u+16.064177579207,g=g*u+86.7807322029461,g=g*u+296.564248779674,g=g*u+637.333633378831,g=g*u+793.826512519948,g=g*u+440.413735824752,f=f/g):(g=u+.65,g=u+4/g,g=u+3/g,g=u+2/g,g=u+1/g,f=d/g/2.506628274631)}return s>0?1-f:f}function quantileNormal(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*SQRT2*erfinv(2*e-1)}function erfinv(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function sampleLogNormal(e,t){return e=e||0,t=t??1,Math.exp(e+sampleNormal()*t)}function densityLogNormal(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const s=(Math.log(e)-t)/n;return Math.exp(-.5*s*s)/(n*SQRT2PI*e)}function cumulativeLogNormal(e,t,n){return cumulativeNormal(Math.log(e),t,n)}function quantileLogNormal(e,t,n){return Math.exp(quantileNormal(e,t,n))}function sampleUniform(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*random$1()}function densityUniform(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function cumulativeUniform(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function quantileUniform(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function data$4(e){const t=this.context.data[e];return t?t.values.value:[]}function indata(e,t,n){const s=this.context.data[e]["index:"+t],u=s?s.value.get(n):void 0;return u&&u.count}function setdata(e,t){const n=this.context.dataflow,s=this.context.data[e],u=s.input;return n.pulse(u,n.changeset().remove(truthy).insert(t)),1}function encode(e,t,n){if(e){const s=this.context.dataflow,u=e.mark.source;s.pulse(u,s.changeset().encode(e,t))}return n!==void 0?n:e}const wrap=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},format=wrap("format"),timeFormat=wrap("timeFormat"),utcFormat=wrap("utcFormat"),timeParse=wrap("timeParse"),utcParse=wrap("utcParse"),dateObj=new Date(2e3,0,1);function time(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(dateObj.setYear(2e3),dateObj.setMonth(e),dateObj.setDate(t),timeFormat.call(this,dateObj,n))}function monthFormat(e){return time.call(this,e,1,"%B")}function monthAbbrevFormat(e){return time.call(this,e,1,"%b")}function dayFormat(e){return time.call(this,0,2+e,"%A")}function dayAbbrevFormat(e){return time.call(this,0,2+e,"%a")}const DataPrefix=":",IndexPrefix="@",ScalePrefix="%",SignalPrefix="$";function dataVisitor(e,t,n,s){t[0].type!==Literal&&error$1("First argument to data functions must be a string literal.");const u=t[0].value,f=DataPrefix+u;if(!has(f,s))try{s[f]=n.getData(u).tuplesRef()}catch{}}function indataVisitor(e,t,n,s){t[0].type!==Literal&&error$1("First argument to indata must be a string literal."),t[1].type!==Literal&&error$1("Second argument to indata must be a string literal.");const u=t[0].value,f=t[1].value,d=IndexPrefix+f;has(d,s)||(s[d]=n.getData(u).indataRef(n,f))}function scaleVisitor(e,t,n,s){if(t[0].type===Literal)addScaleDependency(n,s,t[0].value);else for(e in n.scales)addScaleDependency(n,s,e)}function addScaleDependency(e,t,n){const s=ScalePrefix+n;if(!has(t,s))try{t[s]=e.scaleRef(n)}catch{}}function getScale(e,t){if(isFunction$2(e))return e;if(isString(e)){const n=t.scales[e];return n&&isRegisteredScale(n.value)?n.value:void 0}}function internalScaleFunctions(e,t,n){t.__bandwidth=u=>u&&u.bandwidth?u.bandwidth():0,n._bandwidth=scaleVisitor,n._range=scaleVisitor,n._scale=scaleVisitor;const s=u=>"_["+(u.type===Literal?$(ScalePrefix+u.value):$(ScalePrefix)+"+"+e(u))+"]";return{_bandwidth:u=>`this.__bandwidth(${s(u[0])})`,_range:u=>`${s(u[0])}.range()`,_scale:u=>`${s(u[0])}(${e(u[1])})`}}function geoMethod(e,t){return function(n,s,u){if(n){const f=getScale(n,(u||this).context);return f&&f.path[e](s)}else return t(s)}}const geoArea=geoMethod("area",geoArea$1),geoBounds=geoMethod("bounds",geoBounds$1),geoCentroid=geoMethod("centroid",geoCentroid$1);function inScope(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function log(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(s){e.warn(s)}return n[n.length-1]}function warn$1(){return log(this.context.dataflow,"warn",arguments)}function info(){return log(this.context.dataflow,"info",arguments)}function debug$1(){return log(this.context.dataflow,"debug",arguments)}function channel_luminance_value(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function luminance(e){const t=rgb(e),n=channel_luminance_value(t.r),s=channel_luminance_value(t.g),u=channel_luminance_value(t.b);return .2126*n+.7152*s+.0722*u}function contrast(e,t){const n=luminance(e),s=luminance(t),u=Math.max(n,s),f=Math.min(n,s);return(u+.05)/(f+.05)}function merge(){const e=[].slice.call(arguments);return e.unshift({}),extend$1(...e)}function equal(e,t){return e===t||e!==e&&t!==t?!0:isArray$7(e)?isArray$7(t)&&e.length===t.length?equalArray(e,t):!1:isObject$7(e)&&isObject$7(t)?equalObject(e,t):!1}function equalArray(e,t){for(let n=0,s=e.length;n<s;++n)if(!equal(e[n],t[n]))return!1;return!0}function equalObject(e,t){for(const n in e)if(!equal(e[n],t[n]))return!1;return!0}function removePredicate(e){return t=>equalObject(e,t)}function modify(e,t,n,s,u,f){const d=this.context.dataflow,g=this.context.data[e],v=g.input,S=d.stamp();let M=g.changes,I,P;if(d._trigger===!1||!(v.value.length||t||s))return 0;if((!M||M.stamp<S)&&(g.changes=M=d.changeset(),M.stamp=S,d.runAfter(()=>{g.modified=!0,d.pulse(v,M).run()},!0,1)),n&&(I=n===!0?truthy:isArray$7(n)||isTuple(n)?n:removePredicate(n),M.remove(I)),t&&M.insert(t),s&&(I=removePredicate(s),v.value.some(I)?M.remove(I):M.insert(s)),u)for(P in f)M.modify(u,P,f[P]);return 1}function pinchDistance(e){const t=e.touches,n=t[0].clientX-t[1].clientX,s=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+s*s)}function pinchAngle(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const accessors={};function pluck(e,t){const n=accessors[t]||(accessors[t]=field(t));return isArray$7(e)?e.map(n):n(e)}function array$1(e){return isArray$7(e)||ArrayBuffer.isView(e)?e:null}function sequence(e){return array$1(e)||(isString(e)?e:null)}function join(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return array$1(e).join(...n)}function indexof(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return sequence(e).indexOf(...n)}function lastindexof(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return sequence(e).lastIndexOf(...n)}function slice(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return sequence(e).slice(...n)}function replace(e,t,n){return isFunction$2(n)&&error$1("Function argument passed to replace."),String(e).replace(t,n)}function reverse(e){return array$1(e).slice().reverse()}function bandspace(e,t,n){return bandSpace(e||0,t||0,n||0)}function bandwidth(e,t){const n=getScale(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function copy$1(e,t){const n=getScale(e,(t||this).context);return n?n.copy():void 0}function domain(e,t){const n=getScale(e,(t||this).context);return n?n.domain():[]}function invert(e,t,n){const s=getScale(e,(n||this).context);return s?isArray$7(t)?(s.invertRange||s.invert)(t):(s.invert||s.invertExtent)(t):void 0}function range$1(e,t){const n=getScale(e,(t||this).context);return n&&n.range?n.range():[]}function scale$1(e,t,n){const s=getScale(e,(n||this).context);return s?s(t):void 0}function scaleGradient(e,t,n,s,u){e=getScale(e,(u||this).context);const f=Gradient(t,n);let d=e.domain(),g=d[0],v=peek$1(d),S=identity$1;return v-g?S=scaleFraction(e,g,v):e=(e.interpolator?scale$3("sequential")().interpolator(e.interpolator()):scale$3("linear")().interpolate(e.interpolate()).range(e.range())).domain([g=0,v=1]),e.ticks&&(d=e.ticks(+s||15),g!==d[0]&&d.unshift(g),v!==peek$1(d)&&d.push(v)),d.forEach(M=>f.stop(S(M),e(M))),f}function geoShape(e,t,n){const s=getScale(e,(n||this).context);return function(u){return s?s.path.context(u)(t):""}}function pathShape(e){let t=null;return function(n){return n?pathRender(n,t=t||parse$3(e)):e}}const datum=e=>e.data;function treeNodes(e,t){const n=data$4.call(t,e);return n.root&&n.root.lookup||{}}function treePath(e,t,n){const s=treeNodes(e,this),u=s[t],f=s[n];return u&&f?u.path(f).map(datum):void 0}function treeAncestors(e,t){const n=treeNodes(e,this)[t];return n?n.ancestors().map(datum):void 0}const _window=()=>typeof window<"u"&&window||null;function screen(){const e=_window();return e?e.screen:{}}function windowSize(){const e=_window();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function containerSize(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function intersect(e,t,n){if(!e)return[];const[s,u]=e,f=new Bounds().set(s[0],s[1],u[0],u[1]),d=n||this.context.dataflow.scenegraph().root;return intersect$1(d,f,filter$3(t))}function filter$3(e){let t=null;if(e){const n=array$2(e.marktype),s=array$2(e.markname);t=u=>(!n.length||n.some(f=>u.marktype===f))&&(!s.length||s.some(f=>u.name===f))}return t}function lassoAppend(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=array$2(e);const u=e[e.length-1];return u===void 0||Math.sqrt((u[0]-t)**2+(u[1]-n)**2)>s?[...e,[t,n]]:e}function lassoPath(e){return array$2(e).reduce((t,n,s)=>{let[u,f]=n;return t+=s==0?`M ${u},${f} `:s===e.length-1?" Z":`L ${u},${f} `},"")}function intersectLasso(e,t,n){const{x:s,y:u,mark:f}=n,d=new Bounds().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[v,S]of t)v<d.x1&&(d.x1=v),v>d.x2&&(d.x2=v),S<d.y1&&(d.y1=S),S>d.y2&&(d.y2=S);return d.translate(s,u),intersect([[d.x1,d.y1],[d.x2,d.y2]],e,f).filter(v=>pointInPolygon$1(v.x,v.y,t))}function pointInPolygon$1(e,t,n){let s=0;for(let u=0,f=n.length-1;u<n.length;f=u++){const[d,g]=n[f],[v,S]=n[u];S>t!=g>t&&e<(d-v)*(t-S)/(g-S)+v&&s++}return s&1}const functionContext={random(){return random$1()},cumulativeNormal,cumulativeLogNormal,cumulativeUniform,densityNormal,densityLogNormal,densityUniform,quantileNormal,quantileLogNormal,quantileUniform,sampleNormal,sampleLogNormal,sampleUniform,isArray:isArray$7,isBoolean:isBoolean$1,isDate:isDate$2,isDefined(e){return e!==void 0},isNumber:isNumber$1,isObject:isObject$7,isRegExp,isString,isTuple,isValid(e){return e!=null&&e===e},toBoolean,toDate(e){return toDate(e)},toNumber:toNumber$2,toString:toString$4,indexof,join,lastindexof,replace,reverse,slice,flush,lerp,merge,pad,peek:peek$1,pluck,span,inrange,truncate:truncate$1,rgb,lab:lab$1,hcl:hcl$2,hsl:hsl$2,luminance,contrast,sequence:range$3,format,utcFormat,utcParse,utcOffset,utcSequence,timeFormat,timeParse,timeOffset,timeSequence,timeUnitSpecifier,monthFormat,monthAbbrevFormat,dayFormat,dayAbbrevFormat,quarter,utcquarter,week,utcweek,dayofyear,utcdayofyear,warn:warn$1,info,debug:debug$1,extent(e){return extent(e)},inScope,intersect,clampRange,pinchDistance,pinchAngle,screen,containerSize,windowSize,bandspace,setdata,pathShape,panLinear,panLog,panPow,panSymlog,zoomLinear,zoomLog,zoomPow,zoomSymlog,encode,modify,lassoAppend,lassoPath,intersectLasso},eventFunctions=["view","item","group","xy","x","y"],eventPrefix="event.vega.",thisPrefix="this.",astVisitors={},codegenParams={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${$(SignalPrefix+e)}]`,functions:buildFunctions,constants:Constants,visitors:astVisitors},codeGenerator=codegen(codegenParams);function buildFunctions(e){const t=Functions(e);eventFunctions.forEach(n=>t[n]=eventPrefix+n);for(const n in functionContext)t[n]=thisPrefix+n;return extend$1(t,internalScaleFunctions(e,functionContext,astVisitors)),t}function expressionFunction(e,t,n){return arguments.length===1?functionContext[e]:(functionContext[e]=t,n&&(astVisitors[e]=n),codeGenerator&&(codeGenerator.functions[e]=thisPrefix+e),this)}expressionFunction("bandwidth",bandwidth,scaleVisitor);expressionFunction("copy",copy$1,scaleVisitor);expressionFunction("domain",domain,scaleVisitor);expressionFunction("range",range$1,scaleVisitor);expressionFunction("invert",invert,scaleVisitor);expressionFunction("scale",scale$1,scaleVisitor);expressionFunction("gradient",scaleGradient,scaleVisitor);expressionFunction("geoArea",geoArea,scaleVisitor);expressionFunction("geoBounds",geoBounds,scaleVisitor);expressionFunction("geoCentroid",geoCentroid,scaleVisitor);expressionFunction("geoShape",geoShape,scaleVisitor);expressionFunction("indata",indata,indataVisitor);expressionFunction("data",data$4,dataVisitor);expressionFunction("treePath",treePath,dataVisitor);expressionFunction("treeAncestors",treeAncestors,dataVisitor);expressionFunction("vlSelectionTest",selectionTest,selectionVisitor);expressionFunction("vlSelectionIdTest",selectionIdTest,selectionVisitor);expressionFunction("vlSelectionResolve",selectionResolve,selectionVisitor);expressionFunction("vlSelectionTuples",selectionTuples);const constructExpressionFunction=e=>{const t="this.";function n(d){const g=Functions(d);for(const S in functionContext)g[S]=t+S;const v={timeFormat:timeFormat$1,timeParse:timeParse$1,utcFormat:utcFormat$1,utcParse:utcParse$1};for(const S of Object.keys(v))g[S]=t+S,functionContext[S]=(M,I)=>v[S](I)(M);return g}const u=codegen({globalvar:"globalVar",functions:n})(parser(e.calculate)),f=Function("globalVar",'"use strict"; return ('+u.code+")");return(d,g,v,S)=>f.apply(functionContext,[{datum:d,index:g,params:v,bounds:S}])},calculateCalculate=(e,t)=>{const n=constructExpressionFunction(t);for(let s=0;s<e.length;s++){let u=e[s];const f=t.as.split(".");for(;f.length>1;)u=u[f.shift()];u[f[0]]=n(e[s],s)}return e},filter$2=(e,t)=>{const s=codegen({globalvar:"globalVar"})(parser(t.expr)),u=Function("globalVar",'"use strict"; return ('+s.code+")");return e.filter(f=>u({datum:f}))},flatten$1=(e,t)=>{const n=[];for(const s of e){const u=t.flatten.map(d=>s[d]),f=max$3(u.map(d=>d.length));for(let d=0;d<f;d++){const g=u.map(S=>S[d]),v=Object.fromEntries(zip(t.flatten,g));n.push(Object.assign(Object.assign({},s),v))}}return n},foldData=(e,t)=>{const n=[];for(const s of t.fields)for(const u of e)n.push(Object.assign({field:s,value:u[s]},u));return n};var __awaiter$8=globalThis&&globalThis.__awaiter||function(e,t,n,s){function u(f){return f instanceof n?f:new n(function(d){d(f)})}return new(n||(n=Promise))(function(f,d){function g(M){try{S(s.next(M))}catch(I){d(I)}}function v(M){try{S(s.throw(M))}catch(I){d(I)}}function S(M){M.done?f(M.value):u(M.value).then(g,v)}S((s=s.apply(e,t||[])).next())})};const sleep=e=>new Promise(t=>setTimeout(t,e)),geocode=(e,t)=>__awaiter$8(void 0,void 0,void 0,function*(){var n,s,u,f,d;const g=new Map;let v;if(window){v=JSON.parse((n=window.localStorage.getItem("locations"))!==null&&n!==void 0?n:"{}");for(const S of Object.keys(v))g.set(S,v[S])}for(const S of e){let M;if("locationField"in t)M=`q=${S[t.locationField]}`;else{const I=[],P=N=>encodeURIComponent(S[t[N]]);"streetField"in t&&I.push(`street=${P("streetField")}`),"cityField"in t&&I.push(`city=${P("cityField")}`),"stateField"in t&&I.push(`state=${P("stateField")}`),"countryField"in t&&I.push(`country=${P("countryField")}`),"postalCodeField"in t&&I.push(`postalcode=${P("postalCodeField")}`),M=I.join("&")}if(g.has(M)){const I=g.get(M);S[(s=t.lonAs)!==null&&s!==void 0?s:"lon"]=I.lon,S[(u=t.latAs)!==null&&u!==void 0?u:"lat"]=I.lat,"nameAs"in t&&(S[t.nameAs]=I.display_name)}else{yield sleep(800);const I=`https://geocode.maps.co/search?${M}`,P=yield fetch(I,{mode:"cors",headers:{"User-Agent":"ANYTHING_WILL_WORK_HERE"}}).then(N=>N.json());P.length>0?(S[(f=t.lonAs)!==null&&f!==void 0?f:"lon"]=P[0].lon,S[(d=t.latAs)!==null&&d!==void 0?d:"lat"]=P[0].lat,"nameAs"in t&&(S[t.nameAs]=P[0].display_name),g.set(M,P[0])):g.set(M,{lon:void 0,lat:void 0})}}if(window){for(const S of g.keys())v[S]=g.get(S);window.localStorage.setItem("locations",JSON.stringify(v))}return e}),pivot=(e,t)=>{const n=new Map;for(const f of e){const d=t.groupby.map(g=>f[g]).join("_");n.has(d)||n.set(d,[]),n.get(d).push(f)}const s=aggregationFunctions[t.op]||aggregationFunctions.sum,u=[];for(const f of n.keys()){const d=n.get(f),g={};for(const S of t.groupby)g[S]=d[0][S];const v=new Map;for(const S of d){const M=S[t.pivot],I=S[t.value];v.has(M)||v.set(M,[]),v.get(M).push(I)}for(const S of v.keys())g[S]=s(v.get(S));u.push(g)}return u};function getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}const sample=(e,t)=>{if(e.length<t.sample)return e;const n=[],s=[];for(;n.length<t.sample;){const u=getRandomInt(0,e.length);s.includes(u)||(n.push(e[u]),s.push(u))}return n},lookup$1=(e,t,n)=>{e=JSON.parse(JSON.stringify(e));const s={};if(n.values){for(const u of n.values)s[u]={};for(const u of t[n.from]){const f=u[n.key];for(const d of n.values)s[d][f]=u[d]}}else for(const u of t[n.from]){const f=u[n.key];s[f]=u}for(const u of e)if(n.values){let f=0;for(const d of n.values){const g=(n.as||[])[f]||d,v=u[n.fields[0]],S=s[d][v];u[g]=typeof S>"u"?n.default:S,f+=1}}else{const f=u[n.fields[0]];u[n.as[0]]=s[f]}return e},unroll=(e,t)=>{const n={};for(const s of t.fields)n[s]=[];for(const s of e)for(const u of t.fields)n[u]=[...n[u],...s[u]];return n},addIndex=(e,t)=>{var n;const s=(n=t.as)!==null&&n!==void 0?n:"index";for(let u=0;u<e.length;u+=1)e[u][s]=u;return e};var __awaiter$7=globalThis&&globalThis.__awaiter||function(e,t,n,s){function u(f){return f instanceof n?f:new n(function(d){d(f)})}return new(n||(n=Promise))(function(f,d){function g(M){try{S(s.next(M))}catch(I){d(I)}}function v(M){try{S(s.throw(M))}catch(I){d(I)}}function S(M){M.done?f(M.value):u(M.value).then(g,v)}S((s=s.apply(e,t||[])).next())})};const applyTransform=(e,t,n,s)=>__awaiter$7(void 0,void 0,void 0,function*(){if(n.type==="aggregation")return computeAggregation(t,n);if(n.type==="bin")return computeBins(t,n);if(n.type==="calculate")return calculateCalculate(t,n);if(n.type==="filter")return filter$2(t,n);if(n.type==="flatten")return flatten$1(t,n);if(n.type==="fold")return foldData(t,n);if(n.type==="pivot")return pivot(t,n);if(n.type==="sample")return sample(t,n);if(n.type==="unroll")return unroll(t,n);if(n.type==="lookup")return lookup$1(t,e,n);if(n.type==="geocode")return yield geocode(t,n);if(n.type==="addIndex")return addIndex(t,n);if(n.type==="function")return s[n.function](t,n)});var __awaiter$6=globalThis&&globalThis.__awaiter||function(e,t,n,s){function u(f){return f instanceof n?f:new n(function(d){d(f)})}return new(n||(n=Promise))(function(f,d){function g(M){try{S(s.next(M))}catch(I){d(I)}}function v(M){try{S(s.throw(M))}catch(I){d(I)}}function S(M){M.done?f(M.value):u(M.value).then(g,v)}S((s=s.apply(e,t||[])).next())})};function loadData(e,t){return __awaiter$6(this,void 0,void 0,function*(){const n={};for(const s of e){const u=yield loadSingleDataset(s,n,t);if(u){if(n[u.name]=u.values,"transform"in s)for(const f of s.transform)u.values=yield applyTransform(n,u.values,f,t);n[u.name]=u.values}}return n})}function loadSingleDataset(e,t,n){return __awaiter$6(this,void 0,void 0,function*(){if("values"in e)return{name:e.name,values:e.values};if("url"in e){const s=yield loader().load(e.url);return{name:e.name,values:read(s,e.format)}}else if("source"in e){const s=JSON.parse(JSON.stringify(select(t,e.source)));return{name:e.name,values:s}}else if("localStorage"in e){const s=window.localStorage.getItem(e.localStorage);return{name:e.name,values:read(s,e.format)}}else if("function"in e)return{name:e.name,values:n[e.function](e)}})}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ngraph_events=function(t){validateSubject(t);var n=createEventsStorage(t);return t.on=n.on,t.off=n.off,t.fire=n.fire,t};function createEventsStorage(e){var t=Object.create(null);return{on:function(n,s,u){if(typeof s!="function")throw new Error("callback is expected to be a function");var f=t[n];return f||(f=t[n]=[]),f.push({callback:s,ctx:u}),e},off:function(n,s){var u=typeof n>"u";if(u)return t=Object.create(null),e;if(t[n]){var f=typeof s!="function";if(f)delete t[n];else for(var d=t[n],g=0;g<d.length;++g)d[g].callback===s&&d.splice(g,1)}return e},fire:function(n){var s=t[n];if(!s)return e;var u;arguments.length>1&&(u=Array.prototype.splice.call(arguments,1));for(var f=0;f<s.length;++f){var d=s[f];d.callback.apply(d.ctx,u)}return e}}}function validateSubject(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}var ngraph_graph=createGraph,eventify=ngraph_events;function createGraph(e){if(e=e||{},"uniqueLinkId"in e&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),e.multigraph=e.uniqueLinkId),e.multigraph===void 0&&(e.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var t=new Map,n=new Map,s={},u=0,f=e.multigraph?J:Q,d=[],g=Te,v=Te,S=Te,M=Te,I={version:20,addNode:j,addLink:Z,removeLink:se,removeNode:V,getNode:U,getNodeCount:te,getLinkCount:oe,getEdgeCount:oe,getLinksCount:oe,getNodesCount:te,getLinks:ue,forEachNode:Be,forEachLinkedNode:me,forEachLink:ve,beginUpdate:S,endUpdate:M,clear:ge,hasLink:de,hasNode:U,getLink:de};return eventify(I),P(),I;function P(){var De=I.on;I.on=Pe;function Pe(){return I.beginUpdate=S=Oe,I.endUpdate=M=Ie,g=N,v=F,I.on=De,De.apply(I,arguments)}}function N(De,Pe){d.push({link:De,changeType:Pe})}function F(De,Pe){d.push({node:De,changeType:Pe})}function j(De,Pe){if(De===void 0)throw new Error("Invalid node identifier");S();var Ne=U(De);return Ne?(Ne.data=Pe,v(Ne,"update")):(Ne=new Node$3(De,Pe),v(Ne,"add")),t.set(De,Ne),M(),Ne}function U(De){return t.get(De)}function V(De){var Pe=U(De);if(!Pe)return!1;S();var Ne=Pe.links;return Ne&&(Ne.forEach(le),Pe.links=null),t.delete(De),v(Pe,"remove"),M(),!0}function Z(De,Pe,Ne){S();var He=U(De)||j(De),je=U(Pe)||j(Pe),ze=f(De,Pe,Ne),Ve=n.has(ze.id);return n.set(ze.id,ze),addLinkToNode(He,ze),De!==Pe&&addLinkToNode(je,ze),g(ze,Ve?"update":"add"),M(),ze}function Q(De,Pe,Ne){var He=makeLinkId(De,Pe),je=n.get(He);return je?(je.data=Ne,je):new Link(De,Pe,Ne,He)}function J(De,Pe,Ne){var He=makeLinkId(De,Pe),je=s.hasOwnProperty(He);if(je||de(De,Pe)){je||(s[He]=0);var ze="@"+ ++s[He];He=makeLinkId(De+ze,Pe+ze)}return new Link(De,Pe,Ne,He)}function te(){return t.size}function oe(){return n.size}function ue(De){var Pe=U(De);return Pe?Pe.links:null}function se(De,Pe){return Pe!==void 0&&(De=de(De,Pe)),le(De)}function le(De){if(!De||!n.get(De.id))return!1;S(),n.delete(De.id);var Pe=U(De.fromId),Ne=U(De.toId);return Pe&&Pe.links.delete(De),Ne&&Ne.links.delete(De),g(De,"remove"),M(),!0}function de(De,Pe){if(!(De===void 0||Pe===void 0))return n.get(makeLinkId(De,Pe))}function ge(){S(),Be(function(De){V(De.id)}),M()}function ve(De){if(typeof De=="function")for(var Pe=n.values(),Ne=Pe.next();!Ne.done;){if(De(Ne.value))return!0;Ne=Pe.next()}}function me(De,Pe,Ne){var He=U(De);if(He&&He.links&&typeof Pe=="function")return Ne?Ae(He.links,De,Pe):ye(He.links,De,Pe)}function ye(De,Pe,Ne){for(var He,je=De.values(),ze=je.next();!ze.done;){var Ve=ze.value,Ye=Ve.fromId===Pe?Ve.toId:Ve.fromId;if(He=Ne(t.get(Ye),Ve),He)return!0;ze=je.next()}}function Ae(De,Pe,Ne){for(var He,je=De.values(),ze=je.next();!ze.done;){var Ve=ze.value;if(Ve.fromId===Pe&&(He=Ne(t.get(Ve.toId),Ve),He))return!0;ze=je.next()}}function Te(){}function Oe(){u+=1}function Ie(){u-=1,u===0&&d.length>0&&(I.fire("changed",d),d.length=0)}function Be(De){if(typeof De!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+De);for(var Pe=t.values(),Ne=Pe.next();!Ne.done;){if(De(Ne.value))return!0;Ne=Pe.next()}}}function Node$3(e,t){this.id=e,this.links=null,this.data=t}function addLinkToNode(e,t){e.links?e.links.add(t):e.links=new Set([t])}function Link(e,t,n,s){this.fromId=e,this.toId=t,this.data=n,this.id=s}function makeLinkId(e,t){return e.toString()+" "+t.toString()}var ngraph_centrality={},degree_1=degree;function degree(e,t){var n,s=Object.create(null);if(t=(t||"both").toLowerCase(),t==="both"||t==="inout")n=inoutDegreeCalculator;else if(t==="in")n=inDegreeCalculator;else if(t==="out")n=outDegreeCalculator;else throw new Error("Expected centrality degree kind is: in, out or both");return e.forEachNode(u),s;function u(f){var d=e.getLinks(f.id);s[f.id]=n(d,f.id)}}function inDegreeCalculator(e,t){var n=0;return e&&e.forEach(function(s){n+=s.toId===t?1:0}),n}function outDegreeCalculator(e,t){var n=0;return e&&e.forEach(function(s){n+=s.fromId===t?1:0}),n}function inoutDegreeCalculator(e){return e?e.size||e.length:0}var betweenness=betweennes;function betweennes(e,t){var n=[],s=[],u=Object.create(null),f=Object.create(null),d=Object.create(null),g=Object.create(null),v,S=Object.create(null);return e.forEachNode(I),e.forEachNode(P),t||Object.keys(S).forEach(M),S;function M(U){S[U]/=2}function I(U){S[U.id]=0}function P(U){v=U.id,j(v),N()}function N(){for(e.forEachNode(F);s.length;){for(var U=s.pop(),V=(1+g[U])/d[U],Z=u[U],Q=0;Q<Z.length;++Q){var J=Z[Q];g[J]+=d[J]*V}U!==v&&(S[U]+=g[U])}}function F(U){g[U.id]=0}function j(U){for(e.forEachNode(Q),f[U]=0,d[U]=1,n.push(U);n.length;){var V=n.shift();s.push(V),e.forEachLinkedNode(V,Z,t)}function Z(te){J(te.id)}function Q(te){var oe=te.id;u[oe]=[],f[oe]=-1,d[oe]=0}function J(te){f[te]===-1&&(f[te]=f[V]+1,n.push(te)),f[te]===f[V]+1&&(d[te]+=d[V],u[te].push(V))}}}var closeness_1=closeness;function closeness(e,t){var n=[],s=Object.create(null),u,f=Object.create(null);return e.forEachNode(d),e.forEachNode(g),f;function d(M){f[M.id]=0}function g(M){u=M.id,S(u),v()}function v(){var M=Object.keys(s).map(function(N){return s[N]}).filter(function(N){return N!==-1}),I=M.length,P=M.reduce(function(N,F){return N+F},0);P>0?f[u]=(I-1)/P:f[u]=0}function S(M){for(e.forEachNode(P),s[M]=0,n.push(M);n.length;){var I=n.shift();e.forEachLinkedNode(I,N,t)}function P(F){var j=F.id;s[j]=-1}function N(F){var j=F.id;s[j]===-1&&(s[j]=s[I]+1,n.push(j))}}}var eccentricity_1=eccentricity;function eccentricity(e,t){var n=[],s=Object.create(null),u,f=Object.create(null);return e.forEachNode(d),e.forEachNode(g),f;function d(M){f[M.id]=0}function g(M){u=M.id,S(u),v()}function v(){var M=0;Object.keys(s).forEach(function(I){var P=s[I];M<P&&(M=P)}),f[u]=M}function S(M){for(e.forEachNode(P),s[M]=0,n.push(M);n.length;){var I=n.shift();e.forEachLinkedNode(I,N,t)}function P(F){var j=F.id;s[j]=-1}function N(F){var j=F.id;s[j]===-1&&(s[j]=s[I]+1,n.push(j))}}}ngraph_centrality.degree=degree_1;ngraph_centrality.betweenness=betweenness;ngraph_centrality.closeness=closeness_1;ngraph_centrality.eccentricity=eccentricity_1;const calculateMetrics=(e,t,n)=>{const s=ngraph_graph();for(const u of e){const f=typeof u.source=="object"?u.source.id:u.source,d=typeof u.target=="object"?u.target.id:u.target;s.addLink(f,d)}for(const u of n){let f;u.metric==="degree"?f=ngraph_centrality.degree(s):u.metric==="in-degree"?f=ngraph_centrality.degree(s,"in"):u.metric==="out-degree"?f=ngraph_centrality.degree(s,"out"):u.metric==="undirected-betweeness"?f=ngraph_centrality.betweenness(s):u.metric==="directed-betweeness"?f=ngraph_centrality.betweenness(s,!0):u.metric==="closeness"?f=ngraph_centrality.closeness(s):u.metric==="eccentricity"&&(f=ngraph_centrality.eccentricity(s));const d=u.as||u.metric;for(const g of t)g[d]=f[g.id]}},constructFromLinkTableOnly=(e,t)=>{var n,s;const u=JSON.parse(JSON.stringify(select(e,t.links))),f=[],d=[],g=new Map;for(const S of u){const M=select(S,t.source_node[1]),I=select(S,t.target_node[1]);if(!g.has(M)){const P={id:M};d.push(P),g.set(M,P)}if(S.source=g.get(M),!g.has(I)){const P={id:I};d.push(P),g.set(I,P)}S.target=g.get(I),S.directed=(n=t.directed)!==null&&n!==void 0?n:!0,t.addReverseLinks&&f.push(Object.assign(Object.assign({},S),{source:S.target,target:S.source,id:S.id+"_R",directed:(s=t.directed)!==null&&s!==void 0?s:!0}))}t.metrics&&calculateMetrics(u,d,t.metrics);let v;return"ignoreDanglingLinks"in t&&!t.ignoreDanglingLinks?v=[...u,...f]:v=[...u,...f].filter(S=>typeof S.source<"u"&&typeof S.target<"u"),{nodes:d,links:v}},constructNetwork=(e,t)=>{var n,s;if(!("nodes"in t))return constructFromLinkTableOnly(e,t);const u=JSON.parse(JSON.stringify(select(e,t.links))),f=JSON.parse(JSON.stringify(select(e,t.nodes))),d=[],g=new Map;for(const S of f)g.set(select(S,t.source_node[0]),S);for(const S of u){const M=select(S,t.source_node[1]),I=select(S,t.target_node[1]);S.source=g.get(M),S.target=g.get(I),S.directed=(n=t.directed)!==null&&n!==void 0?n:!0,t.addReverseLinks&&d.push(Object.assign(Object.assign({},S),{source:S.target,target:S.source,id:S.id+"_R",directed:(s=t.directed)!==null&&s!==void 0?s:!0}))}t.metrics&&calculateMetrics(u,f,t.metrics);let v;return"ignoreDanglingLinks"in t&&!t.ignoreDanglingLinks?v=[...u,...d]:v=[...u,...d].filter(S=>typeof S.source<"u"&&typeof S.target<"u"),{nodes:f,links:v}};function AxisTicks(e){Transform.call(this,null,e)}inherits(AxisTicks,Transform,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),s=t.fork(t.NO_SOURCE|t.NO_FIELDS),u=this.value,f=e.scale,d=e.count==null?e.values?e.values.length:10:e.count,g=tickCount(f,d,e.minstep),v=e.format||tickFormat(n,f,g,e.formatSpecifier,e.formatType,!!e.values),S=e.values?validTicks(f,e.values,g):tickValues(f,g);return u&&(s.rem=u),u=S.map((M,I)=>ingest$1({index:I/(S.length-1||1),value:M,label:v(M)})),e.extra&&u.length&&u.push(ingest$1({index:-1,extra:{value:u[0].value},label:""})),s.source=u,s.add=u,this.value=u,s}});function DataJoin(e){Transform.call(this,null,e)}function defaultItemCreate(){return ingest$1({})}function newMap(e){const t=fastmap().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}inherits(DataJoin,Transform,{transform(e,t){var n=t.dataflow,s=t.fork(t.NO_SOURCE|t.NO_FIELDS),u=e.item||defaultItemCreate,f=e.key||tupleid,d=this.value;return isArray$7(s.encode)&&(s.encode=null),d&&(e.modified("key")||t.modified(f))&&error$1("DataJoin does not support modified key function or fields."),d||(t=t.addAll(),this.value=d=newMap(f)),t.visit(t.ADD,g=>{const v=f(g);let S=d.get(v);S?S.exit?(d.empty--,s.add.push(S)):s.mod.push(S):(S=u(g),d.set(v,S),s.add.push(S)),S.datum=g,S.exit=!1}),t.visit(t.MOD,g=>{const v=f(g),S=d.get(v);S&&(S.datum=g,s.mod.push(S))}),t.visit(t.REM,g=>{const v=f(g),S=d.get(v);g===S.datum&&!S.exit&&(s.rem.push(S),S.exit=!0,++d.empty)}),t.changed(t.ADD_MOD)&&s.modifies("datum"),(t.clean()||e.clean&&d.empty>n.cleanThreshold)&&n.runAfter(d.clean),s}});function Encode(e){Transform.call(this,null,e)}inherits(Encode,Transform,{transform(e,t){var n=t.fork(t.ADD_REM),s=e.mod||!1,u=e.encoders,f=t.encode;if(isArray$7(f))if(n.changed()||f.every(I=>u[I]))f=f[0],n.encode=null;else return t.StopPropagation;var d=f==="enter",g=u.update||falsy,v=u.enter||falsy,S=u.exit||falsy,M=(f&&!d?u[f]:g)||falsy;if(t.changed(t.ADD)&&(t.visit(t.ADD,I=>{v(I,e),g(I,e)}),n.modifies(v.output),n.modifies(g.output),M!==falsy&&M!==g&&(t.visit(t.ADD,I=>{M(I,e)}),n.modifies(M.output))),t.changed(t.REM)&&S!==falsy&&(t.visit(t.REM,I=>{S(I,e)}),n.modifies(S.output)),d||M!==falsy){const I=t.MOD|(e.modified()?t.REFLOW:0);d?(t.visit(I,P=>{const N=v(P,e)||s;(M(P,e)||N)&&n.mod.push(P)}),n.mod.length&&n.modifies(v.output)):t.visit(I,P=>{(M(P,e)||s)&&n.mod.push(P)}),n.mod.length&&n.modifies(M.output)}return n.changed()?n:t.StopPropagation}});function LegendEntries(e){Transform.call(this,[],e)}inherits(LegendEntries,Transform,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),s=t.fork(t.NO_SOURCE|t.NO_FIELDS),u=this.value,f=e.type||SymbolLegend,d=e.scale,g=+e.limit,v=tickCount(d,e.count==null?5:e.count,e.minstep),S=!!e.values||f===SymbolLegend,M=e.format||labelFormat(n,d,v,f,e.formatSpecifier,e.formatType,S),I=e.values||labelValues(d,v),P,N,F,j,U;return u&&(s.rem=u),f===SymbolLegend?(g&&I.length>g?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),u=I.slice(0,g-1),U=!0):u=I,isFunction$2(F=e.size)?(!e.values&&d(u[0])===0&&(u=u.slice(1)),j=u.reduce((V,Z)=>Math.max(V,F(Z,e)),0)):F=constant(j=F||8),u=u.map((V,Z)=>ingest$1({index:Z,label:M(V,Z,u),value:V,offset:j,size:F(V,e)})),U&&(U=I[u.length],u.push(ingest$1({index:u.length,label:`${I.length-u.length} entries`,value:U,offset:j,size:F(U,e)})))):f===GradientLegend?(P=d.domain(),N=scaleFraction(d,P[0],peek$1(P)),I.length<3&&!e.values&&P[0]!==peek$1(P)&&(I=[P[0],peek$1(P)]),u=I.map((V,Z)=>ingest$1({index:Z,label:M(V,Z,I),value:V,perc:N(V)}))):(F=I.length-1,N=labelFraction(d),u=I.map((V,Z)=>ingest$1({index:Z,label:M(V,Z,I),value:V,perc:Z?N(V):0,perc2:Z===F?1:N(I[Z+1])}))),s.source=u,s.add=u,this.value=u,s}});const sourceX=e=>e.source.x,sourceY=e=>e.source.y,targetX=e=>e.target.x,targetY=e=>e.target.y;function LinkPath(e){Transform.call(this,{},e)}LinkPath.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};inherits(LinkPath,Transform,{transform(e,t){var n=e.sourceX||sourceX,s=e.sourceY||sourceY,u=e.targetX||targetX,f=e.targetY||targetY,d=e.as||"path",g=e.orient||"vertical",v=e.shape||"line",S=Paths.get(v+"-"+g)||Paths.get(v);return S||error$1("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,M=>{M[d]=S(n(M),s(M),u(M),f(M))}),t.reflow(e.modified()).modifies(d)}});const line=(e,t,n,s)=>"M"+e+","+t+"L"+n+","+s,lineR=(e,t,n,s)=>line(t*Math.cos(e),t*Math.sin(e),s*Math.cos(n),s*Math.sin(n)),arc=(e,t,n,s)=>{var u=n-e,f=s-t,d=Math.sqrt(u*u+f*f)/2,g=180*Math.atan2(f,u)/Math.PI;return"M"+e+","+t+"A"+d+","+d+" "+g+" 0 1 "+n+","+s},arcR=(e,t,n,s)=>arc(t*Math.cos(e),t*Math.sin(e),s*Math.cos(n),s*Math.sin(n)),curve=(e,t,n,s)=>{const u=n-e,f=s-t,d=.2*(u+f),g=.2*(f-u);return"M"+e+","+t+"C"+(e+d)+","+(t+g)+" "+(n+g)+","+(s-d)+" "+n+","+s},curveR=(e,t,n,s)=>curve(t*Math.cos(e),t*Math.sin(e),s*Math.cos(n),s*Math.sin(n)),orthoX=(e,t,n,s)=>"M"+e+","+t+"V"+s+"H"+n,orthoY=(e,t,n,s)=>"M"+e+","+t+"H"+n+"V"+s,orthoR=(e,t,n,s)=>{const u=Math.cos(e),f=Math.sin(e),d=Math.cos(n),g=Math.sin(n),v=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*u+","+t*f+"A"+t+","+t+" 0 0,"+(v?1:0)+" "+t*d+","+t*g+"L"+s*d+","+s*g},diagonalX=(e,t,n,s)=>{const u=(e+n)/2;return"M"+e+","+t+"C"+u+","+t+" "+u+","+s+" "+n+","+s},diagonalY=(e,t,n,s)=>{const u=(t+s)/2;return"M"+e+","+t+"C"+e+","+u+" "+n+","+u+" "+n+","+s},diagonalR=(e,t,n,s)=>{const u=Math.cos(e),f=Math.sin(e),d=Math.cos(n),g=Math.sin(n),v=(t+s)/2;return"M"+t*u+","+t*f+"C"+v*u+","+v*f+" "+v*d+","+v*g+" "+s*d+","+s*g},Paths=fastmap({line,"line-radial":lineR,arc,"arc-radial":arcR,curve,"curve-radial":curveR,"orthogonal-horizontal":orthoX,"orthogonal-vertical":orthoY,"orthogonal-radial":orthoR,"diagonal-horizontal":diagonalX,"diagonal-vertical":diagonalY,"diagonal-radial":diagonalR});function Pie(e){Transform.call(this,null,e)}Pie.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};inherits(Pie,Transform,{transform(e,t){var n=e.as||["startAngle","endAngle"],s=n[0],u=n[1],f=e.field||one,d=e.startAngle||0,g=e.endAngle!=null?e.endAngle:2*Math.PI,v=t.source,S=v.map(f),M=S.length,I=d,P=(g-d)/sum(S),N=range$3(M),F,j,U;for(e.sort&&N.sort((V,Z)=>S[V]-S[Z]),F=0;F<M;++F)U=S[N[F]],j=v[N[F]],j[s]=I,j[u]=I+=U*P;return this.value=S,t.reflow(e.modified()).modifies(n)}});const DEFAULT_COUNT=5;function includeZero(e){const t=e.type;return!e.bins&&(t===Linear||t===Pow||t===Sqrt)}function includePad(e){return isContinuous(e)&&e!==Sequential}const SKIP=toSet(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Scale(e){Transform.call(this,null,e),this.modified(!0)}inherits(Scale,Transform,{transform(e,t){var n=t.dataflow,s=this.value,u=scaleKey(e);(!s||u!==s.type)&&(this.value=s=scale$3(u)());for(u in e)if(!SKIP[u]){if(u==="padding"&&includePad(s.type))continue;isFunction$2(s[u])?s[u](e[u]):n.warn("Unsupported scale property: "+u)}return configureRange(s,e,configureBins(s,e,configureDomain(s,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function scaleKey(e){var t=e.type,n="",s;return t===Sequential?Sequential+"-"+Linear:(isContinuousColor(e)&&(s=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=s===2?Sequential+"-":s===3?Diverging+"-":""),(n+t||Linear).toLowerCase())}function isContinuousColor(e){const t=e.type;return isContinuous(t)&&t!==Time&&t!==UTC&&(e.scheme||e.range&&e.range.length&&e.range.every(isString))}function configureDomain(e,t,n){const s=rawDomain(e,t.domainRaw,n);if(s>-1)return s;var u=t.domain,f=e.type,d=t.zero||t.zero===void 0&&includeZero(e),g,v;if(!u)return 0;if(includePad(f)&&t.padding&&u[0]!==peek$1(u)&&(u=padDomain(f,u,t.range,t.padding,t.exponent,t.constant)),(d||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(g=(u=u.slice()).length-1||1,d&&(u[0]>0&&(u[0]=0),u[g]<0&&(u[g]=0)),t.domainMin!=null&&(u[0]=t.domainMin),t.domainMax!=null&&(u[g]=t.domainMax),t.domainMid!=null)){v=t.domainMid;const S=v>u[g]?g+1:v<u[0]?0:g;S!==g&&n.warn("Scale domainMid exceeds domain min or max.",v),u.splice(S,0,v)}return e.domain(domainCheck(f,u,n)),f===Ordinal&&e.unknown(t.domainImplicit?implicit:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&tickCount(e,t.nice)||null),u.length}function rawDomain(e,t,n){return t?(e.domain(domainCheck(e.type,t,n)),t.length):-1}function padDomain(e,t,n,s,u,f){var d=Math.abs(peek$1(n)-n[0]),g=d/(d-2*s),v=e===Log?zoomLog(t,null,g):e===Sqrt?zoomPow(t,null,g,.5):e===Pow?zoomPow(t,null,g,u||1):e===Symlog?zoomSymlog(t,null,g,f||1):zoomLinear(t,null,g);return t=t.slice(),t[0]=v[0],t[t.length-1]=v[1],t}function domainCheck(e,t,n){if(isLogarithmic(e)){var s=Math.abs(t.reduce((u,f)=>u+(f<0?-1:f>0?1:0),0));s!==t.length&&n.warn("Log scale domain includes zero: "+$(t))}return t}function configureBins(e,t,n){let s=t.bins;if(s&&!isArray$7(s)){const u=e.domain(),f=u[0],d=peek$1(u),g=s.step;let v=s.start==null?f:s.start,S=s.stop==null?d:s.stop;g||error$1("Scale bins parameter missing step property."),v<f&&(v=g*Math.ceil(f/g)),S>d&&(S=g*Math.floor(d/g)),s=range$3(v,S+g/2,g)}return s?e.bins=s:e.bins&&delete e.bins,e.type===BinOrdinal&&(s?!t.domain&&!t.domainRaw&&(e.domain(s),n=s.length):e.bins=e.domain()),n}function configureRange(e,t,n){var s=e.type,u=t.round||!1,f=t.range;if(t.rangeStep!=null)f=configureRangeStep(s,t,n);else if(t.scheme&&(f=configureScheme(s,t,n),isFunction$2(f))){if(e.interpolator)return e.interpolator(f);error$1(`Scale type ${s} does not support interpolating color schemes.`)}if(f&&isInterpolating(s))return e.interpolator(interpolateColors(flip(f,t.reverse),t.interpolate,t.interpolateGamma));f&&t.interpolate&&e.interpolate?e.interpolate(interpolate(t.interpolate,t.interpolateGamma)):isFunction$2(e.round)?e.round(u):isFunction$2(e.rangeRound)&&e.interpolate(u?interpolateRound:interpolate$1$1),f&&e.range(flip(f,t.reverse))}function configureRangeStep(e,t,n){e!==Band&&e!==Point$2&&error$1("Only band and point scales support rangeStep.");var s=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,u=e===Point$2?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*bandSpace(n,u,s)]}function configureScheme(e,t,n){var s=t.schemeExtent,u,f;return isArray$7(t.scheme)?f=interpolateColors(t.scheme,t.interpolate,t.interpolateGamma):(u=t.scheme.toLowerCase(),f=scheme(u),f||error$1(`Unrecognized scheme name: ${t.scheme}`)),n=e===Threshold?n+1:e===BinOrdinal?n-1:e===Quantile||e===Quantize?+t.schemeCount||DEFAULT_COUNT:n,isInterpolating(e)?adjustScheme(f,s,t.reverse):isFunction$2(f)?quantizeInterpolator(adjustScheme(f,s),n):e===Ordinal?f:f.slice(0,n)}function adjustScheme(e,t,n){return isFunction$2(e)&&(t||n)?interpolateRange(e,flip(t||[0,1],n)):e}function flip(e,t){return t?e.slice().reverse():e}function SortItems(e){Transform.call(this,null,e)}inherits(SortItems,Transform,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(stableCompare(e.sort)),this.modified(n),t}});const Zero="zero",Center="center",Normalize="normalize",DefOutput=["y0","y1"];function Stack(e){Transform.call(this,null,e)}Stack.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Zero,values:[Zero,Center,Normalize]},{name:"as",type:"string",array:!0,length:2,default:DefOutput}]};inherits(Stack,Transform,{transform(e,t){var n=e.as||DefOutput,s=n[0],u=n[1],f=stableCompare(e.sort),d=e.field||one,g=e.offset===Center?stackCenter:e.offset===Normalize?stackNormalize:stackZero,v,S,M,I;for(v=partition(t.source,e.groupby,f,d),S=0,M=v.length,I=v.max;S<M;++S)g(v[S],I,d,s,u);return t.reflow(e.modified()).modifies(n)}});function stackCenter(e,t,n,s,u){for(var f=(t-e.sum)/2,d=e.length,g=0,v;g<d;++g)v=e[g],v[s]=f,v[u]=f+=Math.abs(n(v))}function stackNormalize(e,t,n,s,u){for(var f=1/e.sum,d=0,g=e.length,v=0,S=0,M;v<g;++v)M=e[v],M[s]=d,M[u]=d=f*(S+=Math.abs(n(M)))}function stackZero(e,t,n,s,u){for(var f=0,d=0,g=e.length,v=0,S,M;v<g;++v)M=e[v],S=+n(M),S<0?(M[s]=d,M[u]=d+=S):(M[s]=f,M[u]=f+=S)}function partition(e,t,n,s){var u=[],f=j=>j(M),d,g,v,S,M,I,P,N,F;if(t==null)u.push(e.slice());else for(d={},g=0,v=e.length;g<v;++g)M=e[g],I=t.map(f),P=d[I],P||(d[I]=P=[],u.push(P)),P.push(M);for(I=0,F=0,S=u.length;I<S;++I){for(P=u[I],g=0,N=0,v=P.length;g<v;++g)N+=Math.abs(s(P[g]));P.sum=N,N>F&&(F=N),n&&P.sort(n)}return u.max=F,u}const constructScale=(e,t,n)=>{let s;if(typeof e.domain=="object"&&"data"in e.domain){const v=select(n,e.domain.data).map(M=>select(M,e.domain.field));["ordinal","band","point"].includes(e.type)?s=v:s=extent$1(v)}if(t&&"rangeExpressions"in e){const g=[];for(const v in e.rangeExpressions){const S=e.rangeExpressions[v];if(typeof S=="string"){const M=constructExpressionFunction({calculate:S});g.push(M({},+v,n||{},t))}else g.push(S)}e=Object.assign(Object.assign({},e),{range:g})}else if(t&&"rangeMapFunction"in e){const g=constructExpressionFunction({calculate:e.rangeMapFunction}),v=e.range.map((S,M)=>g(S,M,n,t));e=Object.assign(Object.assign({},e),{range:v})}else if(t&&"domain"in e)for(const g in e.range){const v=e.range[g];["width","height","x","y"].includes(v)&&(e.range[g]=t[v]),v==="area"&&(e.range[g]=t.width*t.height)}const u=new Dataflow,f=u.add(Scale,Object.assign(Object.assign({},e),{domain:s??e.domain}));let d=!1;return u.error=g=>d=g,u.run(),d?"ERROR":f.value},generateCompareFn=e=>(t,n)=>{for(const s of e){const u=s.direction;let f,d;if("expression"in s){const g=s.fn;f=g(t),d=g(n)}else f=select(t,s.field),d=select(n,s.field);if(f>d)return u==="descending"?-1:1;if(f<d)return u==="descending"?1:-1}return 0},getCompareFn=e=>{(typeof e=="string"||!("length"in e))&&(e=[e]);for(let t=0;t<e.length;t++){const n=e[t];typeof n=="string"?e[t]={field:n}:"expression"in n&&n.expression&&(n.fn=constructExpressionFunction({calculate:n.expression}))}return generateCompareFn(e)},attributeOrdering=(e,t)=>{const n=getCompareFn(t.orderBy),s=e.sort(n),u=new Map;if(t.allowTies){let f=0;for(let d=0;d<s.length;d++){const g=d===0||n(s[d],s[d-1])!==0;d>0&&g&&f++,u.set(s[d].id,f)}}else for(const f in s)u.set(s[f].id,+f);return u};function hypot(e,t){e=Math.abs(e),t=Math.abs(t);var n,s;e>t?(n=e,s=t):(n=t,s=e);var u=s/n;return n*Math.sqrt(1+u*u)}function zeroes(e){var t=-1,n=[];if(arguments.length===1)for(;++t<e;)n[t]=0;else for(;++t<e;)n[t]=zeroes.apply(this,Array.prototype.slice.call(arguments,1));return n}function cross(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function decompose(){function e(t){for(var n=t.length,s=[],u=[],f=[],d=0;d<n;d++)s[d]=[],u[d]=[],f[d]=[];for(var g=!0,v=0;v<n;v++)for(var d=0;d<n;d++)if(t[d][v]!==t[v][d]){g=!1;break}if(g){for(var d=0;d<n;d++)s[d]=t[d].slice();science_lin_decomposeTred2(u,f,s),science_lin_decomposeTql2(u,f,s)}else{for(var S=[],d=0;d<n;d++)S[d]=t[d].slice();science_lin_decomposeOrthes(S,s),science_lin_decomposeHqr2(u,f,S,s)}for(var M=[],d=0;d<n;d++){for(var I=M[d]=[],v=0;v<n;v++)I[v]=d===v?u[d]:0;M[d][f[d]>0?d+1:d-1]=f[d]}return{D:M,V:s}}return e}function science_lin_decomposeTred2(e,t,n){for(var s=n.length,u=0;u<s;u++)e[u]=n[s-1][u];for(var f=s-1;f>0;f--){for(var d=0,g=0,v=0;v<f;v++)d+=Math.abs(e[v]);if(d===0){t[f]=e[f-1];for(var u=0;u<f;u++)e[u]=n[f-1][u],n[f][u]=0,n[u][f]=0}else{for(var v=0;v<f;v++)e[v]/=d,g+=e[v]*e[v];var S=e[f-1],M=Math.sqrt(g);S>0&&(M=-M),t[f]=d*M,g=g-S*M,e[f-1]=S-M;for(var u=0;u<f;u++)t[u]=0;for(var u=0;u<f;u++){S=e[u],n[u][f]=S,M=t[u]+n[u][u]*S;for(var v=u+1;v<=f-1;v++)M+=n[v][u]*e[v],t[v]+=n[v][u]*S;t[u]=M}S=0;for(var u=0;u<f;u++)t[u]/=g,S+=t[u]*e[u];for(var I=S/(g+g),u=0;u<f;u++)t[u]-=I*e[u];for(var u=0;u<f;u++){S=e[u],M=t[u];for(var v=u;v<=f-1;v++)n[v][u]-=S*t[v]+M*e[v];e[u]=n[f-1][u],n[f][u]=0}}e[f]=g}for(var f=0;f<s-1;f++){n[s-1][f]=n[f][f],n[f][f]=1;var g=e[f+1];if(g!=0){for(var v=0;v<=f;v++)e[v]=n[v][f+1]/g;for(var u=0;u<=f;u++){for(var M=0,v=0;v<=f;v++)M+=n[v][f+1]*n[v][u];for(var v=0;v<=f;v++)n[v][u]-=M*e[v]}}for(var v=0;v<=f;v++)n[v][f+1]=0}for(var u=0;u<s;u++)e[u]=n[s-1][u],n[s-1][u]=0;n[s-1][s-1]=1,t[0]=0}function science_lin_decomposeTql2(e,t,n){for(var s=n.length,u=1;u<s;u++)t[u-1]=t[u];t[s-1]=0;for(var f=0,d=0,g=1e-12,v=0;v<s;v++){d=Math.max(d,Math.abs(e[v])+Math.abs(t[v]));for(var S=v;S<s&&!(Math.abs(t[S])<=g*d);)S++;if(S>v)do{var M=e[v],I=(e[v+1]-M)/(2*t[v]),P=hypot(I,1);I<0&&(P=-P),e[v]=t[v]/(I+P),e[v+1]=t[v]*(I+P);for(var N=e[v+1],F=M-e[v],u=v+2;u<s;u++)e[u]-=F;f+=F,I=e[S];for(var j=1,U=j,V=j,Z=t[v+1],Q=0,J=0,u=S-1;u>=v;u--){V=U,U=j,J=Q,M=j*t[u],F=j*I,P=hypot(I,t[u]),t[u+1]=Q*P,Q=t[u]/P,j=I/P,I=j*e[u]-Q*M,e[u+1]=F+Q*(j*M+Q*e[u]);for(var te=0;te<s;te++)F=n[te][u+1],n[te][u+1]=Q*n[te][u]+j*F,n[te][u]=j*n[te][u]-Q*F}I=-Q*J*V*Z*t[v]/N,t[v]=Q*I,e[v]=j*I}while(Math.abs(t[v])>g*d);e[v]=e[v]+f,t[v]=0}for(var u=0;u<s-1;u++){for(var te=u,I=e[u],oe=u+1;oe<s;oe++)e[oe]<I&&(te=oe,I=e[oe]);if(te!=u){e[te]=e[u],e[u]=I;for(var oe=0;oe<s;oe++)I=n[oe][u],n[oe][u]=n[oe][te],n[oe][te]=I}}}function science_lin_decomposeOrthes(e,t){for(var n=e.length,s=[],u=0,f=n-1,d=u+1;d<f;d++){for(var g=0,v=d;v<=f;v++)g+=Math.abs(e[v][d-1]);if(g!==0){for(var S=0,v=f;v>=d;v--)s[v]=e[v][d-1]/g,S+=s[v]*s[v];var M=Math.sqrt(S);s[d]>0&&(M=-M),S=S-s[d]*M,s[d]=s[d]-M;for(var I=d;I<n;I++){for(var P=0,v=f;v>=d;v--)P+=s[v]*e[v][I];P/=S;for(var v=d;v<=f;v++)e[v][I]-=P*s[v]}for(var v=0;v<=f;v++){for(var P=0,I=f;I>=d;I--)P+=s[I]*e[v][I];P/=S;for(var I=d;I<=f;I++)e[v][I]-=P*s[I]}s[d]=g*s[d],e[d][d-1]=g*M}}for(var v=0;v<n;v++)for(var I=0;I<n;I++)t[v][I]=v===I?1:0;for(var d=f-1;d>=u+1;d--)if(e[d][d-1]!==0){for(var v=d+1;v<=f;v++)s[v]=e[v][d-1];for(var I=d;I<=f;I++){for(var M=0,v=d;v<=f;v++)M+=s[v]*t[v][I];M=M/s[d]/e[d][d-1];for(var v=d;v<=f;v++)t[v][I]+=M*s[v]}}}function science_lin_decomposeHqr2(e,t,n,s){for(var u=n.length,f=u-1,d=0,g=u-1,v=1e-12,S=0,M=0,I=0,P=0,N=0,F=0,j,U,V,Z,Q=0,J=0;J<u;J++){(J<d||J>g)&&(e[J]=n[J][J],t[J]=0);for(var te=Math.max(J-1,0);te<u;te++)Q+=Math.abs(n[J][te])}for(var oe=0;f>=d;){for(var ue=f;ue>d&&(N=Math.abs(n[ue-1][ue-1])+Math.abs(n[ue][ue]),N===0&&(N=Q),!(Math.abs(n[ue][ue-1])<v*N));)ue--;if(ue===f)n[f][f]=n[f][f]+S,e[f]=n[f][f],t[f]=0,f--,oe=0;else if(ue===f-1){if(U=n[f][f-1]*n[f-1][f],M=(n[f-1][f-1]-n[f][f])/2,I=M*M+U,F=Math.sqrt(Math.abs(I)),n[f][f]=n[f][f]+S,n[f-1][f-1]=n[f-1][f-1]+S,V=n[f][f],I>=0){F=M+(M>=0?F:-F),e[f-1]=V+F,e[f]=e[f-1],F!==0&&(e[f]=V-U/F),t[f-1]=0,t[f]=0,V=n[f][f-1],N=Math.abs(V)+Math.abs(F),M=V/N,I=F/N,P=Math.sqrt(M*M+I*I),M/=P,I/=P;for(var te=f-1;te<u;te++)F=n[f-1][te],n[f-1][te]=I*F+M*n[f][te],n[f][te]=I*n[f][te]-M*F;for(var J=0;J<=f;J++)F=n[J][f-1],n[J][f-1]=I*F+M*n[J][f],n[J][f]=I*n[J][f]-M*F;for(var J=d;J<=g;J++)F=s[J][f-1],s[J][f-1]=I*F+M*s[J][f],s[J][f]=I*s[J][f]-M*F}else e[f-1]=V+M,e[f]=V+M,t[f-1]=F,t[f]=-F;f=f-2,oe=0}else{if(V=n[f][f],Z=0,U=0,ue<f&&(Z=n[f-1][f-1],U=n[f][f-1]*n[f-1][f]),oe==10){S+=V;for(var J=d;J<=f;J++)n[J][J]-=V;N=Math.abs(n[f][f-1])+Math.abs(n[f-1][f-2]),V=Z=.75*N,U=-.4375*N*N}if(oe==30&&(N=(Z-V)/2,N=N*N+U,N>0)){N=Math.sqrt(N),Z<V&&(N=-N),N=V-U/((Z-V)/2+N);for(var J=d;J<=f;J++)n[J][J]-=N;S+=N,V=Z=U=.964}oe++;for(var se=f-2;se>=ue&&(F=n[se][se],P=V-F,N=Z-F,M=(P*N-U)/n[se+1][se]+n[se][se+1],I=n[se+1][se+1]-F-P-N,P=n[se+2][se+1],N=Math.abs(M)+Math.abs(I)+Math.abs(P),M=M/N,I=I/N,P=P/N,!(se==ue||Math.abs(n[se][se-1])*(Math.abs(I)+Math.abs(P))<v*(Math.abs(M)*(Math.abs(n[se-1][se-1])+Math.abs(F)+Math.abs(n[se+1][se+1])))));)se--;for(var J=se+2;J<=f;J++)n[J][J-2]=0,J>se+2&&(n[J][J-3]=0);for(var le=se;le<=f-1;le++){var de=le!=f-1;if(le!=se&&(M=n[le][le-1],I=n[le+1][le-1],P=de?n[le+2][le-1]:0,V=Math.abs(M)+Math.abs(I)+Math.abs(P),V!=0&&(M/=V,I/=V,P/=V)),V==0)break;if(N=Math.sqrt(M*M+I*I+P*P),M<0&&(N=-N),N!=0){le!=se?n[le][le-1]=-N*V:ue!=se&&(n[le][le-1]=-n[le][le-1]),M+=N,V=M/N,Z=I/N,F=P/N,I/=M,P/=M;for(var te=le;te<u;te++)M=n[le][te]+I*n[le+1][te],de&&(M=M+P*n[le+2][te],n[le+2][te]=n[le+2][te]-M*F),n[le][te]=n[le][te]-M*V,n[le+1][te]=n[le+1][te]-M*Z;for(var J=0;J<=Math.min(f,le+3);J++)M=V*n[J][le]+Z*n[J][le+1],de&&(M+=F*n[J][le+2],n[J][le+2]=n[J][le+2]-M*P),n[J][le]=n[J][le]-M,n[J][le+1]=n[J][le+1]-M*I;for(var J=d;J<=g;J++)M=V*s[J][le]+Z*s[J][le+1],de&&(M=M+F*s[J][le+2],s[J][le+2]=s[J][le+2]-M*P),s[J][le]=s[J][le]-M,s[J][le+1]=s[J][le+1]-M*I}}}}if(Q!=0){for(f=u-1;f>=0;f--)if(M=e[f],I=t[f],I==0){var ue=f;n[f][f]=1;for(var J=f-1;J>=0;J--){U=n[J][J]-M,P=0;for(var te=ue;te<=f;te++)P=P+n[J][te]*n[te][f];if(t[J]<0)F=U,N=P;else if(ue=J,t[J]===0?n[J][f]=-P/(U!==0?U:v*Q):(V=n[J][J+1],Z=n[J+1][J],I=(e[J]-M)*(e[J]-M)+t[J]*t[J],j=(V*N-F*P)/I,n[J][f]=j,Math.abs(V)>Math.abs(F)?n[J+1][f]=(-P-U*j)/V:n[J+1][f]=(-N-Z*j)/F),j=Math.abs(n[J][f]),v*j*j>1)for(var te=J;te<=f;te++)n[te][f]=n[te][f]/j}}else if(I<0){var ue=f-1;if(Math.abs(n[f][f-1])>Math.abs(n[f-1][f]))n[f-1][f-1]=I/n[f][f-1],n[f-1][f]=-(n[f][f]-M)/n[f][f-1];else{var ge=science_lin_decomposeCdiv(0,-n[f-1][f],n[f-1][f-1]-M,I);n[f-1][f-1]=ge[0],n[f-1][f]=ge[1]}n[f][f-1]=0,n[f][f]=1;for(var J=f-2;J>=0;J--){for(var ve=0,me=0,ye,Ae,te=ue;te<=f;te++)ve=ve+n[J][te]*n[te][f-1],me=me+n[J][te]*n[te][f];if(U=n[J][J]-M,t[J]<0)F=U,P=ve,N=me;else{if(ue=J,t[J]==0){var ge=science_lin_decomposeCdiv(-ve,-me,U,I);n[J][f-1]=ge[0],n[J][f]=ge[1]}else{V=n[J][J+1],Z=n[J+1][J],ye=(e[J]-M)*(e[J]-M)+t[J]*t[J]-I*I,Ae=(e[J]-M)*2*I,ye==0&Ae==0&&(ye=v*Q*(Math.abs(U)+Math.abs(I)+Math.abs(V)+Math.abs(Z)+Math.abs(F)));var ge=science_lin_decomposeCdiv(V*P-F*ve+I*me,V*N-F*me-I*ve,ye,Ae);if(n[J][f-1]=ge[0],n[J][f]=ge[1],Math.abs(V)>Math.abs(F)+Math.abs(I))n[J+1][f-1]=(-ve-U*n[J][f-1]+I*n[J][f])/V,n[J+1][f]=(-me-U*n[J][f]-I*n[J][f-1])/V;else{var ge=science_lin_decomposeCdiv(-P-Z*n[J][f-1],-N-Z*n[J][f],F,I);n[J+1][f-1]=ge[0],n[J+1][f]=ge[1]}}if(j=Math.max(Math.abs(n[J][f-1]),Math.abs(n[J][f])),v*j*j>1)for(var te=J;te<=f;te++)n[te][f-1]=n[te][f-1]/j,n[te][f]=n[te][f]/j}}}for(var J=0;J<u;J++)if(J<d||J>g)for(var te=J;te<u;te++)s[J][te]=n[J][te];for(var te=u-1;te>=d;te--)for(var J=d;J<=g;J++){F=0;for(var le=d;le<=Math.min(te,g);le++)F+=s[J][le]*n[le][te];s[J][te]=F}}}function science_lin_decomposeCdiv(e,t,n,s){if(Math.abs(n)>Math.abs(s)){var u=s/n,f=n+u*s;return[(e+u*t)/f,(t-u*e)/f]}else{var u=n/s,f=s+u*n;return[(u*e+t)/f,(u*t-e)/f]}}function determinant(e){var t=e[0].concat(e[1]).concat(e[2]).concat(e[3]);return t[12]*t[9]*t[6]*t[3]-t[8]*t[13]*t[6]*t[3]-t[12]*t[5]*t[10]*t[3]+t[4]*t[13]*t[10]*t[3]+t[8]*t[5]*t[14]*t[3]-t[4]*t[9]*t[14]*t[3]-t[12]*t[9]*t[2]*t[7]+t[8]*t[13]*t[2]*t[7]+t[12]*t[1]*t[10]*t[7]-t[0]*t[13]*t[10]*t[7]-t[8]*t[1]*t[14]*t[7]+t[0]*t[9]*t[14]*t[7]+t[12]*t[5]*t[2]*t[11]-t[4]*t[13]*t[2]*t[11]-t[12]*t[1]*t[6]*t[11]+t[0]*t[13]*t[6]*t[11]+t[4]*t[1]*t[14]*t[11]-t[0]*t[5]*t[14]*t[11]-t[8]*t[5]*t[2]*t[15]+t[4]*t[9]*t[2]*t[15]+t[8]*t[1]*t[6]*t[15]-t[0]*t[9]*t[6]*t[15]-t[4]*t[1]*t[10]*t[15]+t[0]*t[5]*t[10]*t[15]}function dot$1(e,t){for(var n=0,s=-1,u=Math.min(e.length,t.length);++s<u;)n+=e[s]*t[s];return n}function gaussjordan(e,t){t||(t=1e-10);for(var n=e.length,s=e[0].length,u=-1,f,d;++u<n;){var g=u;for(f=u;++f<n;)Math.abs(e[f][u])>Math.abs(e[g][u])&&(g=f);var v=e[u];if(e[u]=e[g],e[g]=v,Math.abs(e[u][u])<=t)return!1;for(f=u;++f<n;){var S=e[f][u]/e[u][u];for(d=u-1;++d<s;)e[f][d]-=e[u][d]*S}}for(u=n;--u>=0;){var S=e[u][u];for(f=-1;++f<u;)for(d=s;--d>=u;)e[f][d]-=e[u][d]*e[f][u]/S;for(e[u][u]/=S,d=n-1;++d<s;)e[u][d]/=S}return!0}function inverse(e){var t=e.length,n=-1;if(t===e[0].length){for(e=e.map(function(s,u){for(var f=new Array(t),d=-1;++d<t;)f[d]=u===d?1:0;return s.concat(f)}),gaussjordan(e);++n<t;)e[n]=e[n].slice(t);return e}}function length$1(e){return Math.sqrt(dot$1(e,e))}function multiply(e,t){var n=e.length,s=t[0].length,u=t.length,f=-1,d,g;if(u!==e[0].length)throw{error:"columns(a) != rows(b); "+e[0].length+" != "+u};for(var v=new Array(n);++f<n;)for(v[f]=new Array(s),d=-1;++d<s;){var S=0;for(g=-1;++g<u;)S+=e[f][g]*t[g][d];v[f][d]=S}return v}function normalize$3(e){var t=length$1(e);return e.map(function(n){return n/t})}function transpose$1(e){for(var t=e.length,n=e[0].length,s=-1,u,f=new Array(n);++s<n;)for(f[s]=new Array(t),u=-1;++u<t;)f[s][u]=e[u][s];return f}function tridag(e,t,n,s,u,f){var d,g;for(d=1;d<f;d++)g=e[d]/t[d-1],t[d]-=g*n[d-1],s[d]-=g*s[d-1];for(u[f-1]=s[f-1]/t[f-1],d=f-2;d>=0;d--)u[d]=(s[d]-n[d]*u[d+1])/t[d]}var lin_=Object.freeze({cross,decompose,determinant,dot:dot$1,gaussjordan,inverse,length:length$1,multiply,normalize:normalize$3,transpose:transpose$1,tridag}),lin=lin_;function range(e,t,n=1){arguments.length<2&&(t=e,e=0);const s=[];let u=e;if(n<0)for(;u>t;u+=n)s.push(u);else for(;u<t;u+=n)s.push(u);return s}const permutation=range;function inverse_permutation$1(e,t){const n=t?Array(e.length):{};for(let s=0;s<e.length;s++)n[e[s]]=s;return n}function count_in_crossings(e,t,n,s){const u=e.inEdges(t),f=e.inEdges(n);let d=0;for(let g=0;g<f.length;g++){const v=s[f[g].target.index];for(let S=0;S<u.length;S++)s[u[S].target.index]>v&&d++}return d}function count_out_crossings(e,t,n,s){const u=e.outEdges(t),f=e.outEdges(n);let d=0;for(let g=0;g<f.length;g++){const v=s[f[g].source.index];for(let S=0;S<u.length;S++)s[u[S].source.index]>v&&d++}return d}function adjacent_exchange(e,t,n){t=t.slice(),n=n.slice();const s=inverse_permutation$1(t),u=inverse_permutation$1(n);let f=!0,d=0;for(;f;){f=!1;for(let g=0;g<t.length-1;g++){const v=t[g],S=t[g+1],M=count_out_crossings(e,v,S,u),I=count_out_crossings(e,S,v,u);M>I&&(t[g]=S,t[g+1]=v,s[S]=g,s[v]=g+1,f=!0,d+=M-I)}for(let g=0;g<n.length-1;g++){const v=n[g],S=n[g+1],M=count_in_crossings(e,v,S,s),I=count_in_crossings(e,S,v,s);M>I&&(n[g]=S,n[g+1]=v,u[S]=g,u[v]=g+1,f=!0,d+=M-I)}}return[t,n,d]}const{dot,length,normalize:normalize$1$1,transpose}=lin;function cmp_number_asc(e,t){return e-t}const cmp_number=cmp_number_asc;function flatten(e,t){return e.concat(t)}function infinities(e){let t=-1;const n=[];if(arguments.length===1)for(;++t<e;)n[t]=1/0;else for(;++t<e;)n[t]=infinities.apply(this,Array.prototype.slice.call(arguments,1));return n}function array1d(e,t){let n=-1;const s=Array(e);for(;++n<e;)s[n]=t;return s}function all_pairs_distance(e,t){const n=[];t||(t=e.components());for(let s=0;s<t.length;s++)n.push(all_pairs_distance_floyd_warshall(e,t[s]));return n}function all_pairs_distance_floyd_warshall(e,t){const n=infinities(t.length,t.length),s=inverse_permutation$1(t);for(let f=0;f<t.length;f++)n[f][f]=0;const u=f=>{if(f.source==f.target||!(f.source.index in s)||!(f.target.index in s))return;const d=s[f.source.index],g=s[f.target.index];n[g][d]=n[d][g]=e.distance(f.index)};for(let f=0;f<t.length;f++)e.edges(t[f]).forEach(u);for(let f=0;f<t.length;f++)for(let d=0;d<t.length;d++)if(n[d][f]!=1/0)for(let g=0;g<t.length;g++)n[f][g]!=1/0&&n[d][g]>n[d][f]+n[f][g]&&(n[d][g]=n[d][f]+n[f][g],n[g][d]=n[d][g]);return n}function count_crossings(e,t,n){const s=permutation(e.nodes().length);t===void 0&&(t=s.filter(I=>e.outDegree(I)!==0),n=s.filter(I=>e.inDegree(I)!==0));let u=!1;if(t.length<n.length){const I=t;t=n,n=I,u=!0}const f=inverse_permutation$1(n);let d=[];for(let I=0;I<t.length;I++){const P=u?e.inEdges(t[I]).map(N=>f[N.target.index]):e.outEdges(t[I]).map(N=>f[N.source.index]);P.sort(cmp_number),d=d.concat(P)}let g=1;for(;g<n.length;)g<<=1;const v=2*g-1;g-=1;const S=zeroes(v);let M=0;for(let I=0;I<d.length;I++){let P=d[I]+g;for(S[P]++;P>0;)P%2&&(M+=S[P+1]),P=P-1>>1,S[P]++}return M}function barycenter_order(e,t,n){let s=[[],[],0];t||(t=e.components());for(let u=0;u<t.length;u++){const f=barycenter(e,t[u],n);s=[s[0].concat(f[0]),s[1].concat(f[1]),s[2]+f[2]]}return s}function median$1(e){if(e.length===0)return-1;if(e.length===1)return e[0];if(e.length===2)return(e[0]+e[1])/2;if(e.sort(cmp_number),e.length%2)return e[(e.length-1)/2];const t=e.length/2,n=t-1,s=e[e.length-1]-e[t],u=e[n]-e[0];return u==s?(e[n]+e[t])/2:(e[n]*s+e[t]*u)/(u+s)}function barycenter(e,t,n){const s=e.nodes();let u,f,d,g,v,S=t.filter(Z=>e.outDegree(Z)!==0),M=t.filter(Z=>e.inDegree(Z)!==0);if(e.directed()||(S=M),t.length<3)return[S,M,count_crossings(e,S,M)];n?n%2==1&&n++:n=24;let I=inverse_permutation$1(M),P=count_crossings(e,S,M),N=S.slice(),F=M.slice(),j;const U=Z=>I[Z.source==j?Z.target.index:Z.source.index],V=(Z,Q)=>{let J=v[Z]-v[Q];return J===0&&(J=e.edges(Q).length%2-e.edges(Z).length%2),J<0?-1:J>0?1:0};for(d=S,f=0;f<n;f++,d=d==S?M:S){v={};for(let Z=0;Z<d.length;Z++)j=s[d[Z]],d==S?g=e.outEdges(j.index):g=e.inEdges(j.index),g=g.map(U),v[j.index]=+median$1(g);d.sort(V);for(let Z=0;Z<d.length;Z++)I=inverse_permutation$1(d);u=count_crossings(e,S,M),u<P&&(P=u,N=S.slice(),F=M.slice(),n=Math.max(n,f+2))}return[N,F,P]}class Queue{constructor(){this.length=0}push(t){const n={item:t};this.last?this.last=this.last.next=n:this.last=this.first=n,this.length++}shift(){const t=this.first;if(t)return this.first=t.next,--this.length||(this.last=void 0),t.item}slice(t=0,n=1/0){const s=[];let u=0;for(let f=this.first;f&&!(--n<0);f=f.next)++u>t&&s.push(f.item);return s}}function sort_order(e){return permutation(0,e.length).sort((t,n)=>e[t]-e[n])}function covariancetranspose(e,t,n){const s=e.length;let u=0;for(let f=0;f<s;f++)u+=e[f][t]*e[f][n];return u}function variancecovariance(e){const t=e[0].length,n=Array(t);for(let s=0;s<t;s++)n[s]=Array(t);for(let s=0;s<t;s++)for(let u=s;u<t;u++)n[s][u]=n[u][s]=covariancetranspose(e,s,u);return n}function cuthill_mckee(e,t){if(t.length<3)return t;const n={},s=new Queue,u=inverse_permutation$1(t),f=[];let d=t[0],g=e.degree(d);for(let v=0;v<t.length;v++){const S=t[v];if(e.degree(S)<g&&(g=e.degree(S),d=S,g==1))break}for(s.push(d);s.length!==0;){const v=s.shift();if(n[v])continue;n[v]=!0,f.push(v),e.edges(v).map(M=>e.other(M,v).index).filter(M=>!n[M]&&M in u).sort((M,I)=>e.degree(M)-e.degree(I)).forEach(s.push,s)}return f}function reverse_cuthill_mckee(e,t){return cuthill_mckee(e,t).reverse()}function reverse_cuthill_mckee_order(e,t){let n,s=[];t||(t=e.components());for(let u=0;u<t.length;u++)n=t[u],s=s.concat(reverse_cuthill_mckee(e,n));return s}function assert(e,t){if(!e)throw console.log(t),t||"Assertion failed"}function isNum(e,t){return!(isNaN(e)||isNaN(t)||e==1/0||t==1/0)}const distance={};distance.euclidean=function(e,t){let n=0;for(let s=e.length-1;s>=0;s--)if(isNum(e[s],t[s])){const u=e[s]-t[s];n+=u*u}return Math.sqrt(n)};distance.manhattan=function(e,t){let n=0;for(let s=e.length-1;s>=0;s--)isNum(e[s],t[s])&&(n+=Math.abs(e[s]-t[s]));return n};distance.minkowski=function(e){return(t,n)=>{let s=0;for(let u=t.length-1;u>=0;u--)isNum(t[u],n[u])&&(s+=Math.pow(Math.abs(t[u]-n[u]),e));return Math.pow(s,1/e)}};distance.chebyshev=function(e,t){let n=0;for(let s=e.length-1;s>=0;s--)if(isNum(e[s],t[s])){const u=Math.abs(e[s]-t[s]);u>n&&(n=u)}return n};distance.hamming=function(e,t){let n=0;for(let s=e.length-1;s>=0;s--)isNum(e[s],t[s])&&e[s]!==t[s]&&n++;return n};distance.jaccard=function(e,t){let n=0,s=0;for(let u=e.length-1;u>=0;u--)isNum(e[u],t[u])&&(e[u]===t[u]&&s++,n++);return n===0?0:s/n};distance.braycurtis=function(e,t){let n=0,s=0;for(let u=e.length-1;u>=0;u--){const f=e[u],d=t[u];isNum(f,d)&&(n+=Math.abs(f-d),s+=Math.abs(f+d))}return s===0?0:n/s};distance.morans=function(e){let t=0;const n=e.length*e[0].length;for(let s=0;s<e.length;s++)for(let u=0;u<e[0].length;u++)t+=e[s][u];return(s,u)=>{let f=0;for(let d=0;d<s.length;d++)isNum(s[d],u[d])&&(f+=(s[d]*n-t)*(u[d]*n-t));return-1*f}};function dist$2(){let e=distance.euclidean;function t(n){const s=n.length,u=[];for(let f=0;f<s;f++){const d=[];u[f]=d;for(let g=0;g<s;g++)g<f?d.push(u[g][f]):f===g?d.push(0):d.push(e(n[f],n[g]))}return u}return t.distance=function(n){return arguments.length?(e=n,t):e},t}function distmax(e){let t=0;const n=e.length;for(let s=0;s<n;s++){const u=e[s];for(let f=s+1;f<n;f++)u[f]>t&&(t=u[f])}return t}function random_array(e,t,n){const s=Array(e);if(arguments.length==1)for(;e;)s[--e]=Math.random();else if(arguments.length==2)for(;e;)s[--e]=Math.random()*t;else for(;e;)s[--e]=t+Math.random()*(n-t);return s}function normalize$2(e){const t=length(e);let n=e.length;if(t===0||Math.abs(t-1)<1e-9)return 1;for(;n-- >0;)e[n]/=t;return t}function poweriteration(e,t,n){t||(t=1e-9);const s=e.length;let u,f=Array(s),d=100;for(assert(s==e[0].length,"poweriteration needs a square matrix"),n?u=n.slice():u=random_array(s),normalize$2(u);d-- >0;){for(let v=0;v<s;v++){f[v]=0;for(let S=0;S<s;S++)f[v]+=e[v][S]*u[S]}if(normalize$2(f),dot(f,u)>1-t)break;const g=f;f=u,u=g}return f}function poweriteration_n(e,t,n,s,u){s||(s=1e-9);const f=e.length,d=Array(t);let g=Array(f),v=100;const S=Array(t);if(assert(f==e[0].length,"poweriteration needs a square matrix"),n)for(let M=0;M<t;M++)d[M]=n[M].slice(),S[M]=normalize$2(d[M]);else for(let M=0;M<t;M++){const I=d[M]=random_array(f);S[M]=normalize$2(I)}u||(u=0);for(let M=u;M<t;M++){let I=d[M];for(;v-- >0;){for(let P=0;P<M;P++){const N=d[P],F=dot(I,N);for(let j=0;j<f;j++)I[j]-=F*N[j]}for(let P=0;P<f;P++){g[P]=0;for(let N=0;N<f;N++)g[P]+=e[P][N]*I[N]}if(S[M]=normalize$2(g),dot(g,I)>1-s)break;I=g,g=d[M],d[M]=I}}return[d,S]}function gershgorin_bound(e){let t=0;const n=e.length;for(let s=0;s<n;s++){const u=e[s];let f=u[s];for(let d=0;d<n;d++)d!=s&&(f+=Math.abs(u[d]));f>t&&(t=f)}return t}function fiedler_vector(e,t){const n=gershgorin_bound(e),s=e.length,u=e.map(g=>g.slice());for(let g=0;g<s;g++){const v=u[g];for(let S=0;S<s;S++)g==S?v[S]=n-v[S]:v[S]=-v[S]}const f=[array1d(s,1),random_array(s)];return poweriteration_n(u,2,f,t,1)[0][1]}function graph$1(e,t,n){const s={};let u=1,f,d,g,v;s.nodes=function(N){return arguments.length?(e=N,s):e},s.nodes_indices=()=>e.map(N=>N.index),s.generate_nodes=N=>{e=[];for(let F=0;F<N;F++)e.push({id:F});return s},s.links=function(N){return arguments.length?(t=N,s):t},s.links_indices=()=>t.map(N=>({source:N.source.index,target:N.target.index})),s.linkDistance=function(N){return arguments.length?(u=typeof N=="function"?N:+N,s):u},s.directed=function(N){return arguments.length?(n=N,s):n};function S(){const N=e.length,F=t.length;v=void 0;for(let j=0;j<N;++j){const U=e[j];U.index=j,U.weight=0}for(let j=0;j<F;++j){const U=t[j];U.index=j,typeof U.source=="number"&&(U.source=e[U.source]),typeof U.target=="number"&&(U.target=e[U.target]),"value"in U||(U.value=1),U.source.weight++,U.target.weight++}if(typeof u=="function")for(let j=0;j<F;++j)t[j].distance=+u.call(this,t[j],j);else for(let j=0;j<F;++j)t[j].distance=u;f=Array(e.length);for(let j=0;j<e.length;++j)f[j]=[];if(n){d=Array(e.length),g=Array(e.length);for(let j=0;j<e.length;++j)d[j]=[],g[j]=[]}else d=g=f;for(let j=0;j<t.length;++j){const U=t[j];f[U.source.index].push(U),U.source.index!=U.target.index&&f[U.target.index].push(U),n&&d[U.source.index].push(U),n&&g[U.target.index].push(U)}return s}s.init=S,s.edges=N=>(typeof N!="number"&&(N=N.index),f[N]),s.degree=N=>(typeof N!="number"&&(N=N.index),f[N].length),s.inEdges=N=>(typeof N!="number"&&(N=N.index),d[N]),s.inDegree=N=>(typeof N!="number"&&(N=N.index),d[N].length),s.outEdges=N=>(typeof N!="number"&&(N=N.index),g[N]),s.outDegree=N=>(typeof N!="number"&&(N=N.index),g[N].length),s.sinks=()=>{const N=[];for(let F=0;F<e.length;F++)s.outEdges(F).length===0&&N.push(F);return N},s.sources=()=>{const N=[];for(let F=0;F<e.length;F++)s.inEdges(F).length===0&&N.push(F);return N};function M(N){return t[N].distance}s.distance=M;function I(N){const F=f[N],j=[];for(const U of F)U.source.index==N?j.push(U.target):j.push(U.source);return j}s.neighbors=I,s.other=(N,F)=>(typeof N=="number"&&(N=t[N]),N.source.index===F?N.target:N.source);function P(){const N=[],F=[],j=e.length;for(let U=0;U<j;U++)e[U].comp=0;for(let U=0,V=0;U<j;U++){if(e[U].comp!==0)continue;V=V+1,e[U].comp=V,N.push(U);const Z=[U];for(;N.length;){const Q=N.shift(),J=f[Q];for(let te=0;te<J.length;te++){const oe=J[te];let ue=oe.source;ue.index==Q&&(ue=oe.target),ue.index!=Q&&ue.comp===0&&(ue.comp=V,Z.push(ue.index),N.push(ue.index))}}Z.length&&(Z.sort(cmp_number),F.push(Z))}return F.sort((U,V)=>V.length-U.length),F}return s.components=()=>(v||(v=P()),v),s}function permute(e,t){let n=t.length;const s=e.slice();for(;n--;)s[n]=e[t[n]];return s}function distmat2valuemat(e){const t=e.length,n=zeroes(t,t),s=distmax(e);for(let u=0;u<t;u++)for(let f=u;f<t;f++)n[f][u]=n[u][f]=1+s-e[u][f];return n}function graph2valuemats(e,t){return t||(t=e.components()),all_pairs_distance(e,t).map(distmat2valuemat)}function valuemats_reorder(e,t,n){let s=e.map(t);return n&&(s=s.map((u,f)=>permute(n[f],u))),s.reduce(flatten)}function hcluster(){let e=distance.euclidean,t="single",n=null;function s(u){const f=u.length,d=[],g=[],v=[];let S,M=0;if(n===null){n=[];let P=-1;for(;++P<f;){d[P]=0,n[P]=[];let N=-1;for(;++N<f;)n[P][N]=P===N?1/0:e(u[P],u[N]),n[P][d[P]]>n[P][N]&&(d[P]=N)}}else{if(n.length<f||n[0].length<f)throw{error:`Provided distance matrix length ${n.length} instead of ${f}`};let P=-1;for(;++P<f;){d[P]=0;let N=-1;for(;++N<f;)P===N&&(n[P][N]=1/0),n[P][d[P]]>n[P][N]&&(d[P]=N)}}let I=-1;for(;++I<f;)I!=M&&console.log("i = %d, id = %d",I,M),v[I]=[],v[I][0]={left:null,right:null,dist:0,centroid:u[I],id:M++,size:1,depth:0},g[I]=1;for(let P=0;P<f-1;P++){let N=0;for(I=0;I<f;I++)n[I][d[I]]<n[N][d[N]]&&(N=I);const F=d[N],j=v[N][0],U=v[F][0],V={left:j,right:U,dist:n[N][F],centroid:calculateCentroid(j.size,j.centroid,U.size,U.centroid),id:M++,size:j.size+U.size,depth:1+Math.max(j.depth,U.depth)};v[N].splice(0,0,V),g[N]+=g[F];for(let Z=0;Z<f;Z++)switch(t){case"single":n[N][Z]>n[F][Z]&&(n[Z][N]=n[N][Z]=n[F][Z]);break;case"complete":n[N][Z]<n[F][Z]&&(n[Z][N]=n[N][Z]=n[F][Z]);break;case"average":n[Z][N]=n[N][Z]=(g[N]*n[N][Z]+g[F]*n[F][Z])/(g[N]+g[Z]);break}n[N][N]=1/0;for(let Z=0;Z<f;Z++)n[Z][F]=n[F][Z]=1/0;for(let Z=0;Z<f;Z++)d[Z]==F&&(d[Z]=N),n[N][Z]<n[N][d[N]]&&(d[N]=Z);S=V}return S}return s.linkage=function(u){return arguments.length?(t=u,s):t},s.distance=function(u){return arguments.length?(e=u,s):e},s.distanceMatrix=function(u){return arguments.length?(n=u.map(f=>f.slice(0)),s):n},s}function calculateCentroid(e,t,n,s){const u=[],f=e+n,d=t.length;let g=-1;for(;++g<d;)u[g]=(e*t[g]+n*s[g])/f;return u}function laplacian(e,t){const n=t.length,s=zeroes(n,n),u=inverse_permutation$1(t);assert(!e.directed(),"Laplacian only for undirected graphs");for(let f=0;f<n;f++){const d=t[f],g=s[f];let v=0;const S=e.edges(d);for(let M=0;M<S.length;M++){const I=S[M],P=u[e.other(I,d).index];P!=f&&(v+=I.value,g[P]=-I.value)}g[f]=v}return s}function mat2graph(e,t){const n=e.length,s=[],u=[];let f=Number.NEGATIVE_INFINITY;for(let d=0;d<n;d++)s.push({id:d});for(let d=0;d<n;d++){const g=e[d],v=t?0:d;for(let S=v;S<g.length;S++)S==s.length&&s.push({id:S}),g[S]!==0&&(g[S]>f&&(f=g[S]),u.push({source:d,target:S,value:g[S]}))}return graph$1(s,u,t).linkDistance(d=>1+f-d.value).init()}function meancolumns(e){const t=e.length;if(t===0)return NaN;const n=e[0].length,s=e[0].slice(0);let u=0;for(;++u<t;){const f=e[u];for(let d=0;d<n;d++)s[d]+=(f[d]-s[d])/(u+1)}return s}function optimal_leaf_order(){let e=null,t=distance.euclidean,n="complete",s={},u={};function f(I){return I===null?[]:I.id in s?s[I.id]:s[I.id]=d(I)}function d(I){return I===null?[]:I.depth===0?[I.id]:f(I.left).concat(f(I.right))}function g(I,P,N){const F=`k${I.id}-${P}-${N}`;return F in u?u[F]:u[F]=v(I,P,N)}function v(I,P,N){if(I.depth===0)return[0,[I.id]];const F=I.left,j=I.right,U=f(F),V=f(j);let Z,Q;if(U.includes(P)&&V.includes(N))Z=F,Q=j;else if(V.includes(P)&&U.includes(N))Z=j,Q=F;else throw{error:`Node is not common ancestor of ${P}, ${N}`};const J=f(Z.left),te=f(Z.right);let oe=te.includes(P)?J:te;oe.length===0&&(oe=[P]);const ue=f(Q.left),se=f(Q.right);let le=se.includes(N)?ue:se;le.length===0&&(le=[N]);let de=1/0,ge=[];for(let ve=0;ve<oe.length;ve++){const me=g(Z,P,oe[ve]);for(let ye=0;ye<le.length;ye++){const Ae=g(Q,le[ye],N),Te=me[0]+e[oe[ve]][le[ye]]+Ae[0];Te<de&&(de=Te,ge=me[1].concat(Ae[1]))}}return[de,ge]}function S(I){s={},u={};let P=1/0,N=[];const F=f(I.left),j=f(I.right);for(let U=0;U<F.length;U++)for(let V=0;V<j.length;V++){const Z=g(I,F[U],j[V]);Z[0]<P&&(P=Z[0],N=Z[1])}return e=null,N}function M(I){e===null&&(e=dist$2().distance(t)(I));const P=hcluster().linkage(n).distanceMatrix(e);return S(P(I))}return M.order=S,M.reorder=M,M.distance=function(I){return arguments.length?(t=I,e=null,M):t},M.linkage=function(I){return arguments.length?(n=I,M):n},M.distance_matrix=function(I){return arguments.length?(e=I.map(P=>P.slice(0)),M):e},M.distanceMatrix=M.distance_matrix,M}function center(e){const t=e.length;if(t===0)return null;const n=meancolumns(e),s=n.length,u=Array(t);for(let f=0;f<t;f++){const d=e[f].slice(0);for(let g=0;g<s;g++)d[g]-=n[g];u[f]=d}return u}function pca1d(e,t){if(e.length===0)return null;e=center(e);const n=variancecovariance(e);return poweriteration(n,t)}function pca_order(e,t){return sort_order(pca1d(e,t))}function spectral_order(e,t){let n=[];t||(t=e.components());for(let s=0;s<t.length;s++){const u=t[s],f=fiedler_vector(laplacian(e,u)),d=sort_order(f);n=n.concat(permute(u,d))}return n}function inverse_permutation(e){const t=new Map;for(let n=0;n<e.length;n++)t.set(e[n],n);return t}const constructSeriation=(e,t)=>{const n=["euclidean","manhattan","minkowski","chebyshev","hamming","jaccard","braycurtis"];if(t.method==="optimal-leaf-order")if(n.includes(t.distance)){const s=mat2graph(e),u=graph2valuemats(s),f=optimal_leaf_order().distance(distance.manhattan),d=valuemats_reorder(u,f);return inverse_permutation(d)}else{const s=optimal_leaf_order()(e);return inverse_permutation(s)}else if(t.method==="barycentre"){const s=mat2graph(e),u=barycenter_order(s);adjacent_exchange(s,u[0],u[1]);const f=u[0];return inverse_permutation(f)}else if(t.method==="bandwidth-reduction"){const s=mat2graph(e),u=reverse_cuthill_mckee_order(s);return inverse_permutation(u)}else if(t.method==="spectral"){const s=mat2graph(e),u=spectral_order(s);return inverse_permutation(u)}else if(t.method==="pca"){const s=pca_order(e);return inverse_permutation(s)}},constructOrdering=(e,t)=>{if("orderBy"in t){const n=select(e,t.data);return attributeOrdering(n,t)}else{const n=select(e,t.network),s=new Map,u=new Map;for(const S in n.nodes){const M=n.nodes[S];s.set(M.id,S),u.set(+S,M.id)}const f=[];for(const S of n.nodes){const M=s.get(S.id);f[M]=[];for(const I of n.nodes){const P=s.get(I.id);f[M][P]=0}}for(const S of n.links){const M=s.get(S.source.id),I=s.get(S.target.id),P="weightField"in t?t.weightField:"value",N=select(S,P);f[M][I]+=N,f[I][M]+=N,f[M][M]+=N,f[I][I]+=N}let d=t.method;typeof d=="object"&&"parameter"in d&&(d=e[d.parameter]);const g=constructSeriation(f,Object.assign(Object.assign({},t),{method:d})),v=new Map;for(const S of g.keys())v.set(u.get(S),g.get(S));return v}},getValue$3=(e,t)=>{if(t==="*")return Object.assign({},e);if(typeof t=="string")return{[t]:e[t]};if("field"in t)return{[t.as?t.as:t.field]:select(e,t.field)};if("value"in t)return{[t.as?t.as:t.value]:t.value}},getNodeFromRow=(e,t,n)=>{const s={};for(const u of t.data)Object.assign(s,getValue$3(e,u));return{id:select(e,t.id_field||"id"),_type:t.type||"default",_dataSource:n,data:s}},getLinkFromRow=(e,t,n)=>{const s={};for(const f of t.data||[])Object.assign(s,getValue$3(e,f));const u=f=>Object.values(f)[0];return{_dataSource:n,_source_id:u(getValue$3(e,t.source_id)),_source_id_field:t.source_id_field||"id",_source_node_type:t.source_node_type||"default",_target_id:u(getValue$3(e,t.target_id)),_target_id_field:t.target_id_field||"id",_target_node_type:t.target_node_type||"default",data:s}},addNodeToIndex=(e,t,n,s,u)=>(e[t]||(e[t]={}),e[t][n]||(e[t][n]={}),e[t][n][s]=u,e),constructNetworkComplex=(e,t)=>{var n,s,u,f;const d=[],g=[];let v=[];const S={};for(const P of t.parts)for(const N of[...P.yieldsLinks||[],...P.mapYieldsLinks||[]])N.source_node_type=N.source_node_type||"default",N.target_node_type=N.target_node_type||"default",N.source_id_field=N.source_id_field||"id",N.target_id_field=N.target_id_field||"id",S[N.source_node_type]||(S[N.source_node_type]=[]),S[N.source_node_type].push(N.source_id_field),S[N.target_node_type]||(S[N.target_node_type]=[]),S[N.target_node_type].push(N.target_id_field);const M=[],I={};for(const P of t.parts){const N=select(e,P.data);for(const F of N){for(const j of P.yieldsNodes||[]){let U=getNodeFromRow(F,j,P.data);M.includes(U.id)?U=d[I[U.id]]:(d.push(U),M.push(U.id),I[U.id]=d.length-1);for(const V of S[U._type]||[]){const Z=V==="id"?U.id:F[V];v=addNodeToIndex(v,U._type,V,Z,U)}}for(const j of P.yieldsLinks||[]){const U=getLinkFromRow(F,j,P.data);g.push(U),j.addReverseLinks&&g.push(Object.assign(Object.assign({},U),{_source_id:U._target_id,_source_id_field:U._target_id_field,_source_node_type:U._target_node_type,_target_id:U._source_id,_target_id_field:U._source_id_field,_target_node_type:U._source_node_type}))}for(const j of P.mapYieldsLinks||[]){const U=select(F,j.field),V=P.data+"_"+j.field;for(const Z of U){const Q=getLinkFromRow({parent:F,child:Z},j,V);g.push(Q),j.addReverseLinks&&g.push(Object.assign(Object.assign({},Q),{_source_id:Q._target_id,_source_id_field:Q._target_id_field,_source_node_type:Q._target_node_type,_target_id:Q._source_id,_target_id_field:Q._source_id_field,_target_node_type:Q._source_node_type}))}}}}for(const P of g){let N=(s=(n=v==null?void 0:v[P._source_node_type])===null||n===void 0?void 0:n[P._source_id_field])===null||s===void 0?void 0:s[P._source_id];N||(N={[P._source_id_field]:P._source_id,_type:P._source_node_type},d.push(N),v=addNodeToIndex(v,P._source_node_type,P._source_id_field,P._source_id,N));let F=(f=(u=v==null?void 0:v[P._target_node_type])===null||u===void 0?void 0:u[P._target_id_field])===null||f===void 0?void 0:f[P._target_id];F||(F={[P._target_id_field]:P._target_id,_type:P._target_node_type},d.push(F),v=addNodeToIndex(v,P._target_node_type,P._target_id_field,P._target_id,F)),P.source=N,P.target=F,delete P._source_id,delete P._source_node_type,delete P._source_id_field,delete P._target_id,delete P._target_node_type,delete P._target_id_field}return{nodes:d,links:g}},layoutD3Force=(e,t,n,s,u)=>{const f=forceSimulation(e),d=(v,S,M)=>v[S]?convertVal(v[S],{},s,M,u):M;if("forces"in n){let v=0;for(const S of n.forces){let M=null;if(S.force=="center"){const I=d(S,"x",0),P=d(S,"y",0),N=d(S,"strength",1);M=forceCenter(I,P).strength(N)}else if(S.force=="collide"){const I=d(S,"strength",1),P=d(S,"iterations",1),N=d(S,"radius",1);M=forceCollide(N).strength(I).iterations(P)}else if(S.force==="nbody"){const I=d(S,"theta",.9),P=d(S,"distanceMin",1),N=d(S,"distanceMax",1/0),F=d(S,"strength",-20);M=forceManyBody().strength(F).theta(I).distanceMin(P).distanceMax(N)}else if(S.force==="x"){const I=d(S,"strength",.1),P=d(S,"x",0);M=forceX().strength(I).x(P)}else if(S.force==="y"){const I=d(S,"strength",.1),P=d(S,"y",0);M=forceY().strength(I).y(P)}else if(S.force==="link"){const I=d(S,"distance",30),P=d(S,"iterations",1);if(M=forceLink().links(t).distance(I).iterations(P),"strength"in S){const N=d(S,"strength",0);M.strength(N)}}else if(S.force==="radial"){const I=d(S,"radius",1),P=d(S,"strength",.1),N=d(S,"x",0),F=d(S,"y",0);M=forceRadial(I).x(N).y(F).strength(P)}f.force(`force_${v}`,M),v++}}else f.force("link",forceLink(t).id(v=>v.id)).force("charge",forceManyBody().strength(-400));let g=1e9;do f.tick(),g=mean$1(e.map(v=>Math.sqrt(Math.pow(v.vx,2)+Math.pow(v.vy,2))))||0;while(g>.001);f.stop()};var dist$1={},adaptor$1={},layout$2={},powergraph={};Object.defineProperty(powergraph,"__esModule",{value:!0});var PowerEdge=function(){function e(t,n,s){this.source=t,this.target=n,this.type=s}return e}();powergraph.PowerEdge=PowerEdge;var Configuration=function(){function e(t,n,s,u){var f=this;if(this.linkAccessor=s,this.modules=new Array(t),this.roots=[],u)this.initModulesFromGroup(u);else{this.roots.push(new ModuleSet);for(var d=0;d<t;++d)this.roots[0].add(this.modules[d]=new Module(d))}this.R=n.length,n.forEach(function(g){var v=f.modules[s.getSourceIndex(g)],S=f.modules[s.getTargetIndex(g)],M=s.getType(g);v.outgoing.add(M,S),S.incoming.add(M,v)})}return e.prototype.initModulesFromGroup=function(t){var n=new ModuleSet;this.roots.push(n);for(var s=0;s<t.leaves.length;++s){var u=t.leaves[s],f=new Module(u.id);this.modules[u.id]=f,n.add(f)}if(t.groups)for(var d=0;d<t.groups.length;++d){var g=t.groups[d],v={};for(var S in g)S!=="leaves"&&S!=="groups"&&g.hasOwnProperty(S)&&(v[S]=g[S]);n.add(new Module(-1-d,new LinkSets,new LinkSets,this.initModulesFromGroup(g),v))}return n},e.prototype.merge=function(t,n,s){s===void 0&&(s=0);var u=t.incoming.intersection(n.incoming),f=t.outgoing.intersection(n.outgoing),d=new ModuleSet;d.add(t),d.add(n);var g=new Module(this.modules.length,f,u,d);this.modules.push(g);var v=function(S,M,I){S.forAll(function(P,N){P.forAll(function(F){var j=F[M];j.add(N,g),j.remove(N,t),j.remove(N,n),t[I].remove(N,F),n[I].remove(N,F)})})};return v(f,"incoming","outgoing"),v(u,"outgoing","incoming"),this.R-=u.count()+f.count(),this.roots[s].remove(t),this.roots[s].remove(n),this.roots[s].add(g),g},e.prototype.rootMerges=function(t){t===void 0&&(t=0);for(var n=this.roots[t].modules(),s=n.length,u=new Array(s*(s-1)),f=0,d=0,g=s-1;d<g;++d)for(var v=d+1;v<s;++v){var S=n[d],M=n[v];u[f]={id:f,nEdges:this.nEdges(S,M),a:S,b:M},f++}return u},e.prototype.greedyMerge=function(){for(var t=0;t<this.roots.length;++t)if(!(this.roots[t].modules().length<2)){var n=this.rootMerges(t).sort(function(u,f){return u.nEdges==f.nEdges?u.id-f.id:u.nEdges-f.nEdges}),s=n[0];if(!(s.nEdges>=this.R))return this.merge(s.a,s.b,t),!0}},e.prototype.nEdges=function(t,n){var s=t.incoming.intersection(n.incoming),u=t.outgoing.intersection(n.outgoing);return this.R-s.count()-u.count()},e.prototype.getGroupHierarchy=function(t){var n=this,s=[],u={};toGroups(this.roots[0],u,s);var f=this.allEdges();return f.forEach(function(d){var g=n.modules[d.source],v=n.modules[d.target];t.push(new PowerEdge(typeof g.gid>"u"?d.source:s[g.gid],typeof v.gid>"u"?d.target:s[v.gid],d.type))}),s},e.prototype.allEdges=function(){var t=[];return e.getEdges(this.roots[0],t),t},e.getEdges=function(t,n){t.forAll(function(s){s.getEdges(n),e.getEdges(s.children,n)})},e}();powergraph.Configuration=Configuration;function toGroups(e,t,n){e.forAll(function(s){if(s.isLeaf())t.leaves||(t.leaves=[]),t.leaves.push(s.id);else{var u=t;if(s.gid=n.length,!s.isIsland()||s.isPredefined()){if(u={id:s.gid},s.isPredefined())for(var f in s.definition)u[f]=s.definition[f];t.groups||(t.groups=[]),t.groups.push(s.gid),n.push(u)}toGroups(s.children,u,n)}})}var Module=function(){function e(t,n,s,u,f){n===void 0&&(n=new LinkSets),s===void 0&&(s=new LinkSets),u===void 0&&(u=new ModuleSet),this.id=t,this.outgoing=n,this.incoming=s,this.children=u,this.definition=f}return e.prototype.getEdges=function(t){var n=this;this.outgoing.forAll(function(s,u){s.forAll(function(f){t.push(new PowerEdge(n.id,f.id,u))})})},e.prototype.isLeaf=function(){return this.children.count()===0},e.prototype.isIsland=function(){return this.outgoing.count()===0&&this.incoming.count()===0},e.prototype.isPredefined=function(){return typeof this.definition<"u"},e}();powergraph.Module=Module;function intersection(e,t){var n={};for(var s in e)s in t&&(n[s]=e[s]);return n}var ModuleSet=function(){function e(){this.table={}}return e.prototype.count=function(){return Object.keys(this.table).length},e.prototype.intersection=function(t){var n=new e;return n.table=intersection(this.table,t.table),n},e.prototype.intersectionCount=function(t){return this.intersection(t).count()},e.prototype.contains=function(t){return t in this.table},e.prototype.add=function(t){this.table[t.id]=t},e.prototype.remove=function(t){delete this.table[t.id]},e.prototype.forAll=function(t){for(var n in this.table)t(this.table[n])},e.prototype.modules=function(){var t=[];return this.forAll(function(n){n.isPredefined()||t.push(n)}),t},e}();powergraph.ModuleSet=ModuleSet;var LinkSets=function(){function e(){this.sets={},this.n=0}return e.prototype.count=function(){return this.n},e.prototype.contains=function(t){var n=!1;return this.forAllModules(function(s){!n&&s.id==t&&(n=!0)}),n},e.prototype.add=function(t,n){var s=t in this.sets?this.sets[t]:this.sets[t]=new ModuleSet;s.add(n),++this.n},e.prototype.remove=function(t,n){var s=this.sets[t];s.remove(n),s.count()===0&&delete this.sets[t],--this.n},e.prototype.forAll=function(t){for(var n in this.sets)t(this.sets[n],Number(n))},e.prototype.forAllModules=function(t){this.forAll(function(n,s){return n.forAll(t)})},e.prototype.intersection=function(t){var n=new e;return this.forAll(function(s,u){if(u in t.sets){var f=s.intersection(t.sets[u]),d=f.count();d>0&&(n.sets[u]=f,n.n+=d)}}),n},e}();powergraph.LinkSets=LinkSets;function getGroups(e,t,n,s){for(var u=e.length,f=new Configuration(u,t,n,s);f.greedyMerge(););var d=[],g=f.getGroupHierarchy(d);return d.forEach(function(v){var S=function(M){var I=v[M];typeof I=="number"&&(v[M]=e[I])};S("source"),S("target")}),{groups:g,powerEdges:d}}powergraph.getGroups=getGroups;var linklengths={};Object.defineProperty(linklengths,"__esModule",{value:!0});function unionCount(e,t){var n={};for(var s in e)n[s]={};for(var s in t)n[s]={};return Object.keys(n).length}function intersectionCount(e,t){var n=0;for(var s in e)typeof t[s]<"u"&&++n;return n}function getNeighbours(e,t){var n={},s=function(u,f){typeof n[u]>"u"&&(n[u]={}),n[u][f]={}};return e.forEach(function(u){var f=t.getSourceIndex(u),d=t.getTargetIndex(u);s(f,d),s(d,f)}),n}function computeLinkLengths(e,t,n,s){var u=getNeighbours(e,s);e.forEach(function(f){var d=u[s.getSourceIndex(f)],g=u[s.getTargetIndex(f)];s.setLength(f,1+t*n(d,g))})}function symmetricDiffLinkLengths(e,t,n){n===void 0&&(n=1),computeLinkLengths(e,n,function(s,u){return Math.sqrt(unionCount(s,u)-intersectionCount(s,u))},t)}linklengths.symmetricDiffLinkLengths=symmetricDiffLinkLengths;function jaccardLinkLengths(e,t,n){n===void 0&&(n=1),computeLinkLengths(e,n,function(s,u){return Math.min(Object.keys(s).length,Object.keys(u).length)<1.1?0:intersectionCount(s,u)/unionCount(s,u)},t)}linklengths.jaccardLinkLengths=jaccardLinkLengths;function generateDirectedEdgeConstraints(e,t,n,s){var u=stronglyConnectedComponents(e,t,s),f={};u.forEach(function(g,v){return g.forEach(function(S){return f[S]=v})});var d=[];return t.forEach(function(g){var v=s.getSourceIndex(g),S=s.getTargetIndex(g),M=f[v],I=f[S];M!==I&&d.push({axis:n,left:v,right:S,gap:s.getMinSeparation(g)})}),d}linklengths.generateDirectedEdgeConstraints=generateDirectedEdgeConstraints;function stronglyConnectedComponents(e,t,n){var s=[],u=0,f=[],d=[];function g(V){V.index=V.lowlink=u++,f.push(V),V.onStack=!0;for(var Z=0,Q=V.out;Z<Q.length;Z++){var J=Q[Z];typeof J.index>"u"?(g(J),V.lowlink=Math.min(V.lowlink,J.lowlink)):J.onStack&&(V.lowlink=Math.min(V.lowlink,J.index))}if(V.lowlink===V.index){for(var te=[];f.length&&(J=f.pop(),J.onStack=!1,te.push(J),J!==V););d.push(te.map(function(oe){return oe.id}))}}for(var v=0;v<e;v++)s.push({id:v,out:[]});for(var S=0,M=t;S<M.length;S++){var I=M[S],P=s[n.getSourceIndex(I)],N=s[n.getTargetIndex(I)];P.out.push(N)}for(var F=0,j=s;F<j.length;F++){var U=j[F];typeof U.index>"u"&&g(U)}return d}linklengths.stronglyConnectedComponents=stronglyConnectedComponents;var descent={};Object.defineProperty(descent,"__esModule",{value:!0});var Locks=function(){function e(){this.locks={}}return e.prototype.add=function(t,n){this.locks[t]=n},e.prototype.clear=function(){this.locks={}},e.prototype.isEmpty=function(){for(var t in this.locks)return!1;return!0},e.prototype.apply=function(t){for(var n in this.locks)t(Number(n),this.locks[n])},e}();descent.Locks=Locks;var Descent=function(){function e(t,n,s){s===void 0&&(s=null),this.D=n,this.G=s,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new PseudoRandom,this.project=null,this.x=t,this.k=t.length;var u=this.n=t[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new Locks,this.minD=Number.MAX_VALUE;for(var f=u,d;f--;)for(d=u;--d>f;){var g=n[f][d];g>0&&g<this.minD&&(this.minD=g)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),f=this.k;f--;){for(this.g[f]=new Array(u),this.H[f]=new Array(u),d=u;d--;)this.H[f][d]=new Array(u);this.Hd[f]=new Array(u),this.a[f]=new Array(u),this.b[f]=new Array(u),this.c[f]=new Array(u),this.d[f]=new Array(u),this.e[f]=new Array(u),this.ia[f]=new Array(u),this.ib[f]=new Array(u),this.xtmp[f]=new Array(u)}}return e.createSquareMatrix=function(t,n){for(var s=new Array(t),u=0;u<t;++u){s[u]=new Array(t);for(var f=0;f<t;++f)s[u][f]=n(u,f)}return s},e.prototype.offsetDir=function(){for(var t=this,n=new Array(this.k),s=0,u=0;u<this.k;++u){var f=n[u]=this.random.getNextBetween(.01,1)-.5;s+=f*f}return s=Math.sqrt(s),n.map(function(d){return d*=t.minD/s})},e.prototype.computeDerivatives=function(t){var n=this,s=this.n;if(!(s<1)){for(var u,f=new Array(this.k),d=new Array(this.k),g=new Array(this.k),v=0,S=0;S<s;++S){for(u=0;u<this.k;++u)g[u]=this.g[u][S]=0;for(var M=0;M<s;++M)if(S!==M){for(var I=s;I--;){var P=0;for(u=0;u<this.k;++u){var N=f[u]=t[u][S]-t[u][M];P+=d[u]=N*N}if(P>1e-9)break;var F=this.offsetDir();for(u=0;u<this.k;++u)t[u][M]+=F[u]}var j=Math.sqrt(P),U=this.D[S][M],V=this.G!=null?this.G[S][M]:1;if(V>1&&j>U||!isFinite(U)){for(u=0;u<this.k;++u)this.H[u][S][M]=0;continue}V>1&&(V=1);var Z=U*U,Q=2*V*(j-U)/(Z*j),J=j*j*j,te=2*-V/(Z*J);for(isFinite(Q)||console.log(Q),u=0;u<this.k;++u)this.g[u][S]+=f[u]*Q,g[u]-=this.H[u][S][M]=te*(J+U*(d[u]-P)+j*P)}for(u=0;u<this.k;++u)v=Math.max(v,this.H[u][S][S]=g[u])}for(var oe=this.snapGridSize/2,ue=this.snapGridSize,se=this.snapStrength,le=se/(oe*oe),de=this.numGridSnapNodes,S=0;S<de;++S)for(u=0;u<this.k;++u){var ge=this.x[u][S],ve=ge/ue,me=ve%1,ye=ve-me,Ae=Math.abs(me),N=Ae<=.5?ge-ye*ue:ge>0?ge-(ye+1)*ue:ge-(ye-1)*ue;-oe<N&&N<=oe&&(this.scaleSnapByMaxH?(this.g[u][S]+=v*le*N,this.H[u][S][S]+=v*le):(this.g[u][S]+=le*N,this.H[u][S][S]+=le))}this.locks.isEmpty()||this.locks.apply(function(Te,Oe){for(u=0;u<n.k;++u)n.H[u][Te][Te]+=v,n.g[u][Te]-=v*(Oe[u]-t[u][Te])})}},e.dotProd=function(t,n){for(var s=0,u=t.length;u--;)s+=t[u]*n[u];return s},e.rightMultiply=function(t,n,s){for(var u=t.length;u--;)s[u]=e.dotProd(t[u],n)},e.prototype.computeStepSize=function(t){for(var n=0,s=0,u=0;u<this.k;++u)n+=e.dotProd(this.g[u],t[u]),e.rightMultiply(this.H[u],t[u],this.Hd[u]),s+=e.dotProd(t[u],this.Hd[u]);return s===0||!isFinite(s)?0:1*n/s},e.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var t=this.computeStepSize(this.g),n=0;n<this.k;++n)this.takeDescentStep(this.x[n],this.g[n],t);return this.computeStress()},e.copy=function(t,n){for(var s=t.length,u=n[0].length,f=0;f<s;++f)for(var d=0;d<u;++d)n[f][d]=t[f][d]},e.prototype.stepAndProject=function(t,n,s,u){e.copy(t,n),this.takeDescentStep(n[0],s[0],u),this.project&&this.project[0](t[0],t[1],n[0]),this.takeDescentStep(n[1],s[1],u),this.project&&this.project[1](n[0],t[1],n[1]);for(var f=2;f<this.k;f++)this.takeDescentStep(n[f],s[f],u)},e.mApply=function(t,n,s){for(var u=t;u-- >0;)for(var f=n;f-- >0;)s(u,f)},e.prototype.matrixApply=function(t){e.mApply(this.k,this.n,t)},e.prototype.computeNextPosition=function(t,n){var s=this;this.computeDerivatives(t);var u=this.computeStepSize(this.g);if(this.stepAndProject(t,n,this.g,u),this.project){this.matrixApply(function(d,g){return s.e[d][g]=t[d][g]-n[d][g]});var f=this.computeStepSize(this.e);f=Math.max(.2,Math.min(f,1)),this.stepAndProject(t,n,this.e,f)}},e.prototype.run=function(t){for(var n=Number.MAX_VALUE,s=!1;!s&&t-- >0;){var u=this.rungeKutta();s=Math.abs(n/u-1)<this.threshold,n=u}return n},e.prototype.rungeKutta=function(){var t=this;this.computeNextPosition(this.x,this.a),e.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),e.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var n=0;return this.matrixApply(function(s,u){var f=(t.a[s][u]+2*t.b[s][u]+2*t.c[s][u]+t.d[s][u])/6,d=t.x[s][u]-f;n+=d*d,t.x[s][u]=f}),n},e.mid=function(t,n,s){e.mApply(t.length,t[0].length,function(u,f){return s[u][f]=t[u][f]+(n[u][f]-t[u][f])/2})},e.prototype.takeDescentStep=function(t,n,s){for(var u=0;u<this.n;++u)t[u]=t[u]-s*n[u]},e.prototype.computeStress=function(){for(var t=0,n=0,s=this.n-1;n<s;++n)for(var u=n+1,f=this.n;u<f;++u){for(var d=0,g=0;g<this.k;++g){var v=this.x[g][n]-this.x[g][u];d+=v*v}d=Math.sqrt(d);var S=this.D[n][u];if(isFinite(S)){var M=S-d,I=S*S;t+=M*M/I}}return t},e.zeroDistance=1e-10,e}();descent.Descent=Descent;var PseudoRandom=function(){function e(t){t===void 0&&(t=1),this.seed=t,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return e.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},e.prototype.getNextBetween=function(t,n){return t+this.getNext()*(n-t)},e}();descent.PseudoRandom=PseudoRandom;var rectangle={},vpsc={};Object.defineProperty(vpsc,"__esModule",{value:!0});var PositionStats=function(){function e(t){this.scale=t,this.AB=0,this.AD=0,this.A2=0}return e.prototype.addVariable=function(t){var n=this.scale/t.scale,s=t.offset/t.scale,u=t.weight;this.AB+=u*n*s,this.AD+=u*n*t.desiredPosition,this.A2+=u*n*n},e.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},e}();vpsc.PositionStats=PositionStats;var Constraint=function(){function e(t,n,s,u){u===void 0&&(u=!1),this.left=t,this.right=n,this.gap=s,this.equality=u,this.active=!1,this.unsatisfiable=!1,this.left=t,this.right=n,this.gap=s,this.equality=u}return e.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},e}();vpsc.Constraint=Constraint;var Variable=function(){function e(t,n,s){n===void 0&&(n=1),s===void 0&&(s=1),this.desiredPosition=t,this.weight=n,this.scale=s,this.offset=0}return e.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},e.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},e.prototype.visitNeighbours=function(t,n){var s=function(u,f){return u.active&&t!==f&&n(u,f)};this.cOut.forEach(function(u){return s(u,u.right)}),this.cIn.forEach(function(u){return s(u,u.left)})},e}();vpsc.Variable=Variable;var Block=function(){function e(t){this.vars=[],t.offset=0,this.ps=new PositionStats(t.scale),this.addVariable(t)}return e.prototype.addVariable=function(t){t.block=this,this.vars.push(t),this.ps.addVariable(t),this.posn=this.ps.getPosn()},e.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var t=0,n=this.vars.length;t<n;++t)this.ps.addVariable(this.vars[t]);this.posn=this.ps.getPosn()},e.prototype.compute_lm=function(t,n,s){var u=this,f=t.dfdv();return t.visitNeighbours(n,function(d,g){var v=u.compute_lm(g,t,s);g===d.right?(f+=v*d.left.scale,d.lm=v):(f+=v*d.right.scale,d.lm=-v),s(d)}),f/t.scale},e.prototype.populateSplitBlock=function(t,n){var s=this;t.visitNeighbours(n,function(u,f){f.offset=t.offset+(f===u.right?u.gap:-u.gap),s.addVariable(f),s.populateSplitBlock(f,t)})},e.prototype.traverse=function(t,n,s,u){var f=this;s===void 0&&(s=this.vars[0]),u===void 0&&(u=null),s.visitNeighbours(u,function(d,g){n.push(t(d)),f.traverse(t,n,g,s)})},e.prototype.findMinLM=function(){var t=null;return this.compute_lm(this.vars[0],null,function(n){!n.equality&&(t===null||n.lm<t.lm)&&(t=n)}),t},e.prototype.findMinLMBetween=function(t,n){this.compute_lm(t,null,function(){});var s=null;return this.findPath(t,null,n,function(u,f){!u.equality&&u.right===f&&(s===null||u.lm<s.lm)&&(s=u)}),s},e.prototype.findPath=function(t,n,s,u){var f=this,d=!1;return t.visitNeighbours(n,function(g,v){!d&&(v===s||f.findPath(v,t,s,u))&&(d=!0,u(g,v))}),d},e.prototype.isActiveDirectedPathBetween=function(t,n){if(t===n)return!0;for(var s=t.cOut.length;s--;){var u=t.cOut[s];if(u.active&&this.isActiveDirectedPathBetween(u.right,n))return!0}return!1},e.split=function(t){return t.active=!1,[e.createSplitBlock(t.left),e.createSplitBlock(t.right)]},e.createSplitBlock=function(t){var n=new e(t);return n.populateSplitBlock(t,null),n},e.prototype.splitBetween=function(t,n){var s=this.findMinLMBetween(t,n);if(s!==null){var u=e.split(s);return{constraint:s,lb:u[0],rb:u[1]}}return null},e.prototype.mergeAcross=function(t,n,s){n.active=!0;for(var u=0,f=t.vars.length;u<f;++u){var d=t.vars[u];d.offset+=s,this.addVariable(d)}this.posn=this.ps.getPosn()},e.prototype.cost=function(){for(var t=0,n=this.vars.length;n--;){var s=this.vars[n],u=s.position()-s.desiredPosition;t+=u*u*s.weight}return t},e}();vpsc.Block=Block;var Blocks=function(){function e(t){this.vs=t;var n=t.length;for(this.list=new Array(n);n--;){var s=new Block(t[n]);this.list[n]=s,s.blockInd=n}}return e.prototype.cost=function(){for(var t=0,n=this.list.length;n--;)t+=this.list[n].cost();return t},e.prototype.insert=function(t){t.blockInd=this.list.length,this.list.push(t)},e.prototype.remove=function(t){var n=this.list.length-1,s=this.list[n];this.list.length=n,t!==s&&(this.list[t.blockInd]=s,s.blockInd=t.blockInd)},e.prototype.merge=function(t){var n=t.left.block,s=t.right.block,u=t.right.offset-t.left.offset-t.gap;n.vars.length<s.vars.length?(s.mergeAcross(n,t,u),this.remove(n)):(n.mergeAcross(s,t,-u),this.remove(s))},e.prototype.forEach=function(t){this.list.forEach(t)},e.prototype.updateBlockPositions=function(){this.list.forEach(function(t){return t.updateWeightedPosition()})},e.prototype.split=function(t){var n=this;this.updateBlockPositions(),this.list.forEach(function(s){var u=s.findMinLM();u!==null&&u.lm<Solver.LAGRANGIAN_TOLERANCE&&(s=u.left.block,Block.split(u).forEach(function(f){return n.insert(f)}),n.remove(s),t.push(u))})},e}();vpsc.Blocks=Blocks;var Solver=function(){function e(t,n){this.vs=t,this.cs=n,this.vs=t,t.forEach(function(s){s.cIn=[],s.cOut=[]}),this.cs=n,n.forEach(function(s){s.left.cOut.push(s),s.right.cIn.push(s)}),this.inactive=n.map(function(s){return s.active=!1,s}),this.bs=null}return e.prototype.cost=function(){return this.bs.cost()},e.prototype.setStartingPositions=function(t){this.inactive=this.cs.map(function(n){return n.active=!1,n}),this.bs=new Blocks(this.vs),this.bs.forEach(function(n,s){return n.posn=t[s]})},e.prototype.setDesiredPositions=function(t){this.vs.forEach(function(n,s){return n.desiredPosition=t[s]})},e.prototype.mostViolated=function(){for(var t=Number.MAX_VALUE,n=null,s=this.inactive,u=s.length,f=u,d=0;d<u;++d){var g=s[d];if(!g.unsatisfiable){var v=g.slack();if((g.equality||v<t)&&(t=v,n=g,f=d,g.equality))break}}return f!==u&&(t<e.ZERO_UPPERBOUND&&!n.active||n.equality)&&(s[f]=s[u-1],s.length=u-1),n},e.prototype.satisfy=function(){this.bs==null&&(this.bs=new Blocks(this.vs)),this.bs.split(this.inactive);for(var t=null;(t=this.mostViolated())&&(t.equality||t.slack()<e.ZERO_UPPERBOUND&&!t.active);){var n=t.left.block,s=t.right.block;if(n!==s)this.bs.merge(t);else{if(n.isActiveDirectedPathBetween(t.right,t.left)){t.unsatisfiable=!0;continue}var u=n.splitBetween(t.left,t.right);if(u!==null)this.bs.insert(u.lb),this.bs.insert(u.rb),this.bs.remove(n),this.inactive.push(u.constraint);else{t.unsatisfiable=!0;continue}t.slack()>=0?this.inactive.push(t):this.bs.merge(t)}}},e.prototype.solve=function(){this.satisfy();for(var t=Number.MAX_VALUE,n=this.bs.cost();Math.abs(t-n)>1e-4;)this.satisfy(),t=n,n=this.bs.cost();return n},e.LAGRANGIAN_TOLERANCE=-1e-4,e.ZERO_UPPERBOUND=-1e-10,e}();vpsc.Solver=Solver;function removeOverlapInOneDimension(e,t,n){for(var s=e.map(function(U){return new Variable(U.desiredCenter)}),u=[],f=e.length,d=0;d<f-1;d++){var g=e[d],v=e[d+1];u.push(new Constraint(s[d],s[d+1],(g.size+v.size)/2))}var S=s[0],M=s[f-1],I=e[0].size/2,P=e[f-1].size/2,N=null,F=null;t&&(N=new Variable(t,S.weight*1e3),s.push(N),u.push(new Constraint(N,S,I))),n&&(F=new Variable(n,M.weight*1e3),s.push(F),u.push(new Constraint(M,F,P)));var j=new Solver(s,u);return j.solve(),{newCenters:s.slice(0,e.length).map(function(U){return U.position()}),lowerBound:N?N.position():S.position()-I,upperBound:F?F.position():M.position()+P}}vpsc.removeOverlapInOneDimension=removeOverlapInOneDimension;var rbtree={},__extends$5=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}();Object.defineProperty(rbtree,"__esModule",{value:!0});var TreeBase=function(){function e(){this.findIter=function(t){for(var n=this._root,s=this.iterator();n!==null;){var u=this._comparator(t,n.data);if(u===0)return s._cursor=n,s;s._ancestors.push(n),n=n.get_child(u>0)}return null}}return e.prototype.clear=function(){this._root=null,this.size=0},e.prototype.find=function(t){for(var n=this._root;n!==null;){var s=this._comparator(t,n.data);if(s===0)return n.data;n=n.get_child(s>0)}return null},e.prototype.lowerBound=function(t){return this._bound(t,this._comparator)},e.prototype.upperBound=function(t){var n=this._comparator;function s(u,f){return n(f,u)}return this._bound(t,s)},e.prototype.min=function(){var t=this._root;if(t===null)return null;for(;t.left!==null;)t=t.left;return t.data},e.prototype.max=function(){var t=this._root;if(t===null)return null;for(;t.right!==null;)t=t.right;return t.data},e.prototype.iterator=function(){return new Iterator(this)},e.prototype.each=function(t){for(var n=this.iterator(),s;(s=n.next())!==null;)t(s)},e.prototype.reach=function(t){for(var n=this.iterator(),s;(s=n.prev())!==null;)t(s)},e.prototype._bound=function(t,n){for(var s=this._root,u=this.iterator();s!==null;){var f=this._comparator(t,s.data);if(f===0)return u._cursor=s,u;u._ancestors.push(s),s=s.get_child(f>0)}for(var d=u._ancestors.length-1;d>=0;--d)if(s=u._ancestors[d],n(t,s.data)>0)return u._cursor=s,u._ancestors.length=d,u;return u._ancestors.length=0,u},e}();rbtree.TreeBase=TreeBase;var Iterator=function(){function e(t){this._tree=t,this._ancestors=[],this._cursor=null}return e.prototype.data=function(){return this._cursor!==null?this._cursor.data:null},e.prototype.next=function(){if(this._cursor===null){var t=this._tree._root;t!==null&&this._minNode(t)}else if(this._cursor.right===null){var n;do if(n=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.right===n)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return this._cursor!==null?this._cursor.data:null},e.prototype.prev=function(){if(this._cursor===null){var t=this._tree._root;t!==null&&this._maxNode(t)}else if(this._cursor.left===null){var n;do if(n=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===n)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return this._cursor!==null?this._cursor.data:null},e.prototype._minNode=function(t){for(;t.left!==null;)this._ancestors.push(t),t=t.left;this._cursor=t},e.prototype._maxNode=function(t){for(;t.right!==null;)this._ancestors.push(t),t=t.right;this._cursor=t},e}();rbtree.Iterator=Iterator;var Node$2=function(){function e(t){this.data=t,this.left=null,this.right=null,this.red=!0}return e.prototype.get_child=function(t){return t?this.right:this.left},e.prototype.set_child=function(t,n){t?this.right=n:this.left=n},e}(),RBTree=function(e){__extends$5(t,e);function t(n){var s=e.call(this)||this;return s._root=null,s._comparator=n,s.size=0,s}return t.prototype.insert=function(n){var s=!1;if(this._root===null)this._root=new Node$2(n),s=!0,this.size++;else{var u=new Node$2(void 0),f=!1,d=!1,g=null,v=u,S=null,M=this._root;for(v.right=this._root;;){if(M===null?(M=new Node$2(n),S.set_child(f,M),s=!0,this.size++):t.is_red(M.left)&&t.is_red(M.right)&&(M.red=!0,M.left.red=!1,M.right.red=!1),t.is_red(M)&&t.is_red(S)){var I=v.right===g;M===S.get_child(d)?v.set_child(I,t.single_rotate(g,!d)):v.set_child(I,t.double_rotate(g,!d))}var P=this._comparator(M.data,n);if(P===0)break;d=f,f=P<0,g!==null&&(v=g),g=S,S=M,M=M.get_child(f)}this._root=u.right}return this._root.red=!1,s},t.prototype.remove=function(n){if(this._root===null)return!1;var s=new Node$2(void 0),u=s;u.right=this._root;for(var f=null,d=null,g=null,v=!0;u.get_child(v)!==null;){var S=v;d=f,f=u,u=u.get_child(v);var M=this._comparator(n,u.data);if(v=M>0,M===0&&(g=u),!t.is_red(u)&&!t.is_red(u.get_child(v))){if(t.is_red(u.get_child(!v))){var I=t.single_rotate(u,v);f.set_child(S,I),f=I}else if(!t.is_red(u.get_child(!v))){var P=f.get_child(!S);if(P!==null)if(!t.is_red(P.get_child(!S))&&!t.is_red(P.get_child(S)))f.red=!1,P.red=!0,u.red=!0;else{var N=d.right===f;t.is_red(P.get_child(S))?d.set_child(N,t.double_rotate(f,S)):t.is_red(P.get_child(!S))&&d.set_child(N,t.single_rotate(f,S));var F=d.get_child(N);F.red=!0,u.red=!0,F.left.red=!1,F.right.red=!1}}}}return g!==null&&(g.data=u.data,f.set_child(f.right===u,u.get_child(u.left===null)),this.size--),this._root=s.right,this._root!==null&&(this._root.red=!1),g!==null},t.is_red=function(n){return n!==null&&n.red},t.single_rotate=function(n,s){var u=n.get_child(!s);return n.set_child(!s,u.get_child(s)),u.set_child(s,n),n.red=!0,u.red=!1,u},t.double_rotate=function(n,s){return n.set_child(!s,t.single_rotate(n.get_child(!s),!s)),t.single_rotate(n,s)},t}(TreeBase);rbtree.RBTree=RBTree;var __extends$4=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}();Object.defineProperty(rectangle,"__esModule",{value:!0});var vpsc_1$1=vpsc,rbtree_1=rbtree;function computeGroupBounds(e){return e.bounds=typeof e.leaves<"u"?e.leaves.reduce(function(t,n){return n.bounds.union(t)},Rectangle.empty()):Rectangle.empty(),typeof e.groups<"u"&&(e.bounds=e.groups.reduce(function(t,n){return computeGroupBounds(n).union(t)},e.bounds)),e.bounds=e.bounds.inflate(e.padding),e.bounds}rectangle.computeGroupBounds=computeGroupBounds;var Rectangle=function(){function e(t,n,s,u){this.x=t,this.X=n,this.y=s,this.Y=u}return e.empty=function(){return new e(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},e.prototype.cx=function(){return(this.x+this.X)/2},e.prototype.cy=function(){return(this.y+this.Y)/2},e.prototype.overlapX=function(t){var n=this.cx(),s=t.cx();return n<=s&&t.x<this.X?this.X-t.x:s<=n&&this.x<t.X?t.X-this.x:0},e.prototype.overlapY=function(t){var n=this.cy(),s=t.cy();return n<=s&&t.y<this.Y?this.Y-t.y:s<=n&&this.y<t.Y?t.Y-this.y:0},e.prototype.setXCentre=function(t){var n=t-this.cx();this.x+=n,this.X+=n},e.prototype.setYCentre=function(t){var n=t-this.cy();this.y+=n,this.Y+=n},e.prototype.width=function(){return this.X-this.x},e.prototype.height=function(){return this.Y-this.y},e.prototype.union=function(t){return new e(Math.min(this.x,t.x),Math.max(this.X,t.X),Math.min(this.y,t.y),Math.max(this.Y,t.Y))},e.prototype.lineIntersections=function(t,n,s,u){for(var f=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],d=[],g=0;g<4;++g){var v=e.lineIntersection(t,n,s,u,f[g][0],f[g][1],f[g][2],f[g][3]);v!==null&&d.push({x:v.x,y:v.y})}return d},e.prototype.rayIntersection=function(t,n){var s=this.lineIntersections(this.cx(),this.cy(),t,n);return s.length>0?s[0]:null},e.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},e.lineIntersection=function(t,n,s,u,f,d,g,v){var S=s-t,M=g-f,I=u-n,P=v-d,N=P*S-M*I;if(N==0)return null;var F=t-f,j=n-d,U=M*j-P*F,V=U/N,Z=S*j-I*F,Q=Z/N;return V>=0&&V<=1&&Q>=0&&Q<=1?{x:t+V*S,y:n+V*I}:null},e.prototype.inflate=function(t){return new e(this.x-t,this.X+t,this.y-t,this.Y+t)},e}();rectangle.Rectangle=Rectangle;function makeEdgeBetween(e,t,n){var s=e.rayIntersection(t.cx(),t.cy())||{x:e.cx(),y:e.cy()},u=t.rayIntersection(e.cx(),e.cy())||{x:t.cx(),y:t.cy()},f=u.x-s.x,d=u.y-s.y,g=Math.sqrt(f*f+d*d),v=g-n;return{sourceIntersection:s,targetIntersection:u,arrowStart:{x:s.x+v*f/g,y:s.y+v*d/g}}}rectangle.makeEdgeBetween=makeEdgeBetween;function makeEdgeTo(e,t,n){var s=t.rayIntersection(e.x,e.y);s||(s={x:t.cx(),y:t.cy()});var u=s.x-e.x,f=s.y-e.y,d=Math.sqrt(u*u+f*f);return{x:s.x-n*u/d,y:s.y-n*f/d}}rectangle.makeEdgeTo=makeEdgeTo;var Node$1=function(){function e(t,n,s){this.v=t,this.r=n,this.pos=s,this.prev=makeRBTree(),this.next=makeRBTree()}return e}(),Event$1=function(){function e(t,n,s){this.isOpen=t,this.v=n,this.pos=s}return e}();function compareEvents(e,t){return e.pos>t.pos?1:e.pos<t.pos||e.isOpen?-1:t.isOpen?1:0}function makeRBTree(){return new rbtree_1.RBTree(function(e,t){return e.pos-t.pos})}var xRect={getCentre:function(e){return e.cx()},getOpen:function(e){return e.y},getClose:function(e){return e.Y},getSize:function(e){return e.width()},makeRect:function(e,t,n,s){return new Rectangle(n-s/2,n+s/2,e,t)},findNeighbours:findXNeighbours},yRect={getCentre:function(e){return e.cy()},getOpen:function(e){return e.x},getClose:function(e){return e.X},getSize:function(e){return e.height()},makeRect:function(e,t,n,s){return new Rectangle(e,t,n-s/2,n+s/2)},findNeighbours:findYNeighbours};function generateGroupConstraints(e,t,n,s){s===void 0&&(s=!1);var u=e.padding,f=typeof e.groups<"u"?e.groups.length:0,d=typeof e.leaves<"u"?e.leaves.length:0,g=f?e.groups.reduce(function(te,oe){return te.concat(generateGroupConstraints(oe,t,n,!0))},[]):[],v=(s?2:0)+d+f,S=new Array(v),M=new Array(v),I=0,P=function(te,oe){M[I]=te,S[I++]=oe};if(s){var N=e.bounds,F=t.getCentre(N),j=t.getSize(N)/2,U=t.getOpen(N),V=t.getClose(N),Z=F-j+u/2,Q=F+j-u/2;e.minVar.desiredPosition=Z,P(t.makeRect(U,V,Z,u),e.minVar),e.maxVar.desiredPosition=Q,P(t.makeRect(U,V,Q,u),e.maxVar)}d&&e.leaves.forEach(function(te){return P(te.bounds,te.variable)}),f&&e.groups.forEach(function(te){var oe=te.bounds;P(t.makeRect(t.getOpen(oe),t.getClose(oe),t.getCentre(oe),t.getSize(oe)),te.minVar)});var J=generateConstraints$1(M,S,t,n);return f&&(S.forEach(function(te){te.cOut=[],te.cIn=[]}),J.forEach(function(te){te.left.cOut.push(te),te.right.cIn.push(te)}),e.groups.forEach(function(te){var oe=(te.padding-t.getSize(te.bounds))/2;te.minVar.cIn.forEach(function(ue){return ue.gap+=oe}),te.minVar.cOut.forEach(function(ue){ue.left=te.maxVar,ue.gap+=oe})})),g.concat(J)}function generateConstraints$1(e,t,n,s){var u,f=e.length,d=2*f;console.assert(t.length>=f);var g=new Array(d);for(u=0;u<f;++u){var v=e[u],S=new Node$1(t[u],v,n.getCentre(v));g[u]=new Event$1(!0,S,n.getOpen(v)),g[u+f]=new Event$1(!1,S,n.getClose(v))}g.sort(compareEvents);var M=new Array,I=makeRBTree();for(u=0;u<d;++u){var P=g[u],S=P.v;if(P.isOpen)I.insert(S),n.findNeighbours(S,I);else{I.remove(S);var N=function(U,V){var Z=(n.getSize(U.r)+n.getSize(V.r))/2+s;M.push(new vpsc_1$1.Constraint(U.v,V.v,Z))},F=function(U,V,Z){for(var Q,J=S[U].iterator();(Q=J[U]())!==null;)Z(Q,S),Q[V].remove(S)};F("prev","next",function(U,V){return N(U,V)}),F("next","prev",function(U,V){return N(V,U)})}}return console.assert(I.size===0),M}function findXNeighbours(e,t){var n=function(s,u){for(var f=t.findIter(e),d;(d=f[s]())!==null;){var g=d.r.overlapX(e.r);if((g<=0||g<=d.r.overlapY(e.r))&&(e[s].insert(d),d[u].insert(e)),g<=0)break}};n("next","prev"),n("prev","next")}function findYNeighbours(e,t){var n=function(s,u){var f=t.findIter(e)[s]();f!==null&&f.r.overlapX(e.r)>0&&(e[s].insert(f),f[u].insert(e))};n("next","prev"),n("prev","next")}function generateXConstraints(e,t){return generateConstraints$1(e,t,xRect,1e-6)}rectangle.generateXConstraints=generateXConstraints;function generateYConstraints(e,t){return generateConstraints$1(e,t,yRect,1e-6)}rectangle.generateYConstraints=generateYConstraints;function generateXGroupConstraints(e){return generateGroupConstraints(e,xRect,1e-6)}rectangle.generateXGroupConstraints=generateXGroupConstraints;function generateYGroupConstraints(e){return generateGroupConstraints(e,yRect,1e-6)}rectangle.generateYGroupConstraints=generateYGroupConstraints;function removeOverlaps(e){var t=e.map(function(u){return new vpsc_1$1.Variable(u.cx())}),n=generateXConstraints(e,t),s=new vpsc_1$1.Solver(t,n);s.solve(),t.forEach(function(u,f){return e[f].setXCentre(u.position())}),t=e.map(function(u){return new vpsc_1$1.Variable(u.cy())}),n=generateYConstraints(e,t),s=new vpsc_1$1.Solver(t,n),s.solve(),t.forEach(function(u,f){return e[f].setYCentre(u.position())})}rectangle.removeOverlaps=removeOverlaps;var IndexedVariable=function(e){__extends$4(t,e);function t(n,s){var u=e.call(this,0,s)||this;return u.index=n,u}return t}(vpsc_1$1.Variable);rectangle.IndexedVariable=IndexedVariable;var Projection=function(){function e(t,n,s,u,f){var d=this;if(s===void 0&&(s=null),u===void 0&&(u=null),f===void 0&&(f=!1),this.nodes=t,this.groups=n,this.rootGroup=s,this.avoidOverlaps=f,this.variables=t.map(function(v,S){return v.variable=new IndexedVariable(S,1)}),u&&this.createConstraints(u),f&&s&&typeof s.groups<"u"){t.forEach(function(v){if(!v.width||!v.height){v.bounds=new Rectangle(v.x,v.x,v.y,v.y);return}var S=v.width/2,M=v.height/2;v.bounds=new Rectangle(v.x-S,v.x+S,v.y-M,v.y+M)}),computeGroupBounds(s);var g=t.length;n.forEach(function(v){d.variables[g]=v.minVar=new IndexedVariable(g++,typeof v.stiffness<"u"?v.stiffness:.01),d.variables[g]=v.maxVar=new IndexedVariable(g++,typeof v.stiffness<"u"?v.stiffness:.01)})}}return e.prototype.createSeparation=function(t){return new vpsc_1$1.Constraint(this.nodes[t.left].variable,this.nodes[t.right].variable,t.gap,typeof t.equality<"u"?t.equality:!1)},e.prototype.makeFeasible=function(t){var n=this;if(this.avoidOverlaps){var s="x",u="width";t.axis==="x"&&(s="y",u="height");var f=t.offsets.map(function(g){return n.nodes[g.node]}).sort(function(g,v){return g[s]-v[s]}),d=null;f.forEach(function(g){if(d){var v=d[s]+d[u];v>g[s]&&(g[s]=v)}d=g})}},e.prototype.createAlignment=function(t){var n=this,s=this.nodes[t.offsets[0].node].variable;this.makeFeasible(t);var u=t.axis==="x"?this.xConstraints:this.yConstraints;t.offsets.slice(1).forEach(function(f){var d=n.nodes[f.node].variable;u.push(new vpsc_1$1.Constraint(s,d,f.offset,!0))})},e.prototype.createConstraints=function(t){var n=this,s=function(u){return typeof u.type>"u"||u.type==="separation"};this.xConstraints=t.filter(function(u){return u.axis==="x"&&s(u)}).map(function(u){return n.createSeparation(u)}),this.yConstraints=t.filter(function(u){return u.axis==="y"&&s(u)}).map(function(u){return n.createSeparation(u)}),t.filter(function(u){return u.type==="alignment"}).forEach(function(u){return n.createAlignment(u)})},e.prototype.setupVariablesAndBounds=function(t,n,s,u){this.nodes.forEach(function(f,d){f.fixed?(f.variable.weight=f.fixedWeight?f.fixedWeight:1e3,s[d]=u(f)):f.variable.weight=1;var g=(f.width||0)/2,v=(f.height||0)/2,S=t[d],M=n[d];f.bounds=new Rectangle(S-g,S+g,M-v,M+v)})},e.prototype.xProject=function(t,n,s){!this.rootGroup&&!(this.avoidOverlaps||this.xConstraints)||this.project(t,n,t,s,function(u){return u.px},this.xConstraints,generateXGroupConstraints,function(u){return u.bounds.setXCentre(s[u.variable.index]=u.variable.position())},function(u){var f=s[u.minVar.index]=u.minVar.position(),d=s[u.maxVar.index]=u.maxVar.position(),g=u.padding/2;u.bounds.x=f-g,u.bounds.X=d+g})},e.prototype.yProject=function(t,n,s){!this.rootGroup&&!this.yConstraints||this.project(t,n,n,s,function(u){return u.py},this.yConstraints,generateYGroupConstraints,function(u){return u.bounds.setYCentre(s[u.variable.index]=u.variable.position())},function(u){var f=s[u.minVar.index]=u.minVar.position(),d=s[u.maxVar.index]=u.maxVar.position(),g=u.padding/2;u.bounds.y=f-g,u.bounds.Y=d+g})},e.prototype.projectFunctions=function(){var t=this;return[function(n,s,u){return t.xProject(n,s,u)},function(n,s,u){return t.yProject(n,s,u)}]},e.prototype.project=function(t,n,s,u,f,d,g,v,S){this.setupVariablesAndBounds(t,n,u,f),this.rootGroup&&this.avoidOverlaps&&(computeGroupBounds(this.rootGroup),d=d.concat(g(this.rootGroup))),this.solve(this.variables,d,s,u),this.nodes.forEach(v),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(S),computeGroupBounds(this.rootGroup))},e.prototype.solve=function(t,n,s,u){var f=new vpsc_1$1.Solver(t,n);f.setStartingPositions(s),f.setDesiredPositions(u),f.solve()},e}();rectangle.Projection=Projection;var shortestpaths={},pqueue={};Object.defineProperty(pqueue,"__esModule",{value:!0});var PairingHeap=function(){function e(t){this.elem=t,this.subheaps=[]}return e.prototype.toString=function(t){for(var n="",s=!1,u=0;u<this.subheaps.length;++u){var f=this.subheaps[u];if(!f.elem){s=!1;continue}s&&(n=n+","),n=n+f.toString(t),s=!0}return n!==""&&(n="("+n+")"),(this.elem?t(this.elem):"")+n},e.prototype.forEach=function(t){this.empty()||(t(this.elem,this),this.subheaps.forEach(function(n){return n.forEach(t)}))},e.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(t,n){return t+n.count()},0)},e.prototype.min=function(){return this.elem},e.prototype.empty=function(){return this.elem==null},e.prototype.contains=function(t){if(this===t)return!0;for(var n=0;n<this.subheaps.length;n++)if(this.subheaps[n].contains(t))return!0;return!1},e.prototype.isHeap=function(t){var n=this;return this.subheaps.every(function(s){return t(n.elem,s.elem)&&s.isHeap(t)})},e.prototype.insert=function(t,n){return this.merge(new e(t),n)},e.prototype.merge=function(t,n){return this.empty()?t:t.empty()?this:n(this.elem,t.elem)?(this.subheaps.push(t),this):(t.subheaps.push(this),t)},e.prototype.removeMin=function(t){return this.empty()?null:this.mergePairs(t)},e.prototype.mergePairs=function(t){if(this.subheaps.length==0)return new e(null);if(this.subheaps.length==1)return this.subheaps[0];var n=this.subheaps.pop().merge(this.subheaps.pop(),t),s=this.mergePairs(t);return n.merge(s,t)},e.prototype.decreaseKey=function(t,n,s,u){var f=t.removeMin(u);t.elem=f.elem,t.subheaps=f.subheaps,s!==null&&f.elem!==null&&s(t.elem,t);var d=new e(n);return s!==null&&s(n,d),this.merge(d,u)},e}();pqueue.PairingHeap=PairingHeap;var PriorityQueue=function(){function e(t){this.lessThan=t}return e.prototype.top=function(){return this.empty()?null:this.root.elem},e.prototype.push=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var s,u=0,f;f=t[u];++u)s=new PairingHeap(f),this.root=this.empty()?s:this.root.merge(s,this.lessThan);return s},e.prototype.empty=function(){return!this.root||!this.root.elem},e.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},e.prototype.forEach=function(t){this.root.forEach(t)},e.prototype.pop=function(){if(this.empty())return null;var t=this.root.min();return this.root=this.root.removeMin(this.lessThan),t},e.prototype.reduceKey=function(t,n,s){s===void 0&&(s=null),this.root=this.root.decreaseKey(t,n,s,this.lessThan)},e.prototype.toString=function(t){return this.root.toString(t)},e.prototype.count=function(){return this.root.count()},e}();pqueue.PriorityQueue=PriorityQueue;Object.defineProperty(shortestpaths,"__esModule",{value:!0});var pqueue_1=pqueue,Neighbour=function(){function e(t,n){this.id=t,this.distance=n}return e}(),Node=function(){function e(t){this.id=t,this.neighbours=[]}return e}(),QueueEntry=function(){function e(t,n,s){this.node=t,this.prev=n,this.d=s}return e}(),Calculator=function(){function e(t,n,s,u,f){this.n=t,this.es=n,this.neighbours=new Array(this.n);for(var d=this.n;d--;)this.neighbours[d]=new Node(d);for(d=this.es.length;d--;){var g=this.es[d],v=s(g),S=u(g),M=f(g);this.neighbours[v].neighbours.push(new Neighbour(S,M)),this.neighbours[S].neighbours.push(new Neighbour(v,M))}}return e.prototype.DistanceMatrix=function(){for(var t=new Array(this.n),n=0;n<this.n;++n)t[n]=this.dijkstraNeighbours(n);return t},e.prototype.DistancesFromNode=function(t){return this.dijkstraNeighbours(t)},e.prototype.PathFromNodeToNode=function(t,n){return this.dijkstraNeighbours(t,n)},e.prototype.PathFromNodeToNodeWithPrevCost=function(t,n,s){var u=new pqueue_1.PriorityQueue(function(j,U){return j.d<=U.d}),f=this.neighbours[t],d=new QueueEntry(f,null,0),g={};for(u.push(d);!u.empty()&&(d=u.pop(),f=d.node,f.id!==n);)for(var v=f.neighbours.length;v--;){var S=f.neighbours[v],M=this.neighbours[S.id];if(!(d.prev&&M.id===d.prev.node.id)){var I=M.id+","+f.id;if(!(I in g&&g[I]<=d.d)){var P=d.prev?s(d.prev.node.id,f.id,M.id):0,N=d.d+S.distance+P;g[I]=N,u.push(new QueueEntry(M,d,N))}}}for(var F=[];d.prev;)d=d.prev,F.push(d.node.id);return F},e.prototype.dijkstraNeighbours=function(t,n){n===void 0&&(n=-1);for(var s=new pqueue_1.PriorityQueue(function(P,N){return P.d<=N.d}),u=this.neighbours.length,f=new Array(u);u--;){var d=this.neighbours[u];d.d=u===t?0:Number.POSITIVE_INFINITY,d.q=s.push(d)}for(;!s.empty();){var g=s.pop();if(f[g.id]=g.d,g.id===n){for(var v=[],S=g;typeof S.prev<"u";)v.push(S.prev.id),S=S.prev;return v}for(u=g.neighbours.length;u--;){var M=g.neighbours[u],S=this.neighbours[M.id],I=g.d+M.distance;g.d!==Number.MAX_VALUE&&S.d>I&&(S.d=I,S.prev=g,s.reduceKey(S.q,S,function(N,F){return N.q=F}))}}return f},e}();shortestpaths.Calculator=Calculator;var geom={},__extends$3=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}();Object.defineProperty(geom,"__esModule",{value:!0});var rectangle_1$2=rectangle,Point$1=function(){function e(){}return e}();geom.Point=Point$1;var LineSegment=function(){function e(t,n,s,u){this.x1=t,this.y1=n,this.x2=s,this.y2=u}return e}();geom.LineSegment=LineSegment;var PolyPoint=function(e){__extends$3(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Point$1);geom.PolyPoint=PolyPoint;function isLeft(e,t,n){return(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y)}geom.isLeft=isLeft;function above(e,t,n){return isLeft(e,t,n)>0}function below(e,t,n){return isLeft(e,t,n)<0}function ConvexHull(e){var t=e.slice(0).sort(function(P,N){return P.x!==N.x?N.x-P.x:N.y-P.y}),n=e.length,s,u=0,f=t[0].x;for(s=1;s<n&&t[s].x===f;++s);var d=s-1,g=[];if(g.push(t[u]),d===n-1)t[d].y!==t[u].y&&g.push(t[d]);else{var v,S=n-1,M=t[n-1].x;for(s=n-2;s>=0&&t[s].x===M;s--);for(v=s+1,s=d;++s<=v;)if(!(isLeft(t[u],t[v],t[s])>=0&&s<v)){for(;g.length>1&&!(isLeft(g[g.length-2],g[g.length-1],t[s])>0);)g.length-=1;s!=u&&g.push(t[s])}S!=v&&g.push(t[S]);var I=g.length;for(s=v;--s>=d;)if(!(isLeft(t[S],t[d],t[s])>=0&&s>d)){for(;g.length>I&&!(isLeft(g[g.length-2],g[g.length-1],t[s])>0);)g.length-=1;s!=u&&g.push(t[s])}}return g}geom.ConvexHull=ConvexHull;function clockwiseRadialSweep(e,t,n){t.slice(0).sort(function(s,u){return Math.atan2(s.y-e.y,s.x-e.x)-Math.atan2(u.y-e.y,u.x-e.x)}).forEach(n)}geom.clockwiseRadialSweep=clockwiseRadialSweep;function tangent_PointPolyC(e,t){var n=t.slice(0);return n.push(t[0]),{rtan:Rtangent_PointPolyC(e,n),ltan:Ltangent_PointPolyC(e,n)}}function Rtangent_PointPolyC(e,t){var n=t.length-1,s,u,f,d,g;if(below(e,t[1],t[0])&&!above(e,t[n-1],t[0]))return 0;for(s=0,u=n;;){if(u-s===1)return above(e,t[s],t[u])?s:u;if(f=Math.floor((s+u)/2),g=below(e,t[f+1],t[f]),g&&!above(e,t[f-1],t[f]))return f;d=above(e,t[s+1],t[s]),d?g||above(e,t[s],t[f])?u=f:s=f:g&&below(e,t[s],t[f])?u=f:s=f}}function Ltangent_PointPolyC(e,t){var n=t.length-1,s,u,f,d,g;if(above(e,t[n-1],t[0])&&!below(e,t[1],t[0]))return 0;for(s=0,u=n;;){if(u-s===1)return below(e,t[s],t[u])?s:u;if(f=Math.floor((s+u)/2),g=below(e,t[f+1],t[f]),above(e,t[f-1],t[f])&&!g)return f;d=below(e,t[s+1],t[s]),d?g?below(e,t[s],t[f])?u=f:s=f:u=f:g?s=f:above(e,t[s],t[f])?u=f:s=f}}function tangent_PolyPolyC(e,t,n,s,u,f){var d,g;d=n(t[0],e),g=s(e[d],t);for(var v=!1;!v;){for(v=!0;d===e.length-1&&(d=0),!u(t[g],e[d],e[d+1]);)++d;for(;g===0&&(g=t.length-1),!f(e[d],t[g],t[g-1]);)--g,v=!1}return{t1:d,t2:g}}geom.tangent_PolyPolyC=tangent_PolyPolyC;function LRtangent_PolyPolyC(e,t){var n=RLtangent_PolyPolyC(t,e);return{t1:n.t2,t2:n.t1}}geom.LRtangent_PolyPolyC=LRtangent_PolyPolyC;function RLtangent_PolyPolyC(e,t){return tangent_PolyPolyC(e,t,Rtangent_PointPolyC,Ltangent_PointPolyC,above,below)}geom.RLtangent_PolyPolyC=RLtangent_PolyPolyC;function LLtangent_PolyPolyC(e,t){return tangent_PolyPolyC(e,t,Ltangent_PointPolyC,Ltangent_PointPolyC,below,below)}geom.LLtangent_PolyPolyC=LLtangent_PolyPolyC;function RRtangent_PolyPolyC(e,t){return tangent_PolyPolyC(e,t,Rtangent_PointPolyC,Rtangent_PointPolyC,above,above)}geom.RRtangent_PolyPolyC=RRtangent_PolyPolyC;var BiTangent=function(){function e(t,n){this.t1=t,this.t2=n}return e}();geom.BiTangent=BiTangent;var BiTangents=function(){function e(){}return e}();geom.BiTangents=BiTangents;var TVGPoint=function(e){__extends$3(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Point$1);geom.TVGPoint=TVGPoint;var VisibilityVertex=function(){function e(t,n,s,u){this.id=t,this.polyid=n,this.polyvertid=s,this.p=u,u.vv=this}return e}();geom.VisibilityVertex=VisibilityVertex;var VisibilityEdge=function(){function e(t,n){this.source=t,this.target=n}return e.prototype.length=function(){var t=this.source.p.x-this.target.p.x,n=this.source.p.y-this.target.p.y;return Math.sqrt(t*t+n*n)},e}();geom.VisibilityEdge=VisibilityEdge;var TangentVisibilityGraph=function(){function e(t,n){if(this.P=t,this.V=[],this.E=[],n)this.V=n.V.slice(0),this.E=n.E.slice(0);else{for(var s=t.length,u=0;u<s;u++){for(var f=t[u],d=0;d<f.length;++d){var g=f[d],v=new VisibilityVertex(this.V.length,u,d,g);this.V.push(v),d>0&&this.E.push(new VisibilityEdge(f[d-1].vv,v))}f.length>1&&this.E.push(new VisibilityEdge(f[0].vv,f[f.length-1].vv))}for(var u=0;u<s-1;u++)for(var S=t[u],d=u+1;d<s;d++){var M=t[d],I=tangents(S,M);for(var P in I){var N=I[P],F=S[N.t1],j=M[N.t2];this.addEdgeIfVisible(F,j,u,d)}}}}return e.prototype.addEdgeIfVisible=function(t,n,s,u){this.intersectsPolys(new LineSegment(t.x,t.y,n.x,n.y),s,u)||this.E.push(new VisibilityEdge(t.vv,n.vv))},e.prototype.addPoint=function(t,n){var s=this.P.length;this.V.push(new VisibilityVertex(this.V.length,s,0,t));for(var u=0;u<s;++u)if(u!==n){var f=this.P[u],d=tangent_PointPolyC(t,f);this.addEdgeIfVisible(t,f[d.ltan],n,u),this.addEdgeIfVisible(t,f[d.rtan],n,u)}return t.vv},e.prototype.intersectsPolys=function(t,n,s){for(var u=0,f=this.P.length;u<f;++u)if(u!=n&&u!=s&&intersects(t,this.P[u]).length>0)return!0;return!1},e}();geom.TangentVisibilityGraph=TangentVisibilityGraph;function intersects(e,t){for(var n=[],s=1,u=t.length;s<u;++s){var f=rectangle_1$2.Rectangle.lineIntersection(e.x1,e.y1,e.x2,e.y2,t[s-1].x,t[s-1].y,t[s].x,t[s].y);f&&n.push(f)}return n}function tangents(e,t){for(var n=e.length-1,s=t.length-1,u=new BiTangents,f=0;f<n;++f)for(var d=0;d<s;++d){var g=e[f==0?n-1:f-1],v=e[f],S=e[f+1],M=t[d==0?s-1:d-1],I=t[d],P=t[d+1],N=isLeft(g,v,I),F=isLeft(v,M,I),j=isLeft(v,I,P),U=isLeft(M,I,v),V=isLeft(I,g,v),Z=isLeft(I,v,S);N>=0&&F>=0&&j<0&&U>=0&&V>=0&&Z<0?u.ll=new BiTangent(f,d):N<=0&&F<=0&&j>0&&U<=0&&V<=0&&Z>0?u.rr=new BiTangent(f,d):N<=0&&F>0&&j<=0&&U>=0&&V<0&&Z>=0?u.rl=new BiTangent(f,d):N>=0&&F<0&&j>=0&&U<=0&&V>0&&Z<=0&&(u.lr=new BiTangent(f,d))}return u}geom.tangents=tangents;function isPointInsidePoly(e,t){for(var n=1,s=t.length;n<s;++n)if(below(t[n-1],t[n],e))return!1;return!0}function isAnyPInQ(e,t){return!e.every(function(n){return!isPointInsidePoly(n,t)})}function polysOverlap(e,t){if(isAnyPInQ(e,t)||isAnyPInQ(t,e))return!0;for(var n=1,s=e.length;n<s;++n){var u=e[n],f=e[n-1];if(intersects(new LineSegment(f.x,f.y,u.x,u.y),t).length>0)return!0}return!1}geom.polysOverlap=polysOverlap;var handledisconnected={};Object.defineProperty(handledisconnected,"__esModule",{value:!0});var packingOptions={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4,MAX_INERATIONS:100};function applyPacking(e,t,n,I,M,f){M===void 0&&(M=1),f===void 0&&(f=!0);var d=0,g=0,v=t,S=n,M=typeof M<"u"?M:1,I=typeof I<"u"?I:0,P=0,N=0,F=0,j=0,U=[];if(e.length==0)return;V(e),Q(e),f&&Z(e);function V(se){se.forEach(function(de){le(de)});function le(de){var ge=Number.MAX_VALUE,ve=Number.MAX_VALUE,me=0,ye=0;de.array.forEach(function(Ae){var Te=typeof Ae.width<"u"?Ae.width:I,Oe=typeof Ae.height<"u"?Ae.height:I;Te/=2,Oe/=2,me=Math.max(Ae.x+Te,me),ge=Math.min(Ae.x-Te,ge),ye=Math.max(Ae.y+Oe,ye),ve=Math.min(Ae.y-Oe,ve)}),de.width=me-ge,de.height=ye-ve}}function Z(se){se.forEach(function(le){var de={x:0,y:0};le.array.forEach(function(me){de.x+=me.x,de.y+=me.y}),de.x/=le.array.length,de.y/=le.array.length;var ge={x:de.x-le.width/2,y:de.y-le.height/2},ve={x:le.x-ge.x+v/2-P/2,y:le.y-ge.y+S/2-N/2};le.array.forEach(function(me){me.x+=ve.x,me.y+=ve.y})})}function Q(se,le){var de=Number.POSITIVE_INFINITY,ge=0;se.sort(function(Ne,He){return He.height-Ne.height}),F=se.reduce(function(Ne,He){return Ne.width<He.width?Ne.width:He.width});for(var ve=De=F,me=Pe=oe(se),ye=0,Ae=Number.MAX_VALUE,Te=Number.MAX_VALUE,Oe=-1,Ie=Number.MAX_VALUE,Be=Number.MAX_VALUE;Ie>F||Be>packingOptions.FLOAT_EPSILON;){if(Oe!=1)var De=me-(me-ve)/packingOptions.GOLDEN_SECTION,Ae=J(se,De);if(Oe!=0)var Pe=ve+(me-ve)/packingOptions.GOLDEN_SECTION,Te=J(se,Pe);if(Ie=Math.abs(De-Pe),Be=Math.abs(Ae-Te),Ae<de&&(de=Ae,ge=De),Te<de&&(de=Te,ge=Pe),Ae>Te?(ve=De,De=Pe,Ae=Te,Oe=1):(me=Pe,Pe=De,Te=Ae,Oe=0),ye++>100)break}J(se,ge)}function J(se,le){U=[],P=0,N=0,j=g;for(var de=0;de<se.length;de++){var ge=se[de];te(ge,le)}return Math.abs(ue()-M)}function te(se,le){for(var de=void 0,ge=0;ge<U.length;ge++)if(U[ge].space_left>=se.height&&U[ge].x+U[ge].width+se.width+packingOptions.PADDING-le<=packingOptions.FLOAT_EPSILON){de=U[ge];break}U.push(se),de!==void 0?(se.x=de.x+de.width+packingOptions.PADDING,se.y=de.bottom,se.space_left=se.height,se.bottom=se.y,de.space_left-=se.height+packingOptions.PADDING,de.bottom+=se.height+packingOptions.PADDING):(se.y=j,j+=se.height+packingOptions.PADDING,se.x=d,se.bottom=se.y,se.space_left=se.height),se.y+se.height-N>-packingOptions.FLOAT_EPSILON&&(N=se.y+se.height-g),se.x+se.width-P>-packingOptions.FLOAT_EPSILON&&(P=se.x+se.width-d)}function oe(se){var le=0;return se.forEach(function(de){return le+=de.width+packingOptions.PADDING}),le}function ue(){return P/N}}handledisconnected.applyPacking=applyPacking;function separateGraphs(e,t){for(var n={},s={},u=[],f=0,d=0;d<t.length;d++){var g=t[d],v=g.source,S=g.target;s[v.index]?s[v.index].push(S):s[v.index]=[S],s[S.index]?s[S.index].push(v):s[S.index]=[v]}for(var d=0;d<e.length;d++){var M=e[d];n[M.index]||I(M,!0)}function I(P,N){if(n[P.index]===void 0){N&&(f++,u.push({array:[]})),n[P.index]=f,u[f-1].array.push(P);var F=s[P.index];if(F)for(var j=0;j<F.length;j++)I(F[j],!1)}}return u}handledisconnected.separateGraphs=separateGraphs;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=powergraph,n=linklengths,s=descent,u=rectangle,f=shortestpaths,d=geom,g=handledisconnected,v;(function(I){I[I.start=0]="start",I[I.tick=1]="tick",I[I.end=2]="end"})(v=e.EventType||(e.EventType={}));function S(I){return typeof I.leaves<"u"||typeof I.groups<"u"}var M=function(){function I(){var P=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:I.getSourceIndex,getTargetIndex:I.getTargetIndex,setLength:I.setLinkLength,getType:function(N){return typeof P._linkType=="function"?P._linkType(N):0}}}return I.prototype.on=function(P,N){return this.event||(this.event={}),typeof P=="string"?this.event[v[P]]=N:this.event[P]=N,this},I.prototype.trigger=function(P){this.event&&typeof this.event[P.type]<"u"&&this.event[P.type](P)},I.prototype.kick=function(){for(;!this.tick(););},I.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:v.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var P=this._nodes.length;this._links.length;var N,F;for(this._descent.locks.clear(),F=0;F<P;++F)if(N=this._nodes[F],N.fixed){(typeof N.px>"u"||typeof N.py>"u")&&(N.px=N.x,N.py=N.y);var j=[N.px,N.py];this._descent.locks.add(F,j)}var U=this._descent.rungeKutta();return U===0?this._alpha=0:typeof this._lastStress<"u"&&(this._alpha=U),this._lastStress=U,this.updateNodePositions(),this.trigger({type:v.tick,alpha:this._alpha,stress:this._lastStress}),!1},I.prototype.updateNodePositions=function(){for(var P=this._descent.x[0],N=this._descent.x[1],F,j=this._nodes.length;j--;)F=this._nodes[j],F.x=P[j],F.y=N[j]},I.prototype.nodes=function(P){if(!P){if(this._nodes.length===0&&this._links.length>0){var N=0;this._links.forEach(function(j){N=Math.max(N,j.source,j.target)}),this._nodes=new Array(++N);for(var F=0;F<N;++F)this._nodes[F]={}}return this._nodes}return this._nodes=P,this},I.prototype.groups=function(P){var N=this;return P?(this._groups=P,this._rootGroup={},this._groups.forEach(function(F){typeof F.padding>"u"&&(F.padding=1),typeof F.leaves<"u"&&F.leaves.forEach(function(j,U){typeof j=="number"&&((F.leaves[U]=N._nodes[j]).parent=F)}),typeof F.groups<"u"&&F.groups.forEach(function(j,U){typeof j=="number"&&((F.groups[U]=N._groups[j]).parent=F)})}),this._rootGroup.leaves=this._nodes.filter(function(F){return typeof F.parent>"u"}),this._rootGroup.groups=this._groups.filter(function(F){return typeof F.parent>"u"}),this):this._groups},I.prototype.powerGraphGroups=function(P){var N=t.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(N.groups),P(N),this},I.prototype.avoidOverlaps=function(P){return arguments.length?(this._avoidOverlaps=P,this):this._avoidOverlaps},I.prototype.handleDisconnected=function(P){return arguments.length?(this._handleDisconnected=P,this):this._handleDisconnected},I.prototype.flowLayout=function(P,N){return arguments.length||(P="y"),this._directedLinkConstraints={axis:P,getMinSeparation:typeof N=="number"?function(){return N}:N},this},I.prototype.links=function(P){return arguments.length?(this._links=P,this):this._links},I.prototype.constraints=function(P){return arguments.length?(this._constraints=P,this):this._constraints},I.prototype.distanceMatrix=function(P){return arguments.length?(this._distanceMatrix=P,this):this._distanceMatrix},I.prototype.size=function(P){return P?(this._canvasSize=P,this):this._canvasSize},I.prototype.defaultNodeSize=function(P){return P?(this._defaultNodeSize=P,this):this._defaultNodeSize},I.prototype.groupCompactness=function(P){return P?(this._groupCompactness=P,this):this._groupCompactness},I.prototype.linkDistance=function(P){return P?(this._linkDistance=typeof P=="function"?P:+P,this._linkLengthCalculator=null,this):this._linkDistance},I.prototype.linkType=function(P){return this._linkType=P,this},I.prototype.convergenceThreshold=function(P){return P?(this._threshold=typeof P=="function"?P:+P,this):this._threshold},I.prototype.alpha=function(P){return arguments.length?(P=+P,this._alpha?P>0?this._alpha=P:this._alpha=0:P>0&&(this._running||(this._running=!0,this.trigger({type:v.start,alpha:this._alpha=P}),this.kick())),this):this._alpha},I.prototype.getLinkLength=function(P){return typeof this._linkDistance=="function"?+this._linkDistance(P):this._linkDistance},I.setLinkLength=function(P,N){P.length=N},I.prototype.getLinkType=function(P){return typeof this._linkType=="function"?this._linkType(P):0},I.prototype.symmetricDiffLinkLengths=function(P,N){var F=this;return N===void 0&&(N=1),this.linkDistance(function(j){return P*j.length}),this._linkLengthCalculator=function(){return n.symmetricDiffLinkLengths(F._links,F.linkAccessor,N)},this},I.prototype.jaccardLinkLengths=function(P,N){var F=this;return N===void 0&&(N=1),this.linkDistance(function(j){return P*j.length}),this._linkLengthCalculator=function(){return n.jaccardLinkLengths(F._links,F.linkAccessor,N)},this},I.prototype.start=function(P,N,F,j,U,V){var Z=this;P===void 0&&(P=0),N===void 0&&(N=0),F===void 0&&(F=0),j===void 0&&(j=0),U===void 0&&(U=!0),V===void 0&&(V=!0);var Q,J=this.nodes().length,te=J+2*this._groups.length;this._links.length;var oe=this._canvasSize[0],ue=this._canvasSize[1],se=new Array(te),le=new Array(te),de=null,ge=this._avoidOverlaps;this._nodes.forEach(function(Be,De){Be.index=De,typeof Be.x>"u"&&(Be.x=oe/2,Be.y=ue/2),se[De]=Be.x,le[De]=Be.y}),this._linkLengthCalculator&&this._linkLengthCalculator();var ve;this._distanceMatrix?ve=this._distanceMatrix:(ve=new f.Calculator(te,this._links,I.getSourceIndex,I.getTargetIndex,function(Be){return Z.getLinkLength(Be)}).DistanceMatrix(),de=s.Descent.createSquareMatrix(te,function(){return 2}),this._links.forEach(function(Be){typeof Be.source=="number"&&(Be.source=Z._nodes[Be.source]),typeof Be.target=="number"&&(Be.target=Z._nodes[Be.target])}),this._links.forEach(function(Be){var De=I.getSourceIndex(Be),Pe=I.getTargetIndex(Be);de[De][Pe]=de[Pe][De]=Be.weight||1}));var me=s.Descent.createSquareMatrix(te,function(Be,De){return ve[Be][De]});if(this._rootGroup&&typeof this._rootGroup.groups<"u"){var Q=J,ye=function(De,Pe,Ne,He){de[De][Pe]=de[Pe][De]=Ne,me[De][Pe]=me[Pe][De]=He};this._groups.forEach(function(De){ye(Q,Q+1,Z._groupCompactness,.1),se[Q]=0,le[Q++]=0,se[Q]=0,le[Q++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var Ae=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,Ae=Ae.concat(n.generateDirectedEdgeConstraints(J,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new s.Descent([se,le],me),this._descent.locks.clear();for(var Q=0;Q<J;++Q){var Te=this._nodes[Q];if(Te.fixed){Te.px=Te.x,Te.py=Te.y;var Oe=[Te.x,Te.y];this._descent.locks.add(Q,Oe)}}if(this._descent.threshold=this._threshold,this.initialLayout(P,se,le),Ae.length>0&&(this._descent.project=new u.Projection(this._nodes,this._groups,this._rootGroup,Ae).projectFunctions()),this._descent.run(N),this.separateOverlappingComponents(oe,ue,V),this.avoidOverlaps(ge),ge&&(this._nodes.forEach(function(Be,De){Be.x=se[De],Be.y=le[De]}),this._descent.project=new u.Projection(this._nodes,this._groups,this._rootGroup,Ae,!0).projectFunctions(),this._nodes.forEach(function(Be,De){se[De]=Be.x,le[De]=Be.y})),this._descent.G=de,this._descent.run(F),j){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=J,this._descent.scaleSnapByMaxH=J!=te;var Ie=s.Descent.createSquareMatrix(te,function(Be,De){return Be>=J||De>=J?de[Be][De]:0});this._descent.G=Ie,this._descent.run(j)}return this.updateNodePositions(),this.separateOverlappingComponents(oe,ue,V),U?this.resume():this},I.prototype.initialLayout=function(P,N,F){if(this._groups.length>0&&P>0){var j=this._nodes.length,U=this._links.map(function(Z){return{source:Z.source.index,target:Z.target.index}}),V=this._nodes.map(function(Z){return{index:Z.index}});this._groups.forEach(function(Z,Q){V.push({index:Z.index=j+Q})}),this._groups.forEach(function(Z,Q){typeof Z.leaves<"u"&&Z.leaves.forEach(function(J){return U.push({source:Z.index,target:J.index})}),typeof Z.groups<"u"&&Z.groups.forEach(function(J){return U.push({source:Z.index,target:J.index})})}),new I().size(this.size()).nodes(V).links(U).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(P,0,0,0,!1),this._nodes.forEach(function(Z){N[Z.index]=V[Z.index].x,F[Z.index]=V[Z.index].y})}else this._descent.run(P)},I.prototype.separateOverlappingComponents=function(P,N,F){var j=this;if(F===void 0&&(F=!0),!this._distanceMatrix&&this._handleDisconnected){var U=this._descent.x[0],V=this._descent.x[1];this._nodes.forEach(function(Q,J){Q.x=U[J],Q.y=V[J]});var Z=g.separateGraphs(this._nodes,this._links);g.applyPacking(Z,P,N,this._defaultNodeSize,1,F),this._nodes.forEach(function(Q,J){j._descent.x[0][J]=Q.x,j._descent.x[1][J]=Q.y,Q.bounds&&(Q.bounds.setXCentre(Q.x),Q.bounds.setYCentre(Q.y))})}},I.prototype.resume=function(){return this.alpha(.1)},I.prototype.stop=function(){return this.alpha(0)},I.prototype.prepareEdgeRouting=function(P){P===void 0&&(P=0),this._visibilityGraph=new d.TangentVisibilityGraph(this._nodes.map(function(N){return N.bounds.inflate(-P).vertices()}))},I.prototype.routeEdge=function(P,N,F){N===void 0&&(N=5);var j=[],U=new d.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),V={x:P.source.x,y:P.source.y},Z={x:P.target.x,y:P.target.y},Q=U.addPoint(V,P.source.index),J=U.addPoint(Z,P.target.index);U.addEdgeIfVisible(V,Z,P.source.index,P.target.index),typeof F<"u"&&F(U);var te=function(Ae){return Ae.source.id},oe=function(Ae){return Ae.target.id},ue=function(Ae){return Ae.length()},se=new f.Calculator(U.V.length,U.E,te,oe,ue),le=se.PathFromNodeToNode(Q.id,J.id);if(le.length===1||le.length===U.V.length){var de=u.makeEdgeBetween(P.source.innerBounds,P.target.innerBounds,N);j=[de.sourceIntersection,de.arrowStart]}else{for(var ge=le.length-2,ve=U.V[le[ge]].p,me=U.V[le[0]].p,j=[P.source.innerBounds.rayIntersection(ve.x,ve.y)],ye=ge;ye>=0;--ye)j.push(U.V[le[ye]].p);j.push(u.makeEdgeTo(me,P.target.innerBounds,N))}return j},I.getSourceIndex=function(P){return typeof P.source=="number"?P.source:P.source.index},I.getTargetIndex=function(P){return typeof P.target=="number"?P.target:P.target.index},I.linkId=function(P){return I.getSourceIndex(P)+"-"+I.getTargetIndex(P)},I.dragStart=function(P){S(P)?I.storeOffset(P,I.dragOrigin(P)):(I.stopNode(P),P.fixed|=2)},I.stopNode=function(P){P.px=P.x,P.py=P.y},I.storeOffset=function(P,N){typeof P.leaves<"u"&&P.leaves.forEach(function(F){F.fixed|=2,I.stopNode(F),F._dragGroupOffsetX=F.x-N.x,F._dragGroupOffsetY=F.y-N.y}),typeof P.groups<"u"&&P.groups.forEach(function(F){return I.storeOffset(F,N)})},I.dragOrigin=function(P){return S(P)?{x:P.bounds.cx(),y:P.bounds.cy()}:P},I.drag=function(P,N){S(P)?(typeof P.leaves<"u"&&P.leaves.forEach(function(F){P.bounds.setXCentre(N.x),P.bounds.setYCentre(N.y),F.px=F._dragGroupOffsetX+N.x,F.py=F._dragGroupOffsetY+N.y}),typeof P.groups<"u"&&P.groups.forEach(function(F){return I.drag(F,N)})):(P.px=N.x,P.py=N.y)},I.dragEnd=function(P){S(P)?(typeof P.leaves<"u"&&P.leaves.forEach(function(N){I.dragEnd(N),delete N._dragGroupOffsetX,delete N._dragGroupOffsetY}),typeof P.groups<"u"&&P.groups.forEach(I.dragEnd)):P.fixed&=-7},I.mouseOver=function(P){P.fixed|=4,P.px=P.x,P.py=P.y},I.mouseOut=function(P){P.fixed&=-5},I}();e.Layout=M})(layout$2);var __extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}();Object.defineProperty(adaptor$1,"__esModule",{value:!0});var layout_1$4=layout$2,LayoutAdaptor=function(e){__extends$2(t,e);function t(n){var s=e.call(this)||this,u=n;return u.trigger&&(s.trigger=u.trigger),u.kick&&(s.kick=u.kick),u.drag&&(s.drag=u.drag),u.on&&(s.on=u.on),s.dragstart=s.dragStart=layout_1$4.Layout.dragStart,s.dragend=s.dragEnd=layout_1$4.Layout.dragEnd,s}return t.prototype.trigger=function(n){},t.prototype.kick=function(){},t.prototype.drag=function(){},t.prototype.on=function(n,s){return this},t}(layout_1$4.Layout);adaptor$1.LayoutAdaptor=LayoutAdaptor;function adaptor(e){return new LayoutAdaptor(e)}adaptor$1.adaptor=adaptor;var d3adaptor$2={},d3v3adaptor={},__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}();Object.defineProperty(d3v3adaptor,"__esModule",{value:!0});var layout_1$3=layout$2,D3StyleLayoutAdaptor$1=function(e){__extends$1(t,e);function t(){var n=e.call(this)||this;n.event=d3.dispatch(layout_1$3.EventType[layout_1$3.EventType.start],layout_1$3.EventType[layout_1$3.EventType.tick],layout_1$3.EventType[layout_1$3.EventType.end]);var s=n;return n.drag=function(){if(!u)var u=d3.behavior.drag().origin(layout_1$3.Layout.dragOrigin).on("dragstart.d3adaptor",layout_1$3.Layout.dragStart).on("drag.d3adaptor",function(f){layout_1$3.Layout.drag(f,d3.event),s.resume()}).on("dragend.d3adaptor",layout_1$3.Layout.dragEnd);if(!arguments.length)return u;this.call(u)},n}return t.prototype.trigger=function(n){var s={type:layout_1$3.EventType[n.type],alpha:n.alpha,stress:n.stress};this.event[s.type](s)},t.prototype.kick=function(){var n=this;d3.timer(function(){return e.prototype.tick.call(n)})},t.prototype.on=function(n,s){return typeof n=="string"?this.event.on(n,s):this.event.on(layout_1$3.EventType[n],s),this},t}(layout_1$3.Layout);d3v3adaptor.D3StyleLayoutAdaptor=D3StyleLayoutAdaptor$1;function d3adaptor$1(){return new D3StyleLayoutAdaptor$1}d3v3adaptor.d3adaptor=d3adaptor$1;var d3v4adaptor={},__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}();Object.defineProperty(d3v4adaptor,"__esModule",{value:!0});var layout_1$2=layout$2,D3StyleLayoutAdaptor=function(e){__extends(t,e);function t(n){var s=e.call(this)||this;s.d3Context=n,s.event=n.dispatch(layout_1$2.EventType[layout_1$2.EventType.start],layout_1$2.EventType[layout_1$2.EventType.tick],layout_1$2.EventType[layout_1$2.EventType.end]);var u=s;return s.drag=function(){if(!f)var f=n.drag().subject(layout_1$2.Layout.dragOrigin).on("start.d3adaptor",layout_1$2.Layout.dragStart).on("drag.d3adaptor",function(d){layout_1$2.Layout.drag(d,n.event),u.resume()}).on("end.d3adaptor",layout_1$2.Layout.dragEnd);if(!arguments.length)return f;arguments[0].call(f)},s}return t.prototype.trigger=function(n){var s={type:layout_1$2.EventType[n.type],alpha:n.alpha,stress:n.stress};this.event.call(s.type,s)},t.prototype.kick=function(){var n=this,s=this.d3Context.timer(function(){return e.prototype.tick.call(n)&&s.stop()})},t.prototype.on=function(n,s){return typeof n=="string"?this.event.on(n,s):this.event.on(layout_1$2.EventType[n],s),this},t}(layout_1$2.Layout);d3v4adaptor.D3StyleLayoutAdaptor=D3StyleLayoutAdaptor;Object.defineProperty(d3adaptor$2,"__esModule",{value:!0});var d3v3=d3v3adaptor,d3v4=d3v4adaptor;function d3adaptor(e){return!e||isD3V3(e)?new d3v3.D3StyleLayoutAdaptor:new d3v4.D3StyleLayoutAdaptor(e)}d3adaptor$2.d3adaptor=d3adaptor;function isD3V3(e){var t=/^3\./;return e.version&&e.version.match(t)!==null}var gridrouter={};Object.defineProperty(gridrouter,"__esModule",{value:!0});var rectangle_1$1=rectangle,vpsc_1=vpsc,shortestpaths_1$1=shortestpaths,NodeWrapper=function(){function e(t,n,s){this.id=t,this.rect=n,this.children=s,this.leaf=typeof s>"u"||s.length===0}return e}();gridrouter.NodeWrapper=NodeWrapper;var Vert=function(){function e(t,n,s,u,f){u===void 0&&(u=null),f===void 0&&(f=null),this.id=t,this.x=n,this.y=s,this.node=u,this.line=f}return e}();gridrouter.Vert=Vert;var LongestCommonSubsequence=function(){function e(t,n){this.s=t,this.t=n;var s=e.findMatch(t,n),u=n.slice(0).reverse(),f=e.findMatch(t,u);s.length>=f.length?(this.length=s.length,this.si=s.si,this.ti=s.ti,this.reversed=!1):(this.length=f.length,this.si=f.si,this.ti=n.length-f.ti-f.length,this.reversed=!0)}return e.findMatch=function(t,n){for(var s=t.length,u=n.length,f={length:0,si:-1,ti:-1},d=new Array(s),g=0;g<s;g++){d[g]=new Array(u);for(var v=0;v<u;v++)if(t[g]===n[v]){var S=d[g][v]=g===0||v===0?1:d[g-1][v-1]+1;S>f.length&&(f.length=S,f.si=g-S+1,f.ti=v-S+1)}else d[g][v]=0}return f},e.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},e}();gridrouter.LongestCommonSubsequence=LongestCommonSubsequence;var GridRouter=function(){function e(t,n,s){var u=this;s===void 0&&(s=12),this.originalnodes=t,this.groupPadding=s,this.leaves=null,this.nodes=t.map(function(j,U){return new NodeWrapper(U,n.getBounds(j),n.getChildren(j))}),this.leaves=this.nodes.filter(function(j){return j.leaf}),this.groups=this.nodes.filter(function(j){return!j.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(j){return j.children.forEach(function(U){return u.nodes[U].parent=j})}),this.root={children:[]},this.nodes.forEach(function(j){typeof j.parent>"u"&&(j.parent=u.root,u.root.children.push(j.id)),j.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(j,U){return u.getDepth(j)-u.getDepth(U)});var f=this.backToFront.slice(0).reverse().filter(function(j){return!j.leaf});f.forEach(function(j){var U=rectangle_1$1.Rectangle.empty();j.children.forEach(function(V){return U=U.union(u.nodes[V].rect)}),j.rect=U.inflate(u.groupPadding)});var d=this.midPoints(this.cols.map(function(j){return j.pos})),g=this.midPoints(this.rows.map(function(j){return j.pos})),v=d[0],S=d[d.length-1],M=g[0],I=g[g.length-1],P=this.rows.map(function(j){return{x1:v,x2:S,y1:j.pos,y2:j.pos}}).concat(g.map(function(j){return{x1:v,x2:S,y1:j,y2:j}})),N=this.cols.map(function(j){return{x1:j.pos,x2:j.pos,y1:M,y2:I}}).concat(d.map(function(j){return{x1:j,x2:j,y1:M,y2:I}})),F=P.concat(N);F.forEach(function(j){return j.verts=[]}),this.verts=[],this.edges=[],P.forEach(function(j){return N.forEach(function(U){var V=new Vert(u.verts.length,U.x1,j.y1);j.verts.push(V),U.verts.push(V),u.verts.push(V);for(var Z=u.backToFront.length;Z-- >0;){var Q=u.backToFront[Z],J=Q.rect,te=Math.abs(V.x-J.cx()),oe=Math.abs(V.y-J.cy());if(te<J.width()/2&&oe<J.height()/2){V.node=Q;break}}})}),F.forEach(function(j,U){u.nodes.forEach(function(oe,ue){oe.rect.lineIntersections(j.x1,j.y1,j.x2,j.y2).forEach(function(se,le){var de=new Vert(u.verts.length,se.x,se.y,oe,j);u.verts.push(de),j.verts.push(de),oe.ports.push(de)})});var V=Math.abs(j.y1-j.y2)<.1,Z=function(oe,ue){return V?ue.x-oe.x:ue.y-oe.y};j.verts.sort(Z);for(var Q=1;Q<j.verts.length;Q++){var J=j.verts[Q-1],te=j.verts[Q];J.node&&J.node===te.node&&J.node.leaf||u.edges.push({source:J.id,target:te.id,length:Math.abs(Z(J,te))})}})}return e.prototype.avg=function(t){return t.reduce(function(n,s){return n+s})/t.length},e.prototype.getGridLines=function(t){for(var n=[],s=this.leaves.slice(0,this.leaves.length);s.length>0;){var u=s.filter(function(d){return d.rect["overlap"+t.toUpperCase()](s[0].rect)}),f={nodes:u,pos:this.avg(u.map(function(d){return d.rect["c"+t]()}))};n.push(f),f.nodes.forEach(function(d){return s.splice(s.indexOf(d),1)})}return n.sort(function(d,g){return d.pos-g.pos}),n},e.prototype.getDepth=function(t){for(var n=0;t.parent!==this.root;)n++,t=t.parent;return n},e.prototype.midPoints=function(t){for(var n=t[1]-t[0],s=[t[0]-n/2],u=1;u<t.length;u++)s.push((t[u]+t[u-1])/2);return s.push(t[t.length-1]+n/2),s},e.prototype.findLineage=function(t){var n=[t];do t=t.parent,n.push(t);while(t!==this.root);return n.reverse()},e.prototype.findAncestorPathBetween=function(t,n){for(var s=this.findLineage(t),u=this.findLineage(n),f=0;s[f]===u[f];)f++;return{commonAncestor:s[f-1],lineages:s.slice(f).concat(u.slice(f))}},e.prototype.siblingObstacles=function(t,n){var s=this,u=this.findAncestorPathBetween(t,n),f={};u.lineages.forEach(function(g){return f[g.id]={}});var d=u.commonAncestor.children.filter(function(g){return!(g in f)});return u.lineages.filter(function(g){return g.parent!==u.commonAncestor}).forEach(function(g){return d=d.concat(g.parent.children.filter(function(v){return v!==g.id}))}),d.map(function(g){return s.nodes[g]})},e.getSegmentSets=function(t,n,s){for(var u=[],f=0;f<t.length;f++)for(var d=t[f],g=0;g<d.length;g++){var v=d[g];v.edgeid=f,v.i=g;var S=v[1][n]-v[0][n];Math.abs(S)<.1&&u.push(v)}u.sort(function(N,F){return N[0][n]-F[0][n]});for(var M=[],I=null,P=0;P<u.length;P++){var v=u[P];(!I||Math.abs(v[0][n]-I.pos)>.1)&&(I={pos:v[0][n],segments:[]},M.push(I)),I.segments.push(v)}return M},e.nudgeSegs=function(t,n,s,u,f,d){var g=u.length;if(!(g<=1)){for(var v=u.map(function(Q){return new vpsc_1.Variable(Q[0][t])}),S=[],M=0;M<g;M++)for(var I=0;I<g;I++)if(M!==I){var P=u[M],N=u[I],F=P.edgeid,j=N.edgeid,U=-1,V=-1;t=="x"?f(F,j)&&(P[0][n]<P[1][n]?(U=I,V=M):(U=M,V=I)):f(F,j)&&(P[0][n]<P[1][n]?(U=M,V=I):(U=I,V=M)),U>=0&&S.push(new vpsc_1.Constraint(v[U],v[V],d))}var Z=new vpsc_1.Solver(v,S);Z.solve(),v.forEach(function(Q,J){var te=u[J],oe=Q.position();te[0][t]=te[1][t]=oe;var ue=s[te.edgeid];te.i>0&&(ue[te.i-1][1][t]=oe),te.i<ue.length-1&&(ue[te.i+1][0][t]=oe)})}},e.nudgeSegments=function(t,n,s,u,f){for(var d=e.getSegmentSets(t,n,s),g=0;g<d.length;g++){for(var v=d[g],S=[],M=0;M<v.segments.length;M++){var I=v.segments[M];S.push({type:0,s:I,pos:Math.min(I[0][s],I[1][s])}),S.push({type:1,s:I,pos:Math.max(I[0][s],I[1][s])})}S.sort(function(F,j){return F.pos-j.pos+F.type-j.type});var P=[],N=0;S.forEach(function(F){F.type===0?(P.push(F.s),N++):N--,N==0&&(e.nudgeSegs(n,s,t,P,u,f),P=[])})}},e.prototype.routeEdges=function(t,n,s,u){var f=this,d=t.map(function(S){return f.route(s(S),u(S))}),g=e.orderEdges(d),v=d.map(function(S){return e.makeSegments(S)});return e.nudgeSegments(v,"x","y",g,n),e.nudgeSegments(v,"y","x",g,n),e.unreverseEdges(v,d),v},e.unreverseEdges=function(t,n){t.forEach(function(s,u){var f=n[u];f.reversed&&(s.reverse(),s.forEach(function(d){d.reverse()}))})},e.angleBetween2Lines=function(t,n){var s=Math.atan2(t[0].y-t[1].y,t[0].x-t[1].x),u=Math.atan2(n[0].y-n[1].y,n[0].x-n[1].x),f=s-u;return(f>Math.PI||f<-Math.PI)&&(f=u-s),f},e.isLeft=function(t,n,s){return(n.x-t.x)*(s.y-t.y)-(n.y-t.y)*(s.x-t.x)<=0},e.getOrder=function(t){for(var n={},s=0;s<t.length;s++){var u=t[s];typeof n[u.l]>"u"&&(n[u.l]={}),n[u.l][u.r]=!0}return function(f,d){return typeof n[f]<"u"&&n[f][d]}},e.orderEdges=function(t){for(var n=[],s=0;s<t.length-1;s++)for(var u=s+1;u<t.length;u++){var f=t[s],d=t[u],g=new LongestCommonSubsequence(f,d),v,S,M;if(g.length!==0){if(g.reversed&&(d.reverse(),d.reversed=!0,g=new LongestCommonSubsequence(f,d)),(g.si<=0||g.ti<=0)&&(g.si+g.length>=f.length||g.ti+g.length>=d.length)){n.push({l:s,r:u});continue}g.si+g.length>=f.length||g.ti+g.length>=d.length?(v=f[g.si+1],M=f[g.si-1],S=d[g.ti-1]):(v=f[g.si+g.length-2],S=f[g.si+g.length],M=d[g.ti+g.length]),e.isLeft(v,S,M)?n.push({l:u,r:s}):n.push({l:s,r:u})}}return e.getOrder(n)},e.makeSegments=function(t){function n(S){return{x:S.x,y:S.y}}for(var s=function(S,M,I){return Math.abs((M.x-S.x)*(I.y-S.y)-(M.y-S.y)*(I.x-S.x))<.001},u=[],f=n(t[0]),d=1;d<t.length;d++){var g=n(t[d]),v=d<t.length-1?t[d+1]:null;(!v||!s(f,g,v))&&(u.push([f,g]),f=g)}return u},e.prototype.route=function(t,n){var s=this,u=this.nodes[t],f=this.nodes[n];this.obstacles=this.siblingObstacles(u,f);var d={};this.obstacles.forEach(function(V){return d[V.id]=V}),this.passableEdges=this.edges.filter(function(V){var Z=s.verts[V.source],Q=s.verts[V.target];return!(Z.node&&Z.node.id in d||Q.node&&Q.node.id in d)});for(var g=1;g<u.ports.length;g++){var v=u.ports[0].id,S=u.ports[g].id;this.passableEdges.push({source:v,target:S,length:0})}for(var g=1;g<f.ports.length;g++){var v=f.ports[0].id,S=f.ports[g].id;this.passableEdges.push({source:v,target:S,length:0})}var M=function(V){return V.source},I=function(V){return V.target},P=function(V){return V.length},N=new shortestpaths_1$1.Calculator(this.verts.length,this.passableEdges,M,I,P),F=function(V,Z,Q){var J=s.verts[V],te=s.verts[Z],oe=s.verts[Q],ue=Math.abs(oe.x-J.x),se=Math.abs(oe.y-J.y);return J.node===u&&J.node===te.node||te.node===f&&te.node===oe.node?0:ue>1&&se>1?1e3:0},j=N.PathFromNodeToNodeWithPrevCost(u.ports[0].id,f.ports[0].id,F),U=j.reverse().map(function(V){return s.verts[V]});return U.push(this.nodes[f.id].ports[0]),U.filter(function(V,Z){return!(Z<U.length-1&&U[Z+1].node===u&&V.node===u||Z>0&&V.node===f&&U[Z-1].node===f)})},e.getRoutePath=function(t,n,s,u){var f={routepath:"M "+t[0][0].x+" "+t[0][0].y+" ",arrowpath:""};if(t.length>1)for(var d=0;d<t.length;d++){var g=t[d],v=g[1].x,S=g[1].y,M=v-g[0].x,I=S-g[0].y;if(d<t.length-1){Math.abs(M)>0?v-=M/Math.abs(M)*n:S-=I/Math.abs(I)*n,f.routepath+="L "+v+" "+S+" ";var P=t[d+1],N=P[0].x,F=P[0].y,j=P[1].x,U=P[1].y;M=j-N,I=U-F;var V=e.angleBetween2Lines(g,P)<0?1:0,Z,Q;Math.abs(M)>0?(Z=N+M/Math.abs(M)*n,Q=F):(Z=N,Q=F+I/Math.abs(I)*n);var J=Math.abs(Z-v),te=Math.abs(Q-S);f.routepath+="A "+J+" "+te+" 0 0 "+V+" "+Z+" "+Q+" "}else{var oe=[v,S],ue,se;Math.abs(M)>0?(v-=M/Math.abs(M)*u,ue=[v,S+s],se=[v,S-s]):(S-=I/Math.abs(I)*u,ue=[v+s,S],se=[v-s,S]),f.routepath+="L "+v+" "+S+" ",u>0&&(f.arrowpath="M "+oe[0]+" "+oe[1]+" L "+ue[0]+" "+ue[1]+" L "+se[0]+" "+se[1])}}else{var g=t[0],v=g[1].x,S=g[1].y,M=v-g[0].x,I=S-g[0].y,oe=[v,S],ue,se;Math.abs(M)>0?(v-=M/Math.abs(M)*u,ue=[v,S+s],se=[v,S-s]):(S-=I/Math.abs(I)*u,ue=[v+s,S],se=[v-s,S]),f.routepath+="L "+v+" "+S+" ",u>0&&(f.arrowpath="M "+oe[0]+" "+oe[1]+" L "+ue[0]+" "+ue[1]+" L "+se[0]+" "+se[1])}return f},e}();gridrouter.GridRouter=GridRouter;var layout3d={};Object.defineProperty(layout3d,"__esModule",{value:!0});var shortestpaths_1=shortestpaths,descent_1=descent,rectangle_1=rectangle,linklengths_1=linklengths,Link3D=function(){function e(t,n){this.source=t,this.target=n}return e.prototype.actualLength=function(t){var n=this;return Math.sqrt(t.reduce(function(s,u){var f=u[n.target]-u[n.source];return s+f*f},0))},e}();layout3d.Link3D=Link3D;var Node3D=function(){function e(t,n,s){t===void 0&&(t=0),n===void 0&&(n=0),s===void 0&&(s=0),this.x=t,this.y=n,this.z=s}return e}();layout3d.Node3D=Node3D;var Layout3D=function(){function e(t,n,s){var u=this;s===void 0&&(s=1),this.nodes=t,this.links=n,this.idealLinkLength=s,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(e.k);for(var f=0;f<e.k;++f)this.result[f]=new Array(t.length);t.forEach(function(d,g){for(var v=0,S=e.dims;v<S.length;v++){var M=S[v];typeof d[M]>"u"&&(d[M]=Math.random())}u.result[0][g]=d.x,u.result[1][g]=d.y,u.result[2][g]=d.z})}return e.prototype.linkLength=function(t){return t.actualLength(this.result)},e.prototype.start=function(t){var n=this;t===void 0&&(t=100);var s=this.nodes.length,u=new LinkAccessor;this.useJaccardLinkLengths&&linklengths_1.jaccardLinkLengths(this.links,u,1.5),this.links.forEach(function(M){return M.length*=n.idealLinkLength});var f=new shortestpaths_1.Calculator(s,this.links,function(M){return M.source},function(M){return M.target},function(M){return M.length}).DistanceMatrix(),d=descent_1.Descent.createSquareMatrix(s,function(M,I){return f[M][I]}),g=descent_1.Descent.createSquareMatrix(s,function(){return 2});this.links.forEach(function(M){var I=M.source,P=M.target;return g[I][P]=g[P][I]=1}),this.descent=new descent_1.Descent(this.result,d),this.descent.threshold=.001,this.descent.G=g,this.constraints&&(this.descent.project=new rectangle_1.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var v=0;v<this.nodes.length;v++){var S=this.nodes[v];S.fixed&&this.descent.locks.add(v,[S.x,S.y,S.z])}return this.descent.run(t),this},e.prototype.tick=function(){this.descent.locks.clear();for(var t=0;t<this.nodes.length;t++){var n=this.nodes[t];n.fixed&&this.descent.locks.add(t,[n.x,n.y,n.z])}return this.descent.rungeKutta()},e.dims=["x","y","z"],e.k=e.dims.length,e}();layout3d.Layout3D=Layout3D;var LinkAccessor=function(){function e(){}return e.prototype.getSourceIndex=function(t){return t.source},e.prototype.getTargetIndex=function(t){return t.target},e.prototype.getLength=function(t){return t.length},e.prototype.setLength=function(t,n){t.length=n},e}(),batch={};Object.defineProperty(batch,"__esModule",{value:!0});var layout_1$1=layout$2,gridrouter_1=gridrouter;function gridify(e,t,n,s){e.cola.start(0,0,0,10,!1);var u=route(e.cola.nodes(),e.cola.groups(),n,s);return u.routeEdges(e.powerGraph.powerEdges,t,function(f){return f.source.routerNode.id},function(f){return f.target.routerNode.id})}batch.gridify=gridify;function route(e,t,n,s){e.forEach(function(f){f.routerNode={name:f.name,bounds:f.bounds.inflate(-n)}}),t.forEach(function(f){f.routerNode={bounds:f.bounds.inflate(-s),children:(typeof f.groups<"u"?f.groups.map(function(d){return e.length+d.id}):[]).concat(typeof f.leaves<"u"?f.leaves.map(function(d){return d.index}):[])}});var u=e.concat(t).map(function(f,d){return f.routerNode.id=d,f.routerNode});return new gridrouter_1.GridRouter(u,{getChildren:function(f){return f.children},getBounds:function(f){return f.bounds}},n-s)}function powerGraphGridLayout(e,t,n){var s;e.nodes.forEach(function(g,v){return g.index=v}),new layout_1$1.Layout().avoidOverlaps(!1).nodes(e.nodes).links(e.links).powerGraphGroups(function(g){s=g,s.groups.forEach(function(v){return v.padding=n})});var u=e.nodes.length,f=[],d=e.nodes.slice(0);return d.forEach(function(g,v){return g.index=v}),s.groups.forEach(function(g){var v=g.index=g.id+u;d.push(g),typeof g.leaves<"u"&&g.leaves.forEach(function(S){return f.push({source:v,target:S.index})}),typeof g.groups<"u"&&g.groups.forEach(function(S){return f.push({source:v,target:S.id+u})})}),s.powerEdges.forEach(function(g){f.push({source:g.source.index,target:g.target.index})}),new layout_1$1.Layout().size(t).nodes(d).links(f).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:new layout_1$1.Layout().convergenceThreshold(.001).size(t).avoidOverlaps(!0).nodes(e.nodes).links(e.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(g){s=g,s.groups.forEach(function(v){v.padding=n})}).start(50,0,100,0,!1),powerGraph:s}}batch.powerGraphGridLayout=powerGraphGridLayout;(function(e){function t(n){for(var s in n)e.hasOwnProperty(s)||(e[s]=n[s])}Object.defineProperty(e,"__esModule",{value:!0}),t(adaptor$1),t(d3adaptor$2),t(descent),t(geom),t(gridrouter),t(handledisconnected),t(layout$2),t(layout3d),t(linklengths),t(powergraph),t(pqueue),t(rbtree),t(rectangle),t(shortestpaths),t(vpsc),t(batch)})(dist$1);const layoutCola=(e,t,n)=>{const s=new dist$1.Layout().linkDistance(n.linkDistance===void 0?2:n.linkDistance).nodes(e).links(t);n.constraints!==void 0&&s.constraints(n.constraints),n.avoidOverlap!==void 0&&s.avoidOverlaps(n.avoidOverlap),n.handleDisconnected!==void 0&&s.handleDisconnected(n.handleDisconnected),n.convergenceThreshold!==void 0&&s.convergenceThreshold(n.convergenceThreshold),n.flowLayout&&s.flowLayout(n.flowLayout.axis,n.flowLayout.minSeparation),n.jaccardLinkLength&&s.jaccardLinkLengths(n.jaccardLinkLength),n.symmetricDiffLinkLength&&s.symmetricDiffLinkLengths(n.symmetricDiffLinkLength),n.defaultNodeSize&&s.defaultNodeSize(n.defaultNodeSize),s.start(100)};function isObject$6(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var isObject_1=isObject$6,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$4=freeGlobal||freeSelf||Function("return this")(),_root=root$4,root$3=_root,now$1=function(){return root$3.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(e){for(var t=e.length;t--&&reWhitespace.test(e.charAt(t)););return t}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(e){return e&&e.slice(0,trimmedEndIndex(e)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,root$2=_root,Symbol$4=root$2.Symbol,_Symbol=Symbol$4,Symbol$3=_Symbol,objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty,nativeObjectToString$1=objectProto$5.toString,symToStringTag$1=Symbol$3?Symbol$3.toStringTag:void 0;function getRawTag$1(e){var t=hasOwnProperty$4.call(e,symToStringTag$1),n=e[symToStringTag$1];try{e[symToStringTag$1]=void 0;var s=!0}catch{}var u=nativeObjectToString$1.call(e);return s&&(t?e[symToStringTag$1]=n:delete e[symToStringTag$1]),u}var _getRawTag=getRawTag$1,objectProto$4=Object.prototype,nativeObjectToString=objectProto$4.toString;function objectToString$1(e){return nativeObjectToString.call(e)}var _objectToString=objectToString$1,Symbol$2=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag$2(e){return e==null?e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}var _baseGetTag=baseGetTag$2;function isObjectLike$1(e){return e!=null&&typeof e=="object"}var isObjectLike_1=isObjectLike$1,baseGetTag$1=_baseGetTag,isObjectLike=isObjectLike_1,symbolTag="[object Symbol]";function isSymbol$5(e){return typeof e=="symbol"||isObjectLike(e)&&baseGetTag$1(e)==symbolTag}var isSymbol_1=isSymbol$5,baseTrim=_baseTrim,isObject$5=isObject_1,isSymbol$4=isSymbol_1,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1(e){if(typeof e=="number")return e;if(isSymbol$4(e))return NAN;if(isObject$5(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=isObject$5(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=baseTrim(e);var n=reIsBinary.test(e);return n||reIsOctal.test(e)?freeParseInt(e.slice(2),n?2:8):reIsBadHex.test(e)?NAN:+e}var toNumber_1=toNumber$1,isObject$4=isObject_1,now=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$1(e,t,n){var s,u,f,d,g,v,S=0,M=!1,I=!1,P=!0;if(typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT$1);t=toNumber(t)||0,isObject$4(n)&&(M=!!n.leading,I="maxWait"in n,f=I?nativeMax(toNumber(n.maxWait)||0,t):f,P="trailing"in n?!!n.trailing:P);function N(oe){var ue=s,se=u;return s=u=void 0,S=oe,d=e.apply(se,ue),d}function F(oe){return S=oe,g=setTimeout(V,t),M?N(oe):d}function j(oe){var ue=oe-v,se=oe-S,le=t-ue;return I?nativeMin(le,f-se):le}function U(oe){var ue=oe-v,se=oe-S;return v===void 0||ue>=t||ue<0||I&&se>=f}function V(){var oe=now();if(U(oe))return Z(oe);g=setTimeout(V,j(oe))}function Z(oe){return g=void 0,P&&s?N(oe):(s=u=void 0,d)}function Q(){g!==void 0&&clearTimeout(g),S=0,s=v=u=g=void 0}function J(){return g===void 0?d:Z(now())}function te(){var oe=now(),ue=U(oe);if(s=arguments,u=this,v=oe,ue){if(g===void 0)return F(v);if(I)return clearTimeout(g),g=setTimeout(V,t),N(v)}return g===void 0&&(g=setTimeout(V,t)),d}return te.cancel=Q,te.flush=J,te}var debounce_1=debounce$1,heapExports$1={},heap$1={get exports(){return heapExports$1},set exports(e){heapExports$1=e}},heapExports={},heap={get exports(){return heapExports},set exports(e){heapExports=e}};(function(e,t){(function(){var n,s,u,f,d,g,v,S,M,I,P,N,F,j,U;u=Math.floor,I=Math.min,s=function(V,Z){return V<Z?-1:V>Z?1:0},M=function(V,Z,Q,J,te){var oe;if(Q==null&&(Q=0),te==null&&(te=s),Q<0)throw new Error("lo must be non-negative");for(J==null&&(J=V.length);Q<J;)oe=u((Q+J)/2),te(Z,V[oe])<0?J=oe:Q=oe+1;return[].splice.apply(V,[Q,Q-Q].concat(Z)),Z},g=function(V,Z,Q){return Q==null&&(Q=s),V.push(Z),j(V,0,V.length-1,Q)},d=function(V,Z){var Q,J;return Z==null&&(Z=s),Q=V.pop(),V.length?(J=V[0],V[0]=Q,U(V,0,Z)):J=Q,J},S=function(V,Z,Q){var J;return Q==null&&(Q=s),J=V[0],V[0]=Z,U(V,0,Q),J},v=function(V,Z,Q){var J;return Q==null&&(Q=s),V.length&&Q(V[0],Z)<0&&(J=[V[0],Z],Z=J[0],V[0]=J[1],U(V,0,Q)),Z},f=function(V,Z){var Q,J,te,oe,ue,se;for(Z==null&&(Z=s),oe=function(){se=[];for(var le=0,de=u(V.length/2);0<=de?le<de:le>de;0<=de?le++:le--)se.push(le);return se}.apply(this).reverse(),ue=[],J=0,te=oe.length;J<te;J++)Q=oe[J],ue.push(U(V,Q,Z));return ue},F=function(V,Z,Q){var J;if(Q==null&&(Q=s),J=V.indexOf(Z),J!==-1)return j(V,0,J,Q),U(V,J,Q)},P=function(V,Z,Q){var J,te,oe,ue,se;if(Q==null&&(Q=s),te=V.slice(0,Z),!te.length)return te;for(f(te,Q),se=V.slice(Z),oe=0,ue=se.length;oe<ue;oe++)J=se[oe],v(te,J,Q);return te.sort(Q).reverse()},N=function(V,Z,Q){var J,te,oe,ue,se,le,de,ge,ve;if(Q==null&&(Q=s),Z*10<=V.length){if(oe=V.slice(0,Z).sort(Q),!oe.length)return oe;for(te=oe[oe.length-1],de=V.slice(Z),ue=0,le=de.length;ue<le;ue++)J=de[ue],Q(J,te)<0&&(M(oe,J,0,null,Q),oe.pop(),te=oe[oe.length-1]);return oe}for(f(V,Q),ve=[],se=0,ge=I(Z,V.length);0<=ge?se<ge:se>ge;0<=ge?++se:--se)ve.push(d(V,Q));return ve},j=function(V,Z,Q,J){var te,oe,ue;for(J==null&&(J=s),te=V[Q];Q>Z;){if(ue=Q-1>>1,oe=V[ue],J(te,oe)<0){V[Q]=oe,Q=ue;continue}break}return V[Q]=te},U=function(V,Z,Q){var J,te,oe,ue,se;for(Q==null&&(Q=s),te=V.length,se=Z,oe=V[Z],J=2*Z+1;J<te;)ue=J+1,ue<te&&!(Q(V[J],V[ue])<0)&&(J=ue),V[Z]=V[J],Z=J,J=2*Z+1;return V[Z]=oe,j(V,se,Z,Q)},n=function(){V.push=g,V.pop=d,V.replace=S,V.pushpop=v,V.heapify=f,V.updateItem=F,V.nlargest=P,V.nsmallest=N;function V(Z){this.cmp=Z??s,this.nodes=[]}return V.prototype.push=function(Z){return g(this.nodes,Z,this.cmp)},V.prototype.pop=function(){return d(this.nodes,this.cmp)},V.prototype.peek=function(){return this.nodes[0]},V.prototype.contains=function(Z){return this.nodes.indexOf(Z)!==-1},V.prototype.replace=function(Z){return S(this.nodes,Z,this.cmp)},V.prototype.pushpop=function(Z){return v(this.nodes,Z,this.cmp)},V.prototype.heapify=function(){return f(this.nodes,this.cmp)},V.prototype.updateItem=function(Z){return F(this.nodes,Z,this.cmp)},V.prototype.clear=function(){return this.nodes=[]},V.prototype.empty=function(){return this.nodes.length===0},V.prototype.size=function(){return this.nodes.length},V.prototype.clone=function(){var Z;return Z=new V,Z.nodes=this.nodes.slice(0),Z},V.prototype.toArray=function(){return this.nodes.slice(0)},V.prototype.insert=V.prototype.push,V.prototype.top=V.prototype.peek,V.prototype.front=V.prototype.peek,V.prototype.has=V.prototype.contains,V.prototype.copy=V.prototype.clone,V}(),function(V,Z){return e.exports=Z()}(this,function(){return n})}).call(commonjsGlobal)})(heap);(function(e){e.exports=heapExports})(heap$1);var isArray$5=Array.isArray,isArray_1=isArray$5,isArray$4=isArray_1,isSymbol$3=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$1(e,t){if(isArray$4(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||isSymbol$3(e)?!0:reIsPlainProp.test(e)||!reIsDeepProp.test(e)||t!=null&&e in Object(t)}var _isKey=isKey$1,baseGetTag=_baseGetTag,isObject$3=isObject_1,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(e){if(!isObject$3(e))return!1;var t=baseGetTag(e);return t==funcTag||t==genTag||t==asyncTag||t==proxyTag}var isFunction_1=isFunction$1,root$1=_root,coreJsData$1=root$1["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked$1(e){return!!maskSrcKey&&maskSrcKey in e}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$1(e){if(e!=null){try{return funcToString$1.call(e)}catch{}try{return e+""}catch{}}return""}var _toSource=toSource$1,isFunction=isFunction_1,isMasked=_isMasked,isObject$2=isObject_1,toSource=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$3=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$3=objectProto$3.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$3).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(e){if(!isObject$2(e)||isMasked(e))return!1;var t=isFunction(e)?reIsNative:reIsHostCtor;return t.test(toSource(e))}var _baseIsNative=baseIsNative$1;function getValue$2(e,t){return e==null?void 0:e[t]}var _getValue=getValue$2,baseIsNative=_baseIsNative,getValue$1=_getValue;function getNative$3(e,t){var n=getValue$1(e,t);return baseIsNative(n)?n:void 0}var _getNative=getNative$3,getNative$2=_getNative,nativeCreate$4=getNative$2(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function hashGet$1(e){var t=this.__data__;if(nativeCreate$2){var n=t[e];return n===HASH_UNDEFINED$1?void 0:n}return hasOwnProperty$2.call(t,e)?t[e]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function hashHas$1(e){var t=this.__data__;return nativeCreate$1?t[e]!==void 0:hasOwnProperty$1.call(t,e)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet$1(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nativeCreate&&t===void 0?HASH_UNDEFINED:t,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$2(e,t){return e===t||e!==e&&t!==t}var eq_1=eq$2,eq$1=eq_1;function assocIndexOf$4(e,t){for(var n=e.length;n--;)if(eq$1(e[n][0],t))return n;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(e){var t=this.__data__,n=assocIndexOf$3(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():splice.call(t,n,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(e){var t=this.__data__,n=assocIndexOf$2(t,e);return n<0?void 0:t[n][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(e){return assocIndexOf$1(this.__data__,e)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(e,t){var n=this.__data__,s=assocIndexOf(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$1(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}ListCache$1.prototype.clear=listCacheClear;ListCache$1.prototype.delete=listCacheDelete;ListCache$1.prototype.get=listCacheGet;ListCache$1.prototype.has=listCacheHas;ListCache$1.prototype.set=listCacheSet;var _ListCache=ListCache$1,getNative$1=_getNative,root=_root,Map$3=getNative$1(root,"Map"),_Map=Map$3,Hash=_Hash,ListCache=_ListCache,Map$2=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(e,t){var n=e.__data__;return isKeyable(t)?n[typeof t=="string"?"string":"hash"]:n.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(e){var t=getMapData$3(this,e).delete(e);return this.size-=t?1:0,t}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(e){return getMapData$2(this,e).get(e)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(e){return getMapData$1(this,e).has(e)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(e,t){var n=getMapData(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$1(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}MapCache$1.prototype.clear=mapCacheClear;MapCache$1.prototype.delete=mapCacheDelete;MapCache$1.prototype.get=mapCacheGet;MapCache$1.prototype.has=mapCacheHas;MapCache$1.prototype.set=mapCacheSet;var _MapCache=MapCache$1,MapCache=_MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize$2(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT);var n=function(){var s=arguments,u=t?t.apply(this,s):s[0],f=n.cache;if(f.has(u))return f.get(u);var d=e.apply(this,s);return n.cache=f.set(u,d)||f,d};return n.cache=new(memoize$2.Cache||MapCache),n}memoize$2.Cache=MapCache;var memoize_1=memoize$2,memoize$1=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(e){var t=memoize$1(e,function(s){return n.size===MAX_MEMOIZE_SIZE&&n.clear(),s}),n=t.cache;return t}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$2=memoizeCapped(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(rePropName,function(n,s,u,f){t.push(u?f.replace(reEscapeChar,"$1"):s||n)}),t}),_stringToPath=stringToPath$2;function arrayMap$2(e,t){for(var n=-1,s=e==null?0:e.length,u=Array(s);++n<s;)u[n]=t(e[n],n,e);return u}var _arrayMap=arrayMap$2,Symbol$1=_Symbol,arrayMap$1=_arrayMap,isArray$3=isArray_1,isSymbol$2=isSymbol_1,INFINITY$1=1/0,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString$1(e){if(typeof e=="string")return e;if(isArray$3(e))return arrayMap$1(e,baseToString$1)+"";if(isSymbol$2(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return t=="0"&&1/e==-INFINITY$1?"-0":t}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$3(e){return e==null?"":baseToString(e)}var toString_1=toString$3,isArray$2=isArray_1,isKey=_isKey,stringToPath$1=_stringToPath,toString$2=toString_1;function castPath$2(e,t){return isArray$2(e)?e:isKey(e,t)?[e]:stringToPath$1(toString$2(e))}var _castPath=castPath$2,isSymbol$1=isSymbol_1,INFINITY=1/0;function toKey$3(e){if(typeof e=="string"||isSymbol$1(e))return e;var t=e+"";return t=="0"&&1/e==-INFINITY?"-0":t}var _toKey=toKey$3,castPath$1=_castPath,toKey$2=_toKey;function baseGet$1(e,t){t=castPath$1(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[toKey$2(t[n++])];return n&&n==s?e:void 0}var _baseGet=baseGet$1,baseGet=_baseGet;function get$1(e,t,n){var s=e==null?void 0:baseGet(e,t);return s===void 0?n:s}var get_1=get$1,getNative=_getNative,defineProperty$1=function(){try{var e=getNative(Object,"defineProperty");return e({},"",{}),e}catch{}}(),_defineProperty$1=defineProperty$1,defineProperty=_defineProperty$1;function baseAssignValue$1(e,t,n){t=="__proto__"&&defineProperty?defineProperty(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var _baseAssignValue=baseAssignValue$1,baseAssignValue=_baseAssignValue,eq=eq_1,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function assignValue$1(e,t,n){var s=e[t];(!(hasOwnProperty.call(e,t)&&eq(s,n))||n===void 0&&!(t in e))&&baseAssignValue(e,t,n)}var _assignValue=assignValue$1,MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$1(e,t){var n=typeof e;return t=t??MAX_SAFE_INTEGER,!!t&&(n=="number"||n!="symbol"&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}var _isIndex=isIndex$1,assignValue=_assignValue,castPath=_castPath,isIndex=_isIndex,isObject$1=isObject_1,toKey$1=_toKey;function baseSet$1(e,t,n,s){if(!isObject$1(e))return e;t=castPath(t,e);for(var u=-1,f=t.length,d=f-1,g=e;g!=null&&++u<f;){var v=toKey$1(t[u]),S=n;if(v==="__proto__"||v==="constructor"||v==="prototype")return e;if(u!=d){var M=g[v];S=s?s(M,v,g):void 0,S===void 0&&(S=isObject$1(M)?M:isIndex(t[u+1])?[]:{})}assignValue(g,v,S),g=g[v]}return e}var _baseSet=baseSet$1,baseSet=_baseSet;function set$1(e,t,n){return e==null?e:baseSet(e,t,n)}var set_1=set$1;function copyArray$2(e,t){var n=-1,s=e.length;for(t||(t=Array(s));++n<s;)t[n]=e[n];return t}var _copyArray=copyArray$2,arrayMap=_arrayMap,copyArray$1=_copyArray,isArray$1=isArray_1,isSymbol=isSymbol_1,stringToPath=_stringToPath,toKey=_toKey,toString$1=toString_1;function toPath$1(e){return isArray$1(e)?arrayMap(e,toKey):isSymbol(e)?[e]:copyArray$1(stringToPath(toString$1(e)))}var toPath_1=toPath$1,debounce=debounce_1,Heap=heapExports$1,get=get_1,set=set_1,toPath=toPath_1;function _interopDefaultLegacy(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var debounce__default=_interopDefaultLegacy(debounce),Heap__default=_interopDefaultLegacy(Heap),get__default=_interopDefaultLegacy(get),set__default=_interopDefaultLegacy(set),toPath__default=_interopDefaultLegacy(toPath);function _typeof(e){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s=[],u=!0,f=!1,d,g;try{for(n=n.call(e);!(u=(d=n.next()).done)&&(s.push(d.value),!(t&&s.length===t));u=!0);}catch(v){f=!0,g=v}finally{try{!u&&n.return!=null&&n.return()}finally{if(f)throw g}}return s}}function _unsupportedIterableToArray(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}}function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var window$1=typeof window>"u"?null:window,navigator$1=window$1?window$1.navigator:null;window$1&&window$1.document;var typeofstr=_typeof(""),typeofobj=_typeof({}),typeoffn=_typeof(function(){}),typeofhtmlele=typeof HTMLElement>"u"?"undefined":_typeof(HTMLElement),instanceStr=function(t){return t&&t.instanceString&&fn$6(t.instanceString)?t.instanceString():null},string=function(t){return t!=null&&_typeof(t)==typeofstr},fn$6=function(t){return t!=null&&_typeof(t)===typeoffn},array=function(t){return!elementOrCollection(t)&&(Array.isArray?Array.isArray(t):t!=null&&t instanceof Array)},plainObject=function(t){return t!=null&&_typeof(t)===typeofobj&&!array(t)&&t.constructor===Object},object=function(t){return t!=null&&_typeof(t)===typeofobj},number$1=function(t){return t!=null&&_typeof(t)===_typeof(1)&&!isNaN(t)},integer=function(t){return number$1(t)&&Math.floor(t)===t},htmlElement=function(t){if(typeofhtmlele!=="undefined")return t!=null&&t instanceof HTMLElement},elementOrCollection=function(t){return element(t)||collection(t)},element=function(t){return instanceStr(t)==="collection"&&t._private.single},collection=function(t){return instanceStr(t)==="collection"&&!t._private.single},core=function(t){return instanceStr(t)==="core"},stylesheet=function(t){return instanceStr(t)==="stylesheet"},event=function(t){return instanceStr(t)==="event"},emptyString=function(t){return t==null?!0:!!(t===""||t.match(/^\s+$/))},domElement=function(t){return typeof HTMLElement>"u"?!1:t instanceof HTMLElement},boundingBox=function(t){return plainObject(t)&&number$1(t.x1)&&number$1(t.x2)&&number$1(t.y1)&&number$1(t.y2)},promise=function(t){return object(t)&&fn$6(t.then)},ms=function(){return navigator$1&&navigator$1.userAgent.match(/msie|trident|edge/i)},memoize=function(t,n){n||(n=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var f=[],d=0;d<arguments.length;d++)f.push(arguments[d]);return f.join("$")});var s=function u(){var f=this,d=arguments,g,v=n.apply(f,d),S=u.cache;return(g=S[v])||(g=S[v]=t.apply(f,d)),g};return s.cache={},s},camel2dash=memoize(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),dash2camel=memoize(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),prependCamel=memoize(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),capitalize=function(t){return emptyString(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},number="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",rgba="rgb[a]?\\(("+number+"[%]?)\\s*,\\s*("+number+"[%]?)\\s*,\\s*("+number+"[%]?)(?:\\s*,\\s*("+number+"))?\\)",rgbaNoBackRefs="rgb[a]?\\((?:"+number+"[%]?)\\s*,\\s*(?:"+number+"[%]?)\\s*,\\s*(?:"+number+"[%]?)(?:\\s*,\\s*(?:"+number+"))?\\)",hsla="hsl[a]?\\(("+number+")\\s*,\\s*("+number+"[%])\\s*,\\s*("+number+"[%])(?:\\s*,\\s*("+number+"))?\\)",hslaNoBackRefs="hsl[a]?\\((?:"+number+")\\s*,\\s*(?:"+number+"[%])\\s*,\\s*(?:"+number+"[%])(?:\\s*,\\s*(?:"+number+"))?\\)",hex3="\\#[0-9a-fA-F]{3}",hex6="\\#[0-9a-fA-F]{6}",ascending=function(t,n){return t<n?-1:t>n?1:0},descending=function(t,n){return-1*ascending(t,n)},extend=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var s=t[n];if(s!=null)for(var u=Object.keys(s),f=0;f<u.length;f++){var d=u[f];e[d]=s[d]}}return e},hex2tuple=function(t){if(!(!(t.length===4||t.length===7)||t[0]!=="#")){var n=t.length===4,s,u,f,d=16;return n?(s=parseInt(t[1]+t[1],d),u=parseInt(t[2]+t[2],d),f=parseInt(t[3]+t[3],d)):(s=parseInt(t[1]+t[2],d),u=parseInt(t[3]+t[4],d),f=parseInt(t[5]+t[6],d)),[s,u,f]}},hsl2tuple=function(t){var n,s,u,f,d,g,v,S;function M(F,j,U){return U<0&&(U+=1),U>1&&(U-=1),U<1/6?F+(j-F)*6*U:U<1/2?j:U<2/3?F+(j-F)*(2/3-U)*6:F}var I=new RegExp("^"+hsla+"$").exec(t);if(I){if(s=parseInt(I[1]),s<0?s=(360- -1*s%360)%360:s>360&&(s=s%360),s/=360,u=parseFloat(I[2]),u<0||u>100||(u=u/100,f=parseFloat(I[3]),f<0||f>100)||(f=f/100,d=I[4],d!==void 0&&(d=parseFloat(d),d<0||d>1)))return;if(u===0)g=v=S=Math.round(f*255);else{var P=f<.5?f*(1+u):f+u-f*u,N=2*f-P;g=Math.round(255*M(N,P,s+1/3)),v=Math.round(255*M(N,P,s)),S=Math.round(255*M(N,P,s-1/3))}n=[g,v,S,d]}return n},rgb2tuple=function(t){var n,s=new RegExp("^"+rgba+"$").exec(t);if(s){n=[];for(var u=[],f=1;f<=3;f++){var d=s[f];if(d[d.length-1]==="%"&&(u[f]=!0),d=parseFloat(d),u[f]&&(d=d/100*255),d<0||d>255)return;n.push(Math.floor(d))}var g=u[1]||u[2]||u[3],v=u[1]&&u[2]&&u[3];if(g&&!v)return;var S=s[4];if(S!==void 0){if(S=parseFloat(S),S<0||S>1)return;n.push(S)}}return n},colorname2tuple=function(t){return colors[t.toLowerCase()]},color2tuple=function(t){return(array(t)?t:null)||colorname2tuple(t)||hex2tuple(t)||rgb2tuple(t)||hsl2tuple(t)},colors={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},setMap=function(t){for(var n=t.map,s=t.keys,u=s.length,f=0;f<u;f++){var d=s[f];if(plainObject(d))throw Error("Tried to set map with object key");f<s.length-1?(n[d]==null&&(n[d]={}),n=n[d]):n[d]=t.value}},getMap=function(t){for(var n=t.map,s=t.keys,u=s.length,f=0;f<u;f++){var d=s[f];if(plainObject(d))throw Error("Tried to get map with object key");if(n=n[d],n==null)return n}return n},performance$1=window$1?window$1.performance:null,pnow=performance$1&&performance$1.now?function(){return performance$1.now()}:function(){return Date.now()},raf=function(){if(window$1){if(window$1.requestAnimationFrame)return function(e){window$1.requestAnimationFrame(e)};if(window$1.mozRequestAnimationFrame)return function(e){window$1.mozRequestAnimationFrame(e)};if(window$1.webkitRequestAnimationFrame)return function(e){window$1.webkitRequestAnimationFrame(e)};if(window$1.msRequestAnimationFrame)return function(e){window$1.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(pnow())},1e3/60)}}(),requestAnimationFrame$1=function(t){return raf(t)},performanceNow=pnow,DEFAULT_HASH_SEED=9261,K=65599,DEFAULT_HASH_SEED_ALT=5381,hashIterableInts=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DEFAULT_HASH_SEED,s=n,u;u=t.next(),!u.done;)s=s*K+u.value|0;return s},hashInt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DEFAULT_HASH_SEED;return n*K+t|0},hashIntAlt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DEFAULT_HASH_SEED_ALT;return(n<<5)+n+t|0},combineHashes=function(t,n){return t*2097152+n},combineHashesArray=function(t){return t[0]*2097152+t[1]},hashArrays=function(t,n){return[hashInt(t[0],n[0]),hashIntAlt(t[1],n[1])]},hashIntsArray=function(t,n){var s={value:0,done:!1},u=0,f=t.length,d={next:function(){return u<f?s.value=t[u++]:s.done=!0,s}};return hashIterableInts(d,n)},hashString=function(t,n){var s={value:0,done:!1},u=0,f=t.length,d={next:function(){return u<f?s.value=t.charCodeAt(u++):s.done=!0,s}};return hashIterableInts(d,n)},hashStrings=function(){return hashStringsArray(arguments)},hashStringsArray=function(t){for(var n,s=0;s<t.length;s++){var u=t[s];s===0?n=hashString(u):n=hashString(u,n)}return n},warningsEnabled=!0,warnSupported=console.warn!=null,traceSupported=console.trace!=null,MAX_INT$1=Number.MAX_SAFE_INTEGER||9007199254740991,trueify=function(){return!0},falsify=function(){return!1},zeroify=function(){return 0},noop$1=function(){},error=function(t){throw new Error(t)},warnings=function(t){if(t!==void 0)warningsEnabled=!!t;else return warningsEnabled},warn=function(t){warnings()&&(warnSupported?console.warn(t):(console.log(t),traceSupported&&console.trace()))},clone=function(t){return extend({},t)},copy=function(t){return t==null?t:array(t)?t.slice():plainObject(t)?clone(t):t},copyArray=function(t){return t.slice()},uuid=function(t,n){for(n=t="";t++<36;n+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return n},_staticEmptyObject={},staticEmptyObject=function(){return _staticEmptyObject},defaults$g=function(t){var n=Object.keys(t);return function(s){for(var u={},f=0;f<n.length;f++){var d=n[f],g=s==null?void 0:s[d];u[d]=g===void 0?t[d]:g}return u}},removeFromArray=function(t,n,s){for(var u=t.length-1;u>=0&&!(t[u]===n&&(t.splice(u,1),s));u--);},clearArray=function(t){t.splice(0,t.length)},push=function(t,n){for(var s=0;s<n.length;s++){var u=n[s];t.push(u)}},getPrefixedProperty=function(t,n,s){return s&&(n=prependCamel(s,n)),t[n]},setPrefixedProperty=function(t,n,s,u){s&&(n=prependCamel(s,n)),t[n]=u},ObjectMap=function(){function e(){_classCallCheck(this,e),this._obj={}}return _createClass(e,[{key:"set",value:function(n,s){return this._obj[n]=s,this}},{key:"delete",value:function(n){return this._obj[n]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(n){return this._obj[n]!==void 0}},{key:"get",value:function(n){return this._obj[n]}}]),e}(),Map$1=typeof Map<"u"?Map:ObjectMap,undef="undefined",ObjectSet=function(){function e(t){if(_classCallCheck(this,e),this._obj=Object.create(null),this.size=0,t!=null){var n;t.instanceString!=null&&t.instanceString()===this.instanceString()?n=t.toArray():n=t;for(var s=0;s<n.length;s++)this.add(n[s])}}return _createClass(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(n){var s=this._obj;s[n]!==1&&(s[n]=1,this.size++)}},{key:"delete",value:function(n){var s=this._obj;s[n]===1&&(s[n]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(n){return this._obj[n]===1}},{key:"toArray",value:function(){var n=this;return Object.keys(this._obj).filter(function(s){return n.has(s)})}},{key:"forEach",value:function(n,s){return this.toArray().forEach(n,s)}}]),e}(),Set$1=(typeof Set>"u"?"undefined":_typeof(Set))!==undef?Set:ObjectSet,Element$1=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0||n===void 0||!core(t)){error("An element must have a core reference and parameters set");return}var u=n.group;if(u==null&&(n.data&&n.data.source!=null&&n.data.target!=null?u="edges":u="nodes"),u!=="nodes"&&u!=="edges"){error("An element must be of type `nodes` or `edges`; you specified `"+u+"`");return}this.length=1,this[0]=this;var f=this._private={cy:t,single:!0,data:n.data||{},position:n.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:u,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!n.selected,selectable:n.selectable===void 0?!0:!!n.selectable,locked:!!n.locked,grabbed:!1,grabbable:n.grabbable===void 0?!0:!!n.grabbable,pannable:n.pannable===void 0?u==="edges":!!n.pannable,active:!1,classes:new Set$1,animation:{current:[],queue:[]},rscratch:{},scratch:n.scratch||{},edges:[],children:[],parent:n.parent&&n.parent.isNode()?n.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(f.position.x==null&&(f.position.x=0),f.position.y==null&&(f.position.y=0),n.renderedPosition){var d=n.renderedPosition,g=t.pan(),v=t.zoom();f.position={x:(d.x-g.x)/v,y:(d.y-g.y)/v}}var S=[];array(n.classes)?S=n.classes:string(n.classes)&&(S=n.classes.split(/\s+/));for(var M=0,I=S.length;M<I;M++){var P=S[M];!P||P===""||f.classes.add(P)}this.createEmitter();var N=n.style||n.css;N&&(warn("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(N)),(s===void 0||s)&&this.restore()},defineSearch=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(s,u,f){var d;plainObject(s)&&!elementOrCollection(s)&&(d=s,s=d.roots||d.root,u=d.visit,f=d.directed),f=arguments.length===2&&!fn$6(u)?u:f,u=fn$6(u)?u:function(){};for(var g=this._private.cy,v=s=string(s)?this.filter(s):s,S=[],M=[],I={},P={},N={},F=0,j,U=this.byGroup(),V=U.nodes,Z=U.edges,Q=0;Q<v.length;Q++){var J=v[Q],te=J.id();J.isNode()&&(S.unshift(J),t.bfs&&(N[te]=!0,M.push(J)),P[te]=0)}for(var oe=function(){var me=t.bfs?S.shift():S.pop(),ye=me.id();if(t.dfs){if(N[ye])return"continue";N[ye]=!0,M.push(me)}var Ae=P[ye],Te=I[ye],Oe=Te!=null?Te.source():null,Ie=Te!=null?Te.target():null,Be=Te==null?void 0:me.same(Oe)?Ie[0]:Oe[0],De=void 0;if(De=u(me,Te,Be,F++,Ae),De===!0)return j=me,"break";if(De===!1)return"break";for(var Pe=me.connectedEdges().filter(function(Ve){return(!f||Ve.source().same(me))&&Z.has(Ve)}),Ne=0;Ne<Pe.length;Ne++){var He=Pe[Ne],je=He.connectedNodes().filter(function(Ve){return!Ve.same(me)&&V.has(Ve)}),ze=je.id();je.length!==0&&!N[ze]&&(je=je[0],S.push(je),t.bfs&&(N[ze]=!0,M.push(je)),I[ze]=He,P[ze]=P[ye]+1)}};S.length!==0;){var ue=oe();if(ue!=="continue"&&ue==="break")break}for(var se=g.collection(),le=0;le<M.length;le++){var de=M[le],ge=I[de.id()];ge!=null&&se.push(ge),se.push(de)}return{path:g.collection(se),found:g.collection(j)}}},elesfn$v={breadthFirstSearch:defineSearch({bfs:!0}),depthFirstSearch:defineSearch({dfs:!0})};elesfn$v.bfs=elesfn$v.breadthFirstSearch;elesfn$v.dfs=elesfn$v.depthFirstSearch;var dijkstraDefaults=defaults$g({root:null,weight:function(t){return 1},directed:!1}),elesfn$u={dijkstra:function(t){if(!plainObject(t)){var n=arguments;t={root:n[0],weight:n[1],directed:n[2]}}var s=dijkstraDefaults(t),u=s.root,f=s.weight,d=s.directed,g=this,v=f,S=string(u)?this.filter(u)[0]:u[0],M={},I={},P={},N=this.byGroup(),F=N.nodes,j=N.edges;j.unmergeBy(function(Ae){return Ae.isLoop()});for(var U=function(Te){return M[Te.id()]},V=function(Te,Oe){M[Te.id()]=Oe,Z.updateItem(Te)},Z=new Heap__default.default(function(Ae,Te){return U(Ae)-U(Te)}),Q=0;Q<F.length;Q++){var J=F[Q];M[J.id()]=J.same(S)?0:1/0,Z.push(J)}for(var te=function(Te,Oe){for(var Ie=(d?Te.edgesTo(Oe):Te.edgesWith(Oe)).intersect(j),Be=1/0,De,Pe=0;Pe<Ie.length;Pe++){var Ne=Ie[Pe],He=v(Ne);(He<Be||!De)&&(Be=He,De=Ne)}return{edge:De,dist:Be}};Z.size()>0;){var oe=Z.pop(),ue=U(oe),se=oe.id();if(P[se]=ue,ue!==1/0)for(var le=oe.neighborhood().intersect(F),de=0;de<le.length;de++){var ge=le[de],ve=ge.id(),me=te(oe,ge),ye=ue+me.dist;ye<U(ge)&&(V(ge,ye),I[ve]={node:oe,edge:me.edge})}}return{distanceTo:function(Te){var Oe=string(Te)?F.filter(Te)[0]:Te[0];return P[Oe.id()]},pathTo:function(Te){var Oe=string(Te)?F.filter(Te)[0]:Te[0],Ie=[],Be=Oe,De=Be.id();if(Oe.length>0)for(Ie.unshift(Oe);I[De];){var Pe=I[De];Ie.unshift(Pe.edge),Ie.unshift(Pe.node),Be=Pe.node,De=Be.id()}return g.spawn(Ie)}}}},elesfn$t={kruskal:function(t){t=t||function(Q){return 1};for(var n=this.byGroup(),s=n.nodes,u=n.edges,f=s.length,d=new Array(f),g=s,v=function(J){for(var te=0;te<d.length;te++){var oe=d[te];if(oe.has(J))return te}},S=0;S<f;S++)d[S]=this.spawn(s[S]);for(var M=u.sort(function(Q,J){return t(Q)-t(J)}),I=0;I<M.length;I++){var P=M[I],N=P.source()[0],F=P.target()[0],j=v(N),U=v(F),V=d[j],Z=d[U];j!==U&&(g.merge(P),V.merge(Z),d.splice(U,1))}return g}},aStarDefaults=defaults$g({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),elesfn$s={aStar:function(t){var n=this.cy(),s=aStarDefaults(t),u=s.root,f=s.goal,d=s.heuristic,g=s.directed,v=s.weight;u=n.collection(u)[0],f=n.collection(f)[0];var S=u.id(),M=f.id(),I={},P={},N={},F=new Heap__default.default(function(De,Pe){return P[De.id()]-P[Pe.id()]}),j=new Set$1,U={},V={},Z=function(Pe,Ne){F.push(Pe),j.add(Ne)},Q,J,te=function(){Q=F.pop(),J=Q.id(),j.delete(J)},oe=function(Pe){return j.has(Pe)};Z(u,S),I[S]=0,P[S]=d(u);for(var ue=0;F.size()>0;){if(te(),ue++,J===M){for(var se=[],le=f,de=M,ge=V[de];se.unshift(le),ge!=null&&se.unshift(ge),le=U[de],le!=null;)de=le.id(),ge=V[de];return{found:!0,distance:I[J],path:this.spawn(se),steps:ue}}N[J]=!0;for(var ve=Q._private.edges,me=0;me<ve.length;me++){var ye=ve[me];if(this.hasElementWithId(ye.id())&&!(g&&ye.data("source")!==J)){var Ae=ye.source(),Te=ye.target(),Oe=Ae.id()!==J?Ae:Te,Ie=Oe.id();if(this.hasElementWithId(Ie)&&!N[Ie]){var Be=I[J]+v(ye);if(!oe(Ie)){I[Ie]=Be,P[Ie]=Be+d(Oe),Z(Oe,Ie),U[Ie]=Q,V[Ie]=ye;continue}Be<I[Ie]&&(I[Ie]=Be,P[Ie]=Be+d(Oe),U[Ie]=Q,V[Ie]=ye)}}}}return{found:!1,distance:void 0,path:void 0,steps:ue}}},floydWarshallDefaults=defaults$g({weight:function(t){return 1},directed:!1}),elesfn$r={floydWarshall:function(t){for(var n=this.cy(),s=floydWarshallDefaults(t),u=s.weight,f=s.directed,d=u,g=this.byGroup(),v=g.nodes,S=g.edges,M=v.length,I=M*M,P=function(He){return v.indexOf(He)},N=function(He){return v[He]},F=new Array(I),j=0;j<I;j++){var U=j%M,V=(j-U)/M;V===U?F[j]=0:F[j]=1/0}for(var Z=new Array(I),Q=new Array(I),J=0;J<S.length;J++){var te=S[J],oe=te.source()[0],ue=te.target()[0];if(oe!==ue){var se=P(oe),le=P(ue),de=se*M+le,ge=d(te);if(F[de]>ge&&(F[de]=ge,Z[de]=le,Q[de]=te),!f){var ve=le*M+se;!f&&F[ve]>ge&&(F[ve]=ge,Z[ve]=se,Q[ve]=te)}}}for(var me=0;me<M;me++)for(var ye=0;ye<M;ye++)for(var Ae=ye*M+me,Te=0;Te<M;Te++){var Oe=ye*M+Te,Ie=me*M+Te;F[Ae]+F[Ie]<F[Oe]&&(F[Oe]=F[Ae]+F[Ie],Z[Oe]=Z[Ae])}var Be=function(He){return(string(He)?n.filter(He):He)[0]},De=function(He){return P(Be(He))},Pe={distance:function(He,je){var ze=De(He),Ve=De(je);return F[ze*M+Ve]},path:function(He,je){var ze=De(He),Ve=De(je),Ye=N(ze);if(ze===Ve)return Ye.collection();if(Z[ze*M+Ve]==null)return n.collection();var nt=n.collection(),Fe=ze,Qe;for(nt.merge(Ye);ze!==Ve;)Fe=ze,ze=Z[ze*M+Ve],Qe=Q[Fe*M+ze],nt.merge(Qe),nt.merge(N(ze));return nt}};return Pe}},bellmanFordDefaults=defaults$g({weight:function(t){return 1},directed:!1,root:null}),elesfn$q={bellmanFord:function(t){var n=this,s=bellmanFordDefaults(t),u=s.weight,f=s.directed,d=s.root,g=u,v=this,S=this.cy(),M=this.byGroup(),I=M.edges,P=M.nodes,N=P.length,F=new Map$1,j=!1,U=[];d=S.collection(d)[0],I.unmergeBy(function(ut){return ut.isLoop()});for(var V=I.length,Z=function(_t){var Bt=F.get(_t.id());return Bt||(Bt={},F.set(_t.id(),Bt)),Bt},Q=function(_t){return(string(_t)?S.$(_t):_t)[0]},J=function(_t){return Z(Q(_t)).dist},te=function(_t){for(var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d,mn=Q(_t),dn=[],Zt=mn;;){if(Zt==null)return n.spawn();var Mt=Z(Zt),We=Mt.edge,bt=Mt.pred;if(dn.unshift(Zt[0]),Zt.same(Bt)&&dn.length>0)break;We!=null&&dn.unshift(We),Zt=bt}return v.spawn(dn)},oe=0;oe<N;oe++){var ue=P[oe],se=Z(ue);ue.same(d)?se.dist=0:se.dist=1/0,se.pred=null,se.edge=null}for(var le=!1,de=function(_t,Bt,mn,dn,Zt,Mt){var We=dn.dist+Mt;We<Zt.dist&&!mn.same(dn.edge)&&(Zt.dist=We,Zt.pred=_t,Zt.edge=mn,le=!0)},ge=1;ge<N;ge++){le=!1;for(var ve=0;ve<V;ve++){var me=I[ve],ye=me.source(),Ae=me.target(),Te=g(me),Oe=Z(ye),Ie=Z(Ae);de(ye,Ae,me,Oe,Ie,Te),f||de(Ae,ye,me,Ie,Oe,Te)}if(!le)break}if(le)for(var Be=[],De=0;De<V;De++){var Pe=I[De],Ne=Pe.source(),He=Pe.target(),je=g(Pe),ze=Z(Ne).dist,Ve=Z(He).dist;if(ze+je<Ve||!f&&Ve+je<ze)if(j||(warn("Graph contains a negative weight cycle for Bellman-Ford"),j=!0),t.findNegativeWeightCycles!==!1){var Ye=[];ze+je<Ve&&Ye.push(Ne),!f&&Ve+je<ze&&Ye.push(He);for(var nt=Ye.length,Fe=0;Fe<nt;Fe++){var Qe=Ye[Fe],it=[Qe];it.push(Z(Qe).edge);for(var at=Z(Qe).pred;it.indexOf(at)===-1;)it.push(at),it.push(Z(at).edge),at=Z(at).pred;it=it.slice(it.indexOf(at));for(var wt=it[0].id(),st=0,ft=2;ft<it.length;ft+=2)it[ft].id()<wt&&(wt=it[ft].id(),st=ft);it=it.slice(st).concat(it.slice(0,st)),it.push(it[0]);var Dt=it.map(function(ut){return ut.id()}).join(",");Be.indexOf(Dt)===-1&&(U.push(v.spawn(it)),Be.push(Dt))}}else break}return{distanceTo:J,pathTo:te,hasNegativeWeightCycle:j,negativeWeightCycles:U}}},sqrt2=Math.sqrt(2),collapse=function(t,n,s){s.length===0&&error("Karger-Stein must be run on a connected (sub)graph");for(var u=s[t],f=u[1],d=u[2],g=n[f],v=n[d],S=s,M=S.length-1;M>=0;M--){var I=S[M],P=I[1],N=I[2];(n[P]===g&&n[N]===v||n[P]===v&&n[N]===g)&&S.splice(M,1)}for(var F=0;F<S.length;F++){var j=S[F];j[1]===v?(S[F]=j.slice(),S[F][1]=g):j[2]===v&&(S[F]=j.slice(),S[F][2]=g)}for(var U=0;U<n.length;U++)n[U]===v&&(n[U]=g);return S},contractUntil=function(t,n,s,u){for(;s>u;){var f=Math.floor(Math.random()*n.length);n=collapse(f,t,n),s--}return n},elesfn$p={kargerStein:function(){var t=this,n=this.byGroup(),s=n.nodes,u=n.edges;u.unmergeBy(function(Ie){return Ie.isLoop()});var f=s.length,d=u.length,g=Math.ceil(Math.pow(Math.log(f)/Math.LN2,2)),v=Math.floor(f/sqrt2);if(f<2){error("At least 2 nodes are required for Karger-Stein algorithm");return}for(var S=[],M=0;M<d;M++){var I=u[M];S.push([M,s.indexOf(I.source()),s.indexOf(I.target())])}for(var P=1/0,N=[],F=new Array(f),j=new Array(f),U=new Array(f),V=function(Be,De){for(var Pe=0;Pe<f;Pe++)De[Pe]=Be[Pe]},Z=0;Z<=g;Z++){for(var Q=0;Q<f;Q++)j[Q]=Q;var J=contractUntil(j,S.slice(),f,v),te=J.slice();V(j,U);var oe=contractUntil(j,J,v,2),ue=contractUntil(U,te,v,2);oe.length<=ue.length&&oe.length<P?(P=oe.length,N=oe,V(j,F)):ue.length<=oe.length&&ue.length<P&&(P=ue.length,N=ue,V(U,F))}for(var se=this.spawn(N.map(function(Ie){return u[Ie[0]]})),le=this.spawn(),de=this.spawn(),ge=F[0],ve=0;ve<F.length;ve++){var me=F[ve],ye=s[ve];me===ge?le.merge(ye):de.merge(ye)}var Ae=function(Be){var De=t.spawn();return Be.forEach(function(Pe){De.merge(Pe),Pe.connectedEdges().forEach(function(Ne){t.contains(Ne)&&!se.contains(Ne)&&De.merge(Ne)})}),De},Te=[Ae(le),Ae(de)],Oe={cut:se,components:Te,partition1:le,partition2:de};return Oe}},copyPosition=function(t){return{x:t.x,y:t.y}},modelToRenderedPosition=function(t,n,s){return{x:t.x*n+s.x,y:t.y*n+s.y}},renderedToModelPosition=function(t,n,s){return{x:(t.x-s.x)/n,y:(t.y-s.y)/n}},array2point=function(t){return{x:t[0],y:t[1]}},min=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,u=1/0,f=n;f<s;f++){var d=t[f];isFinite(d)&&(u=Math.min(d,u))}return u},max=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,u=-1/0,f=n;f<s;f++){var d=t[f];isFinite(d)&&(u=Math.max(d,u))}return u},mean=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,u=0,f=0,d=n;d<s;d++){var g=t[d];isFinite(g)&&(u+=g,f++)}return u/f},median=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;u?t=t.slice(n,s):(s<t.length&&t.splice(s,t.length-s),n>0&&t.splice(0,n));for(var g=0,v=t.length-1;v>=0;v--){var S=t[v];d?isFinite(S)||(t[v]=-1/0,g++):t.splice(v,1)}f&&t.sort(function(P,N){return P-N});var M=t.length,I=Math.floor(M/2);return M%2!==0?t[I+1+g]:(t[I-1+g]+t[I+g])/2},deg2rad=function(t){return Math.PI*t/180},getAngleFromDisp=function(t,n){return Math.atan2(n,t)-Math.PI/2},log2=Math.log2||function(e){return Math.log(e)/Math.log(2)},signum=function(t){return t>0?1:t<0?-1:0},dist=function(t,n){return Math.sqrt(sqdist(t,n))},sqdist=function(t,n){var s=n.x-t.x,u=n.y-t.y;return s*s+u*u},inPlaceSumNormalize=function(t){for(var n=t.length,s=0,u=0;u<n;u++)s+=t[u];for(var f=0;f<n;f++)t[f]=t[f]/s;return t},qbezierAt=function(t,n,s,u){return(1-u)*(1-u)*t+2*(1-u)*u*n+u*u*s},qbezierPtAt=function(t,n,s,u){return{x:qbezierAt(t.x,n.x,s.x,u),y:qbezierAt(t.y,n.y,s.y,u)}},lineAt=function(t,n,s,u){var f={x:n.x-t.x,y:n.y-t.y},d=dist(t,n),g={x:f.x/d,y:f.y/d};return s=s??0,u=u??s*d,{x:t.x+g.x*u,y:t.y+g.y*u}},bound=function(t,n,s){return Math.max(t,Math.min(s,n))},makeBoundingBox=function(t){if(t==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(t.x1!=null&&t.y1!=null){if(t.x2!=null&&t.y2!=null&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(t.w!=null&&t.h!=null&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},copyBoundingBox=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}},clearBoundingBox=function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0},updateBoundingBox=function(t,n){t.x1=Math.min(t.x1,n.x1),t.x2=Math.max(t.x2,n.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n.y1),t.y2=Math.max(t.y2,n.y2),t.h=t.y2-t.y1},expandBoundingBoxByPoint=function(t,n,s){t.x1=Math.min(t.x1,n),t.x2=Math.max(t.x2,n),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,s),t.y2=Math.max(t.y2,s),t.h=t.y2-t.y1},expandBoundingBox=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.x1-=n,t.x2+=n,t.y1-=n,t.y2+=n,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},expandBoundingBoxSides=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],s,u,f,d;if(n.length===1)s=u=f=d=n[0];else if(n.length===2)s=f=n[0],d=u=n[1];else if(n.length===4){var g=_slicedToArray(n,4);s=g[0],u=g[1],f=g[2],d=g[3]}return t.x1-=d,t.x2+=u,t.y1-=s,t.y2+=f,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},assignBoundingBox=function(t,n){t.x1=n.x1,t.y1=n.y1,t.x2=n.x2,t.y2=n.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},boundingBoxesIntersect=function(t,n){return!(t.x1>n.x2||n.x1>t.x2||t.x2<n.x1||n.x2<t.x1||t.y2<n.y1||n.y2<t.y1||t.y1>n.y2||n.y1>t.y2)},inBoundingBox=function(t,n,s){return t.x1<=n&&n<=t.x2&&t.y1<=s&&s<=t.y2},pointInBoundingBox=function(t,n){return inBoundingBox(t,n.x,n.y)},boundingBoxInBoundingBox=function(t,n){return inBoundingBox(t,n.x1,n.y1)&&inBoundingBox(t,n.x2,n.y2)},roundRectangleIntersectLine=function(t,n,s,u,f,d,g){var v=getRoundRectangleRadius(f,d),S=f/2,M=d/2,I;{var P=s-S+v-g,N=u-M-g,F=s+S-v+g,j=N;if(I=finiteLinesIntersect(t,n,s,u,P,N,F,j,!1),I.length>0)return I}{var U=s+S+g,V=u-M+v-g,Z=U,Q=u+M-v+g;if(I=finiteLinesIntersect(t,n,s,u,U,V,Z,Q,!1),I.length>0)return I}{var J=s-S+v-g,te=u+M+g,oe=s+S-v+g,ue=te;if(I=finiteLinesIntersect(t,n,s,u,J,te,oe,ue,!1),I.length>0)return I}{var se=s-S-g,le=u-M+v-g,de=se,ge=u+M-v+g;if(I=finiteLinesIntersect(t,n,s,u,se,le,de,ge,!1),I.length>0)return I}var ve;{var me=s-S+v,ye=u-M+v;if(ve=intersectLineCircle(t,n,s,u,me,ye,v+g),ve.length>0&&ve[0]<=me&&ve[1]<=ye)return[ve[0],ve[1]]}{var Ae=s+S-v,Te=u-M+v;if(ve=intersectLineCircle(t,n,s,u,Ae,Te,v+g),ve.length>0&&ve[0]>=Ae&&ve[1]<=Te)return[ve[0],ve[1]]}{var Oe=s+S-v,Ie=u+M-v;if(ve=intersectLineCircle(t,n,s,u,Oe,Ie,v+g),ve.length>0&&ve[0]>=Oe&&ve[1]>=Ie)return[ve[0],ve[1]]}{var Be=s-S+v,De=u+M-v;if(ve=intersectLineCircle(t,n,s,u,Be,De,v+g),ve.length>0&&ve[0]<=Be&&ve[1]>=De)return[ve[0],ve[1]]}return[]},inLineVicinity=function(t,n,s,u,f,d,g){var v=g,S=Math.min(s,f),M=Math.max(s,f),I=Math.min(u,d),P=Math.max(u,d);return S-v<=t&&t<=M+v&&I-v<=n&&n<=P+v},inBezierVicinity=function(t,n,s,u,f,d,g,v,S){var M={x1:Math.min(s,g,f)-S,x2:Math.max(s,g,f)+S,y1:Math.min(u,v,d)-S,y2:Math.max(u,v,d)+S};return!(t<M.x1||t>M.x2||n<M.y1||n>M.y2)},solveQuadratic=function(t,n,s,u){s-=u;var f=n*n-4*t*s;if(f<0)return[];var d=Math.sqrt(f),g=2*t,v=(-n+d)/g,S=(-n-d)/g;return[v,S]},solveCubic=function(t,n,s,u,f){var d=1e-5;t===0&&(t=d),n/=t,s/=t,u/=t;var g,v,S,M,I,P,N,F;if(v=(3*s-n*n)/9,S=-(27*u)+n*(9*s-2*(n*n)),S/=54,g=v*v*v+S*S,f[1]=0,N=n/3,g>0){I=S+Math.sqrt(g),I=I<0?-Math.pow(-I,1/3):Math.pow(I,1/3),P=S-Math.sqrt(g),P=P<0?-Math.pow(-P,1/3):Math.pow(P,1/3),f[0]=-N+I+P,N+=(I+P)/2,f[4]=f[2]=-N,N=Math.sqrt(3)*(-P+I)/2,f[3]=N,f[5]=-N;return}if(f[5]=f[3]=0,g===0){F=S<0?-Math.pow(-S,1/3):Math.pow(S,1/3),f[0]=-N+2*F,f[4]=f[2]=-(F+N);return}v=-v,M=v*v*v,M=Math.acos(S/Math.sqrt(M)),F=2*Math.sqrt(v),f[0]=-N+F*Math.cos(M/3),f[2]=-N+F*Math.cos((M+2*Math.PI)/3),f[4]=-N+F*Math.cos((M+4*Math.PI)/3)},sqdistToQuadraticBezier=function(t,n,s,u,f,d,g,v){var S=1*s*s-4*s*f+2*s*g+4*f*f-4*f*g+g*g+u*u-4*u*d+2*u*v+4*d*d-4*d*v+v*v,M=1*9*s*f-3*s*s-3*s*g-6*f*f+3*f*g+9*u*d-3*u*u-3*u*v-6*d*d+3*d*v,I=1*3*s*s-6*s*f+s*g-s*t+2*f*f+2*f*t-g*t+3*u*u-6*u*d+u*v-u*n+2*d*d+2*d*n-v*n,P=1*s*f-s*s+s*t-f*t+u*d-u*u+u*n-d*n,N=[];solveCubic(S,M,I,P,N);for(var F=1e-7,j=[],U=0;U<6;U+=2)Math.abs(N[U+1])<F&&N[U]>=0&&N[U]<=1&&j.push(N[U]);j.push(1),j.push(0);for(var V=-1,Z,Q,J,te=0;te<j.length;te++)Z=Math.pow(1-j[te],2)*s+2*(1-j[te])*j[te]*f+j[te]*j[te]*g,Q=Math.pow(1-j[te],2)*u+2*(1-j[te])*j[te]*d+j[te]*j[te]*v,J=Math.pow(Z-t,2)+Math.pow(Q-n,2),V>=0?J<V&&(V=J):V=J;return V},sqdistToFiniteLine=function(t,n,s,u,f,d){var g=[t-s,n-u],v=[f-s,d-u],S=v[0]*v[0]+v[1]*v[1],M=g[0]*g[0]+g[1]*g[1],I=g[0]*v[0]+g[1]*v[1],P=I*I/S;return I<0?M:P>S?(t-f)*(t-f)+(n-d)*(n-d):M-P},pointInsidePolygonPoints=function(t,n,s){for(var u,f,d,g,v,S=0,M=0;M<s.length/2;M++)if(u=s[M*2],f=s[M*2+1],M+1<s.length/2?(d=s[(M+1)*2],g=s[(M+1)*2+1]):(d=s[(M+1-s.length/2)*2],g=s[(M+1-s.length/2)*2+1]),!(u==t&&d==t))if(u>=t&&t>=d||u<=t&&t<=d)v=(t-u)/(d-u)*(g-f)+f,v>n&&S++;else continue;return S%2!==0},pointInsidePolygon=function(t,n,s,u,f,d,g,v,S){var M=new Array(s.length),I;v[0]!=null?(I=Math.atan(v[1]/v[0]),v[0]<0?I=I+Math.PI/2:I=-I-Math.PI/2):I=v;for(var P=Math.cos(-I),N=Math.sin(-I),F=0;F<M.length/2;F++)M[F*2]=d/2*(s[F*2]*P-s[F*2+1]*N),M[F*2+1]=g/2*(s[F*2+1]*P+s[F*2]*N),M[F*2]+=u,M[F*2+1]+=f;var j;if(S>0){var U=expandPolygon(M,-S);j=joinLines(U)}else j=M;return pointInsidePolygonPoints(t,n,j)},pointInsideRoundPolygon=function(t,n,s,u,f,d,g){for(var v=new Array(s.length),S=d/2,M=g/2,I=getRoundPolygonRadius(d,g),P=I*I,N=0;N<s.length/4;N++){var F=void 0,j=void 0;N===0?F=s.length-2:F=N*4-2,j=N*4+2;var U=u+S*s[N*4],V=f+M*s[N*4+1],Z=-s[F]*s[j]-s[F+1]*s[j+1],Q=I/Math.tan(Math.acos(Z)/2),J=U-Q*s[F],te=V-Q*s[F+1],oe=U+Q*s[j],ue=V+Q*s[j+1];v[N*4]=J,v[N*4+1]=te,v[N*4+2]=oe,v[N*4+3]=ue;var se=s[F+1],le=-s[F],de=se*s[j]+le*s[j+1];de<0&&(se*=-1,le*=-1);var ge=J+se*I,ve=te+le*I,me=Math.pow(ge-t,2)+Math.pow(ve-n,2);if(me<=P)return!0}return pointInsidePolygonPoints(t,n,v)},joinLines=function(t){for(var n=new Array(t.length/2),s,u,f,d,g,v,S,M,I=0;I<t.length/4;I++){s=t[I*4],u=t[I*4+1],f=t[I*4+2],d=t[I*4+3],I<t.length/4-1?(g=t[(I+1)*4],v=t[(I+1)*4+1],S=t[(I+1)*4+2],M=t[(I+1)*4+3]):(g=t[0],v=t[1],S=t[2],M=t[3]);var P=finiteLinesIntersect(s,u,f,d,g,v,S,M,!0);n[I*2]=P[0],n[I*2+1]=P[1]}return n},expandPolygon=function(t,n){for(var s=new Array(t.length*2),u,f,d,g,v=0;v<t.length/2;v++){u=t[v*2],f=t[v*2+1],v<t.length/2-1?(d=t[(v+1)*2],g=t[(v+1)*2+1]):(d=t[0],g=t[1]);var S=g-f,M=-(d-u),I=Math.sqrt(S*S+M*M),P=S/I,N=M/I;s[v*4]=u+P*n,s[v*4+1]=f+N*n,s[v*4+2]=d+P*n,s[v*4+3]=g+N*n}return s},intersectLineEllipse=function(t,n,s,u,f,d){var g=s-t,v=u-n;g/=f,v/=d;var S=Math.sqrt(g*g+v*v),M=S-1;if(M<0)return[];var I=M/S;return[(s-t)*I+t,(u-n)*I+n]},checkInEllipse=function(t,n,s,u,f,d,g){return t-=f,n-=d,t/=s/2+g,n/=u/2+g,t*t+n*n<=1},intersectLineCircle=function(t,n,s,u,f,d,g){var v=[s-t,u-n],S=[t-f,n-d],M=v[0]*v[0]+v[1]*v[1],I=2*(S[0]*v[0]+S[1]*v[1]),P=S[0]*S[0]+S[1]*S[1]-g*g,N=I*I-4*M*P;if(N<0)return[];var F=(-I+Math.sqrt(N))/(2*M),j=(-I-Math.sqrt(N))/(2*M),U=Math.min(F,j),V=Math.max(F,j),Z=[];if(U>=0&&U<=1&&Z.push(U),V>=0&&V<=1&&Z.push(V),Z.length===0)return[];var Q=Z[0]*v[0]+t,J=Z[0]*v[1]+n;if(Z.length>1){if(Z[0]==Z[1])return[Q,J];var te=Z[1]*v[0]+t,oe=Z[1]*v[1]+n;return[Q,J,te,oe]}else return[Q,J]},midOfThree=function(t,n,s){return n<=t&&t<=s||s<=t&&t<=n?t:t<=n&&n<=s||s<=n&&n<=t?n:s},finiteLinesIntersect=function(t,n,s,u,f,d,g,v,S){var M=t-f,I=s-t,P=g-f,N=n-d,F=u-n,j=v-d,U=P*N-j*M,V=I*N-F*M,Z=j*I-P*F;if(Z!==0){var Q=U/Z,J=V/Z,te=.001,oe=0-te,ue=1+te;return oe<=Q&&Q<=ue&&oe<=J&&J<=ue?[t+Q*I,n+Q*F]:S?[t+Q*I,n+Q*F]:[]}else return U===0||V===0?midOfThree(t,s,g)===g?[g,v]:midOfThree(t,s,f)===f?[f,d]:midOfThree(f,g,s)===s?[s,u]:[]:[]},polygonIntersectLine=function(t,n,s,u,f,d,g,v){var S=[],M,I=new Array(s.length),P=!0;d==null&&(P=!1);var N;if(P){for(var F=0;F<I.length/2;F++)I[F*2]=s[F*2]*d+u,I[F*2+1]=s[F*2+1]*g+f;if(v>0){var j=expandPolygon(I,-v);N=joinLines(j)}else N=I}else N=s;for(var U,V,Z,Q,J=0;J<N.length/2;J++)U=N[J*2],V=N[J*2+1],J<N.length/2-1?(Z=N[(J+1)*2],Q=N[(J+1)*2+1]):(Z=N[0],Q=N[1]),M=finiteLinesIntersect(t,n,u,f,U,V,Z,Q),M.length!==0&&S.push(M[0],M[1]);return S},roundPolygonIntersectLine=function(t,n,s,u,f,d,g,v){for(var S=[],M,I=new Array(s.length),P=d/2,N=g/2,F=getRoundPolygonRadius(d,g),j=0;j<s.length/4;j++){var U=void 0,V=void 0;j===0?U=s.length-2:U=j*4-2,V=j*4+2;var Z=u+P*s[j*4],Q=f+N*s[j*4+1],J=-s[U]*s[V]-s[U+1]*s[V+1],te=F/Math.tan(Math.acos(J)/2),oe=Z-te*s[U],ue=Q-te*s[U+1],se=Z+te*s[V],le=Q+te*s[V+1];j===0?(I[s.length-2]=oe,I[s.length-1]=ue):(I[j*4-2]=oe,I[j*4-1]=ue),I[j*4]=se,I[j*4+1]=le;var de=s[U+1],ge=-s[U],ve=de*s[V]+ge*s[V+1];ve<0&&(de*=-1,ge*=-1);var me=oe+de*F,ye=ue+ge*F;M=intersectLineCircle(t,n,u,f,me,ye,F),M.length!==0&&S.push(M[0],M[1])}for(var Ae=0;Ae<I.length/4;Ae++)M=finiteLinesIntersect(t,n,u,f,I[Ae*4],I[Ae*4+1],I[Ae*4+2],I[Ae*4+3],!1),M.length!==0&&S.push(M[0],M[1]);if(S.length>2){for(var Te=[S[0],S[1]],Oe=Math.pow(Te[0]-t,2)+Math.pow(Te[1]-n,2),Ie=1;Ie<S.length/2;Ie++){var Be=Math.pow(S[Ie*2]-t,2)+Math.pow(S[Ie*2+1]-n,2);Be<=Oe&&(Te[0]=S[Ie*2],Te[1]=S[Ie*2+1],Oe=Be)}return Te}return S},shortenIntersection=function(t,n,s){var u=[t[0]-n[0],t[1]-n[1]],f=Math.sqrt(u[0]*u[0]+u[1]*u[1]),d=(f-s)/f;return d<0&&(d=1e-5),[n[0]+d*u[0],n[1]+d*u[1]]},generateUnitNgonPointsFitToSquare=function(t,n){var s=generateUnitNgonPoints(t,n);return s=fitPolygonToSquare(s),s},fitPolygonToSquare=function(t){for(var n,s,u=t.length/2,f=1/0,d=1/0,g=-1/0,v=-1/0,S=0;S<u;S++)n=t[2*S],s=t[2*S+1],f=Math.min(f,n),g=Math.max(g,n),d=Math.min(d,s),v=Math.max(v,s);for(var M=2/(g-f),I=2/(v-d),P=0;P<u;P++)n=t[2*P]=t[2*P]*M,s=t[2*P+1]=t[2*P+1]*I,f=Math.min(f,n),g=Math.max(g,n),d=Math.min(d,s),v=Math.max(v,s);if(d<-1)for(var N=0;N<u;N++)s=t[2*N+1]=t[2*N+1]+(-1-d);return t},generateUnitNgonPoints=function(t,n){var s=1/t*2*Math.PI,u=t%2===0?Math.PI/2+s/2:Math.PI/2;u+=n;for(var f=new Array(t*2),d,g=0;g<t;g++)d=g*s+u,f[2*g]=Math.cos(d),f[2*g+1]=Math.sin(-d);return f},getRoundRectangleRadius=function(t,n){return Math.min(t/4,n/4,8)},getRoundPolygonRadius=function(t,n){return Math.min(t/10,n/10,8)},getCutRectangleCornerLength=function(){return 8},bezierPtsToQuadCoeff=function(t,n,s){return[t-2*n+s,2*(n-t),t]},getBarrelCurveConstants=function(t,n){return{heightOffset:Math.min(15,.05*n),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},pageRankDefaults=defaults$g({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),elesfn$o={pageRank:function(t){for(var n=pageRankDefaults(t),s=n.dampingFactor,u=n.precision,f=n.iterations,d=n.weight,g=this._private.cy,v=this.byGroup(),S=v.nodes,M=v.edges,I=S.length,P=I*I,N=M.length,F=new Array(P),j=new Array(I),U=(1-s)/I,V=0;V<I;V++){for(var Z=0;Z<I;Z++){var Q=V*I+Z;F[Q]=0}j[V]=0}for(var J=0;J<N;J++){var te=M[J],oe=te.data("source"),ue=te.data("target");if(oe!==ue){var se=S.indexOfId(oe),le=S.indexOfId(ue),de=d(te),ge=le*I+se;F[ge]+=de,j[se]+=de}}for(var ve=1/I+U,me=0;me<I;me++)if(j[me]===0)for(var ye=0;ye<I;ye++){var Ae=ye*I+me;F[Ae]=ve}else for(var Te=0;Te<I;Te++){var Oe=Te*I+me;F[Oe]=F[Oe]/j[me]+U}for(var Ie=new Array(I),Be=new Array(I),De,Pe=0;Pe<I;Pe++)Ie[Pe]=1;for(var Ne=0;Ne<f;Ne++){for(var He=0;He<I;He++)Be[He]=0;for(var je=0;je<I;je++)for(var ze=0;ze<I;ze++){var Ve=je*I+ze;Be[je]+=F[Ve]*Ie[ze]}inPlaceSumNormalize(Be),De=Ie,Ie=Be,Be=De;for(var Ye=0,nt=0;nt<I;nt++){var Fe=De[nt]-Ie[nt];Ye+=Fe*Fe}if(Ye<u)break}var Qe={rank:function(at){return at=g.collection(at)[0],Ie[S.indexOf(at)]}};return Qe}},defaults$f=defaults$g({root:null,weight:function(t){return 1},directed:!1,alpha:0}),elesfn$n={degreeCentralityNormalized:function(t){t=defaults$f(t);var n=this.cy(),s=this.nodes(),u=s.length;if(t.directed){for(var M={},I={},P=0,N=0,F=0;F<u;F++){var j=s[F],U=j.id();t.root=j;var V=this.degreeCentrality(t);P<V.indegree&&(P=V.indegree),N<V.outdegree&&(N=V.outdegree),M[U]=V.indegree,I[U]=V.outdegree}return{indegree:function(Q){return P==0?0:(string(Q)&&(Q=n.filter(Q)),M[Q.id()]/P)},outdegree:function(Q){return N===0?0:(string(Q)&&(Q=n.filter(Q)),I[Q.id()]/N)}}}else{for(var f={},d=0,g=0;g<u;g++){var v=s[g];t.root=v;var S=this.degreeCentrality(t);d<S.degree&&(d=S.degree),f[v.id()]=S.degree}return{degree:function(Q){return d===0?0:(string(Q)&&(Q=n.filter(Q)),f[Q.id()]/d)}}}},degreeCentrality:function(t){t=defaults$f(t);var n=this.cy(),s=this,u=t,f=u.root,d=u.weight,g=u.directed,v=u.alpha;if(f=n.collection(f)[0],g){for(var N=f.connectedEdges(),F=N.filter(function(oe){return oe.target().same(f)&&s.has(oe)}),j=N.filter(function(oe){return oe.source().same(f)&&s.has(oe)}),U=F.length,V=j.length,Z=0,Q=0,J=0;J<F.length;J++)Z+=d(F[J]);for(var te=0;te<j.length;te++)Q+=d(j[te]);return{indegree:Math.pow(U,1-v)*Math.pow(Z,v),outdegree:Math.pow(V,1-v)*Math.pow(Q,v)}}else{for(var S=f.connectedEdges().intersection(s),M=S.length,I=0,P=0;P<S.length;P++)I+=d(S[P]);return{degree:Math.pow(M,1-v)*Math.pow(I,v)}}}};elesfn$n.dc=elesfn$n.degreeCentrality;elesfn$n.dcn=elesfn$n.degreeCentralityNormalised=elesfn$n.degreeCentralityNormalized;var defaults$e=defaults$g({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),elesfn$m={closenessCentralityNormalized:function(t){for(var n=defaults$e(t),s=n.harmonic,u=n.weight,f=n.directed,d=this.cy(),g={},v=0,S=this.nodes(),M=this.floydWarshall({weight:u,directed:f}),I=0;I<S.length;I++){for(var P=0,N=S[I],F=0;F<S.length;F++)if(I!==F){var j=M.distance(N,S[F]);s?P+=1/j:P+=j}s||(P=1/P),v<P&&(v=P),g[N.id()]=P}return{closeness:function(V){return v==0?0:(string(V)?V=d.filter(V)[0].id():V=V.id(),g[V]/v)}}},closenessCentrality:function(t){var n=defaults$e(t),s=n.root,u=n.weight,f=n.directed,d=n.harmonic;s=this.filter(s)[0];for(var g=this.dijkstra({root:s,weight:u,directed:f}),v=0,S=this.nodes(),M=0;M<S.length;M++){var I=S[M];if(!I.same(s)){var P=g.distanceTo(I);d?v+=1/P:v+=P}}return d?v:1/v}};elesfn$m.cc=elesfn$m.closenessCentrality;elesfn$m.ccn=elesfn$m.closenessCentralityNormalised=elesfn$m.closenessCentralityNormalized;var defaults$d=defaults$g({weight:null,directed:!1}),elesfn$l={betweennessCentrality:function(t){for(var n=defaults$d(t),s=n.directed,u=n.weight,f=u!=null,d=this.cy(),g=this.nodes(),v={},S={},M=0,I={set:function(Q,J){S[Q]=J,J>M&&(M=J)},get:function(Q){return S[Q]}},P=0;P<g.length;P++){var N=g[P],F=N.id();s?v[F]=N.outgoers().nodes():v[F]=N.openNeighborhood().nodes(),I.set(F,0)}for(var j=function(Q){for(var J=g[Q].id(),te=[],oe={},ue={},se={},le=new Heap__default.default(function(ze,Ve){return se[ze]-se[Ve]}),de=0;de<g.length;de++){var ge=g[de].id();oe[ge]=[],ue[ge]=0,se[ge]=1/0}for(ue[J]=1,se[J]=0,le.push(J);!le.empty();){var ve=le.pop();if(te.push(ve),f)for(var me=0;me<v[ve].length;me++){var ye=v[ve][me],Ae=d.getElementById(ve),Te=void 0;Ae.edgesTo(ye).length>0?Te=Ae.edgesTo(ye)[0]:Te=ye.edgesTo(Ae)[0];var Oe=u(Te);ye=ye.id(),se[ye]>se[ve]+Oe&&(se[ye]=se[ve]+Oe,le.nodes.indexOf(ye)<0?le.push(ye):le.updateItem(ye),ue[ye]=0,oe[ye]=[]),se[ye]==se[ve]+Oe&&(ue[ye]=ue[ye]+ue[ve],oe[ye].push(ve))}else for(var Ie=0;Ie<v[ve].length;Ie++){var Be=v[ve][Ie].id();se[Be]==1/0&&(le.push(Be),se[Be]=se[ve]+1),se[Be]==se[ve]+1&&(ue[Be]=ue[Be]+ue[ve],oe[Be].push(ve))}}for(var De={},Pe=0;Pe<g.length;Pe++)De[g[Pe].id()]=0;for(;te.length>0;){for(var Ne=te.pop(),He=0;He<oe[Ne].length;He++){var je=oe[Ne][He];De[je]=De[je]+ue[je]/ue[Ne]*(1+De[Ne])}Ne!=g[Q].id()&&I.set(Ne,I.get(Ne)+De[Ne])}},U=0;U<g.length;U++)j(U);var V={betweenness:function(Q){var J=d.collection(Q).id();return I.get(J)},betweennessNormalized:function(Q){if(M==0)return 0;var J=d.collection(Q).id();return I.get(J)/M}};return V.betweennessNormalised=V.betweennessNormalized,V}};elesfn$l.bc=elesfn$l.betweennessCentrality;var defaults$c=defaults$g({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),setOptions$3=function(t){return defaults$c(t)},getSimilarity$1=function(t,n){for(var s=0,u=0;u<n.length;u++)s+=n[u](t);return s},addLoops=function(t,n,s){for(var u=0;u<n;u++)t[u*n+u]=s},normalize$1=function(t,n){for(var s,u=0;u<n;u++){s=0;for(var f=0;f<n;f++)s+=t[f*n+u];for(var d=0;d<n;d++)t[d*n+u]=t[d*n+u]/s}},mmult=function(t,n,s){for(var u=new Array(s*s),f=0;f<s;f++){for(var d=0;d<s;d++)u[f*s+d]=0;for(var g=0;g<s;g++)for(var v=0;v<s;v++)u[f*s+v]+=t[f*s+g]*n[g*s+v]}return u},expand=function(t,n,s){for(var u=t.slice(0),f=1;f<s;f++)t=mmult(t,u,n);return t},inflate=function(t,n,s){for(var u=new Array(n*n),f=0;f<n*n;f++)u[f]=Math.pow(t[f],s);return normalize$1(u,n),u},hasConverged=function(t,n,s,u){for(var f=0;f<s;f++){var d=Math.round(t[f]*Math.pow(10,u))/Math.pow(10,u),g=Math.round(n[f]*Math.pow(10,u))/Math.pow(10,u);if(d!==g)return!1}return!0},assign$2=function(t,n,s,u){for(var f=[],d=0;d<n;d++){for(var g=[],v=0;v<n;v++)Math.round(t[d*n+v]*1e3)/1e3>0&&g.push(s[v]);g.length!==0&&f.push(u.collection(g))}return f},isDuplicate=function(t,n){for(var s=0;s<t.length;s++)if(!n[s]||t[s].id()!==n[s].id())return!1;return!0},removeDuplicates=function(t){for(var n=0;n<t.length;n++)for(var s=0;s<t.length;s++)n!=s&&isDuplicate(t[n],t[s])&&t.splice(s,1);return t},markovClustering=function(t){for(var n=this.nodes(),s=this.edges(),u=this.cy(),f=setOptions$3(t),d={},g=0;g<n.length;g++)d[n[g].id()]=g;for(var v=n.length,S=v*v,M=new Array(S),I,P=0;P<S;P++)M[P]=0;for(var N=0;N<s.length;N++){var F=s[N],j=d[F.source().id()],U=d[F.target().id()],V=getSimilarity$1(F,f.attributes);M[j*v+U]+=V,M[U*v+j]+=V}addLoops(M,v,f.multFactor),normalize$1(M,v);for(var Z=!0,Q=0;Z&&Q<f.maxIterations;)Z=!1,I=expand(M,v,f.expandFactor),M=inflate(I,v,f.inflateFactor),hasConverged(M,I,S,4)||(Z=!0),Q++;var J=assign$2(M,v,n,u);return J=removeDuplicates(J),J},markovClustering$1={markovClustering,mcl:markovClustering},identity=function(t){return t},absDiff=function(t,n){return Math.abs(n-t)},addAbsDiff=function(t,n,s){return t+absDiff(n,s)},addSquaredDiff=function(t,n,s){return t+Math.pow(s-n,2)},sqrt=function(t){return Math.sqrt(t)},maxAbsDiff=function(t,n,s){return Math.max(t,absDiff(n,s))},getDistance=function(t,n,s,u,f){for(var d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:identity,g=u,v,S,M=0;M<t;M++)v=n(M),S=s(M),g=f(g,v,S);return d(g)},distances={euclidean:function(t,n,s){return t>=2?getDistance(t,n,s,0,addSquaredDiff,sqrt):getDistance(t,n,s,0,addAbsDiff)},squaredEuclidean:function(t,n,s){return getDistance(t,n,s,0,addSquaredDiff)},manhattan:function(t,n,s){return getDistance(t,n,s,0,addAbsDiff)},max:function(t,n,s){return getDistance(t,n,s,-1/0,maxAbsDiff)}};distances["squared-euclidean"]=distances.squaredEuclidean;distances.squaredeuclidean=distances.squaredEuclidean;function clusteringDistance(e,t,n,s,u,f){var d;return fn$6(e)?d=e:d=distances[e]||distances.euclidean,t===0&&fn$6(e)?d(u,f):d(t,n,s,u,f)}var defaults$b=defaults$g({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),setOptions$2=function(t){return defaults$b(t)},getDist=function(t,n,s,u,f){var d=f!=="kMedoids",g=d?function(I){return s[I]}:function(I){return u[I](s)},v=function(P){return u[P](n)},S=s,M=n;return clusteringDistance(t,u.length,g,v,S,M)},randomCentroids=function(t,n,s){for(var u=s.length,f=new Array(u),d=new Array(u),g=new Array(n),v=null,S=0;S<u;S++)f[S]=t.min(s[S]).value,d[S]=t.max(s[S]).value;for(var M=0;M<n;M++){v=[];for(var I=0;I<u;I++)v[I]=Math.random()*(d[I]-f[I])+f[I];g[M]=v}return g},classify=function(t,n,s,u,f){for(var d=1/0,g=0,v=0;v<n.length;v++){var S=getDist(s,t,n[v],u,f);S<d&&(d=S,g=v)}return g},buildCluster=function(t,n,s){for(var u=[],f=null,d=0;d<n.length;d++)f=n[d],s[f.id()]===t&&u.push(f);return u},haveValuesConverged=function(t,n,s){return Math.abs(n-t)<=s},haveMatricesConverged=function(t,n,s){for(var u=0;u<t.length;u++)for(var f=0;f<t[u].length;f++){var d=Math.abs(t[u][f]-n[u][f]);if(d>s)return!1}return!0},seenBefore=function(t,n,s){for(var u=0;u<s;u++)if(t===n[u])return!0;return!1},randomMedoids=function(t,n){var s=new Array(n);if(t.length<50)for(var u=0;u<n;u++){for(var f=t[Math.floor(Math.random()*t.length)];seenBefore(f,s,u);)f=t[Math.floor(Math.random()*t.length)];s[u]=f}else for(var d=0;d<n;d++)s[d]=t[Math.floor(Math.random()*t.length)];return s},findCost=function(t,n,s){for(var u=0,f=0;f<n.length;f++)u+=getDist("manhattan",n[f],t,s,"kMedoids");return u},kMeans=function(t){var n=this.cy(),s=this.nodes(),u=null,f=setOptions$2(t),d=new Array(f.k),g={},v;f.testMode?typeof f.testCentroids=="number"?(f.testCentroids,v=randomCentroids(s,f.k,f.attributes)):_typeof(f.testCentroids)==="object"?v=f.testCentroids:v=randomCentroids(s,f.k,f.attributes):v=randomCentroids(s,f.k,f.attributes);for(var S=!0,M=0;S&&M<f.maxIterations;){for(var I=0;I<s.length;I++)u=s[I],g[u.id()]=classify(u,v,f.distance,f.attributes,"kMeans");S=!1;for(var P=0;P<f.k;P++){var N=buildCluster(P,s,g);if(N.length!==0){for(var F=f.attributes.length,j=v[P],U=new Array(F),V=new Array(F),Z=0;Z<F;Z++){V[Z]=0;for(var Q=0;Q<N.length;Q++)u=N[Q],V[Z]+=f.attributes[Z](u);U[Z]=V[Z]/N.length,haveValuesConverged(U[Z],j[Z],f.sensitivityThreshold)||(S=!0)}v[P]=U,d[P]=n.collection(N)}}M++}return d},kMedoids=function(t){var n=this.cy(),s=this.nodes(),u=null,f=setOptions$2(t),d=new Array(f.k),g,v={},S,M=new Array(f.k);f.testMode?typeof f.testCentroids=="number"||(_typeof(f.testCentroids)==="object"?g=f.testCentroids:g=randomMedoids(s,f.k)):g=randomMedoids(s,f.k);for(var I=!0,P=0;I&&P<f.maxIterations;){for(var N=0;N<s.length;N++)u=s[N],v[u.id()]=classify(u,g,f.distance,f.attributes,"kMedoids");I=!1;for(var F=0;F<g.length;F++){var j=buildCluster(F,s,v);if(j.length!==0){M[F]=findCost(g[F],j,f.attributes);for(var U=0;U<j.length;U++)S=findCost(j[U],j,f.attributes),S<M[F]&&(M[F]=S,g[F]=j[U],I=!0);d[F]=n.collection(j)}}P++}return d},updateCentroids=function(t,n,s,u,f){for(var d,g,v=0;v<n.length;v++)for(var S=0;S<t.length;S++)u[v][S]=Math.pow(s[v][S],f.m);for(var M=0;M<t.length;M++)for(var I=0;I<f.attributes.length;I++){d=0,g=0;for(var P=0;P<n.length;P++)d+=u[P][M]*f.attributes[I](n[P]),g+=u[P][M];t[M][I]=d/g}},updateMembership=function(t,n,s,u,f){for(var d=0;d<t.length;d++)n[d]=t[d].slice();for(var g,v,S,M=2/(f.m-1),I=0;I<s.length;I++)for(var P=0;P<u.length;P++){g=0;for(var N=0;N<s.length;N++)v=getDist(f.distance,u[P],s[I],f.attributes,"cmeans"),S=getDist(f.distance,u[P],s[N],f.attributes,"cmeans"),g+=Math.pow(v/S,M);t[P][I]=1/g}},assign$1=function(t,n,s,u){for(var f=new Array(s.k),d=0;d<f.length;d++)f[d]=[];for(var g,v,S=0;S<n.length;S++){g=-1/0,v=-1;for(var M=0;M<n[0].length;M++)n[S][M]>g&&(g=n[S][M],v=M);f[v].push(t[S])}for(var I=0;I<f.length;I++)f[I]=u.collection(f[I]);return f},fuzzyCMeans=function(t){var n=this.cy(),s=this.nodes(),u=setOptions$2(t),f,d,g,v,S;v=new Array(s.length);for(var M=0;M<s.length;M++)v[M]=new Array(u.k);g=new Array(s.length);for(var I=0;I<s.length;I++)g[I]=new Array(u.k);for(var P=0;P<s.length;P++){for(var N=0,F=0;F<u.k;F++)g[P][F]=Math.random(),N+=g[P][F];for(var j=0;j<u.k;j++)g[P][j]=g[P][j]/N}d=new Array(u.k);for(var U=0;U<u.k;U++)d[U]=new Array(u.attributes.length);S=new Array(s.length);for(var V=0;V<s.length;V++)S[V]=new Array(u.k);for(var Z=!0,Q=0;Z&&Q<u.maxIterations;)Z=!1,updateCentroids(d,s,g,S,u),updateMembership(g,v,d,s,u),haveMatricesConverged(g,v,u.sensitivityThreshold)||(Z=!0),Q++;return f=assign$1(s,g,u,n),{clusters:f,degreeOfMembership:g}},kClustering={kMeans,kMedoids,fuzzyCMeans,fcm:fuzzyCMeans},defaults$a=defaults$g({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),linkageAliases={single:"min",complete:"max"},setOptions$1=function(t){var n=defaults$a(t),s=linkageAliases[n.linkage];return s!=null&&(n.linkage=s),n},mergeClosest=function(t,n,s,u,f){for(var d=0,g=1/0,v,S=f.attributes,M=function(le,de){return clusteringDistance(f.distance,S.length,function(ge){return S[ge](le)},function(ge){return S[ge](de)},le,de)},I=0;I<t.length;I++){var P=t[I].key,N=s[P][u[P]];N<g&&(d=P,g=N)}if(f.mode==="threshold"&&g>=f.threshold||f.mode==="dendrogram"&&t.length===1)return!1;var F=n[d],j=n[u[d]],U;f.mode==="dendrogram"?U={left:F,right:j,key:F.key}:U={value:F.value.concat(j.value),key:F.key},t[F.index]=U,t.splice(j.index,1),n[F.key]=U;for(var V=0;V<t.length;V++){var Z=t[V];F.key===Z.key?v=1/0:f.linkage==="min"?(v=s[F.key][Z.key],s[F.key][Z.key]>s[j.key][Z.key]&&(v=s[j.key][Z.key])):f.linkage==="max"?(v=s[F.key][Z.key],s[F.key][Z.key]<s[j.key][Z.key]&&(v=s[j.key][Z.key])):f.linkage==="mean"?v=(s[F.key][Z.key]*F.size+s[j.key][Z.key]*j.size)/(F.size+j.size):f.mode==="dendrogram"?v=M(Z.value,F.value):v=M(Z.value[0],F.value[0]),s[F.key][Z.key]=s[Z.key][F.key]=v}for(var Q=0;Q<t.length;Q++){var J=t[Q].key;if(u[J]===F.key||u[J]===j.key){for(var te=J,oe=0;oe<t.length;oe++){var ue=t[oe].key;s[J][ue]<s[J][te]&&(te=ue)}u[J]=te}t[Q].index=Q}return F.key=j.key=F.index=j.index=null,!0},getAllChildren=function e(t,n,s){t&&(t.value?n.push(t.value):(t.left&&e(t.left,n),t.right&&e(t.right,n)))},buildDendrogram=function e(t,n){if(!t)return"";if(t.left&&t.right){var s=e(t.left,n),u=e(t.right,n),f=n.add({group:"nodes",data:{id:s+","+u}});return n.add({group:"edges",data:{source:s,target:f.id()}}),n.add({group:"edges",data:{source:u,target:f.id()}}),f.id()}else if(t.value)return t.value.id()},buildClustersFromTree=function e(t,n,s){if(!t)return[];var u=[],f=[],d=[];return n===0?(t.left&&getAllChildren(t.left,u),t.right&&getAllChildren(t.right,f),d=u.concat(f),[s.collection(d)]):n===1?t.value?[s.collection(t.value)]:(t.left&&getAllChildren(t.left,u),t.right&&getAllChildren(t.right,f),[s.collection(u),s.collection(f)]):t.value?[s.collection(t.value)]:(t.left&&(u=e(t.left,n-1,s)),t.right&&(f=e(t.right,n-1,s)),u.concat(f))},hierarchicalClustering=function(t){for(var n=this.cy(),s=this.nodes(),u=setOptions$1(t),f=u.attributes,d=function(Q,J){return clusteringDistance(u.distance,f.length,function(te){return f[te](Q)},function(te){return f[te](J)},Q,J)},g=[],v=[],S=[],M=[],I=0;I<s.length;I++){var P={value:u.mode==="dendrogram"?s[I]:[s[I]],key:I,index:I};g[I]=P,M[I]=P,v[I]=[],S[I]=0}for(var N=0;N<g.length;N++)for(var F=0;F<=N;F++){var j=void 0;u.mode==="dendrogram"?j=N===F?1/0:d(g[N].value,g[F].value):j=N===F?1/0:d(g[N].value[0],g[F].value[0]),v[N][F]=j,v[F][N]=j,j<v[N][S[N]]&&(S[N]=F)}for(var U=mergeClosest(g,M,v,S,u);U;)U=mergeClosest(g,M,v,S,u);var V;return u.mode==="dendrogram"?(V=buildClustersFromTree(g[0],u.dendrogramDepth,n),u.addDendrogram&&buildDendrogram(g[0],n)):(V=new Array(g.length),g.forEach(function(Z,Q){Z.key=Z.index=null,V[Q]=n.collection(Z.value)})),V},hierarchicalClustering$1={hierarchicalClustering,hca:hierarchicalClustering},defaults$9=defaults$g({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),setOptions=function(t){var n=t.damping,s=t.preference;.5<=n&&n<1||error("Damping must range on [0.5, 1).  Got: ".concat(n));var u=["median","mean","min","max"];return u.some(function(f){return f===s})||number$1(s)||error("Preference must be one of [".concat(u.map(function(f){return"'".concat(f,"'")}).join(", "),"] or a number.  Got: ").concat(s)),defaults$9(t)},getSimilarity=function(t,n,s,u){var f=function(g,v){return u[v](g)};return-clusteringDistance(t,u.length,function(d){return f(n,d)},function(d){return f(s,d)},n,s)},getPreference=function(t,n){var s=null;return n==="median"?s=median(t):n==="mean"?s=mean(t):n==="min"?s=min(t):n==="max"?s=max(t):s=n,s},findExemplars=function(t,n,s){for(var u=[],f=0;f<t;f++)n[f*t+f]+s[f*t+f]>0&&u.push(f);return u},assignClusters=function(t,n,s){for(var u=[],f=0;f<t;f++){for(var d=-1,g=-1/0,v=0;v<s.length;v++){var S=s[v];n[f*t+S]>g&&(d=S,g=n[f*t+S])}d>0&&u.push(d)}for(var M=0;M<s.length;M++)u[s[M]]=s[M];return u},assign=function(t,n,s){for(var u=assignClusters(t,n,s),f=0;f<s.length;f++){for(var d=[],g=0;g<u.length;g++)u[g]===s[f]&&d.push(g);for(var v=-1,S=-1/0,M=0;M<d.length;M++){for(var I=0,P=0;P<d.length;P++)I+=n[d[P]*t+d[M]];I>S&&(v=M,S=I)}s[f]=d[v]}return u=assignClusters(t,n,s),u},affinityPropagation=function(t){for(var n=this.cy(),s=this.nodes(),u=setOptions(t),f={},d=0;d<s.length;d++)f[s[d].id()]=d;var g,v,S,M,I,P;g=s.length,v=g*g,S=new Array(v);for(var N=0;N<v;N++)S[N]=-1/0;for(var F=0;F<g;F++)for(var j=0;j<g;j++)F!==j&&(S[F*g+j]=getSimilarity(u.distance,s[F],s[j],u.attributes));M=getPreference(S,u.preference);for(var U=0;U<g;U++)S[U*g+U]=M;I=new Array(v);for(var V=0;V<v;V++)I[V]=0;P=new Array(v);for(var Z=0;Z<v;Z++)P[Z]=0;for(var Q=new Array(g),J=new Array(g),te=new Array(g),oe=0;oe<g;oe++)Q[oe]=0,J[oe]=0,te[oe]=0;for(var ue=new Array(g*u.minIterations),se=0;se<ue.length;se++)ue[se]=0;var le;for(le=0;le<u.maxIterations;le++){for(var de=0;de<g;de++){for(var ge=-1/0,ve=-1/0,me=-1,ye=0,Ae=0;Ae<g;Ae++)Q[Ae]=I[de*g+Ae],ye=P[de*g+Ae]+S[de*g+Ae],ye>=ge?(ve=ge,ge=ye,me=Ae):ye>ve&&(ve=ye);for(var Te=0;Te<g;Te++)I[de*g+Te]=(1-u.damping)*(S[de*g+Te]-ge)+u.damping*Q[Te];I[de*g+me]=(1-u.damping)*(S[de*g+me]-ve)+u.damping*Q[me]}for(var Oe=0;Oe<g;Oe++){for(var Ie=0,Be=0;Be<g;Be++)Q[Be]=P[Be*g+Oe],J[Be]=Math.max(0,I[Be*g+Oe]),Ie+=J[Be];Ie-=J[Oe],J[Oe]=I[Oe*g+Oe],Ie+=J[Oe];for(var De=0;De<g;De++)P[De*g+Oe]=(1-u.damping)*Math.min(0,Ie-J[De])+u.damping*Q[De];P[Oe*g+Oe]=(1-u.damping)*(Ie-J[Oe])+u.damping*Q[Oe]}for(var Pe=0,Ne=0;Ne<g;Ne++){var He=P[Ne*g+Ne]+I[Ne*g+Ne]>0?1:0;ue[le%u.minIterations*g+Ne]=He,Pe+=He}if(Pe>0&&(le>=u.minIterations-1||le==u.maxIterations-1)){for(var je=0,ze=0;ze<g;ze++){te[ze]=0;for(var Ve=0;Ve<u.minIterations;Ve++)te[ze]+=ue[Ve*g+ze];(te[ze]===0||te[ze]===u.minIterations)&&je++}if(je===g)break}}for(var Ye=findExemplars(g,I,P),nt=assign(g,S,Ye),Fe={},Qe=0;Qe<Ye.length;Qe++)Fe[Ye[Qe]]=[];for(var it=0;it<s.length;it++){var at=f[s[it].id()],wt=nt[at];wt!=null&&Fe[wt].push(s[it])}for(var st=new Array(Ye.length),ft=0;ft<Ye.length;ft++)st[ft]=n.collection(Fe[Ye[ft]]);return st},affinityPropagation$1={affinityPropagation,ap:affinityPropagation},hierholzerDefaults=defaults$g({root:void 0,directed:!1}),elesfn$k={hierholzer:function(t){if(!plainObject(t)){var n=arguments;t={root:n[0],directed:n[1]}}var s=hierholzerDefaults(t),u=s.root,f=s.directed,d=this,g=!1,v,S,M;u&&(M=string(u)?this.filter(u)[0].id():u[0].id());var I={},P={};f?d.forEach(function(Z){var Q=Z.id();if(Z.isNode()){var J=Z.indegree(!0),te=Z.outdegree(!0),oe=J-te,ue=te-J;oe==1?v?g=!0:v=Q:ue==1?S?g=!0:S=Q:(ue>1||oe>1)&&(g=!0),I[Q]=[],Z.outgoers().forEach(function(se){se.isEdge()&&I[Q].push(se.id())})}else P[Q]=[void 0,Z.target().id()]}):d.forEach(function(Z){var Q=Z.id();if(Z.isNode()){var J=Z.degree(!0);J%2&&(v?S?g=!0:S=Q:v=Q),I[Q]=[],Z.connectedEdges().forEach(function(te){return I[Q].push(te.id())})}else P[Q]=[Z.source().id(),Z.target().id()]});var N={found:!1,trail:void 0};if(g)return N;if(S&&v)if(f){if(M&&S!=M)return N;M=S}else{if(M&&S!=M&&v!=M)return N;M||(M=S)}else M||(M=d[0].id());var F=function(Q){for(var J=Q,te=[Q],oe,ue,se;I[J].length;)oe=I[J].shift(),ue=P[oe][0],se=P[oe][1],J!=se?(I[se]=I[se].filter(function(le){return le!=oe}),J=se):!f&&J!=ue&&(I[ue]=I[ue].filter(function(le){return le!=oe}),J=ue),te.unshift(oe),te.unshift(J);return te},j=[],U=[];for(U=F(M);U.length!=1;)I[U[0]].length==0?(j.unshift(d.getElementById(U.shift())),j.unshift(d.getElementById(U.shift()))):U=F(U.shift()).concat(U);j.unshift(d.getElementById(U.shift()));for(var V in I)if(I[V].length)return N;return N.found=!0,N.trail=this.spawn(j,!0),N}},hopcroftTarjanBiconnected=function(){var t=this,n={},s=0,u=0,f=[],d=[],g={},v=function(P,N){for(var F=d.length-1,j=[],U=t.spawn();d[F].x!=P||d[F].y!=N;)j.push(d.pop().edge),F--;j.push(d.pop().edge),j.forEach(function(V){var Z=V.connectedNodes().intersection(t);U.merge(V),Z.forEach(function(Q){var J=Q.id(),te=Q.connectedEdges().intersection(t);U.merge(Q),n[J].cutVertex?U.merge(te.filter(function(oe){return oe.isLoop()})):U.merge(te)})}),f.push(U)},S=function I(P,N,F){P===F&&(u+=1),n[N]={id:s,low:s++,cutVertex:!1};var j=t.getElementById(N).connectedEdges().intersection(t);if(j.size()===0)f.push(t.spawn(t.getElementById(N)));else{var U,V,Z,Q;j.forEach(function(J){U=J.source().id(),V=J.target().id(),Z=U===N?V:U,Z!==F&&(Q=J.id(),g[Q]||(g[Q]=!0,d.push({x:N,y:Z,edge:J})),Z in n?n[N].low=Math.min(n[N].low,n[Z].id):(I(P,Z,N),n[N].low=Math.min(n[N].low,n[Z].low),n[N].id<=n[Z].low&&(n[N].cutVertex=!0,v(N,Z))))})}};t.forEach(function(I){if(I.isNode()){var P=I.id();P in n||(u=0,S(P,P),n[P].cutVertex=u>1)}});var M=Object.keys(n).filter(function(I){return n[I].cutVertex}).map(function(I){return t.getElementById(I)});return{cut:t.spawn(M),components:f}},hopcroftTarjanBiconnected$1={hopcroftTarjanBiconnected,htbc:hopcroftTarjanBiconnected,htb:hopcroftTarjanBiconnected,hopcroftTarjanBiconnectedComponents:hopcroftTarjanBiconnected},tarjanStronglyConnected=function(){var t=this,n={},s=0,u=[],f=[],d=t.spawn(t),g=function v(S){f.push(S),n[S]={index:s,low:s++,explored:!1};var M=t.getElementById(S).connectedEdges().intersection(t);if(M.forEach(function(j){var U=j.target().id();U!==S&&(U in n||v(U),n[U].explored||(n[S].low=Math.min(n[S].low,n[U].low)))}),n[S].index===n[S].low){for(var I=t.spawn();;){var P=f.pop();if(I.merge(t.getElementById(P)),n[P].low=n[S].index,n[P].explored=!0,P===S)break}var N=I.edgesWith(I),F=I.merge(N);u.push(F),d=d.difference(F)}};return t.forEach(function(v){if(v.isNode()){var S=v.id();S in n||g(S)}}),{cut:d,components:u}},tarjanStronglyConnected$1={tarjanStronglyConnected,tsc:tarjanStronglyConnected,tscc:tarjanStronglyConnected,tarjanStronglyConnectedComponents:tarjanStronglyConnected},elesfn$j={};[elesfn$v,elesfn$u,elesfn$t,elesfn$s,elesfn$r,elesfn$q,elesfn$p,elesfn$o,elesfn$n,elesfn$m,elesfn$l,markovClustering$1,kClustering,hierarchicalClustering$1,affinityPropagation$1,elesfn$k,hopcroftTarjanBiconnected$1,tarjanStronglyConnected$1].forEach(function(e){extend(elesfn$j,e)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var STATE_PENDING=0,STATE_FULFILLED=1,STATE_REJECTED=2,api=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=STATE_PENDING,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};api.prototype={fulfill:function(t){return deliver(this,STATE_FULFILLED,"fulfillValue",t)},reject:function(t){return deliver(this,STATE_REJECTED,"rejectReason",t)},then:function(t,n){var s=this,u=new api;return s.onFulfilled.push(resolver(t,u,"fulfill")),s.onRejected.push(resolver(n,u,"reject")),execute(s),u.proxy}};var deliver=function(t,n,s,u){return t.state===STATE_PENDING&&(t.state=n,t[s]=u,execute(t)),t},execute=function(t){t.state===STATE_FULFILLED?execute_handlers(t,"onFulfilled",t.fulfillValue):t.state===STATE_REJECTED&&execute_handlers(t,"onRejected",t.rejectReason)},execute_handlers=function(t,n,s){if(t[n].length!==0){var u=t[n];t[n]=[];var f=function(){for(var g=0;g<u.length;g++)u[g](s)};typeof setImmediate=="function"?setImmediate(f):setTimeout(f,0)}},resolver=function(t,n,s){return function(u){if(typeof t!="function")n[s].call(n,u);else{var f;try{f=t(u)}catch(d){n.reject(d);return}resolve$1(n,f)}}},resolve$1=function e(t,n){if(t===n||t.proxy===n){t.reject(new TypeError("cannot resolve promise with itself"));return}var s;if(_typeof(n)==="object"&&n!==null||typeof n=="function")try{s=n.then}catch(f){t.reject(f);return}if(typeof s=="function"){var u=!1;try{s.call(n,function(f){u||(u=!0,f===n?t.reject(new TypeError("circular thenable chain")):e(t,f))},function(f){u||(u=!0,t.reject(f))})}catch(f){u||t.reject(f)}return}t.fulfill(n)};api.all=function(e){return new api(function(t,n){for(var s=new Array(e.length),u=0,f=function(v,S){s[v]=S,u++,u===e.length&&t(s)},d=0;d<e.length;d++)(function(g){var v=e[g],S=v!=null&&v.then!=null;if(S)v.then(function(I){f(g,I)},function(I){n(I)});else{var M=v;f(g,M)}})(d)})};api.resolve=function(e){return new api(function(t,n){t(e)})};api.reject=function(e){return new api(function(t,n){n(e)})};var Promise$1=typeof Promise<"u"?Promise:api,Animation=function(t,n,s){var u=core(t),f=!u,d=this._private=extend({duration:1e3},n,s);if(d.target=t,d.style=d.style||d.css,d.started=!1,d.playing=!1,d.hooked=!1,d.applying=!1,d.progress=0,d.completes=[],d.frames=[],d.complete&&fn$6(d.complete)&&d.completes.push(d.complete),f){var g=t.position();d.startPosition=d.startPosition||{x:g.x,y:g.y},d.startStyle=d.startStyle||t.cy().style().getAnimationStartStyle(t,d.style)}if(u){var v=t.pan();d.startPan={x:v.x,y:v.y},d.startZoom=t.zoom()}this.length=1,this[0]=this},anifn=Animation.prototype;extend(anifn,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var n,s=t.target._private.animation;t.queue?n=s.queue:n=s.current,n.push(this),elementOrCollection(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return t.progress===1&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var n=this._private;return t===void 0?n.progress*n.duration:this.progress(t/n.duration)},progress:function(t){var n=this._private,s=n.playing;return t===void 0?n.progress:(s&&this.pause(),n.progress=t,n.started=!1,s&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var t=this._private,n=t.playing;n&&this.pause(),t.progress=1-t.progress,t.started=!1;var s=function(S,M){var I=t[S];I!=null&&(t[S]=t[M],t[M]=I)};if(s("zoom","startZoom"),s("pan","startPan"),s("position","startPosition"),t.style)for(var u=0;u<t.style.length;u++){var f=t.style[u],d=f.name,g=t.startStyle[d];t.startStyle[d]=f,t.style[u]=g}return n&&this.play(),this},promise:function(t){var n=this._private,s;switch(t){case"frame":s=n.frames;break;default:case"complete":case"completed":s=n.completes}return new Promise$1(function(u,f){s.push(function(){u()})})}});anifn.complete=anifn.completed;anifn.run=anifn.play;anifn.running=anifn.playing;var define$3={animated:function(){return function(){var n=this,s=n.length!==void 0,u=s?n:[n],f=this._private.cy||this;if(!f.styleEnabled())return!1;var d=u[0];if(d)return d._private.animation.current.length>0}},clearQueue:function(){return function(){var n=this,s=n.length!==void 0,u=s?n:[n],f=this._private.cy||this;if(!f.styleEnabled())return this;for(var d=0;d<u.length;d++){var g=u[d];g._private.animation.queue=[]}return this}},delay:function(){return function(n,s){var u=this._private.cy||this;return u.styleEnabled()?this.animate({delay:n,duration:n,complete:s}):this}},delayAnimation:function(){return function(n,s){var u=this._private.cy||this;return u.styleEnabled()?this.animation({delay:n,duration:n,complete:s}):this}},animation:function(){return function(n,s){var u=this,f=u.length!==void 0,d=f?u:[u],g=this._private.cy||this,v=!f,S=!v;if(!g.styleEnabled())return this;var M=g.style();n=extend({},n,s);var I=Object.keys(n).length===0;if(I)return new Animation(d[0],n);switch(n.duration===void 0&&(n.duration=400),n.duration){case"slow":n.duration=600;break;case"fast":n.duration=200;break}if(S&&(n.style=M.getPropsList(n.style||n.css),n.css=void 0),S&&n.renderedPosition!=null){var P=n.renderedPosition,N=g.pan(),F=g.zoom();n.position=renderedToModelPosition(P,F,N)}if(v&&n.panBy!=null){var j=n.panBy,U=g.pan();n.pan={x:U.x+j.x,y:U.y+j.y}}var V=n.center||n.centre;if(v&&V!=null){var Z=g.getCenterPan(V.eles,n.zoom);Z!=null&&(n.pan=Z)}if(v&&n.fit!=null){var Q=n.fit,J=g.getFitViewport(Q.eles||Q.boundingBox,Q.padding);J!=null&&(n.pan=J.pan,n.zoom=J.zoom)}if(v&&plainObject(n.zoom)){var te=g.getZoomedViewport(n.zoom);te!=null?(te.zoomed&&(n.zoom=te.zoom),te.panned&&(n.pan=te.pan)):n.zoom=null}return new Animation(d[0],n)}},animate:function(){return function(n,s){var u=this,f=u.length!==void 0,d=f?u:[u],g=this._private.cy||this;if(!g.styleEnabled())return this;s&&(n=extend({},n,s));for(var v=0;v<d.length;v++){var S=d[v],M=S.animated()&&(n.queue===void 0||n.queue),I=S.animation(n,M?{queue:!0}:void 0);I.play()}return this}},stop:function(){return function(n,s){var u=this,f=u.length!==void 0,d=f?u:[u],g=this._private.cy||this;if(!g.styleEnabled())return this;for(var v=0;v<d.length;v++){for(var S=d[v],M=S._private,I=M.animation.current,P=0;P<I.length;P++){var N=I[P],F=N._private;s&&(F.duration=0)}n&&(M.animation.queue=[]),s||(M.animation.current=[])}return g.notify("draw"),this}}},define$2={data:function(t){var n={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(u){},beforeSet:function(u,f){},onSet:function(u){},canSet:function(u){return!0}};return t=extend({},n,t),function(u,f){var d=t,g=this,v=g.length!==void 0,S=v?g:[g],M=v?g[0]:g;if(string(u)){var I=u.indexOf(".")!==-1,P=I&&toPath__default.default(u);if(d.allowGetting&&f===void 0){var N;return M&&(d.beforeGet(M),P&&M._private[d.field][u]===void 0?N=get__default.default(M._private[d.field],P):N=M._private[d.field][u]),N}else if(d.allowSetting&&f!==void 0){var F=!d.immutableKeys[u];if(F){var j=_defineProperty({},u,f);d.beforeSet(g,j);for(var U=0,V=S.length;U<V;U++){var Z=S[U];d.canSet(Z)&&(P&&M._private[d.field][u]===void 0?set__default.default(Z._private[d.field],P,f):Z._private[d.field][u]=f)}d.updateStyle&&g.updateStyle(),d.onSet(g),d.settingTriggersEvent&&g[d.triggerFnName](d.settingEvent)}}}else if(d.allowSetting&&plainObject(u)){var Q=u,J,te,oe=Object.keys(Q);d.beforeSet(g,Q);for(var ue=0;ue<oe.length;ue++){J=oe[ue],te=Q[J];var se=!d.immutableKeys[J];if(se)for(var le=0;le<S.length;le++){var de=S[le];d.canSet(de)&&(de._private[d.field][J]=te)}}d.updateStyle&&g.updateStyle(),d.onSet(g),d.settingTriggersEvent&&g[d.triggerFnName](d.settingEvent)}else if(d.allowBinding&&fn$6(u)){var ge=u;g.on(d.bindingEvent,ge)}else if(d.allowGetting&&u===void 0){var ve;return M&&(d.beforeGet(M),ve=M._private[d.field]),ve}return g}},removeData:function(t){var n={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=extend({},n,t),function(u){var f=t,d=this,g=d.length!==void 0,v=g?d:[d];if(string(u)){for(var S=u.split(/\s+/),M=S.length,I=0;I<M;I++){var P=S[I];if(!emptyString(P)){var N=!f.immutableKeys[P];if(N)for(var F=0,j=v.length;F<j;F++)v[F]._private[f.field][P]=void 0}}f.triggerEvent&&d[f.triggerFnName](f.event)}else if(u===void 0){for(var U=0,V=v.length;U<V;U++)for(var Z=v[U]._private[f.field],Q=Object.keys(Z),J=0;J<Q.length;J++){var te=Q[J],oe=!f.immutableKeys[te];oe&&(Z[te]=void 0)}f.triggerEvent&&d[f.triggerFnName](f.event)}return d}}},define$1={eventAliasesOn:function(t){var n=t;n.addListener=n.listen=n.bind=n.on,n.unlisten=n.unbind=n.off=n.removeListener,n.trigger=n.emit,n.pon=n.promiseOn=function(s,u){var f=this,d=Array.prototype.slice.call(arguments,0);return new Promise$1(function(g,v){var S=function(N){f.off.apply(f,I),g(N)},M=d.concat([S]),I=M.concat([]);f.on.apply(f,M)})}}},define={};[define$3,define$2,define$1].forEach(function(e){extend(define,e)});var elesfn$i={animate:define.animate(),animation:define.animation(),animated:define.animated(),clearQueue:define.clearQueue(),delay:define.delay(),delayAnimation:define.delayAnimation(),stop:define.stop()},elesfn$h={classes:function(t){var n=this;if(t===void 0){var s=[];return n[0]._private.classes.forEach(function(F){return s.push(F)}),s}else array(t)||(t=(t||"").match(/\S+/g)||[]);for(var u=[],f=new Set$1(t),d=0;d<n.length;d++){for(var g=n[d],v=g._private,S=v.classes,M=!1,I=0;I<t.length;I++){var P=t[I],N=S.has(P);if(!N){M=!0;break}}M||(M=S.size!==t.length),M&&(v.classes=f,u.push(g))}return u.length>0&&this.spawn(u).updateStyle().emit("class"),n},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var n=this[0];return n!=null&&n._private.classes.has(t)},toggleClass:function(t,n){array(t)||(t=t.match(/\S+/g)||[]);for(var s=this,u=n===void 0,f=[],d=0,g=s.length;d<g;d++)for(var v=s[d],S=v._private.classes,M=!1,I=0;I<t.length;I++){var P=t[I],N=S.has(P),F=!1;n||u&&!N?(S.add(P),F=!0):(!n||u&&N)&&(S.delete(P),F=!0),!M&&F&&(f.push(v),M=!0)}return f.length>0&&this.spawn(f).updateStyle().emit("class"),s},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,n){var s=this;if(n==null)n=250;else if(n===0)return s;return s.addClass(t),setTimeout(function(){s.removeClass(t)},n),s}};elesfn$h.className=elesfn$h.classNames=elesfn$h.classes;var tokens={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};tokens.variable="(?:[\\w-.]|(?:\\\\"+tokens.metaChar+"))+";tokens.className="(?:[\\w-]|(?:\\\\"+tokens.metaChar+"))+";tokens.value=tokens.string+"|"+tokens.number;tokens.id=tokens.variable;(function(){var e,t,n;for(e=tokens.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],tokens.comparatorOp+="|@"+t;for(e=tokens.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],!(t.indexOf("!")>=0)&&t!=="="&&(tokens.comparatorOp+="|\\!"+t)})();var newQuery=function(){return{checks:[]}},Type={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},stateSelectors=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(e,t){return descending(e.selector,t.selector)}),lookup=function(){for(var e={},t,n=0;n<stateSelectors.length;n++)t=stateSelectors[n],e[t.selector]=t.matches;return e}(),stateSelectorMatches=function(t,n){return lookup[t](n)},stateSelectorRegex="("+stateSelectors.map(function(e){return e.selector}).join("|")+")",cleanMetaChars=function(t){return t.replace(new RegExp("\\\\("+tokens.metaChar+")","g"),function(n,s){return s})},replaceLastQuery=function(t,n,s){t[t.length-1]=s},exprs=[{name:"group",query:!0,regex:"("+tokens.group+")",populate:function(t,n,s){var u=_slicedToArray(s,1),f=u[0];n.checks.push({type:Type.GROUP,value:f==="*"?f:f+"s"})}},{name:"state",query:!0,regex:stateSelectorRegex,populate:function(t,n,s){var u=_slicedToArray(s,1),f=u[0];n.checks.push({type:Type.STATE,value:f})}},{name:"id",query:!0,regex:"\\#("+tokens.id+")",populate:function(t,n,s){var u=_slicedToArray(s,1),f=u[0];n.checks.push({type:Type.ID,value:cleanMetaChars(f)})}},{name:"className",query:!0,regex:"\\.("+tokens.className+")",populate:function(t,n,s){var u=_slicedToArray(s,1),f=u[0];n.checks.push({type:Type.CLASS,value:cleanMetaChars(f)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+tokens.variable+")\\s*\\]",populate:function(t,n,s){var u=_slicedToArray(s,1),f=u[0];n.checks.push({type:Type.DATA_EXIST,field:cleanMetaChars(f)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+tokens.variable+")\\s*("+tokens.comparatorOp+")\\s*("+tokens.value+")\\s*\\]",populate:function(t,n,s){var u=_slicedToArray(s,3),f=u[0],d=u[1],g=u[2],v=new RegExp("^"+tokens.string+"$").exec(g)!=null;v?g=g.substring(1,g.length-1):g=parseFloat(g),n.checks.push({type:Type.DATA_COMPARE,field:cleanMetaChars(f),operator:d,value:g})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+tokens.boolOp+")\\s*("+tokens.variable+")\\s*\\]",populate:function(t,n,s){var u=_slicedToArray(s,2),f=u[0],d=u[1];n.checks.push({type:Type.DATA_BOOL,field:cleanMetaChars(d),operator:f})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+tokens.meta+")\\s*("+tokens.comparatorOp+")\\s*("+tokens.number+")\\s*\\]\\]",populate:function(t,n,s){var u=_slicedToArray(s,3),f=u[0],d=u[1],g=u[2];n.checks.push({type:Type.META_COMPARE,field:cleanMetaChars(f),operator:d,value:parseFloat(g)})}},{name:"nextQuery",separator:!0,regex:tokens.separator,populate:function(t,n){var s=t.currentSubject,u=t.edgeCount,f=t.compoundCount,d=t[t.length-1];s!=null&&(d.subject=s,t.currentSubject=null),d.edgeCount=u,d.compoundCount=f,t.edgeCount=0,t.compoundCount=0;var g=t[t.length++]=newQuery();return g}},{name:"directedEdge",separator:!0,regex:tokens.directedEdge,populate:function(t,n){if(t.currentSubject==null){var s=newQuery(),u=n,f=newQuery();return s.checks.push({type:Type.DIRECTED_EDGE,source:u,target:f}),replaceLastQuery(t,n,s),t.edgeCount++,f}else{var d=newQuery(),g=n,v=newQuery();return d.checks.push({type:Type.NODE_SOURCE,source:g,target:v}),replaceLastQuery(t,n,d),t.edgeCount++,v}}},{name:"undirectedEdge",separator:!0,regex:tokens.undirectedEdge,populate:function(t,n){if(t.currentSubject==null){var s=newQuery(),u=n,f=newQuery();return s.checks.push({type:Type.UNDIRECTED_EDGE,nodes:[u,f]}),replaceLastQuery(t,n,s),t.edgeCount++,f}else{var d=newQuery(),g=n,v=newQuery();return d.checks.push({type:Type.NODE_NEIGHBOR,node:g,neighbor:v}),replaceLastQuery(t,n,d),v}}},{name:"child",separator:!0,regex:tokens.child,populate:function(t,n){if(t.currentSubject==null){var s=newQuery(),u=newQuery(),f=t[t.length-1];return s.checks.push({type:Type.CHILD,parent:f,child:u}),replaceLastQuery(t,n,s),t.compoundCount++,u}else if(t.currentSubject===n){var d=newQuery(),g=t[t.length-1],v=newQuery(),S=newQuery(),M=newQuery(),I=newQuery();return d.checks.push({type:Type.COMPOUND_SPLIT,left:g,right:v,subject:S}),S.checks=n.checks,n.checks=[{type:Type.TRUE}],I.checks.push({type:Type.TRUE}),v.checks.push({type:Type.PARENT,parent:I,child:M}),replaceLastQuery(t,g,d),t.currentSubject=S,t.compoundCount++,M}else{var P=newQuery(),N=newQuery(),F=[{type:Type.PARENT,parent:P,child:N}];return P.checks=n.checks,n.checks=F,t.compoundCount++,N}}},{name:"descendant",separator:!0,regex:tokens.descendant,populate:function(t,n){if(t.currentSubject==null){var s=newQuery(),u=newQuery(),f=t[t.length-1];return s.checks.push({type:Type.DESCENDANT,ancestor:f,descendant:u}),replaceLastQuery(t,n,s),t.compoundCount++,u}else if(t.currentSubject===n){var d=newQuery(),g=t[t.length-1],v=newQuery(),S=newQuery(),M=newQuery(),I=newQuery();return d.checks.push({type:Type.COMPOUND_SPLIT,left:g,right:v,subject:S}),S.checks=n.checks,n.checks=[{type:Type.TRUE}],I.checks.push({type:Type.TRUE}),v.checks.push({type:Type.ANCESTOR,ancestor:I,descendant:M}),replaceLastQuery(t,g,d),t.currentSubject=S,t.compoundCount++,M}else{var P=newQuery(),N=newQuery(),F=[{type:Type.ANCESTOR,ancestor:P,descendant:N}];return P.checks=n.checks,n.checks=F,t.compoundCount++,N}}},{name:"subject",modifier:!0,regex:tokens.subject,populate:function(t,n){if(t.currentSubject!=null&&t.currentSubject!==n)return warn("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=n;var s=t[t.length-1],u=s.checks[0],f=u==null?null:u.type;f===Type.DIRECTED_EDGE?u.type=Type.NODE_TARGET:f===Type.UNDIRECTED_EDGE&&(u.type=Type.NODE_NEIGHBOR,u.node=u.nodes[1],u.neighbor=u.nodes[0],u.nodes=null)}}];exprs.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var consumeExpr=function(t){for(var n,s,u,f=0;f<exprs.length;f++){var d=exprs[f],g=d.name,v=t.match(d.regexObj);if(v!=null){s=v,n=d,u=g;var S=v[0];t=t.substring(S.length);break}}return{expr:n,match:s,name:u,remaining:t}},consumeWhitespace=function(t){var n=t.match(/^\s+/);if(n){var s=n[0];t=t.substring(s.length)}return t},parse=function(t){var n=this,s=n.inputText=t,u=n[0]=newQuery();for(n.length=1,s=consumeWhitespace(s);;){var f=consumeExpr(s);if(f.expr==null)return warn("The selector `"+t+"`is invalid"),!1;var d=f.match.slice(1),g=f.expr.populate(n,u,d);if(g===!1)return!1;if(g!=null&&(u=g),s=f.remaining,s.match(/^\s*$/))break}var v=n[n.length-1];n.currentSubject!=null&&(v.subject=n.currentSubject),v.edgeCount=n.edgeCount,v.compoundCount=n.compoundCount;for(var S=0;S<n.length;S++){var M=n[S];if(M.compoundCount>0&&M.edgeCount>0)return warn("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(M.edgeCount>1)return warn("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;M.edgeCount===1&&warn("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString=function(){if(this.toStringCache!=null)return this.toStringCache;for(var t=function(M){return M??""},n=function(M){return string(M)?'"'+M+'"':t(M)},s=function(M){return" "+M+" "},u=function(M,I){var P=M.type,N=M.value;switch(P){case Type.GROUP:{var F=t(N);return F.substring(0,F.length-1)}case Type.DATA_COMPARE:{var j=M.field,U=M.operator;return"["+j+s(t(U))+n(N)+"]"}case Type.DATA_BOOL:{var V=M.operator,Z=M.field;return"["+t(V)+Z+"]"}case Type.DATA_EXIST:{var Q=M.field;return"["+Q+"]"}case Type.META_COMPARE:{var J=M.operator,te=M.field;return"[["+te+s(t(J))+n(N)+"]]"}case Type.STATE:return N;case Type.ID:return"#"+N;case Type.CLASS:return"."+N;case Type.PARENT:case Type.CHILD:return f(M.parent,I)+s(">")+f(M.child,I);case Type.ANCESTOR:case Type.DESCENDANT:return f(M.ancestor,I)+" "+f(M.descendant,I);case Type.COMPOUND_SPLIT:{var oe=f(M.left,I),ue=f(M.subject,I),se=f(M.right,I);return oe+(oe.length>0?" ":"")+ue+se}case Type.TRUE:return""}},f=function(M,I){return M.checks.reduce(function(P,N,F){return P+(I===M&&F===0?"$":"")+u(N,I)},"")},d="",g=0;g<this.length;g++){var v=this[g];d+=f(v,v.subject),this.length>1&&g<this.length-1&&(d+=", ")}return this.toStringCache=d,d},parse$1={parse,toString},valCmp=function(t,n,s){var u,f=string(t),d=number$1(t),g=string(s),v,S,M=!1,I=!1,P=!1;switch(n.indexOf("!")>=0&&(n=n.replace("!",""),I=!0),n.indexOf("@")>=0&&(n=n.replace("@",""),M=!0),(f||g||M)&&(v=!f&&!d?"":""+t,S=""+s),M&&(t=v=v.toLowerCase(),s=S=S.toLowerCase()),n){case"*=":u=v.indexOf(S)>=0;break;case"$=":u=v.indexOf(S,v.length-S.length)>=0;break;case"^=":u=v.indexOf(S)===0;break;case"=":u=t===s;break;case">":P=!0,u=t>s;break;case">=":P=!0,u=t>=s;break;case"<":P=!0,u=t<s;break;case"<=":P=!0,u=t<=s;break;default:u=!1;break}return I&&(t!=null||!P)&&(u=!u),u},boolCmp=function(t,n){switch(n){case"?":return!!t;case"!":return!t;case"^":return t===void 0}},existCmp=function(t){return t!==void 0},data$1$1=function(t,n){return t.data(n)},meta=function(t,n){return t[n]()},match=[],matches$1=function(t,n){return t.checks.every(function(s){return match[s.type](s,n)})};match[Type.GROUP]=function(e,t){var n=e.value;return n==="*"||n===t.group()};match[Type.STATE]=function(e,t){var n=e.value;return stateSelectorMatches(n,t)};match[Type.ID]=function(e,t){var n=e.value;return t.id()===n};match[Type.CLASS]=function(e,t){var n=e.value;return t.hasClass(n)};match[Type.META_COMPARE]=function(e,t){var n=e.field,s=e.operator,u=e.value;return valCmp(meta(t,n),s,u)};match[Type.DATA_COMPARE]=function(e,t){var n=e.field,s=e.operator,u=e.value;return valCmp(data$1$1(t,n),s,u)};match[Type.DATA_BOOL]=function(e,t){var n=e.field,s=e.operator;return boolCmp(data$1$1(t,n),s)};match[Type.DATA_EXIST]=function(e,t){var n=e.field;return e.operator,existCmp(data$1$1(t,n))};match[Type.UNDIRECTED_EDGE]=function(e,t){var n=e.nodes[0],s=e.nodes[1],u=t.source(),f=t.target();return matches$1(n,u)&&matches$1(s,f)||matches$1(s,u)&&matches$1(n,f)};match[Type.NODE_NEIGHBOR]=function(e,t){return matches$1(e.node,t)&&t.neighborhood().some(function(n){return n.isNode()&&matches$1(e.neighbor,n)})};match[Type.DIRECTED_EDGE]=function(e,t){return matches$1(e.source,t.source())&&matches$1(e.target,t.target())};match[Type.NODE_SOURCE]=function(e,t){return matches$1(e.source,t)&&t.outgoers().some(function(n){return n.isNode()&&matches$1(e.target,n)})};match[Type.NODE_TARGET]=function(e,t){return matches$1(e.target,t)&&t.incomers().some(function(n){return n.isNode()&&matches$1(e.source,n)})};match[Type.CHILD]=function(e,t){return matches$1(e.child,t)&&matches$1(e.parent,t.parent())};match[Type.PARENT]=function(e,t){return matches$1(e.parent,t)&&t.children().some(function(n){return matches$1(e.child,n)})};match[Type.DESCENDANT]=function(e,t){return matches$1(e.descendant,t)&&t.ancestors().some(function(n){return matches$1(e.ancestor,n)})};match[Type.ANCESTOR]=function(e,t){return matches$1(e.ancestor,t)&&t.descendants().some(function(n){return matches$1(e.descendant,n)})};match[Type.COMPOUND_SPLIT]=function(e,t){return matches$1(e.subject,t)&&matches$1(e.left,t)&&matches$1(e.right,t)};match[Type.TRUE]=function(){return!0};match[Type.COLLECTION]=function(e,t){var n=e.value;return n.has(t)};match[Type.FILTER]=function(e,t){var n=e.value;return n(t)};var filter$1=function(t){var n=this;if(n.length===1&&n[0].checks.length===1&&n[0].checks[0].type===Type.ID)return t.getElementById(n[0].checks[0].value).collection();var s=function(f){for(var d=0;d<n.length;d++){var g=n[d];if(matches$1(g,f))return!0}return!1};return n.text()==null&&(s=function(){return!0}),t.filter(s)},matches=function(t){for(var n=this,s=0;s<n.length;s++){var u=n[s];if(matches$1(u,t))return!0}return!1},matching={matches,filter:filter$1},Selector=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,t==null||string(t)&&t.match(/^\s*$/)||(elementOrCollection(t)?this.addQuery({checks:[{type:Type.COLLECTION,value:t.collection()}]}):fn$6(t)?this.addQuery({checks:[{type:Type.FILTER,value:t}]}):string(t)?this.parse(t)||(this.invalid=!0):error("A selector must be created from a string; found "))},selfn=Selector.prototype;[parse$1,matching].forEach(function(e){return extend(selfn,e)});selfn.text=function(){return this.inputText};selfn.size=function(){return this.length};selfn.eq=function(e){return this[e]};selfn.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()};selfn.addQuery=function(e){this[this.length++]=e};selfn.selector=selfn.toString;var elesfn$g={allAre:function(t){var n=new Selector(t);return this.every(function(s){return n.matches(s)})},is:function(t){var n=new Selector(t);return this.some(function(s){return n.matches(s)})},some:function(t,n){for(var s=0;s<this.length;s++){var u=n?t.apply(n,[this[s],s,this]):t(this[s],s,this);if(u)return!0}return!1},every:function(t,n){for(var s=0;s<this.length;s++){var u=n?t.apply(n,[this[s],s,this]):t(this[s],s,this);if(!u)return!1}return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var n=this.length,s=t.length;return n!==s?!1:n===1?this[0]===t[0]:this.every(function(u){return t.hasElementWithId(u.id())})},anySame:function(t){return t=this.cy().collection(t),this.some(function(n){return t.hasElementWithId(n.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var n=this.neighborhood();return t.every(function(s){return n.hasElementWithId(s.id())})},contains:function(t){t=this.cy().collection(t);var n=this;return t.every(function(s){return n.hasElementWithId(s.id())})}};elesfn$g.allAreNeighbours=elesfn$g.allAreNeighbors;elesfn$g.has=elesfn$g.contains;elesfn$g.equal=elesfn$g.equals=elesfn$g.same;var cache=function(t,n){return function(u,f,d,g){var v=u,S=this,M;if(v==null?M="":elementOrCollection(v)&&v.length===1&&(M=v.id()),S.length===1&&M){var I=S[0]._private,P=I.traversalCache=I.traversalCache||{},N=P[n]=P[n]||[],F=hashString(M),j=N[F];return j||(N[F]=t.call(S,u,f,d,g))}else return t.call(S,u,f,d,g)}},elesfn$f={parent:function(t){var n=[];if(this.length===1){var s=this[0]._private.parent;if(s)return s}for(var u=0;u<this.length;u++){var f=this[u],d=f._private.parent;d&&n.push(d)}return this.spawn(n,!0).filter(t)},parents:function(t){for(var n=[],s=this.parent();s.nonempty();){for(var u=0;u<s.length;u++){var f=s[u];n.push(f)}s=s.parent()}return this.spawn(n,!0).filter(t)},commonAncestors:function(t){for(var n,s=0;s<this.length;s++){var u=this[s],f=u.parents();n=n||f,n=n.intersect(f)}return n.filter(t)},orphans:function(t){return this.stdFilter(function(n){return n.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(n){return n.isChild()}).filter(t)},children:cache(function(e){for(var t=[],n=0;n<this.length;n++)for(var s=this[n],u=s._private.children,f=0;f<u.length;f++)t.push(u[f]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length!==0},isChildless:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length===0},isChild:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent!=null},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent==null},descendants:function(t){var n=[];function s(u){for(var f=0;f<u.length;f++){var d=u[f];n.push(d),d.children().nonempty()&&s(d.children())}}return s(this.children()),this.spawn(n,!0).filter(t)}};function forEachCompound(e,t,n,s){for(var u=[],f=new Set$1,d=e.cy(),g=d.hasCompoundNodes(),v=0;v<e.length;v++){var S=e[v];n?u.push(S):g&&s(u,f,S)}for(;u.length>0;){var M=u.shift();t(M),f.add(M.id()),g&&s(u,f,M)}return e}function addChildren(e,t,n){if(n.isParent())for(var s=n._private.children,u=0;u<s.length;u++){var f=s[u];t.has(f.id())||e.push(f)}}elesfn$f.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return forEachCompound(this,e,t,addChildren)};function addParent(e,t,n){if(n.isChild()){var s=n._private.parent;t.has(s.id())||e.push(s)}}elesfn$f.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return forEachCompound(this,e,t,addParent)};function addParentAndChildren(e,t,n){addParent(e,t,n),addChildren(e,t,n)}elesfn$f.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return forEachCompound(this,e,t,addParentAndChildren)};elesfn$f.ancestors=elesfn$f.parents;var fn$5,elesfn$e;fn$5=elesfn$e={data:define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:define.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:define.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:define.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:define.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}};fn$5.attr=fn$5.data;fn$5.removeAttr=fn$5.removeData;var data$3=elesfn$e,elesfn$d={};function defineDegreeFunction(e){return function(t){var n=this;if(t===void 0&&(t=!0),n.length!==0)if(n.isNode()&&!n.removed()){for(var s=0,u=n[0],f=u._private.edges,d=0;d<f.length;d++){var g=f[d];!t&&g.isLoop()||(s+=e(u,g))}return s}else return}}extend(elesfn$d,{degree:defineDegreeFunction(function(e,t){return t.source().same(t.target())?2:1}),indegree:defineDegreeFunction(function(e,t){return t.target().same(e)?1:0}),outdegree:defineDegreeFunction(function(e,t){return t.source().same(e)?1:0})});function defineDegreeBoundsFunction(e,t){return function(n){for(var s,u=this.nodes(),f=0;f<u.length;f++){var d=u[f],g=d[e](n);g!==void 0&&(s===void 0||t(g,s))&&(s=g)}return s}}extend(elesfn$d,{minDegree:defineDegreeBoundsFunction("degree",function(e,t){return e<t}),maxDegree:defineDegreeBoundsFunction("degree",function(e,t){return e>t}),minIndegree:defineDegreeBoundsFunction("indegree",function(e,t){return e<t}),maxIndegree:defineDegreeBoundsFunction("indegree",function(e,t){return e>t}),minOutdegree:defineDegreeBoundsFunction("outdegree",function(e,t){return e<t}),maxOutdegree:defineDegreeBoundsFunction("outdegree",function(e,t){return e>t})});extend(elesfn$d,{totalDegree:function(t){for(var n=0,s=this.nodes(),u=0;u<s.length;u++)n+=s[u].degree(t);return n}});var fn$4,elesfn$c,beforePositionSet=function(t,n,s){for(var u=0;u<t.length;u++){var f=t[u];if(!f.locked()){var d=f._private.position,g={x:n.x!=null?n.x-d.x:0,y:n.y!=null?n.y-d.y:0};f.isParent()&&!(g.x===0&&g.y===0)&&f.children().shift(g,s),f.dirtyBoundingBoxCache()}}},positionDef={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,n){beforePositionSet(t,n,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};fn$4=elesfn$c={position:define.data(positionDef),silentPosition:define.data(extend({},positionDef,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,n){beforePositionSet(t,n,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,n){if(plainObject(t))n?this.silentPosition(t):this.position(t);else if(fn$6(t)){var s=t,u=this.cy();u.startBatch();for(var f=0;f<this.length;f++){var d=this[f],g=void 0;(g=s(d,f))&&(n?d.silentPosition(g):d.position(g))}u.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,n,s){var u;if(plainObject(t)?(u={x:number$1(t.x)?t.x:0,y:number$1(t.y)?t.y:0},s=n):string(t)&&number$1(n)&&(u={x:0,y:0},u[t]=n),u!=null){var f=this.cy();f.startBatch();for(var d=0;d<this.length;d++){var g=this[d];if(!(f.hasCompoundNodes()&&g.isChild()&&g.ancestors().anySame(this))){var v=g.position(),S={x:v.x+u.x,y:v.y+u.y};s?g.silentPosition(S):g.position(S)}}f.endBatch()}return this},silentShift:function(t,n){return plainObject(t)?this.shift(t,!0):string(t)&&number$1(n)&&this.shift(t,n,!0),this},renderedPosition:function(t,n){var s=this[0],u=this.cy(),f=u.zoom(),d=u.pan(),g=plainObject(t)?t:void 0,v=g!==void 0||n!==void 0&&string(t);if(s&&s.isNode())if(v)for(var S=0;S<this.length;S++){var M=this[S];n!==void 0?M.position(t,(n-d[t])/f):g!==void 0&&M.position(renderedToModelPosition(g,f,d))}else{var I=s.position();return g=modelToRenderedPosition(I,f,d),t===void 0?g:g[t]}else if(!v)return;return this},relativePosition:function(t,n){var s=this[0],u=this.cy(),f=plainObject(t)?t:void 0,d=f!==void 0||n!==void 0&&string(t),g=u.hasCompoundNodes();if(s&&s.isNode())if(d)for(var v=0;v<this.length;v++){var S=this[v],M=g?S.parent():null,I=M&&M.length>0,P=I;I&&(M=M[0]);var N=P?M.position():{x:0,y:0};n!==void 0?S.position(t,n+N[t]):f!==void 0&&S.position({x:f.x+N.x,y:f.y+N.y})}else{var F=s.position(),j=g?s.parent():null,U=j&&j.length>0,V=U;U&&(j=j[0]);var Z=V?j.position():{x:0,y:0};return f={x:F.x-Z.x,y:F.y-Z.y},t===void 0?f:f[t]}else if(!d)return;return this}};fn$4.modelPosition=fn$4.point=fn$4.position;fn$4.modelPositions=fn$4.points=fn$4.positions;fn$4.renderedPoint=fn$4.renderedPosition;fn$4.relativePoint=fn$4.relativePosition;var position$1=elesfn$c,fn$3,elesfn$b;fn$3=elesfn$b={};elesfn$b.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),s=n.zoom(),u=n.pan(),f=t.x1*s+u.x,d=t.x2*s+u.x,g=t.y1*s+u.y,v=t.y2*s+u.y;return{x1:f,x2:d,y1:g,y2:v,w:d-f,h:v-g}};elesfn$b.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(n){if(n.isParent()){var s=n._private;s.compoundBoundsClean=!1,s.bbCache=null,e||n.emitAndNotify("bounds")}}),this)};elesfn$b.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(d){if(!d.isParent())return;var g=d._private,v=d.children(),S=d.pstyle("compound-sizing-wrt-labels").value==="include",M={width:{val:d.pstyle("min-width").pfValue,left:d.pstyle("min-width-bias-left"),right:d.pstyle("min-width-bias-right")},height:{val:d.pstyle("min-height").pfValue,top:d.pstyle("min-height-bias-top"),bottom:d.pstyle("min-height-bias-bottom")}},I=v.boundingBox({includeLabels:S,includeOverlays:!1,useCache:!1}),P=g.position;(I.w===0||I.h===0)&&(I={w:d.pstyle("width").pfValue,h:d.pstyle("height").pfValue},I.x1=P.x-I.w/2,I.x2=P.x+I.w/2,I.y1=P.y-I.h/2,I.y2=P.y+I.h/2);function N(le,de,ge){var ve=0,me=0,ye=de+ge;return le>0&&ye>0&&(ve=de/ye*le,me=ge/ye*le),{biasDiff:ve,biasComplementDiff:me}}function F(le,de,ge,ve){if(ge.units==="%")switch(ve){case"width":return le>0?ge.pfValue*le:0;case"height":return de>0?ge.pfValue*de:0;case"average":return le>0&&de>0?ge.pfValue*(le+de)/2:0;case"min":return le>0&&de>0?le>de?ge.pfValue*de:ge.pfValue*le:0;case"max":return le>0&&de>0?le>de?ge.pfValue*le:ge.pfValue*de:0;default:return 0}else return ge.units==="px"?ge.pfValue:0}var j=M.width.left.value;M.width.left.units==="px"&&M.width.val>0&&(j=j*100/M.width.val);var U=M.width.right.value;M.width.right.units==="px"&&M.width.val>0&&(U=U*100/M.width.val);var V=M.height.top.value;M.height.top.units==="px"&&M.height.val>0&&(V=V*100/M.height.val);var Z=M.height.bottom.value;M.height.bottom.units==="px"&&M.height.val>0&&(Z=Z*100/M.height.val);var Q=N(M.width.val-I.w,j,U),J=Q.biasDiff,te=Q.biasComplementDiff,oe=N(M.height.val-I.h,V,Z),ue=oe.biasDiff,se=oe.biasComplementDiff;g.autoPadding=F(I.w,I.h,d.pstyle("padding"),d.pstyle("padding-relative-to").value),g.autoWidth=Math.max(I.w,M.width.val),P.x=(-J+I.x1+I.x2+te)/2,g.autoHeight=Math.max(I.h,M.height.val),P.y=(-ue+I.y1+I.y2+se)/2}for(var s=0;s<this.length;s++){var u=this[s],f=u._private;(!f.compoundBoundsClean||e)&&(n(u),t.batching()||(f.compoundBoundsClean=!0))}return this};var noninf=function(t){return t===1/0||t===-1/0?0:t},updateBounds=function(t,n,s,u,f){u-n===0||f-s===0||n==null||s==null||u==null||f==null||(t.x1=n<t.x1?n:t.x1,t.x2=u>t.x2?u:t.x2,t.y1=s<t.y1?s:t.y1,t.y2=f>t.y2?f:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},updateBoundsFromBox=function(t,n){return n==null?t:updateBounds(t,n.x1,n.y1,n.x2,n.y2)},prefixedProperty=function(t,n,s){return getPrefixedProperty(t,n,s)},updateBoundsFromArrow=function(t,n,s){if(!n.cy().headless()){var u=n._private,f=u.rstyle,d=f.arrowWidth/2,g=n.pstyle(s+"-arrow-shape").value,v,S;if(g!=="none"){s==="source"?(v=f.srcX,S=f.srcY):s==="target"?(v=f.tgtX,S=f.tgtY):(v=f.midX,S=f.midY);var M=u.arrowBounds=u.arrowBounds||{},I=M[s]=M[s]||{};I.x1=v-d,I.y1=S-d,I.x2=v+d,I.y2=S+d,I.w=I.x2-I.x1,I.h=I.y2-I.y1,expandBoundingBox(I,1),updateBounds(t,I.x1,I.y1,I.x2,I.y2)}}},updateBoundsFromLabel=function(t,n,s){if(!n.cy().headless()){var u;s?u=s+"-":u="";var f=n._private,d=f.rstyle,g=n.pstyle(u+"label").strValue;if(g){var v=n.pstyle("text-halign"),S=n.pstyle("text-valign"),M=prefixedProperty(d,"labelWidth",s),I=prefixedProperty(d,"labelHeight",s),P=prefixedProperty(d,"labelX",s),N=prefixedProperty(d,"labelY",s),F=n.pstyle(u+"text-margin-x").pfValue,j=n.pstyle(u+"text-margin-y").pfValue,U=n.isEdge(),V=n.pstyle(u+"text-rotation"),Z=n.pstyle("text-outline-width").pfValue,Q=n.pstyle("text-border-width").pfValue,J=Q/2,te=n.pstyle("text-background-padding").pfValue,oe=2,ue=I,se=M,le=se/2,de=ue/2,ge,ve,me,ye;if(U)ge=P-le,ve=P+le,me=N-de,ye=N+de;else{switch(v.value){case"left":ge=P-se,ve=P;break;case"center":ge=P-le,ve=P+le;break;case"right":ge=P,ve=P+se;break}switch(S.value){case"top":me=N-ue,ye=N;break;case"center":me=N-de,ye=N+de;break;case"bottom":me=N,ye=N+ue;break}}ge+=F-Math.max(Z,J)-te-oe,ve+=F+Math.max(Z,J)+te+oe,me+=j-Math.max(Z,J)-te-oe,ye+=j+Math.max(Z,J)+te+oe;var Ae=s||"main",Te=f.labelBounds,Oe=Te[Ae]=Te[Ae]||{};Oe.x1=ge,Oe.y1=me,Oe.x2=ve,Oe.y2=ye,Oe.w=ve-ge,Oe.h=ye-me;var Ie=U&&V.strValue==="autorotate",Be=V.pfValue!=null&&V.pfValue!==0;if(Ie||Be){var De=Ie?prefixedProperty(f.rstyle,"labelAngle",s):V.pfValue,Pe=Math.cos(De),Ne=Math.sin(De),He=(ge+ve)/2,je=(me+ye)/2;if(!U){switch(v.value){case"left":He=ve;break;case"right":He=ge;break}switch(S.value){case"top":je=ye;break;case"bottom":je=me;break}}var ze=function(wt,st){return wt=wt-He,st=st-je,{x:wt*Pe-st*Ne+He,y:wt*Ne+st*Pe+je}},Ve=ze(ge,me),Ye=ze(ge,ye),nt=ze(ve,me),Fe=ze(ve,ye);ge=Math.min(Ve.x,Ye.x,nt.x,Fe.x),ve=Math.max(Ve.x,Ye.x,nt.x,Fe.x),me=Math.min(Ve.y,Ye.y,nt.y,Fe.y),ye=Math.max(Ve.y,Ye.y,nt.y,Fe.y)}var Qe=Ae+"Rot",it=Te[Qe]=Te[Qe]||{};it.x1=ge,it.y1=me,it.x2=ve,it.y2=ye,it.w=ve-ge,it.h=ye-me,updateBounds(t,ge,me,ve,ye),updateBounds(f.labelBounds.all,ge,me,ve,ye)}return t}},boundingBoxImpl=function(t,n){var s=t._private.cy,u=s.styleEnabled(),f=s.headless(),d=makeBoundingBox(),g=t._private,v=t.isNode(),S=t.isEdge(),M,I,P,N,F,j,U=g.rstyle,V=v&&u?t.pstyle("bounds-expansion").pfValue:[0],Z=function(Dt){return Dt.pstyle("display").value!=="none"},Q=!u||Z(t)&&(!S||Z(t.source())&&Z(t.target()));if(Q){var J=0,te=0;u&&n.includeOverlays&&(J=t.pstyle("overlay-opacity").value,J!==0&&(te=t.pstyle("overlay-padding").value));var oe=0,ue=0;u&&n.includeUnderlays&&(oe=t.pstyle("underlay-opacity").value,oe!==0&&(ue=t.pstyle("underlay-padding").value));var se=Math.max(te,ue),le=0,de=0;if(u&&(le=t.pstyle("width").pfValue,de=le/2),v&&n.includeNodes){var ge=t.position();F=ge.x,j=ge.y;var ve=t.outerWidth(),me=ve/2,ye=t.outerHeight(),Ae=ye/2;M=F-me,I=F+me,P=j-Ae,N=j+Ae,updateBounds(d,M,P,I,N)}else if(S&&n.includeEdges)if(u&&!f){var Te=t.pstyle("curve-style").strValue;if(M=Math.min(U.srcX,U.midX,U.tgtX),I=Math.max(U.srcX,U.midX,U.tgtX),P=Math.min(U.srcY,U.midY,U.tgtY),N=Math.max(U.srcY,U.midY,U.tgtY),M-=de,I+=de,P-=de,N+=de,updateBounds(d,M,P,I,N),Te==="haystack"){var Oe=U.haystackPts;if(Oe&&Oe.length===2){if(M=Oe[0].x,P=Oe[0].y,I=Oe[1].x,N=Oe[1].y,M>I){var Ie=M;M=I,I=Ie}if(P>N){var Be=P;P=N,N=Be}updateBounds(d,M-de,P-de,I+de,N+de)}}else if(Te==="bezier"||Te==="unbundled-bezier"||Te==="segments"||Te==="taxi"){var De;switch(Te){case"bezier":case"unbundled-bezier":De=U.bezierPts;break;case"segments":case"taxi":De=U.linePts;break}if(De!=null)for(var Pe=0;Pe<De.length;Pe++){var Ne=De[Pe];M=Ne.x-de,I=Ne.x+de,P=Ne.y-de,N=Ne.y+de,updateBounds(d,M,P,I,N)}}}else{var He=t.source(),je=He.position(),ze=t.target(),Ve=ze.position();if(M=je.x,I=Ve.x,P=je.y,N=Ve.y,M>I){var Ye=M;M=I,I=Ye}if(P>N){var nt=P;P=N,N=nt}M-=de,I+=de,P-=de,N+=de,updateBounds(d,M,P,I,N)}if(u&&n.includeEdges&&S&&(updateBoundsFromArrow(d,t,"mid-source"),updateBoundsFromArrow(d,t,"mid-target"),updateBoundsFromArrow(d,t,"source"),updateBoundsFromArrow(d,t,"target")),u){var Fe=t.pstyle("ghost").value==="yes";if(Fe){var Qe=t.pstyle("ghost-offset-x").pfValue,it=t.pstyle("ghost-offset-y").pfValue;updateBounds(d,d.x1+Qe,d.y1+it,d.x2+Qe,d.y2+it)}}var at=g.bodyBounds=g.bodyBounds||{};assignBoundingBox(at,d),expandBoundingBoxSides(at,V),expandBoundingBox(at,1),u&&(M=d.x1,I=d.x2,P=d.y1,N=d.y2,updateBounds(d,M-se,P-se,I+se,N+se));var wt=g.overlayBounds=g.overlayBounds||{};assignBoundingBox(wt,d),expandBoundingBoxSides(wt,V),expandBoundingBox(wt,1);var st=g.labelBounds=g.labelBounds||{};st.all!=null?clearBoundingBox(st.all):st.all=makeBoundingBox(),u&&n.includeLabels&&(n.includeMainLabels&&updateBoundsFromLabel(d,t,null),S&&(n.includeSourceLabels&&updateBoundsFromLabel(d,t,"source"),n.includeTargetLabels&&updateBoundsFromLabel(d,t,"target")))}return d.x1=noninf(d.x1),d.y1=noninf(d.y1),d.x2=noninf(d.x2),d.y2=noninf(d.y2),d.w=noninf(d.x2-d.x1),d.h=noninf(d.y2-d.y1),d.w>0&&d.h>0&&Q&&(expandBoundingBoxSides(d,V),expandBoundingBox(d,1)),d},getKey=function(t){var n=0,s=function(d){return(d?1:0)<<n++},u=0;return u+=s(t.incudeNodes),u+=s(t.includeEdges),u+=s(t.includeLabels),u+=s(t.includeMainLabels),u+=s(t.includeSourceLabels),u+=s(t.includeTargetLabels),u+=s(t.includeOverlays),u},getBoundingBoxPosKey=function(t){if(t.isEdge()){var n=t.source().position(),s=t.target().position(),u=function(d){return Math.round(d)};return hashIntsArray([u(n.x),u(n.y),u(s.x),u(s.y)])}else return 0},cachedBoundingBoxImpl=function(t,n){var s=t._private,u,f=t.isEdge(),d=n==null?defBbOptsKey:getKey(n),g=d===defBbOptsKey,v=getBoundingBoxPosKey(t),S=s.bbCachePosKey===v,M=n.useCache&&S,I=function(j){return j._private.bbCache==null||j._private.styleDirty},P=!M||I(t)||f&&I(t.source())||I(t.target());if(P?(S||t.recalculateRenderedStyle(M),u=boundingBoxImpl(t,defBbOpts),s.bbCache=u,s.bbCachePosKey=v):u=s.bbCache,!g){var N=t.isNode();u=makeBoundingBox(),(n.includeNodes&&N||n.includeEdges&&!N)&&(n.includeOverlays?updateBoundsFromBox(u,s.overlayBounds):updateBoundsFromBox(u,s.bodyBounds)),n.includeLabels&&(n.includeMainLabels&&(!f||n.includeSourceLabels&&n.includeTargetLabels)?updateBoundsFromBox(u,s.labelBounds.all):(n.includeMainLabels&&updateBoundsFromBox(u,s.labelBounds.mainRot),n.includeSourceLabels&&updateBoundsFromBox(u,s.labelBounds.sourceRot),n.includeTargetLabels&&updateBoundsFromBox(u,s.labelBounds.targetRot))),u.w=u.x2-u.x1,u.h=u.y2-u.y1}return u},defBbOpts={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},defBbOptsKey=getKey(defBbOpts),filledBbOpts=defaults$g(defBbOpts);elesfn$b.boundingBox=function(e){var t;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(e===void 0||e.useCache===void 0||e.useCache===!0))e===void 0?e=defBbOpts:e=filledBbOpts(e),t=cachedBoundingBoxImpl(this[0],e);else{t=makeBoundingBox(),e=e||defBbOpts;var n=filledBbOpts(e),s=this,u=s.cy(),f=u.styleEnabled();if(f)for(var d=0;d<s.length;d++){var g=s[d],v=g._private,S=getBoundingBoxPosKey(g),M=v.bbCachePosKey===S,I=n.useCache&&M&&!v.styleDirty;g.recalculateRenderedStyle(I)}this.updateCompoundBounds(!e.useCache);for(var P=0;P<s.length;P++){var N=s[P];updateBoundsFromBox(t,cachedBoundingBoxImpl(N,n))}}return t.x1=noninf(t.x1),t.y1=noninf(t.y1),t.x2=noninf(t.x2),t.y2=noninf(t.y2),t.w=noninf(t.x2-t.x1),t.h=noninf(t.y2-t.y1),t};elesfn$b.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};elesfn$b.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),s=n.hasCompoundNodes(),u=n.collection();if(s&&(u=t.filter(function(S){return S.isParent()}),t=t.not(u)),plainObject(e)){var f=e;e=function(){return f}}var d=function(M,I){return M._private.bbAtOldPos=e(M,I)},g=function(M){return M._private.bbAtOldPos};n.startBatch(),t.forEach(d).silentPositions(e),s&&(u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),u.updateCompoundBounds(!0));var v=copyBoundingBox(this.boundingBox({useCache:!1}));return t.silentPositions(g),s&&(u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),u.updateCompoundBounds(!0)),n.endBatch(),v};fn$3.boundingbox=fn$3.bb=fn$3.boundingBox;fn$3.renderedBoundingbox=fn$3.renderedBoundingBox;var bounds=elesfn$b,fn$2,elesfn$a;fn$2=elesfn$a={};var defineDimFns=function(t){t.uppercaseName=capitalize(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=capitalize(t.outerName),fn$2[t.name]=function(){var s=this[0],u=s._private,f=u.cy,d=f._private.styleEnabled;if(s)if(d){if(s.isParent())return s.updateCompoundBounds(),u[t.autoName]||0;var g=s.pstyle(t.name);switch(g.strValue){case"label":return s.recalculateRenderedStyle(),u.rstyle[t.labelName]||0;default:return g.pfValue}}else return 1},fn$2["outer"+t.uppercaseName]=function(){var s=this[0],u=s._private,f=u.cy,d=f._private.styleEnabled;if(s)if(d){var g=s[t.name](),v=s.pstyle("border-width").pfValue,S=2*s.padding();return g+v+S}else return 1},fn$2["rendered"+t.uppercaseName]=function(){var s=this[0];if(s){var u=s[t.name]();return u*this.cy().zoom()}},fn$2["rendered"+t.uppercaseOuterName]=function(){var s=this[0];if(s){var u=s[t.outerName]();return u*this.cy().zoom()}}};defineDimFns({name:"width"});defineDimFns({name:"height"});elesfn$a.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};elesfn$a.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()};elesfn$a.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var widthHeight=elesfn$a,ifEdge=function(t,n){if(t.isEdge())return n(t)},ifEdgeRenderedPosition=function(t,n){if(t.isEdge()){var s=t.cy();return modelToRenderedPosition(n(t),s.zoom(),s.pan())}},ifEdgeRenderedPositions=function(t,n){if(t.isEdge()){var s=t.cy(),u=s.pan(),f=s.zoom();return n(t).map(function(d){return modelToRenderedPosition(d,f,u)})}},controlPoints=function(t){return t.renderer().getControlPoints(t)},segmentPoints=function(t){return t.renderer().getSegmentPoints(t)},sourceEndpoint=function(t){return t.renderer().getSourceEndpoint(t)},targetEndpoint=function(t){return t.renderer().getTargetEndpoint(t)},midpoint=function(t){return t.renderer().getEdgeMidpoint(t)},pts={controlPoints:{get:controlPoints,mult:!0},segmentPoints:{get:segmentPoints,mult:!0},sourceEndpoint:{get:sourceEndpoint},targetEndpoint:{get:targetEndpoint},midpoint:{get:midpoint}},renderedName=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)},edgePoints=Object.keys(pts).reduce(function(e,t){var n=pts[t],s=renderedName(t);return e[t]=function(){return ifEdge(this,n.get)},n.mult?e[s]=function(){return ifEdgeRenderedPositions(this,n.get)}:e[s]=function(){return ifEdgeRenderedPosition(this,n.get)},e},{}),dimensions=extend({},position$1,bounds,widthHeight,edgePoints);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Event=function(t,n){this.recycle(t,n)};function returnFalse(){return!1}function returnTrue(){return!0}Event.prototype={instanceString:function(){return"event"},recycle:function(t,n){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=returnFalse,t!=null&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?returnTrue:returnFalse):t!=null&&t.type?n=t:this.type=t,n!=null&&(this.originalEvent=n.originalEvent,this.type=n.type!=null?n.type:this.type,this.cy=n.cy,this.target=n.target,this.position=n.position,this.renderedPosition=n.renderedPosition,this.namespace=n.namespace,this.layout=n.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var s=this.position,u=this.cy.zoom(),f=this.cy.pan();this.renderedPosition={x:s.x*u+f.x,y:s.y*u+f.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=returnTrue;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=returnTrue;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};var eventRegex=/^([^.]+)(\.(?:[^.]+))?$/,universalNamespace=".*",defaults$8={qualifierCompare:function(t,n){return t===n},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},defaultsKeys=Object.keys(defaults$8),emptyOpts={};function Emitter(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:emptyOpts,t=arguments.length>1?arguments[1]:void 0,n=0;n<defaultsKeys.length;n++){var s=defaultsKeys[n];this[s]=e[s]||defaults$8[s]}this.context=t||this.context,this.listeners=[],this.emitting=0}var p=Emitter.prototype,forEachEvent=function(t,n,s,u,f,d,g){fn$6(u)&&(f=u,u=null),g&&(d==null?d=g:d=extend({},d,g));for(var v=array(s)?s:s.split(/\s+/),S=0;S<v.length;S++){var M=v[S];if(!emptyString(M)){var I=M.match(eventRegex);if(I){var P=I[1],N=I[2]?I[2]:null,F=n(t,M,P,N,u,f,d);if(F===!1)break}}}},makeEventObj=function(t,n){return t.addEventFields(t.context,n),new Event(n.type,n)},forEachEventObj=function(t,n,s){if(event(s)){n(t,s);return}else if(plainObject(s)){n(t,makeEventObj(t,s));return}for(var u=array(s)?s:s.split(/\s+/),f=0;f<u.length;f++){var d=u[f];if(!emptyString(d)){var g=d.match(eventRegex);if(g){var v=g[1],S=g[2]?g[2]:null,M=makeEventObj(t,{type:v,namespace:S,target:t.context});n(t,M)}}}};p.on=p.addListener=function(e,t,n,s,u){return forEachEvent(this,function(f,d,g,v,S,M,I){fn$6(M)&&f.listeners.push({event:d,callback:M,type:g,namespace:v,qualifier:S,conf:I})},e,t,n,s,u),this};p.one=function(e,t,n,s){return this.on(e,t,n,s,{one:!0})};p.removeListener=p.off=function(e,t,n,s){var u=this;this.emitting!==0&&(this.listeners=copyArray(this.listeners));for(var f=this.listeners,d=function(S){var M=f[S];forEachEvent(u,function(I,P,N,F,j,U){if((M.type===N||e==="*")&&(!F&&M.namespace!==".*"||M.namespace===F)&&(!j||I.qualifierCompare(M.qualifier,j))&&(!U||M.callback===U))return f.splice(S,1),!1},e,t,n,s)},g=f.length-1;g>=0;g--)d(g);return this};p.removeAllListeners=function(){return this.removeListener("*")};p.emit=p.trigger=function(e,t,n){var s=this.listeners,u=s.length;return this.emitting++,array(t)||(t=[t]),forEachEventObj(this,function(f,d){n!=null&&(s=[{event:d.event,type:d.type,namespace:d.namespace,callback:n}],u=s.length);for(var g=function(M){var I=s[M];if(I.type===d.type&&(!I.namespace||I.namespace===d.namespace||I.namespace===universalNamespace)&&f.eventMatches(f.context,I,d)){var P=[d];t!=null&&push(P,t),f.beforeEmit(f.context,I,d),I.conf&&I.conf.one&&(f.listeners=f.listeners.filter(function(j){return j!==I}));var N=f.callbackContext(f.context,I,d),F=I.callback.apply(N,P);f.afterEmit(f.context,I,d),F===!1&&(d.stopPropagation(),d.preventDefault())}},v=0;v<u;v++)g(v);f.bubble(f.context)&&!d.isPropagationStopped()&&f.parent(f.context).emit(d,t)},e),this.emitting--,this};var emitterOptions$1={qualifierCompare:function(t,n){return t==null||n==null?t==null&&n==null:t.sameText(n)},eventMatches:function(t,n,s){var u=n.qualifier;return u!=null?t!==s.target&&element(s.target)&&u.matches(s.target):!0},addEventFields:function(t,n){n.cy=t.cy(),n.target=t},callbackContext:function(t,n,s){return n.qualifier!=null?s.target:t},beforeEmit:function(t,n){n.conf&&n.conf.once&&n.conf.onceCollection.removeListener(n.event,n.qualifier,n.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},argSelector$1=function(t){return string(t)?new Selector(t):t},elesfn$9={createEmitter:function(){for(var t=0;t<this.length;t++){var n=this[t],s=n._private;s.emitter||(s.emitter=new Emitter(emitterOptions$1,n))}return this},emitter:function(){return this._private.emitter},on:function(t,n,s){for(var u=argSelector$1(n),f=0;f<this.length;f++){var d=this[f];d.emitter().on(t,u,s)}return this},removeListener:function(t,n,s){for(var u=argSelector$1(n),f=0;f<this.length;f++){var d=this[f];d.emitter().removeListener(t,u,s)}return this},removeAllListeners:function(){for(var t=0;t<this.length;t++){var n=this[t];n.emitter().removeAllListeners()}return this},one:function(t,n,s){for(var u=argSelector$1(n),f=0;f<this.length;f++){var d=this[f];d.emitter().one(t,u,s)}return this},once:function(t,n,s){for(var u=argSelector$1(n),f=0;f<this.length;f++){var d=this[f];d.emitter().on(t,u,s,{once:!0,onceCollection:this})}},emit:function(t,n){for(var s=0;s<this.length;s++){var u=this[s];u.emitter().emit(t,n)}return this},emitAndNotify:function(t,n){if(this.length!==0)return this.cy().notify(t,this),this.emit(t,n),this}};define.eventAliasesOn(elesfn$9);var elesfn$8={nodes:function(t){return this.filter(function(n){return n.isNode()}).filter(t)},edges:function(t){return this.filter(function(n){return n.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),n=this.spawn(),s=0;s<this.length;s++){var u=this[s];u.isNode()?t.push(u):n.push(u)}return{nodes:t,edges:n}},filter:function(t,n){if(t===void 0)return this;if(string(t)||elementOrCollection(t))return new Selector(t).filter(this);if(fn$6(t)){for(var s=this.spawn(),u=this,f=0;f<u.length;f++){var d=u[f],g=n?t.apply(n,[d,f,u]):t(d,f,u);g&&s.push(d)}return s}return this.spawn()},not:function(t){if(t){string(t)&&(t=this.filter(t));for(var n=this.spawn(),s=0;s<this.length;s++){var u=this[s],f=t.has(u);f||n.push(u)}return n}else return this},absoluteComplement:function(){var t=this.cy();return t.mutableElements().not(this)},intersect:function(t){if(string(t)){var n=t;return this.filter(n)}for(var s=this.spawn(),u=this,f=t,d=this.length<t.length,g=d?u:f,v=d?f:u,S=0;S<g.length;S++){var M=g[S];v.has(M)&&s.push(M)}return s},xor:function(t){var n=this._private.cy;string(t)&&(t=n.$(t));var s=this.spawn(),u=this,f=t,d=function(v,S){for(var M=0;M<v.length;M++){var I=v[M],P=I._private.data.id,N=S.hasElementWithId(P);N||s.push(I)}};return d(u,f),d(f,u),s},diff:function(t){var n=this._private.cy;string(t)&&(t=n.$(t));var s=this.spawn(),u=this.spawn(),f=this.spawn(),d=this,g=t,v=function(M,I,P){for(var N=0;N<M.length;N++){var F=M[N],j=F._private.data.id,U=I.hasElementWithId(j);U?f.merge(F):P.push(F)}};return v(d,g,s),v(g,d,u),{left:s,right:u,both:f}},add:function(t){var n=this._private.cy;if(!t)return this;if(string(t)){var s=t;t=n.mutableElements().filter(s)}for(var u=this.spawnSelf(),f=0;f<t.length;f++){var d=t[f],g=!this.has(d);g&&u.push(d)}return u},merge:function(t){var n=this._private,s=n.cy;if(!t)return this;if(t&&string(t)){var u=t;t=s.mutableElements().filter(u)}for(var f=n.map,d=0;d<t.length;d++){var g=t[d],v=g._private.data.id,S=!f.has(v);if(S){var M=this.length++;this[M]=g,f.set(v,{ele:g,index:M})}}return this},unmergeAt:function(t){var n=this[t],s=n.id(),u=this._private,f=u.map;this[t]=void 0,f.delete(s);var d=t===this.length-1;if(this.length>1&&!d){var g=this.length-1,v=this[g],S=v._private.data.id;this[g]=void 0,this[t]=v,f.set(S,{ele:v,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var n=this._private,s=t._private.data.id,u=n.map,f=u.get(s);if(!f)return this;var d=f.index;return this.unmergeAt(d),this},unmerge:function(t){var n=this._private.cy;if(!t)return this;if(t&&string(t)){var s=t;t=n.mutableElements().filter(s)}for(var u=0;u<t.length;u++)this.unmergeOne(t[u]);return this},unmergeBy:function(t){for(var n=this.length-1;n>=0;n--){var s=this[n];t(s)&&this.unmergeAt(n)}return this},map:function(t,n){for(var s=[],u=this,f=0;f<u.length;f++){var d=u[f],g=n?t.apply(n,[d,f,u]):t(d,f,u);s.push(g)}return s},reduce:function(t,n){for(var s=n,u=this,f=0;f<u.length;f++)s=t(s,u[f],f,u);return s},max:function(t,n){for(var s=-1/0,u,f=this,d=0;d<f.length;d++){var g=f[d],v=n?t.apply(n,[g,d,f]):t(g,d,f);v>s&&(s=v,u=g)}return{value:s,ele:u}},min:function(t,n){for(var s=1/0,u,f=this,d=0;d<f.length;d++){var g=f[d],v=n?t.apply(n,[g,d,f]):t(g,d,f);v<s&&(s=v,u=g)}return{value:s,ele:u}}},fn$1=elesfn$8;fn$1.u=fn$1["|"]=fn$1["+"]=fn$1.union=fn$1.or=fn$1.add;fn$1["\\"]=fn$1["!"]=fn$1["-"]=fn$1.difference=fn$1.relativeComplement=fn$1.subtract=fn$1.not;fn$1.n=fn$1["&"]=fn$1["."]=fn$1.and=fn$1.intersection=fn$1.intersect;fn$1["^"]=fn$1["(+)"]=fn$1["(-)"]=fn$1.symmetricDifference=fn$1.symdiff=fn$1.xor;fn$1.fnFilter=fn$1.filterFn=fn$1.stdFilter=fn$1.filter;fn$1.complement=fn$1.abscomp=fn$1.absoluteComplement;var elesfn$7={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},zIndexSort=function(t,n){var s=t.cy(),u=s.hasCompoundNodes();function f(M){var I=M.pstyle("z-compound-depth");return I.value==="auto"?u?M.zDepth():0:I.value==="bottom"?-1:I.value==="top"?MAX_INT$1:0}var d=f(t)-f(n);if(d!==0)return d;function g(M){var I=M.pstyle("z-index-compare");return I.value==="auto"&&M.isNode()?1:0}var v=g(t)-g(n);if(v!==0)return v;var S=t.pstyle("z-index").value-n.pstyle("z-index").value;return S!==0?S:t.poolIndex()-n.poolIndex()},elesfn$6={forEach:function(t,n){if(fn$6(t))for(var s=this.length,u=0;u<s;u++){var f=this[u],d=n?t.apply(n,[f,u,this]):t(f,u,this);if(d===!1)break}return this},toArray:function(){for(var t=[],n=0;n<this.length;n++)t.push(this[n]);return t},slice:function(t,n){var s=[],u=this.length;n==null&&(n=u),t==null&&(t=0),t<0&&(t=u+t),n<0&&(n=u+n);for(var f=t;f>=0&&f<n&&f<u;f++)s.push(this[f]);return this.spawn(s)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(t){if(!fn$6(t))return this;var n=this.toArray().sort(t);return this.spawn(n)},sortByZIndex:function(){return this.sort(zIndexSort)},zDepth:function(){var t=this[0];if(t){var n=t._private,s=n.group;if(s==="nodes"){var u=n.data.parent?t.parents().size():0;return t.isParent()?u:MAX_INT$1-1}else{var f=n.source,d=n.target,g=f.zDepth(),v=d.zDepth();return Math.max(g,v,0)}}}};elesfn$6.each=elesfn$6.forEach;var defineSymbolIterator=function(){var t="undefined",n=(typeof Symbol>"u"?"undefined":_typeof(Symbol))!=t&&_typeof(Symbol.iterator)!=t;n&&(elesfn$6[Symbol.iterator]=function(){var s=this,u={value:void 0,done:!1},f=0,d=this.length;return _defineProperty({next:function(){return f<d?u.value=s[f++]:(u.value=void 0,u.done=!0),u}},Symbol.iterator,function(){return this})})};defineSymbolIterator();var getLayoutDimensionOptions=defaults$g({nodeDimensionsIncludeLabels:!1}),elesfn$5={layoutDimensions:function(t){t=getLayoutDimensionOptions(t);var n;if(!this.takesUpSpace())n={w:0,h:0};else if(t.nodeDimensionsIncludeLabels){var s=this.boundingBox();n={w:s.w,h:s.h}}else n={w:this.outerWidth(),h:this.outerHeight()};return(n.w===0||n.h===0)&&(n.w=n.h=1),n},layoutPositions:function(t,n,s){var u=this.nodes().filter(function(te){return!te.isParent()}),f=this.cy(),d=n.eles,g=function(oe){return oe.id()},v=memoize(s,g);t.emit({type:"layoutstart",layout:t}),t.animations=[];var S=function(oe,ue,se){var le={x:ue.x1+ue.w/2,y:ue.y1+ue.h/2},de={x:(se.x-le.x)*oe,y:(se.y-le.y)*oe};return{x:le.x+de.x,y:le.y+de.y}},M=n.spacingFactor&&n.spacingFactor!==1,I=function(){if(!M)return null;for(var oe=makeBoundingBox(),ue=0;ue<u.length;ue++){var se=u[ue],le=v(se,ue);expandBoundingBoxByPoint(oe,le.x,le.y)}return oe},P=I(),N=memoize(function(te,oe){var ue=v(te,oe);if(M){var se=Math.abs(n.spacingFactor);ue=S(se,P,ue)}return n.transform!=null&&(ue=n.transform(te,ue)),ue},g);if(n.animate){for(var F=0;F<u.length;F++){var j=u[F],U=N(j,F),V=n.animateFilter==null||n.animateFilter(j,F);if(V){var Z=j.animation({position:U,duration:n.animationDuration,easing:n.animationEasing});t.animations.push(Z)}else j.position(U)}if(n.fit){var Q=f.animation({fit:{boundingBox:d.boundingBoxAt(N),padding:n.padding},duration:n.animationDuration,easing:n.animationEasing});t.animations.push(Q)}else if(n.zoom!==void 0&&n.pan!==void 0){var J=f.animation({zoom:n.zoom,pan:n.pan,duration:n.animationDuration,easing:n.animationEasing});t.animations.push(J)}t.animations.forEach(function(te){return te.play()}),t.one("layoutready",n.ready),t.emit({type:"layoutready",layout:t}),Promise$1.all(t.animations.map(function(te){return te.promise()})).then(function(){t.one("layoutstop",n.stop),t.emit({type:"layoutstop",layout:t})})}else u.positions(N),n.fit&&f.fit(n.eles,n.padding),n.zoom!=null&&f.zoom(n.zoom),n.pan&&f.pan(n.pan),t.one("layoutready",n.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",n.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){var n=this.cy();return n.makeLayout(extend({},t,{eles:this}))}};elesfn$5.createLayout=elesfn$5.makeLayout=elesfn$5.layout;function styleCache(e,t,n){var s=n._private,u=s.styleCache=s.styleCache||[],f;return(f=u[e])!=null||(f=u[e]=t(n)),f}function cacheStyleFunction(e,t){return e=hashString(e),function(s){return styleCache(e,t,s)}}function cachePrototypeStyleFunction(e,t){e=hashString(e);var n=function(u){return t.call(u)};return function(){var u=this[0];if(u)return styleCache(e,n,u)}}var elesfn$4={recalculateRenderedStyle:function(t){var n=this.cy(),s=n.renderer(),u=n.styleEnabled();return s&&u&&s.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t=this.cy(),n=function(f){return f._private.styleCache=null};if(t.hasCompoundNodes()){var s;s=this.spawnSelf().merge(this.descendants()).merge(this.parents()),s.merge(s.connectedEdges()),s.forEach(n)}else this.forEach(function(u){n(u),u.connectedEdges().forEach(n)});return this},updateStyle:function(t){var n=this._private.cy;if(!n.styleEnabled())return this;if(n.batching()){var s=n._private.batchStyleEles;return s.merge(this),this}var u=n.hasCompoundNodes(),f=this;t=!!(t||t===void 0),u&&(f=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var d=f;return t?d.emitAndNotify("style"):d.emit("style"),f.forEach(function(g){return g._private.styleDirty=!0}),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var n=0;n<this.length;n++){var s=this[n];s._private.styleDirty&&(s._private.styleDirty=!1,t.style().apply(s))}},parsedStyle:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=this[0],u=s.cy();if(u.styleEnabled()&&s){this.cleanStyle();var f=s._private.style[t];return f??(n?u.style().getDefaultProperty(t):null)}},numericStyle:function(t){var n=this[0];if(n.cy().styleEnabled()&&n){var s=n.pstyle(t);return s.pfValue!==void 0?s.pfValue:s.value}},numericStyleUnits:function(t){var n=this[0];if(n.cy().styleEnabled()&&n)return n.pstyle(t).units},renderedStyle:function(t){var n=this.cy();if(!n.styleEnabled())return this;var s=this[0];if(s)return n.style().getRenderedStyle(s,t)},style:function(t,n){var s=this.cy();if(!s.styleEnabled())return this;var u=!1,f=s.style();if(plainObject(t)){var d=t;f.applyBypass(this,d,u),this.emitAndNotify("style")}else if(string(t))if(n===void 0){var g=this[0];return g?f.getStylePropertyValue(g,t):void 0}else f.applyBypass(this,t,n,u),this.emitAndNotify("style");else if(t===void 0){var v=this[0];return v?f.getRawStyle(v):void 0}return this},removeStyle:function(t){var n=this.cy();if(!n.styleEnabled())return this;var s=!1,u=n.style(),f=this;if(t===void 0)for(var d=0;d<f.length;d++){var g=f[d];u.removeAllBypasses(g,s)}else{t=t.split(/\s+/);for(var v=0;v<f.length;v++){var S=f[v];u.removeBypasses(S,t,s)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var n=t.hasCompoundNodes(),s=this[0];if(s){var u=s._private,f=s.pstyle("opacity").value;if(!n)return f;var d=u.data.parent?s.parents():null;if(d)for(var g=0;g<d.length;g++){var v=d[g],S=v.pstyle("opacity").value;f=S*f}return f}},transparent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var n=this[0],s=n.cy().hasCompoundNodes();if(n)return s?n.effectiveOpacity()===0:n.pstyle("opacity").value===0},backgrounding:function(){var t=this.cy();if(!t.styleEnabled())return!1;var n=this[0];return!!n._private.backgrounding}};function checkCompound(e,t){var n=e._private,s=n.data.parent?e.parents():null;if(s)for(var u=0;u<s.length;u++){var f=s[u];if(!t(f))return!1}return!0}function defineDerivedStateFunction(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,s=e.parentOk||e.ok;return function(){var u=this.cy();if(!u.styleEnabled())return!0;var f=this[0],d=u.hasCompoundNodes();if(f){var g=f._private;if(!t(f))return!1;if(f.isNode())return!d||checkCompound(f,s);var v=g.source,S=g.target;return n(v)&&(!d||checkCompound(v,n))&&(v===S||n(S)&&(!d||checkCompound(S,n)))}}}var eleTakesUpSpace=cacheStyleFunction("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)});elesfn$4.takesUpSpace=cachePrototypeStyleFunction("takesUpSpace",defineDerivedStateFunction({ok:eleTakesUpSpace}));var eleInteractive=cacheStyleFunction("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&eleTakesUpSpace(e)}),parentInteractive=cacheStyleFunction("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&eleTakesUpSpace(e)});elesfn$4.interactive=cachePrototypeStyleFunction("interactive",defineDerivedStateFunction({ok:eleInteractive,parentOk:parentInteractive,edgeOkViaNode:eleTakesUpSpace}));elesfn$4.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var eleVisible=cacheStyleFunction("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&eleTakesUpSpace(e)}),edgeVisibleViaNode=eleTakesUpSpace;elesfn$4.visible=cachePrototypeStyleFunction("visible",defineDerivedStateFunction({ok:eleVisible,edgeOkViaNode:edgeVisibleViaNode}));elesfn$4.hidden=function(){var e=this[0];if(e)return!e.visible()};elesfn$4.isBundledBezier=cachePrototypeStyleFunction("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});elesfn$4.bypass=elesfn$4.css=elesfn$4.style;elesfn$4.renderedCss=elesfn$4.renderedStyle;elesfn$4.removeBypass=elesfn$4.removeCss=elesfn$4.removeStyle;elesfn$4.pstyle=elesfn$4.parsedStyle;var elesfn$3={};function defineSwitchFunction(e){return function(){var t=arguments,n=[];if(t.length===2){var s=t[0],u=t[1];this.on(e.event,s,u)}else if(t.length===1&&fn$6(t[0])){var f=t[0];this.on(e.event,f)}else if(t.length===0||t.length===1&&array(t[0])){for(var d=t.length===1?t[0]:null,g=0;g<this.length;g++){var v=this[g],S=!e.ableField||v._private[e.ableField],M=v._private[e.field]!=e.value;if(e.overrideAble){var I=e.overrideAble(v);if(I!==void 0&&(S=I,!I))return this}S&&(v._private[e.field]=e.value,M&&n.push(v))}var P=this.spawn(n);P.updateStyle(),P.emit(e.event),d&&P.emit(d)}return this}}function defineSwitchSet(e){elesfn$3[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(n!==void 0)return n}return t._private[e.field]}},elesfn$3[e.on]=defineSwitchFunction({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),elesfn$3[e.off]=defineSwitchFunction({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}defineSwitchSet({field:"locked",overrideField:function(t){return t.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});defineSwitchSet({field:"grabbable",overrideField:function(t){return t.cy().autoungrabify()||t.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});defineSwitchSet({field:"selected",ableField:"selectable",overrideAble:function(t){return t.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});defineSwitchSet({field:"selectable",overrideField:function(t){return t.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});elesfn$3.deselect=elesfn$3.unselect;elesfn$3.grabbed=function(){var e=this[0];if(e)return e._private.grabbed};defineSwitchSet({field:"active",on:"activate",off:"unactivate"});defineSwitchSet({field:"pannable",on:"panify",off:"unpanify"});elesfn$3.inactive=function(){var e=this[0];if(e)return!e._private.active};var elesfn$2={},defineDagExtremity=function(t){return function(s){for(var u=this,f=[],d=0;d<u.length;d++){var g=u[d];if(g.isNode()){for(var v=!1,S=g.connectedEdges(),M=0;M<S.length;M++){var I=S[M],P=I.source(),N=I.target();if(t.noIncomingEdges&&N===g&&P!==g||t.noOutgoingEdges&&P===g&&N!==g){v=!0;break}}v||f.push(g)}}return this.spawn(f,!0).filter(s)}},defineDagOneHop=function(t){return function(n){for(var s=this,u=[],f=0;f<s.length;f++){var d=s[f];if(d.isNode())for(var g=d.connectedEdges(),v=0;v<g.length;v++){var S=g[v],M=S.source(),I=S.target();t.outgoing&&M===d?(u.push(S),u.push(I)):t.incoming&&I===d&&(u.push(S),u.push(M))}}return this.spawn(u,!0).filter(n)}},defineDagAllHops=function(t){return function(n){for(var s=this,u=[],f={};;){var d=t.outgoing?s.outgoers():s.incomers();if(d.length===0)break;for(var g=!1,v=0;v<d.length;v++){var S=d[v],M=S.id();f[M]||(f[M]=!0,u.push(S),g=!0)}if(!g)break;s=d}return this.spawn(u,!0).filter(n)}};elesfn$2.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null};extend(elesfn$2,{roots:defineDagExtremity({noIncomingEdges:!0}),leaves:defineDagExtremity({noOutgoingEdges:!0}),outgoers:cache(defineDagOneHop({outgoing:!0}),"outgoers"),successors:defineDagAllHops({outgoing:!0}),incomers:cache(defineDagOneHop({incoming:!0}),"incomers"),predecessors:defineDagAllHops({incoming:!0})});extend(elesfn$2,{neighborhood:cache(function(e){for(var t=[],n=this.nodes(),s=0;s<n.length;s++)for(var u=n[s],f=u.connectedEdges(),d=0;d<f.length;d++){var g=f[d],v=g.source(),S=g.target(),M=u===v?S:v;M.length>0&&t.push(M[0]),t.push(g[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}});elesfn$2.neighbourhood=elesfn$2.neighborhood;elesfn$2.closedNeighbourhood=elesfn$2.closedNeighborhood;elesfn$2.openNeighbourhood=elesfn$2.openNeighborhood;extend(elesfn$2,{source:cache(function(t){var n=this[0],s;return n&&(s=n._private.source||n.cy().collection()),s&&t?s.filter(t):s},"source"),target:cache(function(t){var n=this[0],s;return n&&(s=n._private.target||n.cy().collection()),s&&t?s.filter(t):s},"target"),sources:defineSourceFunction({attr:"source"}),targets:defineSourceFunction({attr:"target"})});function defineSourceFunction(e){return function(n){for(var s=[],u=0;u<this.length;u++){var f=this[u],d=f._private[e.attr];d&&s.push(d)}return this.spawn(s,!0).filter(n)}}extend(elesfn$2,{edgesWith:cache(defineEdgesWithFunction(),"edgesWith"),edgesTo:cache(defineEdgesWithFunction({thisIsSrc:!0}),"edgesTo")});function defineEdgesWithFunction(e){return function(n){var s=[],u=this._private.cy,f=e||{};string(n)&&(n=u.$(n));for(var d=0;d<n.length;d++)for(var g=n[d]._private.edges,v=0;v<g.length;v++){var S=g[v],M=S._private.data,I=this.hasElementWithId(M.source)&&n.hasElementWithId(M.target),P=n.hasElementWithId(M.source)&&this.hasElementWithId(M.target),N=I||P;N&&((f.thisIsSrc||f.thisIsTgt)&&(f.thisIsSrc&&!I||f.thisIsTgt&&!P)||s.push(S))}return this.spawn(s,!0)}}extend(elesfn$2,{connectedEdges:cache(function(e){for(var t=[],n=this,s=0;s<n.length;s++){var u=n[s];if(u.isNode())for(var f=u._private.edges,d=0;d<f.length;d++){var g=f[d];t.push(g)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:cache(function(e){for(var t=[],n=this,s=0;s<n.length;s++){var u=n[s];u.isEdge()&&(t.push(u.source()[0]),t.push(u.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:cache(defineParallelEdgesFunction(),"parallelEdges"),codirectedEdges:cache(defineParallelEdgesFunction({codirected:!0}),"codirectedEdges")});function defineParallelEdgesFunction(e){var t={codirected:!1};return e=extend({},t,e),function(s){for(var u=[],f=this.edges(),d=e,g=0;g<f.length;g++)for(var v=f[g],S=v._private,M=S.source,I=M._private.data.id,P=S.data.target,N=M._private.edges,F=0;F<N.length;F++){var j=N[F],U=j._private.data,V=U.target,Z=U.source,Q=V===P&&Z===I,J=I===V&&P===Z;(d.codirected&&Q||!d.codirected&&(Q||J))&&u.push(j)}return this.spawn(u,!0).filter(s)}}extend(elesfn$2,{components:function(t){var n=this,s=n.cy(),u=s.collection(),f=t==null?n.nodes():t.nodes(),d=[];t!=null&&f.empty()&&(f=t.sources());var g=function(M,I){u.merge(M),f.unmerge(M),I.merge(M)};if(f.empty())return n.spawn();var v=function(){var M=s.collection();d.push(M);var I=f[0];g(I,M),n.bfs({directed:!1,roots:I,visit:function(N){return g(N,M)}}),M.forEach(function(P){P.connectedEdges().forEach(function(N){n.has(N)&&M.has(N.source())&&M.has(N.target())&&M.merge(N)})})};do v();while(f.length>0);return d},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}});elesfn$2.componentsOf=elesfn$2.components;var Collection=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t===void 0){error("A collection must have a reference to the core");return}var f=new Map$1,d=!1;if(!n)n=[];else if(n.length>0&&plainObject(n[0])&&!element(n[0])){d=!0;for(var g=[],v=new Set$1,S=0,M=n.length;S<M;S++){var I=n[S];I.data==null&&(I.data={});var P=I.data;if(P.id==null)P.id=uuid();else if(t.hasElementWithId(P.id)||v.has(P.id))continue;var N=new Element$1(t,I,!1);g.push(N),v.add(P.id)}n=g}this.length=0;for(var F=0,j=n.length;F<j;F++){var U=n[F][0];if(U!=null){var V=U._private.data.id;(!s||!f.has(V))&&(s&&f.set(V,{index:this.length,ele:U}),this[this.length]=U,this.length++)}}this._private={eles:this,cy:t,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(Z){this.lazyMap=Z},rebuildMap:function(){for(var Q=this.lazyMap=new Map$1,J=this.eles,te=0;te<J.length;te++){var oe=J[te];Q.set(oe.id(),{index:te,ele:oe})}}},s&&(this._private.map=f),d&&!u&&this.restore()},elesfn$1=Element$1.prototype=Collection.prototype=Object.create(Array.prototype);elesfn$1.instanceString=function(){return"collection"};elesfn$1.spawn=function(e,t){return new Collection(this.cy(),e,t)};elesfn$1.spawnSelf=function(){return this.spawn(this)};elesfn$1.cy=function(){return this._private.cy};elesfn$1.renderer=function(){return this._private.cy.renderer()};elesfn$1.element=function(){return this[0]};elesfn$1.collection=function(){return collection(this)?this:new Collection(this._private.cy,[this])};elesfn$1.unique=function(){return new Collection(this._private.cy,this,!0)};elesfn$1.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)};elesfn$1.getElementById=function(e){e=""+e;var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new Collection(t)};elesfn$1.$id=elesfn$1.getElementById;elesfn$1.poolIndex=function(){var e=this._private.cy,t=e._private.elements,n=this[0]._private.data.id;return t._private.map.get(n).index};elesfn$1.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index};elesfn$1.indexOfId=function(e){return e=""+e,this._private.map.get(e).index};elesfn$1.json=function(e){var t=this.element(),n=this.cy();if(t==null&&e)return this;if(t!=null){var s=t._private;if(plainObject(e)){if(n.startBatch(),e.data){t.data(e.data);var u=s.data;if(t.isEdge()){var f=!1,d={},g=e.data.source,v=e.data.target;g!=null&&g!=u.source&&(d.source=""+g,f=!0),v!=null&&v!=u.target&&(d.target=""+v,f=!0),f&&(t=t.move(d))}else{var S="parent"in e.data,M=e.data.parent;S&&(M!=null||u.parent!=null)&&M!=u.parent&&(M===void 0&&(M=null),M!=null&&(M=""+M),t=t.move({parent:M}))}}e.position&&t.position(e.position);var I=function(j,U,V){var Z=e[j];Z!=null&&Z!==s[j]&&(Z?t[U]():t[V]())};return I("removed","remove","restore"),I("selected","select","unselect"),I("selectable","selectify","unselectify"),I("locked","lock","unlock"),I("grabbable","grabify","ungrabify"),I("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),n.endBatch(),this}else if(e===void 0){var P={data:copy(s.data),position:copy(s.position),group:s.group,removed:s.removed,selected:s.selected,selectable:s.selectable,locked:s.locked,grabbable:s.grabbable,pannable:s.pannable,classes:null};P.classes="";var N=0;return s.classes.forEach(function(F){return P.classes+=N++===0?F:" "+F}),P}}};elesfn$1.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t],s=n.json();e.push(s)}return e};elesfn$1.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var s=this[n],u=s.json(),f=new Element$1(e,u,!1);t.push(f)}return new Collection(e,t)};elesfn$1.copy=elesfn$1.clone;elesfn$1.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this,s=n.cy(),u=s._private,f=[],d=[],g,v=0,S=n.length;v<S;v++){var M=n[v];t&&!M.removed()||(M.isNode()?f.push(M):d.push(M))}g=f.concat(d);var I,P=function(){g.splice(I,1),I--};for(I=0;I<g.length;I++){var N=g[I],F=N._private,j=F.data;if(N.clearTraversalCache(),!(!t&&!F.removed)){if(j.id===void 0)j.id=uuid();else if(number$1(j.id))j.id=""+j.id;else if(emptyString(j.id)||!string(j.id)){error("Can not create element with invalid string ID `"+j.id+"`"),P();continue}else if(s.hasElementWithId(j.id)){error("Can not create second element with ID `"+j.id+"`"),P();continue}}var U=j.id;if(N.isNode()){var V=F.position;V.x==null&&(V.x=0),V.y==null&&(V.y=0)}if(N.isEdge()){for(var Z=N,Q=["source","target"],J=Q.length,te=!1,oe=0;oe<J;oe++){var ue=Q[oe],se=j[ue];number$1(se)&&(se=j[ue]=""+j[ue]),se==null||se===""?(error("Can not create edge `"+U+"` with unspecified "+ue),te=!0):s.hasElementWithId(se)||(error("Can not create edge `"+U+"` with nonexistant "+ue+" `"+se+"`"),te=!0)}if(te){P();continue}var le=s.getElementById(j.source),de=s.getElementById(j.target);le.same(de)?le._private.edges.push(Z):(le._private.edges.push(Z),de._private.edges.push(Z)),Z._private.source=le,Z._private.target=de}F.map=new Map$1,F.map.set(U,{ele:N,index:0}),F.removed=!1,t&&s.addToPool(N)}for(var ge=0;ge<f.length;ge++){var ve=f[ge],me=ve._private.data;number$1(me.parent)&&(me.parent=""+me.parent);var ye=me.parent,Ae=ye!=null;if(Ae||ve._private.parent){var Te=ve._private.parent?s.collection().merge(ve._private.parent):s.getElementById(ye);if(Te.empty())me.parent=void 0;else if(Te[0].removed())warn("Node added with missing parent, reference to parent removed"),me.parent=void 0,ve._private.parent=null;else{for(var Oe=!1,Ie=Te;!Ie.empty();){if(ve.same(Ie)){Oe=!0,me.parent=void 0;break}Ie=Ie.parent()}Oe||(Te[0]._private.children.push(ve),ve._private.parent=Te[0],u.hasCompoundNodes=!0)}}}if(g.length>0){for(var Be=g.length===n.length?n:new Collection(s,g),De=0;De<Be.length;De++){var Pe=Be[De];Pe.isNode()||(Pe.parallelEdges().clearTraversalCache(),Pe.source().clearTraversalCache(),Pe.target().clearTraversalCache())}var Ne;u.hasCompoundNodes?Ne=s.collection().merge(Be).merge(Be.connectedNodes()).merge(Be.parent()):Ne=Be,Ne.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?Be.emitAndNotify("add"):t&&Be.emit("add")}return n};elesfn$1.removed=function(){var e=this[0];return e&&e._private.removed};elesfn$1.inside=function(){var e=this[0];return e&&!e._private.removed};elesfn$1.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this,s=[],u={},f=n._private.cy;function d(ye){for(var Ae=ye._private.edges,Te=0;Te<Ae.length;Te++)v(Ae[Te])}function g(ye){for(var Ae=ye._private.children,Te=0;Te<Ae.length;Te++)v(Ae[Te])}function v(ye){var Ae=u[ye.id()];t&&ye.removed()||Ae||(u[ye.id()]=!0,ye.isNode()?(s.push(ye),d(ye),g(ye)):s.unshift(ye))}for(var S=0,M=n.length;S<M;S++){var I=n[S];v(I)}function P(ye,Ae){var Te=ye._private.edges;removeFromArray(Te,Ae),ye.clearTraversalCache()}function N(ye){ye.clearTraversalCache()}var F=[];F.ids={};function j(ye,Ae){Ae=Ae[0],ye=ye[0];var Te=ye._private.children,Oe=ye.id();removeFromArray(Te,Ae),Ae._private.parent=null,F.ids[Oe]||(F.ids[Oe]=!0,F.push(ye))}n.dirtyCompoundBoundsCache(),t&&f.removeFromPool(s);for(var U=0;U<s.length;U++){var V=s[U];if(V.isEdge()){var Z=V.source()[0],Q=V.target()[0];P(Z,V),P(Q,V);for(var J=V.parallelEdges(),te=0;te<J.length;te++){var oe=J[te];N(oe),oe.isBundledBezier()&&oe.dirtyBoundingBoxCache()}}else{var ue=V.parent();ue.length!==0&&j(ue,V)}t&&(V._private.removed=!0)}var se=f._private.elements;f._private.hasCompoundNodes=!1;for(var le=0;le<se.length;le++){var de=se[le];if(de.isParent()){f._private.hasCompoundNodes=!0;break}}var ge=new Collection(this.cy(),s);ge.size()>0&&(e?ge.emitAndNotify("remove"):t&&ge.emit("remove"));for(var ve=0;ve<F.length;ve++){var me=F[ve];(!t||!me.removed())&&me.updateStyle()}return ge};elesfn$1.move=function(e){var t=this._private.cy,n=this,s=!1,u=!1,f=function(F){return F==null?F:""+F};if(e.source!==void 0||e.target!==void 0){var d=f(e.source),g=f(e.target),v=d!=null&&t.hasElementWithId(d),S=g!=null&&t.hasElementWithId(g);(v||S)&&(t.batch(function(){n.remove(s,u),n.emitAndNotify("moveout");for(var N=0;N<n.length;N++){var F=n[N],j=F._private.data;F.isEdge()&&(v&&(j.source=d),S&&(j.target=g))}n.restore(s,u)}),n.emitAndNotify("move"))}else if(e.parent!==void 0){var M=f(e.parent),I=M===null||t.hasElementWithId(M);if(I){var P=M===null?void 0:M;t.batch(function(){var N=n.remove(s,u);N.emitAndNotify("moveout");for(var F=0;F<n.length;F++){var j=n[F],U=j._private.data;j.isNode()&&(U.parent=P)}N.restore(s,u)}),n.emitAndNotify("move")}}return this};[elesfn$j,elesfn$i,elesfn$h,elesfn$g,elesfn$f,data$3,elesfn$d,dimensions,elesfn$9,elesfn$8,elesfn$7,elesfn$6,elesfn$5,elesfn$4,elesfn$3,elesfn$2].forEach(function(e){extend(elesfn$1,e)});var corefn$9={add:function(t){var n,s=this;if(elementOrCollection(t)){var u=t;if(u._private.cy===s)n=u.restore();else{for(var f=[],d=0;d<u.length;d++){var g=u[d];f.push(g.json())}n=new Collection(s,f)}}else if(array(t)){var v=t;n=new Collection(s,v)}else if(plainObject(t)&&(array(t.nodes)||array(t.edges))){for(var S=t,M=[],I=["nodes","edges"],P=0,N=I.length;P<N;P++){var F=I[P],j=S[F];if(array(j))for(var U=0,V=j.length;U<V;U++){var Z=extend({group:F},j[U]);M.push(Z)}}n=new Collection(s,M)}else{var Q=t;n=new Element$1(s,Q).collection()}return n},remove:function(t){if(!elementOrCollection(t)){if(string(t)){var n=t;t=this.$(n)}}return t.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function generateCubicBezier(e,t,n,s){var u=4,f=.001,d=1e-7,g=10,v=11,S=1/(v-1),M=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var I=0;I<4;++I)if(typeof arguments[I]!="number"||isNaN(arguments[I])||!isFinite(arguments[I]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var P=M?new Float32Array(v):new Array(v);function N(de,ge){return 1-3*ge+3*de}function F(de,ge){return 3*ge-6*de}function j(de){return 3*de}function U(de,ge,ve){return((N(ge,ve)*de+F(ge,ve))*de+j(ge))*de}function V(de,ge,ve){return 3*N(ge,ve)*de*de+2*F(ge,ve)*de+j(ge)}function Z(de,ge){for(var ve=0;ve<u;++ve){var me=V(ge,e,n);if(me===0)return ge;var ye=U(ge,e,n)-de;ge-=ye/me}return ge}function Q(){for(var de=0;de<v;++de)P[de]=U(de*S,e,n)}function J(de,ge,ve){var me,ye,Ae=0;do ye=ge+(ve-ge)/2,me=U(ye,e,n)-de,me>0?ve=ye:ge=ye;while(Math.abs(me)>d&&++Ae<g);return ye}function te(de){for(var ge=0,ve=1,me=v-1;ve!==me&&P[ve]<=de;++ve)ge+=S;--ve;var ye=(de-P[ve])/(P[ve+1]-P[ve]),Ae=ge+ye*S,Te=V(Ae,e,n);return Te>=f?Z(de,Ae):Te===0?Ae:J(de,ge,ge+S)}var oe=!1;function ue(){oe=!0,(e!==t||n!==s)&&Q()}var se=function(ge){return oe||ue(),e===t&&n===s?ge:ge===0?0:ge===1?1:U(te(ge),t,s)};se.getControlPoints=function(){return[{x:e,y:t},{x:n,y:s}]};var le="generateBezier("+[e,t,n,s]+")";return se.toString=function(){return le},se}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var generateSpringRK4=function(){function e(s){return-s.tension*s.x-s.friction*s.v}function t(s,u,f){var d={x:s.x+f.dx*u,v:s.v+f.dv*u,tension:s.tension,friction:s.friction};return{dx:d.v,dv:e(d)}}function n(s,u){var f={dx:s.v,dv:e(s)},d=t(s,u*.5,f),g=t(s,u*.5,d),v=t(s,u,g),S=1/6*(f.dx+2*(d.dx+g.dx)+v.dx),M=1/6*(f.dv+2*(d.dv+g.dv)+v.dv);return s.x=s.x+S*u,s.v=s.v+M*u,s}return function s(u,f,d){var g={x:-1,v:0,tension:null,friction:null},v=[0],S=0,M=1/1e4,I=16/1e3,P,N,F;for(u=parseFloat(u)||500,f=parseFloat(f)||20,d=d||null,g.tension=u,g.friction=f,P=d!==null,P?(S=s(u,f),N=S/d*I):N=I;F=n(F||g,N),v.push(1+F.x),S+=16,Math.abs(F.x)>M&&Math.abs(F.v)>M;);return P?function(j){return v[j*(v.length-1)|0]}:S}}(),cubicBezier=function(t,n,s,u){var f=generateCubicBezier(t,n,s,u);return function(d,g,v){return d+(g-d)*f(v)}},easings={linear:function(t,n,s){return t+(n-t)*s},ease:cubicBezier(.25,.1,.25,1),"ease-in":cubicBezier(.42,0,1,1),"ease-out":cubicBezier(0,0,.58,1),"ease-in-out":cubicBezier(.42,0,.58,1),"ease-in-sine":cubicBezier(.47,0,.745,.715),"ease-out-sine":cubicBezier(.39,.575,.565,1),"ease-in-out-sine":cubicBezier(.445,.05,.55,.95),"ease-in-quad":cubicBezier(.55,.085,.68,.53),"ease-out-quad":cubicBezier(.25,.46,.45,.94),"ease-in-out-quad":cubicBezier(.455,.03,.515,.955),"ease-in-cubic":cubicBezier(.55,.055,.675,.19),"ease-out-cubic":cubicBezier(.215,.61,.355,1),"ease-in-out-cubic":cubicBezier(.645,.045,.355,1),"ease-in-quart":cubicBezier(.895,.03,.685,.22),"ease-out-quart":cubicBezier(.165,.84,.44,1),"ease-in-out-quart":cubicBezier(.77,0,.175,1),"ease-in-quint":cubicBezier(.755,.05,.855,.06),"ease-out-quint":cubicBezier(.23,1,.32,1),"ease-in-out-quint":cubicBezier(.86,0,.07,1),"ease-in-expo":cubicBezier(.95,.05,.795,.035),"ease-out-expo":cubicBezier(.19,1,.22,1),"ease-in-out-expo":cubicBezier(1,0,0,1),"ease-in-circ":cubicBezier(.6,.04,.98,.335),"ease-out-circ":cubicBezier(.075,.82,.165,1),"ease-in-out-circ":cubicBezier(.785,.135,.15,.86),spring:function(t,n,s){if(s===0)return easings.linear;var u=generateSpringRK4(t,n,s);return function(f,d,g){return f+(d-f)*u(g)}},"cubic-bezier":cubicBezier};function getEasedValue(e,t,n,s,u){if(s===1||t===n)return n;var f=u(t,n,s);return e==null||((e.roundValue||e.color)&&(f=Math.round(f)),e.min!==void 0&&(f=Math.max(f,e.min)),e.max!==void 0&&(f=Math.min(f,e.max))),f}function getValue(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function ease(e,t,n,s,u){var f=u!=null?u.type:null;n<0?n=0:n>1&&(n=1);var d=getValue(e,u),g=getValue(t,u);if(number$1(d)&&number$1(g))return getEasedValue(f,d,g,n,s);if(array(d)&&array(g)){for(var v=[],S=0;S<g.length;S++){var M=d[S],I=g[S];if(M!=null&&I!=null){var P=getEasedValue(f,M,I,n,s);v.push(P)}else v.push(I)}return v}}function step$1(e,t,n,s){var u=!s,f=e._private,d=t._private,g=d.easing,v=d.startTime,S=s?e:e.cy(),M=S.style();if(!d.easingImpl)if(g==null)d.easingImpl=easings.linear;else{var I;if(string(g)){var P=M.parse("transition-timing-function",g);I=P.value}else I=g;var N,F;string(I)?(N=I,F=[]):(N=I[1],F=I.slice(2).map(function(Be){return+Be})),F.length>0?(N==="spring"&&F.push(d.duration),d.easingImpl=easings[N].apply(null,F)):d.easingImpl=easings[N]}var j=d.easingImpl,U;if(d.duration===0?U=1:U=(n-v)/d.duration,d.applying&&(U=d.progress),U<0?U=0:U>1&&(U=1),d.delay==null){var V=d.startPosition,Z=d.position;if(Z&&u&&!e.locked()){var Q={};valid(V.x,Z.x)&&(Q.x=ease(V.x,Z.x,U,j)),valid(V.y,Z.y)&&(Q.y=ease(V.y,Z.y,U,j)),e.position(Q)}var J=d.startPan,te=d.pan,oe=f.pan,ue=te!=null&&s;ue&&(valid(J.x,te.x)&&(oe.x=ease(J.x,te.x,U,j)),valid(J.y,te.y)&&(oe.y=ease(J.y,te.y,U,j)),e.emit("pan"));var se=d.startZoom,le=d.zoom,de=le!=null&&s;de&&(valid(se,le)&&(f.zoom=bound(f.minZoom,ease(se,le,U,j),f.maxZoom)),e.emit("zoom")),(ue||de)&&e.emit("viewport");var ge=d.style;if(ge&&ge.length>0&&u){for(var ve=0;ve<ge.length;ve++){var me=ge[ve],ye=me.name,Ae=me,Te=d.startStyle[ye],Oe=M.properties[Te.name],Ie=ease(Te,Ae,U,j,Oe);M.overrideBypass(e,ye,Ie)}e.emit("style")}}return d.progress=U,U}function valid(e,t){return e==null||t==null?!1:number$1(e)&&number$1(t)?!0:!!(e&&t)}function startAnimation(e,t,n,s){var u=t._private;u.started=!0,u.startTime=n-u.progress*u.duration}function stepAll(e,t){var n=t._private.aniEles,s=[];function u(M,I){var P=M._private,N=P.animation.current,F=P.animation.queue,j=!1;if(N.length===0){var U=F.shift();U&&N.push(U)}for(var V=function(oe){for(var ue=oe.length-1;ue>=0;ue--){var se=oe[ue];se()}oe.splice(0,oe.length)},Z=N.length-1;Z>=0;Z--){var Q=N[Z],J=Q._private;if(J.stopped){N.splice(Z,1),J.hooked=!1,J.playing=!1,J.started=!1,V(J.frames);continue}!J.playing&&!J.applying||(J.playing&&J.applying&&(J.applying=!1),J.started||startAnimation(M,Q,e),step$1(M,Q,e,I),J.applying&&(J.applying=!1),V(J.frames),J.step!=null&&J.step(e),Q.completed()&&(N.splice(Z,1),J.hooked=!1,J.playing=!1,J.started=!1,V(J.completes)),j=!0)}return!I&&N.length===0&&F.length===0&&s.push(M),j}for(var f=!1,d=0;d<n.length;d++){var g=n[d],v=u(g);f=f||v}var S=u(t,!0);(f||S)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(s),t.emit("step")}var corefn$8={animate:define.animate(),animation:define.animation(),animated:define.animated(),clearQueue:define.clearQueue(),delay:define.delay(),delayAnimation:define.delayAnimation(),stop:define.stop(),addToAnimationPool:function(t){var n=this;n.styleEnabled()&&n._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,!t.styleEnabled())return;function n(){t._private.animationsRunning&&requestAnimationFrame$1(function(f){stepAll(f,t),n()})}var s=t.renderer();s&&s.beforeRender?s.beforeRender(function(f,d){stepAll(d,t)},s.beforeRenderPriorities.animations):n()}},emitterOptions={qualifierCompare:function(t,n){return t==null||n==null?t==null&&n==null:t.sameText(n)},eventMatches:function(t,n,s){var u=n.qualifier;return u!=null?t!==s.target&&element(s.target)&&u.matches(s.target):!0},addEventFields:function(t,n){n.cy=t,n.target=t},callbackContext:function(t,n,s){return n.qualifier!=null?s.target:t}},argSelector=function(t){return string(t)?new Selector(t):t},elesfn={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new Emitter(emitterOptions,this)),this},emitter:function(){return this._private.emitter},on:function(t,n,s){return this.emitter().on(t,argSelector(n),s),this},removeListener:function(t,n,s){return this.emitter().removeListener(t,argSelector(n),s),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,n,s){return this.emitter().one(t,argSelector(n),s),this},once:function(t,n,s){return this.emitter().one(t,argSelector(n),s),this},emit:function(t,n){return this.emitter().emit(t,n),this},emitAndNotify:function(t,n){return this.emit(t),this.notify(t,n),this}};define.eventAliasesOn(elesfn);var corefn$7={png:function(t){var n=this._private.renderer;return t=t||{},n.png(t)},jpg:function(t){var n=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",n.jpg(t)}};corefn$7.jpeg=corefn$7.jpg;var corefn$6={layout:function(t){var n=this;if(t==null){error("Layout options must be specified to make a layout");return}if(t.name==null){error("A `name` must be specified to make a layout");return}var s=t.name,u=n.extension("layout",s);if(u==null){error("No such layout `"+s+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var f;string(t.eles)?f=n.$(t.eles):f=t.eles!=null?t.eles:n.$();var d=new u(extend({},t,{cy:n,eles:f}));return d}};corefn$6.createLayout=corefn$6.makeLayout=corefn$6.layout;var corefn$5={notify:function(t,n){var s=this._private;if(this.batching()){s.batchNotifications=s.batchNotifications||{};var u=s.batchNotifications[t]=s.batchNotifications[t]||this.collection();n!=null&&u.merge(n);return}if(s.notificationsEnabled){var f=this.renderer();this.destroyed()||!f||f.notify(t,n)}},notifications:function(t){var n=this._private;return t===void 0?n.notificationsEnabled:(n.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return t.batchCount==null&&(t.batchCount=0),t.batchCount===0&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(t.batchCount===0)return this;if(t.batchCount--,t.batchCount===0){t.batchStyleEles.updateStyle();var n=this.renderer();Object.keys(t.batchNotifications).forEach(function(s){var u=t.batchNotifications[s];u.empty()?n.notify(s):n.notify(s,u)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var n=this;return this.batch(function(){for(var s=Object.keys(t),u=0;u<s.length;u++){var f=s[u],d=t[f],g=n.getElementById(f);g.data(d)}})}},rendererDefaults=defaults$g({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),corefn$4={renderTo:function(t,n,s,u){var f=this._private.renderer;return f.renderTo(t,n,s,u),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var n=this,s=n.extension("renderer",t.name);if(s==null){error("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}t.wheelSensitivity!==void 0&&warn("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var u=rendererDefaults(t);u.cy=n,n._private.renderer=new s(u),this.notify("init")},destroyRenderer:function(){var t=this;t.notify("destroy");var n=t.container();if(n)for(n._cyreg=null;n.childNodes.length>0;)n.removeChild(n.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(s){var u=s._private;u.rscratch={},u.rstyle={},u.animation.current=[],u.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};corefn$4.invalidateDimensions=corefn$4.resize;var corefn$3={collection:function(t,n){return string(t)?this.$(t):elementOrCollection(t)?t.collection():array(t)?(n||(n={}),new Collection(this,t,n.unique,n.removed)):new Collection(this)},nodes:function(t){var n=this.$(function(s){return s.isNode()});return t?n.filter(t):n},edges:function(t){var n=this.$(function(s){return s.isEdge()});return t?n.filter(t):n},$:function(t){var n=this._private.elements;return t?n.filter(t):n.spawnSelf()},mutableElements:function(){return this._private.elements}};corefn$3.elements=corefn$3.filter=corefn$3.$;var styfn$8={},TRUE="t",FALSE="f";styfn$8.apply=function(e){for(var t=this,n=t._private,s=n.cy,u=s.collection(),f=0;f<e.length;f++){var d=e[f],g=t.getContextMeta(d);if(!g.empty){var v=t.getContextStyle(g),S=t.applyContextStyle(g,v,d);d._private.appliedInitStyle?t.updateTransitions(d,S.diffProps):d._private.appliedInitStyle=!0;var M=t.updateStyleHints(d);M&&u.push(d)}}return u};styfn$8.getPropertiesDiff=function(e,t){var n=this,s=n._private.propDiffs=n._private.propDiffs||{},u=e+"-"+t,f=s[u];if(f)return f;for(var d=[],g={},v=0;v<n.length;v++){var S=n[v],M=e[v]===TRUE,I=t[v]===TRUE,P=M!==I,N=S.mappedProperties.length>0;if(P||I&&N){var F=void 0;P&&N||P?F=S.properties:N&&(F=S.mappedProperties);for(var j=0;j<F.length;j++){for(var U=F[j],V=U.name,Z=!1,Q=v+1;Q<n.length;Q++){var J=n[Q],te=t[Q]===TRUE;if(te&&(Z=J.properties[U.name]!=null,Z))break}!g[V]&&!Z&&(g[V]=!0,d.push(V))}}}return s[u]=d,d};styfn$8.getContextMeta=function(e){for(var t=this,n="",s,u=e._private.styleCxtKey||"",f=0;f<t.length;f++){var d=t[f],g=d.selector&&d.selector.matches(e);g?n+=TRUE:n+=FALSE}return s=t.getPropertiesDiff(u,n),e._private.styleCxtKey=n,{key:n,diffPropNames:s,empty:s.length===0}};styfn$8.getContextStyle=function(e){var t=e.key,n=this,s=this._private.contextStyles=this._private.contextStyles||{};if(s[t])return s[t];for(var u={_private:{key:t}},f=0;f<n.length;f++){var d=n[f],g=t[f]===TRUE;if(g)for(var v=0;v<d.properties.length;v++){var S=d.properties[v];u[S.name]=S}}return s[t]=u,u};styfn$8.applyContextStyle=function(e,t,n){for(var s=this,u=e.diffPropNames,f={},d=s.types,g=0;g<u.length;g++){var v=u[g],S=t[v],M=n.pstyle(v);if(!S)if(M)M.bypass?S={name:v,deleteBypassed:!0}:S={name:v,delete:!0};else continue;if(M!==S){if(S.mapped===d.fn&&M!=null&&M.mapping!=null&&M.mapping.value===S.value){var I=M.mapping,P=I.fnValue=S.value(n);if(P===I.prevFnValue)continue}var N=f[v]={prev:M};s.applyParsedProperty(n,S),N.next=n.pstyle(v),N.next&&N.next.bypass&&(N.next=N.next.bypassed)}}return{diffProps:f}};styfn$8.updateStyleHints=function(e){var t=e._private,n=this,s=n.propertyGroupNames,u=n.propertyGroupKeys,f=function(Qe,it,at){return n.getPropertiesHash(Qe,it,at)},d=t.styleKey;if(e.removed())return!1;var g=t.group==="nodes",v=e._private.style;s=Object.keys(v);for(var S=0;S<u.length;S++){var M=u[S];t.styleKeys[M]=[DEFAULT_HASH_SEED,DEFAULT_HASH_SEED_ALT]}for(var I=function(Qe,it){return t.styleKeys[it][0]=hashInt(Qe,t.styleKeys[it][0])},P=function(Qe,it){return t.styleKeys[it][1]=hashIntAlt(Qe,t.styleKeys[it][1])},N=function(Qe,it){I(Qe,it),P(Qe,it)},F=function(Qe,it){for(var at=0;at<Qe.length;at++){var wt=Qe.charCodeAt(at);I(wt,it),P(wt,it)}},j=2e9,U=function(Qe){return-128<Qe&&Qe<128&&Math.floor(Qe)!==Qe?j-(Qe*1024|0):Qe},V=0;V<s.length;V++){var Z=s[V],Q=v[Z];if(Q!=null){var J=this.properties[Z],te=J.type,oe=J.groupKey,ue=void 0;J.hashOverride!=null?ue=J.hashOverride(e,Q):Q.pfValue!=null&&(ue=Q.pfValue);var se=J.enums==null?Q.value:null,le=ue!=null,de=se!=null,ge=le||de,ve=Q.units;if(te.number&&ge&&!te.multiple){var me=le?ue:se;N(U(me),oe),!le&&ve!=null&&F(ve,oe)}else F(Q.strValue,oe)}}for(var ye=[DEFAULT_HASH_SEED,DEFAULT_HASH_SEED_ALT],Ae=0;Ae<u.length;Ae++){var Te=u[Ae],Oe=t.styleKeys[Te];ye[0]=hashInt(Oe[0],ye[0]),ye[1]=hashIntAlt(Oe[1],ye[1])}t.styleKey=combineHashes(ye[0],ye[1]);var Ie=t.styleKeys;t.labelDimsKey=combineHashesArray(Ie.labelDimensions);var Be=f(e,["label"],Ie.labelDimensions);if(t.labelKey=combineHashesArray(Be),t.labelStyleKey=combineHashesArray(hashArrays(Ie.commonLabel,Be)),!g){var De=f(e,["source-label"],Ie.labelDimensions);t.sourceLabelKey=combineHashesArray(De),t.sourceLabelStyleKey=combineHashesArray(hashArrays(Ie.commonLabel,De));var Pe=f(e,["target-label"],Ie.labelDimensions);t.targetLabelKey=combineHashesArray(Pe),t.targetLabelStyleKey=combineHashesArray(hashArrays(Ie.commonLabel,Pe))}if(g){var Ne=t.styleKeys,He=Ne.nodeBody,je=Ne.nodeBorder,ze=Ne.backgroundImage,Ve=Ne.compound,Ye=Ne.pie,nt=[He,je,ze,Ve,Ye].filter(function(Fe){return Fe!=null}).reduce(hashArrays,[DEFAULT_HASH_SEED,DEFAULT_HASH_SEED_ALT]);t.nodeKey=combineHashesArray(nt),t.hasPie=Ye!=null&&Ye[0]!==DEFAULT_HASH_SEED&&Ye[1]!==DEFAULT_HASH_SEED_ALT}return d!==t.styleKey};styfn$8.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null};styfn$8.applyParsedProperty=function(e,t){var n=this,s=t,u=e._private.style,f,d=n.types,g=n.properties[s.name].type,v=s.bypass,S=u[s.name],M=S&&S.bypass,I=e._private,P="mapping",N=function(He){return He==null?null:He.pfValue!=null?He.pfValue:He.value},F=function(){var He=N(S),je=N(s);n.checkTriggers(e,s.name,He,je)};if(s&&s.name.substr(0,3)==="pie"&&warn("The pie style properties are deprecated.  Create charts using background images instead."),t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(s=t=this.parse(t.name,"bezier",v)),s.delete)return u[s.name]=void 0,F(),!0;if(s.deleteBypassed)return S?S.bypass?(S.bypassed=void 0,F(),!0):!1:(F(),!0);if(s.deleteBypass)return S?S.bypass?(u[s.name]=S.bypassed,F(),!0):!1:(F(),!0);var j=function(){warn("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+s.name+"` with data field `"+s.field+"`); try a `["+s.field+"]` selector to limit scope to elements with `"+s.field+"` defined")};switch(s.mapped){case d.mapData:{for(var U=s.field.split("."),V=I.data,Z=0;Z<U.length&&V;Z++){var Q=U[Z];V=V[Q]}if(V==null)return j(),!1;var J;if(number$1(V)){var te=s.fieldMax-s.fieldMin;te===0?J=0:J=(V-s.fieldMin)/te}else return warn("Do not use continuous mappers without specifying numeric data (i.e. `"+s.field+": "+V+"` for `"+e.id()+"` is non-numeric)"),!1;if(J<0?J=0:J>1&&(J=1),g.color){var oe=s.valueMin[0],ue=s.valueMax[0],se=s.valueMin[1],le=s.valueMax[1],de=s.valueMin[2],ge=s.valueMax[2],ve=s.valueMin[3]==null?1:s.valueMin[3],me=s.valueMax[3]==null?1:s.valueMax[3],ye=[Math.round(oe+(ue-oe)*J),Math.round(se+(le-se)*J),Math.round(de+(ge-de)*J),Math.round(ve+(me-ve)*J)];f={bypass:s.bypass,name:s.name,value:ye,strValue:"rgb("+ye[0]+", "+ye[1]+", "+ye[2]+")"}}else if(g.number){var Ae=s.valueMin+(s.valueMax-s.valueMin)*J;f=this.parse(s.name,Ae,s.bypass,P)}else return!1;if(!f)return j(),!1;f.mapping=s,s=f;break}case d.data:{for(var Te=s.field.split("."),Oe=I.data,Ie=0;Ie<Te.length&&Oe;Ie++){var Be=Te[Ie];Oe=Oe[Be]}if(Oe!=null&&(f=this.parse(s.name,Oe,s.bypass,P)),!f)return j(),!1;f.mapping=s,s=f;break}case d.fn:{var De=s.value,Pe=s.fnValue!=null?s.fnValue:De(e);if(s.prevFnValue=Pe,Pe==null)return warn("Custom function mappers may not return null (i.e. `"+s.name+"` for ele `"+e.id()+"` is null)"),!1;if(f=this.parse(s.name,Pe,s.bypass,P),!f)return warn("Custom function mappers may not return invalid values for the property type (i.e. `"+s.name+"` for ele `"+e.id()+"` is invalid)"),!1;f.mapping=copy(s),s=f;break}case void 0:break;default:return!1}return v?(M?s.bypassed=S.bypassed:s.bypassed=S,u[s.name]=s):M?S.bypassed=s:u[s.name]=s,F(),!0};styfn$8.cleanElements=function(e,t){for(var n=0;n<e.length;n++){var s=e[n];if(this.clearStyleHints(s),s.dirtyCompoundBoundsCache(),s.dirtyBoundingBoxCache(),!t)s._private.style={};else for(var u=s._private.style,f=Object.keys(u),d=0;d<f.length;d++){var g=f[d],v=u[g];v!=null&&(v.bypass?v.bypassed=null:u[g]=null)}}};styfn$8.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()};styfn$8.updateTransitions=function(e,t){var n=this,s=e._private,u=e.pstyle("transition-property").value,f=e.pstyle("transition-duration").pfValue,d=e.pstyle("transition-delay").pfValue;if(u.length>0&&f>0){for(var g={},v=!1,S=0;S<u.length;S++){var M=u[S],I=e.pstyle(M),P=t[M];if(P){var N=P.prev,F=N,j=P.next!=null?P.next:I,U=!1,V=void 0,Z=1e-6;F&&(number$1(F.pfValue)&&number$1(j.pfValue)?(U=j.pfValue-F.pfValue,V=F.pfValue+Z*U):number$1(F.value)&&number$1(j.value)?(U=j.value-F.value,V=F.value+Z*U):array(F.value)&&array(j.value)&&(U=F.value[0]!==j.value[0]||F.value[1]!==j.value[1]||F.value[2]!==j.value[2],V=F.strValue),U&&(g[M]=j.strValue,this.applyBypass(e,M,V),v=!0))}}if(!v)return;s.transitioning=!0,new Promise$1(function(Q){d>0?e.delayAnimation(d).play().promise().then(Q):Q()}).then(function(){return e.animation({style:g,duration:f,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(e,u),e.emitAndNotify("style"),s.transitioning=!1})}else s.transitioning&&(this.removeBypasses(e,u),e.emitAndNotify("style"),s.transitioning=!1)};styfn$8.checkTrigger=function(e,t,n,s,u,f){var d=this.properties[t],g=u(d);g!=null&&g(n,s)&&f(d)};styfn$8.checkZOrderTrigger=function(e,t,n,s){var u=this;this.checkTrigger(e,t,n,s,function(f){return f.triggersZOrder},function(){u._private.cy.notify("zorder",e)})};styfn$8.checkBoundsTrigger=function(e,t,n,s){this.checkTrigger(e,t,n,s,function(u){return u.triggersBounds},function(u){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),u.triggersBoundsOfParallelBeziers&&(t==="curve-style"&&(n==="bezier"||s==="bezier")||t==="display"&&(n==="none"||s==="none"))&&e.parallelEdges().forEach(function(f){f.isBundledBezier()&&f.dirtyBoundingBoxCache()})})};styfn$8.checkTriggers=function(e,t,n,s){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,s),this.checkBoundsTrigger(e,t,n,s)};var styfn$7={};styfn$7.applyBypass=function(e,t,n,s){var u=this,f=[],d=!0;if(t==="*"||t==="**"){if(n!==void 0)for(var g=0;g<u.properties.length;g++){var v=u.properties[g],S=v.name,M=this.parse(S,n,!0);M&&f.push(M)}}else if(string(t)){var I=this.parse(t,n,!0);I&&f.push(I)}else if(plainObject(t)){var P=t;s=n;for(var N=Object.keys(P),F=0;F<N.length;F++){var j=N[F],U=P[j];if(U===void 0&&(U=P[dash2camel(j)]),U!==void 0){var V=this.parse(j,U,!0);V&&f.push(V)}}}else return!1;if(f.length===0)return!1;for(var Z=!1,Q=0;Q<e.length;Q++){for(var J=e[Q],te={},oe=void 0,ue=0;ue<f.length;ue++){var se=f[ue];if(s){var le=J.pstyle(se.name);oe=te[se.name]={prev:le}}Z=this.applyParsedProperty(J,copy(se))||Z,s&&(oe.next=J.pstyle(se.name))}Z&&this.updateStyleHints(J),s&&this.updateTransitions(J,te,d)}return Z};styfn$7.overrideBypass=function(e,t,n){t=camel2dash(t);for(var s=0;s<e.length;s++){var u=e[s],f=u._private.style[t],d=this.properties[t].type,g=d.color,v=d.mutiple,S=f?f.pfValue!=null?f.pfValue:f.value:null;!f||!f.bypass?this.applyBypass(u,t,n):(f.value=n,f.pfValue!=null&&(f.pfValue=n),g?f.strValue="rgb("+n.join(",")+")":v?f.strValue=n.join(" "):f.strValue=""+n,this.updateStyleHints(u)),this.checkTriggers(u,t,S,n)}};styfn$7.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)};styfn$7.removeBypasses=function(e,t,n){for(var s=!0,u=0;u<e.length;u++){for(var f=e[u],d={},g=0;g<t.length;g++){var v=t[g],S=this.properties[v],M=f.pstyle(S.name);if(!(!M||!M.bypass)){var I="",P=this.parse(v,I,!0),N=d[S.name]={prev:M};this.applyParsedProperty(f,P),N.next=f.pstyle(S.name)}}this.updateStyleHints(f),n&&this.updateTransitions(f,d,s)}};var styfn$6={};styfn$6.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1};styfn$6.containerCss=function(e){var t=this._private.cy,n=t.container();if(window$1&&n&&window$1.getComputedStyle)return window$1.getComputedStyle(n).getPropertyValue(e)};var styfn$5={};styfn$5.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)};styfn$5.getRawStyle=function(e,t){var n=this;if(e=e[0],e){for(var s={},u=0;u<n.properties.length;u++){var f=n.properties[u],d=n.getStylePropertyValue(e,f.name,t);d!=null&&(s[f.name]=d,s[dash2camel(f.name)]=d)}return s}};styfn$5.getIndexedStyle=function(e,t,n,s){var u=e.pstyle(t)[n][s];return u??e.cy().style().getDefaultProperty(t)[n][0]};styfn$5.getStylePropertyValue=function(e,t,n){var s=this;if(e=e[0],e){var u=s.properties[t];u.alias&&(u=u.pointsTo);var f=u.type,d=e.pstyle(u.name);if(d){var g=d.value,v=d.units,S=d.strValue;if(n&&f.number&&g!=null&&number$1(g)){var M=e.cy().zoom(),I=function(U){return U*M},P=function(U,V){return I(U)+V},N=array(g),F=N?v.every(function(j){return j!=null}):v!=null;return F?N?g.map(function(j,U){return P(j,v[U])}).join(" "):P(g,v):N?g.map(function(j){return string(j)?j:""+I(j)}).join(" "):""+I(g)}else if(S!=null)return S}return null}};styfn$5.getAnimationStartStyle=function(e,t){for(var n={},s=0;s<t.length;s++){var u=t[s],f=u.name,d=e.pstyle(f);d!==void 0&&(plainObject(d)?d=this.parse(f,d.strValue):d=this.parse(f,d)),d&&(n[f]=d)}return n};styfn$5.getPropsList=function(e){var t=this,n=[],s=e,u=t.properties;if(s)for(var f=Object.keys(s),d=0;d<f.length;d++){var g=f[d],v=s[g],S=u[g]||u[camel2dash(g)],M=this.parse(S.name,v);M&&n.push(M)}return n};styfn$5.getNonDefaultPropertiesHash=function(e,t,n){var s=n.slice(),u,f,d,g,v,S;for(v=0;v<t.length;v++)if(u=t[v],f=e.pstyle(u,!1),f!=null)if(f.pfValue!=null)s[0]=hashInt(g,s[0]),s[1]=hashIntAlt(g,s[1]);else for(d=f.strValue,S=0;S<d.length;S++)g=d.charCodeAt(S),s[0]=hashInt(g,s[0]),s[1]=hashIntAlt(g,s[1]);return s};styfn$5.getPropertiesHash=styfn$5.getNonDefaultPropertiesHash;var styfn$4={};styfn$4.appendFromJson=function(e){for(var t=this,n=0;n<e.length;n++){var s=e[n],u=s.selector,f=s.style||s.css,d=Object.keys(f);t.selector(u);for(var g=0;g<d.length;g++){var v=d[g],S=f[v];t.css(v,S)}}return t};styfn$4.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t};styfn$4.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],s=n.selector,u=n.properties,f={},d=0;d<u.length;d++){var g=u[d];f[g.name]=g.strValue}e.push({selector:s?s.toString():"core",style:f})}return e};var styfn$3={};styfn$3.appendFromString=function(e){var t=this,n=this,s=""+e,u,f,d;s=s.replace(/[/][*](\s|.)+?[*][/]/g,"");function g(){s.length>u.length?s=s.substr(u.length):s=""}function v(){f.length>d.length?f=f.substr(d.length):f=""}for(;;){var S=s.match(/^\s*$/);if(S)break;var M=s.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!M){warn("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+s);break}u=M[0];var I=M[1];if(I!=="core"){var P=new Selector(I);if(P.invalid){warn("Skipping parsing of block: Invalid selector found in string stylesheet: "+I),g();continue}}var N=M[2],F=!1;f=N;for(var j=[];;){var U=f.match(/^\s*$/);if(U)break;var V=f.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!V){warn("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+N),F=!0;break}d=V[0];var Z=V[1],Q=V[2],J=t.properties[Z];if(!J){warn("Skipping property: Invalid property name in: "+d),v();continue}var te=n.parse(Z,Q);if(!te){warn("Skipping property: Invalid property definition in: "+d),v();continue}j.push({name:Z,val:Q}),v()}if(F){g();break}n.selector(I);for(var oe=0;oe<j.length;oe++){var ue=j[oe];n.css(ue.name,ue.val)}g()}return n};styfn$3.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t};var styfn$2={};(function(){var e=number,t=rgbaNoBackRefs,n=hslaNoBackRefs,s=hex3,u=hex6,f=function(nt){return"^"+nt+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},d=function(nt){var Fe=e+"|\\w+|"+t+"|"+n+"|"+s+"|"+u;return"^"+nt+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+Fe+")\\s*\\,\\s*("+Fe+")\\)$"},g=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];styfn$2.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:f("data")},layoutData:{mapping:!0,regex:f("layoutData")},scratch:{mapping:!0,regex:f("scratch")},mapData:{mapping:!0,regex:d("mapData")},mapLayoutData:{mapping:!0,regex:d("mapLayoutData")},mapScratch:{mapping:!0,regex:d("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:g,singleRegexMatchValue:!0},urls:{regexes:g,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(nt,Fe){switch(nt.length){case 2:return Fe[0]!=="deg"&&Fe[0]!=="rad"&&Fe[1]!=="deg"&&Fe[1]!=="rad";case 1:return string(nt[0])||Fe[0]==="deg"||Fe[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(nt){var Fe=nt.length;return Fe===1||Fe===2||Fe===4}}};var v={zeroNonZero:function(nt,Fe){return(nt==null||Fe==null)&&nt!==Fe||nt==0&&Fe!=0?!0:nt!=0&&Fe==0},any:function(nt,Fe){return nt!=Fe},emptyNonEmpty:function(nt,Fe){var Qe=emptyString(nt),it=emptyString(Fe);return Qe&&!it||!Qe&&it}},S=styfn$2.types,M=[{name:"label",type:S.text,triggersBounds:v.any,triggersZOrder:v.emptyNonEmpty},{name:"text-rotation",type:S.textRotation,triggersBounds:v.any},{name:"text-margin-x",type:S.bidirectionalSize,triggersBounds:v.any},{name:"text-margin-y",type:S.bidirectionalSize,triggersBounds:v.any}],I=[{name:"source-label",type:S.text,triggersBounds:v.any},{name:"source-text-rotation",type:S.textRotation,triggersBounds:v.any},{name:"source-text-margin-x",type:S.bidirectionalSize,triggersBounds:v.any},{name:"source-text-margin-y",type:S.bidirectionalSize,triggersBounds:v.any},{name:"source-text-offset",type:S.size,triggersBounds:v.any}],P=[{name:"target-label",type:S.text,triggersBounds:v.any},{name:"target-text-rotation",type:S.textRotation,triggersBounds:v.any},{name:"target-text-margin-x",type:S.bidirectionalSize,triggersBounds:v.any},{name:"target-text-margin-y",type:S.bidirectionalSize,triggersBounds:v.any},{name:"target-text-offset",type:S.size,triggersBounds:v.any}],N=[{name:"font-family",type:S.fontFamily,triggersBounds:v.any},{name:"font-style",type:S.fontStyle,triggersBounds:v.any},{name:"font-weight",type:S.fontWeight,triggersBounds:v.any},{name:"font-size",type:S.size,triggersBounds:v.any},{name:"text-transform",type:S.textTransform,triggersBounds:v.any},{name:"text-wrap",type:S.textWrap,triggersBounds:v.any},{name:"text-overflow-wrap",type:S.textOverflowWrap,triggersBounds:v.any},{name:"text-max-width",type:S.size,triggersBounds:v.any},{name:"text-outline-width",type:S.size,triggersBounds:v.any},{name:"line-height",type:S.positiveNumber,triggersBounds:v.any}],F=[{name:"text-valign",type:S.valign,triggersBounds:v.any},{name:"text-halign",type:S.halign,triggersBounds:v.any},{name:"color",type:S.color},{name:"text-outline-color",type:S.color},{name:"text-outline-opacity",type:S.zeroOneNumber},{name:"text-background-color",type:S.color},{name:"text-background-opacity",type:S.zeroOneNumber},{name:"text-background-padding",type:S.size,triggersBounds:v.any},{name:"text-border-opacity",type:S.zeroOneNumber},{name:"text-border-color",type:S.color},{name:"text-border-width",type:S.size,triggersBounds:v.any},{name:"text-border-style",type:S.borderStyle,triggersBounds:v.any},{name:"text-background-shape",type:S.textBackgroundShape,triggersBounds:v.any},{name:"text-justification",type:S.justification}],j=[{name:"events",type:S.bool},{name:"text-events",type:S.bool}],U=[{name:"display",type:S.display,triggersZOrder:v.any,triggersBounds:v.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:S.visibility,triggersZOrder:v.any},{name:"opacity",type:S.zeroOneNumber,triggersZOrder:v.zeroNonZero},{name:"text-opacity",type:S.zeroOneNumber},{name:"min-zoomed-font-size",type:S.size},{name:"z-compound-depth",type:S.zCompoundDepth,triggersZOrder:v.any},{name:"z-index-compare",type:S.zIndexCompare,triggersZOrder:v.any},{name:"z-index",type:S.nonNegativeInt,triggersZOrder:v.any}],V=[{name:"overlay-padding",type:S.size,triggersBounds:v.any},{name:"overlay-color",type:S.color},{name:"overlay-opacity",type:S.zeroOneNumber,triggersBounds:v.zeroNonZero},{name:"overlay-shape",type:S.overlayShape,triggersBounds:v.any}],Z=[{name:"underlay-padding",type:S.size,triggersBounds:v.any},{name:"underlay-color",type:S.color},{name:"underlay-opacity",type:S.zeroOneNumber,triggersBounds:v.zeroNonZero},{name:"underlay-shape",type:S.overlayShape,triggersBounds:v.any}],Q=[{name:"transition-property",type:S.propList},{name:"transition-duration",type:S.time},{name:"transition-delay",type:S.time},{name:"transition-timing-function",type:S.easing}],J=function(nt,Fe){return Fe.value==="label"?-nt.poolIndex():Fe.pfValue},te=[{name:"height",type:S.nodeSize,triggersBounds:v.any,hashOverride:J},{name:"width",type:S.nodeSize,triggersBounds:v.any,hashOverride:J},{name:"shape",type:S.nodeShape,triggersBounds:v.any},{name:"shape-polygon-points",type:S.polygonPointList,triggersBounds:v.any},{name:"background-color",type:S.color},{name:"background-fill",type:S.fill},{name:"background-opacity",type:S.zeroOneNumber},{name:"background-blacken",type:S.nOneOneNumber},{name:"background-gradient-stop-colors",type:S.colors},{name:"background-gradient-stop-positions",type:S.percentages},{name:"background-gradient-direction",type:S.gradientDirection},{name:"padding",type:S.sizeMaybePercent,triggersBounds:v.any},{name:"padding-relative-to",type:S.paddingRelativeTo,triggersBounds:v.any},{name:"bounds-expansion",type:S.boundsExpansion,triggersBounds:v.any}],oe=[{name:"border-color",type:S.color},{name:"border-opacity",type:S.zeroOneNumber},{name:"border-width",type:S.size,triggersBounds:v.any},{name:"border-style",type:S.borderStyle}],ue=[{name:"background-image",type:S.urls},{name:"background-image-crossorigin",type:S.bgCrossOrigin},{name:"background-image-opacity",type:S.zeroOneNumbers},{name:"background-image-containment",type:S.bgContainment},{name:"background-image-smoothing",type:S.bools},{name:"background-position-x",type:S.bgPos},{name:"background-position-y",type:S.bgPos},{name:"background-width-relative-to",type:S.bgRelativeTo},{name:"background-height-relative-to",type:S.bgRelativeTo},{name:"background-repeat",type:S.bgRepeat},{name:"background-fit",type:S.bgFit},{name:"background-clip",type:S.bgClip},{name:"background-width",type:S.bgWH},{name:"background-height",type:S.bgWH},{name:"background-offset-x",type:S.bgPos},{name:"background-offset-y",type:S.bgPos}],se=[{name:"position",type:S.position,triggersBounds:v.any},{name:"compound-sizing-wrt-labels",type:S.compoundIncludeLabels,triggersBounds:v.any},{name:"min-width",type:S.size,triggersBounds:v.any},{name:"min-width-bias-left",type:S.sizeMaybePercent,triggersBounds:v.any},{name:"min-width-bias-right",type:S.sizeMaybePercent,triggersBounds:v.any},{name:"min-height",type:S.size,triggersBounds:v.any},{name:"min-height-bias-top",type:S.sizeMaybePercent,triggersBounds:v.any},{name:"min-height-bias-bottom",type:S.sizeMaybePercent,triggersBounds:v.any}],le=[{name:"line-style",type:S.lineStyle},{name:"line-color",type:S.color},{name:"line-fill",type:S.fill},{name:"line-cap",type:S.lineCap},{name:"line-opacity",type:S.zeroOneNumber},{name:"line-dash-pattern",type:S.numbers},{name:"line-dash-offset",type:S.number},{name:"line-gradient-stop-colors",type:S.colors},{name:"line-gradient-stop-positions",type:S.percentages},{name:"curve-style",type:S.curveStyle,triggersBounds:v.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:S.zeroOneNumber,triggersBounds:v.any},{name:"source-endpoint",type:S.edgeEndpoint,triggersBounds:v.any},{name:"target-endpoint",type:S.edgeEndpoint,triggersBounds:v.any},{name:"control-point-step-size",type:S.size,triggersBounds:v.any},{name:"control-point-distances",type:S.bidirectionalSizes,triggersBounds:v.any},{name:"control-point-weights",type:S.numbers,triggersBounds:v.any},{name:"segment-distances",type:S.bidirectionalSizes,triggersBounds:v.any},{name:"segment-weights",type:S.numbers,triggersBounds:v.any},{name:"taxi-turn",type:S.bidirectionalSizeMaybePercent,triggersBounds:v.any},{name:"taxi-turn-min-distance",type:S.size,triggersBounds:v.any},{name:"taxi-direction",type:S.axisDirection,triggersBounds:v.any},{name:"edge-distances",type:S.edgeDistances,triggersBounds:v.any},{name:"arrow-scale",type:S.positiveNumber,triggersBounds:v.any},{name:"loop-direction",type:S.angle,triggersBounds:v.any},{name:"loop-sweep",type:S.angle,triggersBounds:v.any},{name:"source-distance-from-node",type:S.size,triggersBounds:v.any},{name:"target-distance-from-node",type:S.size,triggersBounds:v.any}],de=[{name:"ghost",type:S.bool,triggersBounds:v.any},{name:"ghost-offset-x",type:S.bidirectionalSize,triggersBounds:v.any},{name:"ghost-offset-y",type:S.bidirectionalSize,triggersBounds:v.any},{name:"ghost-opacity",type:S.zeroOneNumber}],ge=[{name:"selection-box-color",type:S.color},{name:"selection-box-opacity",type:S.zeroOneNumber},{name:"selection-box-border-color",type:S.color},{name:"selection-box-border-width",type:S.size},{name:"active-bg-color",type:S.color},{name:"active-bg-opacity",type:S.zeroOneNumber},{name:"active-bg-size",type:S.size},{name:"outside-texture-bg-color",type:S.color},{name:"outside-texture-bg-opacity",type:S.zeroOneNumber}],ve=[];styfn$2.pieBackgroundN=16,ve.push({name:"pie-size",type:S.sizeMaybePercent});for(var me=1;me<=styfn$2.pieBackgroundN;me++)ve.push({name:"pie-"+me+"-background-color",type:S.color}),ve.push({name:"pie-"+me+"-background-size",type:S.percent}),ve.push({name:"pie-"+me+"-background-opacity",type:S.zeroOneNumber});var ye=[],Ae=styfn$2.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:S.arrowShape,triggersBounds:v.any},{name:"arrow-color",type:S.color},{name:"arrow-fill",type:S.arrowFill}].forEach(function(Ye){Ae.forEach(function(nt){var Fe=nt+"-"+Ye.name,Qe=Ye.type,it=Ye.triggersBounds;ye.push({name:Fe,type:Qe,triggersBounds:it})})},{});var Te=styfn$2.properties=[].concat(j,Q,U,V,Z,de,F,N,M,I,P,te,oe,ue,ve,se,le,ye,ge),Oe=styfn$2.propertyGroups={behavior:j,transition:Q,visibility:U,overlay:V,underlay:Z,ghost:de,commonLabel:F,labelDimensions:N,mainLabel:M,sourceLabel:I,targetLabel:P,nodeBody:te,nodeBorder:oe,backgroundImage:ue,pie:ve,compound:se,edgeLine:le,edgeArrow:ye,core:ge},Ie=styfn$2.propertyGroupNames={},Be=styfn$2.propertyGroupKeys=Object.keys(Oe);Be.forEach(function(Ye){Ie[Ye]=Oe[Ye].map(function(nt){return nt.name}),Oe[Ye].forEach(function(nt){return nt.groupKey=Ye})});var De=styfn$2.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];styfn$2.propertyNames=Te.map(function(Ye){return Ye.name});for(var Pe=0;Pe<Te.length;Pe++){var Ne=Te[Pe];Te[Ne.name]=Ne}for(var He=0;He<De.length;He++){var je=De[He],ze=Te[je.pointsTo],Ve={name:je.name,alias:!0,pointsTo:ze};Te.push(Ve),Te[je.name]=Ve}})();styfn$2.getDefaultProperty=function(e){return this.getDefaultProperties()[e]};styfn$2.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=extend({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(v,S){for(var M=1;M<=styfn$2.pieBackgroundN;M++){var I=S.name.replace("{{i}}",M),P=S.value;v[I]=P}return v},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(v,S){return styfn$2.arrowPrefixes.forEach(function(M){var I=M+"-"+S.name,P=S.value;v[I]=P}),v},{})),n={},s=0;s<this.properties.length;s++){var u=this.properties[s];if(!u.pointsTo){var f=u.name,d=t[f],g=this.parse(f,d);n[f]=g}}return e.defaultProperties=n,e.defaultProperties};styfn$2.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var styfn$1={};styfn$1.parse=function(e,t,n,s){var u=this;if(fn$6(t))return u.parseImplWarn(e,t,n,s);var f=s==="mapping"||s===!0||s===!1||s==null?"dontcare":s,d=n?"t":"f",g=""+t,v=hashStrings(e,g,d,f),S=u.propCache=u.propCache||[],M;return(M=S[v])||(M=S[v]=u.parseImplWarn(e,t,n,s)),(n||s==="mapping")&&(M=copy(M),M&&(M.value=copy(M.value))),M};styfn$1.parseImplWarn=function(e,t,n,s){var u=this.parseImpl(e,t,n,s);return!u&&t!=null&&warn("The style property `".concat(e,": ").concat(t,"` is invalid")),u&&(u.name==="width"||u.name==="height")&&t==="label"&&warn("The style value of `label` is deprecated for `"+u.name+"`"),u};styfn$1.parseImpl=function(e,t,n,s){var u=this;e=camel2dash(e);var f=u.properties[e],d=t,g=u.types;if(!f||t===void 0)return null;f.alias&&(f=f.pointsTo,e=f.name);var v=string(t);v&&(t=t.trim());var S=f.type;if(!S)return null;if(n&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(fn$6(t))return{name:e,value:t,strValue:"fn",mapped:g.fn,bypass:n};var M,I;if(!(!v||s||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(M=new RegExp(g.data.regex).exec(t))){if(n)return!1;var P=g.data;return{name:e,value:M,strValue:""+t,mapped:P,field:M[1],bypass:n}}else if(t.length>=10&&t[0]==="m"&&(I=new RegExp(g.mapData.regex).exec(t))){if(n||S.multiple)return!1;var N=g.mapData;if(!(S.color||S.number))return!1;var F=this.parse(e,I[4]);if(!F||F.mapped)return!1;var j=this.parse(e,I[5]);if(!j||j.mapped)return!1;if(F.pfValue===j.pfValue||F.strValue===j.strValue)return warn("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+F.strValue+"`"),this.parse(e,F.strValue);if(S.color){var U=F.value,V=j.value,Z=U[0]===V[0]&&U[1]===V[1]&&U[2]===V[2]&&(U[3]===V[3]||(U[3]==null||U[3]===1)&&(V[3]==null||V[3]===1));if(Z)return!1}return{name:e,value:I,strValue:""+t,mapped:N,field:I[1],fieldMin:parseFloat(I[2]),fieldMax:parseFloat(I[3]),valueMin:F.value,valueMax:j.value,bypass:n}}}if(S.multiple&&s!=="multiple"){var Q;if(v?Q=t.split(/\s+/):array(t)?Q=t:Q=[t],S.evenMultiple&&Q.length%2!==0)return null;for(var J=[],te=[],oe=[],ue="",se=!1,le=0;le<Q.length;le++){var de=u.parse(e,Q[le],n,"multiple");se=se||string(de.value),J.push(de.value),oe.push(de.pfValue!=null?de.pfValue:de.value),te.push(de.units),ue+=(le>0?" ":"")+de.strValue}return S.validate&&!S.validate(J,te)?null:S.singleEnum&&se?J.length===1&&string(J[0])?{name:e,value:J[0],strValue:J[0],bypass:n}:null:{name:e,value:J,pfValue:oe,strValue:ue,bypass:n,units:te}}var ge=function(){for(var Fe=0;Fe<S.enums.length;Fe++){var Qe=S.enums[Fe];if(Qe===t)return{name:e,value:t,strValue:""+t,bypass:n}}return null};if(S.number){var ve,me="px";if(S.units&&(ve=S.units),S.implicitUnits&&(me=S.implicitUnits),!S.unitless)if(v){var ye="px|em"+(S.allowPercent?"|\\%":"");ve&&(ye=ve);var Ae=t.match("^("+number+")("+ye+")?$");Ae&&(t=Ae[1],ve=Ae[2]||me)}else(!ve||S.implicitUnits)&&(ve=me);if(t=parseFloat(t),isNaN(t)&&S.enums===void 0)return null;if(isNaN(t)&&S.enums!==void 0)return t=d,ge();if(S.integer&&!integer(t)||S.min!==void 0&&(t<S.min||S.strictMin&&t===S.min)||S.max!==void 0&&(t>S.max||S.strictMax&&t===S.max))return null;var Te={name:e,value:t,strValue:""+t+(ve||""),units:ve,bypass:n};return S.unitless||ve!=="px"&&ve!=="em"?Te.pfValue=t:Te.pfValue=ve==="px"||!ve?t:this.getEmSizeInPixels()*t,(ve==="ms"||ve==="s")&&(Te.pfValue=ve==="ms"?t:1e3*t),(ve==="deg"||ve==="rad")&&(Te.pfValue=ve==="rad"?t:deg2rad(t)),ve==="%"&&(Te.pfValue=t/100),Te}else if(S.propList){var Oe=[],Ie=""+t;if(Ie!=="none"){for(var Be=Ie.split(/\s*,\s*|\s+/),De=0;De<Be.length;De++){var Pe=Be[De].trim();u.properties[Pe]?Oe.push(Pe):warn("`"+Pe+"` is not a valid property name")}if(Oe.length===0)return null}return{name:e,value:Oe,strValue:Oe.length===0?"none":Oe.join(" "),bypass:n}}else if(S.color){var Ne=color2tuple(t);return Ne?{name:e,value:Ne,pfValue:Ne,strValue:"rgb("+Ne[0]+","+Ne[1]+","+Ne[2]+")",bypass:n}:null}else if(S.regex||S.regexes){if(S.enums){var He=ge();if(He)return He}for(var je=S.regexes?S.regexes:[S.regex],ze=0;ze<je.length;ze++){var Ve=new RegExp(je[ze]),Ye=Ve.exec(t);if(Ye)return{name:e,value:S.singleRegexMatchValue?Ye[1]:Ye,strValue:""+t,bypass:n}}return null}else return S.string?{name:e,value:""+t,strValue:""+t,bypass:n}:S.enums?ge():null};var Style=function e(t){if(!(this instanceof e))return new e(t);if(!core(t)){error("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},styfn=Style.prototype;styfn.instanceString=function(){return"style"};styfn.clear=function(){for(var e=this._private,t=e.cy,n=t.elements(),s=0;s<this.length;s++)this[s]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(n,!0),n.forEach(function(u){var f=u[0]._private;f.styleDirty=!0,f.appliedInitStyle=!1}),this};styfn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};styfn.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)};styfn.selector=function(e){var t=e==="core"?null:new Selector(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this};styfn.css=function(){var e=this,t=arguments;if(t.length===1)for(var n=t[0],s=0;s<e.properties.length;s++){var u=e.properties[s],f=n[u.name];f===void 0&&(f=n[dash2camel(u.name)]),f!==void 0&&this.cssRule(u.name,f)}else t.length===2&&this.cssRule(t[0],t[1]);return this};styfn.style=styfn.css;styfn.cssRule=function(e,t){var n=this.parse(e,t);if(n){var s=this.length-1;this[s].properties.push(n),this[s].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[s].mappedProperties.push(n);var u=!this[s].selector;u&&(this._private.coreStyle[n.name]=n)}return this};styfn.append=function(e){return stylesheet(e)?e.appendToStyle(this):array(e)?this.appendFromJson(e):string(e)&&this.appendFromString(e),this};Style.fromJson=function(e,t){var n=new Style(e);return n.fromJson(t),n};Style.fromString=function(e,t){return new Style(e).fromString(t)};[styfn$8,styfn$7,styfn$6,styfn$5,styfn$4,styfn$3,styfn$2,styfn$1].forEach(function(e){extend(styfn,e)});Style.types=styfn.types;Style.properties=styfn.properties;Style.propertyGroups=styfn.propertyGroups;Style.propertyGroupNames=styfn.propertyGroupNames;Style.propertyGroupKeys=styfn.propertyGroupKeys;var corefn$2={style:function(t){if(t){var n=this.setStyle(t);n.update()}return this._private.style},setStyle:function(t){var n=this._private;return stylesheet(t)?n.style=t.generateStyle(this):array(t)?n.style=Style.fromJson(this,t):string(t)?n.style=Style.fromString(this,t):n.style=Style(this),n.style},updateStyle:function(){this.mutableElements().updateStyle()}},defaultSelectionType="single",corefn$1={autolock:function(t){if(t!==void 0)this._private.autolock=!!t;else return this._private.autolock;return this},autoungrabify:function(t){if(t!==void 0)this._private.autoungrabify=!!t;else return this._private.autoungrabify;return this},autounselectify:function(t){if(t!==void 0)this._private.autounselectify=!!t;else return this._private.autounselectify;return this},selectionType:function(t){var n=this._private;if(n.selectionType==null&&(n.selectionType=defaultSelectionType),t!==void 0)(t==="additive"||t==="single")&&(n.selectionType=t);else return n.selectionType;return this},panningEnabled:function(t){if(t!==void 0)this._private.panningEnabled=!!t;else return this._private.panningEnabled;return this},userPanningEnabled:function(t){if(t!==void 0)this._private.userPanningEnabled=!!t;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(t){if(t!==void 0)this._private.zoomingEnabled=!!t;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(t){if(t!==void 0)this._private.userZoomingEnabled=!!t;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(t){if(t!==void 0)this._private.boxSelectionEnabled=!!t;else return this._private.boxSelectionEnabled;return this},pan:function(){var t=arguments,n=this._private.pan,s,u,f,d,g;switch(t.length){case 0:return n;case 1:if(string(t[0]))return s=t[0],n[s];if(plainObject(t[0])){if(!this._private.panningEnabled)return this;f=t[0],d=f.x,g=f.y,number$1(d)&&(n.x=d),number$1(g)&&(n.y=g),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;s=t[0],u=t[1],(s==="x"||s==="y")&&number$1(u)&&(n[s]=u),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(t,n){var s=arguments,u=this._private.pan,f,d,g,v,S;if(!this._private.panningEnabled)return this;switch(s.length){case 1:plainObject(t)&&(g=s[0],v=g.x,S=g.y,number$1(v)&&(u.x+=v),number$1(S)&&(u.y+=S),this.emit("pan viewport"));break;case 2:f=t,d=n,(f==="x"||f==="y")&&number$1(d)&&(u[f]+=d),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(t,n){var s=this.getFitViewport(t,n);if(s){var u=this._private;u.zoom=s.zoom,u.pan=s.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,n){if(number$1(t)&&n===void 0&&(n=t,t=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var s;if(string(t)){var u=t;t=this.$(u)}else if(boundingBox(t)){var f=t;s={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2},s.w=s.x2-s.x1,s.h=s.y2-s.y1}else elementOrCollection(t)||(t=this.mutableElements());if(!(elementOrCollection(t)&&t.empty())){s=s||t.boundingBox();var d=this.width(),g=this.height(),v;if(n=number$1(n)?n:0,!isNaN(d)&&!isNaN(g)&&d>0&&g>0&&!isNaN(s.w)&&!isNaN(s.h)&&s.w>0&&s.h>0){v=Math.min((d-2*n)/s.w,(g-2*n)/s.h),v=v>this._private.maxZoom?this._private.maxZoom:v,v=v<this._private.minZoom?this._private.minZoom:v;var S={x:(d-v*(s.x1+s.x2))/2,y:(g-v*(s.y1+s.y2))/2};return{zoom:v,pan:S}}}}},zoomRange:function(t,n){var s=this._private;if(n==null){var u=t;t=u.min,n=u.max}return number$1(t)&&number$1(n)&&t<=n?(s.minZoom=t,s.maxZoom=n):number$1(t)&&n===void 0&&t<=s.maxZoom?s.minZoom=t:number$1(n)&&t===void 0&&n>=s.minZoom&&(s.maxZoom=n),this},minZoom:function(t){return t===void 0?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return t===void 0?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var n=this._private,s=n.pan,u=n.zoom,f,d,g=!1;if(n.zoomingEnabled||(g=!0),number$1(t)?d=t:plainObject(t)&&(d=t.level,t.position!=null?f=modelToRenderedPosition(t.position,u,s):t.renderedPosition!=null&&(f=t.renderedPosition),f!=null&&!n.panningEnabled&&(g=!0)),d=d>n.maxZoom?n.maxZoom:d,d=d<n.minZoom?n.minZoom:d,g||!number$1(d)||d===u||f!=null&&(!number$1(f.x)||!number$1(f.y)))return null;if(f!=null){var v=s,S=u,M=d,I={x:-M/S*(f.x-v.x)+f.x,y:-M/S*(f.y-v.y)+f.y};return{zoomed:!0,panned:!0,zoom:M,pan:I}}else return{zoomed:!0,panned:!1,zoom:d,pan:s}},zoom:function(t){if(t===void 0)return this._private.zoom;var n=this.getZoomedViewport(t),s=this._private;return n==null||!n.zoomed?this:(s.zoom=n.zoom,n.panned&&(s.pan.x=n.pan.x,s.pan.y=n.pan.y),this.emit("zoom"+(n.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(t){var n=this._private,s=!0,u=!0,f=[],d=!1,g=!1;if(!t)return this;if(number$1(t.zoom)||(s=!1),plainObject(t.pan)||(u=!1),!s&&!u)return this;if(s){var v=t.zoom;v<n.minZoom||v>n.maxZoom||!n.zoomingEnabled?d=!0:(n.zoom=v,f.push("zoom"))}if(u&&(!d||!t.cancelOnFailedZoom)&&n.panningEnabled){var S=t.pan;number$1(S.x)&&(n.pan.x=S.x,g=!1),number$1(S.y)&&(n.pan.y=S.y,g=!1),g||f.push("pan")}return f.length>0&&(f.push("viewport"),this.emit(f.join(" ")),this.notify("viewport")),this},center:function(t){var n=this.getCenterPan(t);return n&&(this._private.pan=n,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,n){if(this._private.panningEnabled){if(string(t)){var s=t;t=this.mutableElements().filter(s)}else elementOrCollection(t)||(t=this.mutableElements());if(t.length!==0){var u=t.boundingBox(),f=this.width(),d=this.height();n=n===void 0?this._private.zoom:n;var g={x:(f-n*(u.x1+u.x2))/2,y:(d-n*(u.y1+u.y2))/2};return g}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,n=t.container;return t.sizeCache=t.sizeCache||(n?function(){var s=window$1.getComputedStyle(n),u=function(d){return parseFloat(s.getPropertyValue(d))};return{width:n.clientWidth-u("padding-left")-u("padding-right"),height:n.clientHeight-u("padding-top")-u("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,n=this._private.zoom,s=this.renderedExtent(),u={x1:(s.x1-t.x)/n,x2:(s.x2-t.x)/n,y1:(s.y1-t.y)/n,y2:(s.y2-t.y)/n};return u.w=u.x2-u.x1,u.h=u.y2-u.y1,u},renderedExtent:function(){var t=this.width(),n=this.height();return{x1:0,y1:0,x2:t,y2:n,w:t,h:n}},multiClickDebounceTime:function(t){if(t)this._private.multiClickDebounceTime=t;else return this._private.multiClickDebounceTime;return this}};corefn$1.centre=corefn$1.center;corefn$1.autolockNodes=corefn$1.autolock;corefn$1.autoungrabifyNodes=corefn$1.autoungrabify;var fn={data:define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:define.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:define.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};fn.attr=fn.data;fn.removeAttr=fn.removeData;var Core=function(t){var n=this;t=extend({},t);var s=t.container;s&&!htmlElement(s)&&htmlElement(s[0])&&(s=s[0]);var u=s?s._cyreg:null;u=u||{},u&&u.cy&&(u.cy.destroy(),u={});var f=u.readies=u.readies||[];s&&(s._cyreg=u),u.cy=n;var d=window$1!==void 0&&s!==void 0&&!t.headless,g=t;g.layout=extend({name:d?"grid":"null"},g.layout),g.renderer=extend({name:d?"canvas":"null"},g.renderer);var v=function(F,j,U){return j!==void 0?j:U!==void 0?U:F},S=this._private={container:s,ready:!1,options:g,elements:new Collection(this),listeners:[],aniEles:new Collection(this),data:g.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:v(!0,g.zoomingEnabled),userZoomingEnabled:v(!0,g.userZoomingEnabled),panningEnabled:v(!0,g.panningEnabled),userPanningEnabled:v(!0,g.userPanningEnabled),boxSelectionEnabled:v(!0,g.boxSelectionEnabled),autolock:v(!1,g.autolock,g.autolockNodes),autoungrabify:v(!1,g.autoungrabify,g.autoungrabifyNodes),autounselectify:v(!1,g.autounselectify),styleEnabled:g.styleEnabled===void 0?d:g.styleEnabled,zoom:number$1(g.zoom)?g.zoom:1,pan:{x:plainObject(g.pan)&&number$1(g.pan.x)?g.pan.x:0,y:plainObject(g.pan)&&number$1(g.pan.y)?g.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:v(250,g.multiClickDebounceTime)};this.createEmitter(),this.selectionType(g.selectionType),this.zoomRange({min:g.minZoom,max:g.maxZoom});var M=function(F,j){var U=F.some(promise);if(U)return Promise$1.all(F).then(j);j(F)};S.styleEnabled&&n.setStyle([]);var I=extend({},g,g.renderer);n.initRenderer(I);var P=function(F,j,U){n.notifications(!1);var V=n.mutableElements();V.length>0&&V.remove(),F!=null&&(plainObject(F)||array(F))&&n.add(F),n.one("layoutready",function(Q){n.notifications(!0),n.emit(Q),n.one("load",j),n.emitAndNotify("load")}).one("layoutstop",function(){n.one("done",U),n.emit("done")});var Z=extend({},n._private.options.layout);Z.eles=n.elements(),n.layout(Z).run()};M([g.style,g.elements],function(N){var F=N[0],j=N[1];S.styleEnabled&&n.style().append(F),P(j,function(){n.startAnimationLoop(),S.ready=!0,fn$6(g.ready)&&n.on("ready",g.ready);for(var U=0;U<f.length;U++){var V=f[U];n.on("ready",V)}u&&(u.readies=[]),n.emit("ready")},g.done)})},corefn=Core.prototype;extend(corefn,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},mount:function(t){if(t!=null){var n=this,s=n._private,u=s.options;return!htmlElement(t)&&htmlElement(t[0])&&(t=t[0]),n.stopAnimationLoop(),n.destroyRenderer(),s.container=t,s.styleEnabled=!0,n.invalidateSize(),n.initRenderer(extend({},u,u.renderer,{name:u.renderer.name==="null"?"canvas":u.renderer.name})),n.startAnimationLoop(),n.style(u.style),n.emit("mount"),n}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return copy(this._private.options)},json:function(t){var n=this,s=n._private,u=n.mutableElements(),f=function(J){return n.getElementById(J.id())};if(plainObject(t)){if(n.startBatch(),t.elements){var d={},g=function(J,te){for(var oe=[],ue=[],se=0;se<J.length;se++){var le=J[se];if(!le.data.id){warn("cy.json() cannot handle elements without an ID attribute");continue}var de=""+le.data.id,ge=n.getElementById(de);d[de]=!0,ge.length!==0?ue.push({ele:ge,json:le}):(te&&(le.group=te),oe.push(le))}n.add(oe);for(var ve=0;ve<ue.length;ve++){var me=ue[ve],ye=me.ele,Ae=me.json;ye.json(Ae)}};if(array(t.elements))g(t.elements);else for(var v=["nodes","edges"],S=0;S<v.length;S++){var M=v[S],I=t.elements[M];array(I)&&g(I,M)}var P=n.collection();u.filter(function(Q){return!d[Q.id()]}).forEach(function(Q){Q.isParent()?P.merge(Q):Q.remove()}),P.forEach(function(Q){return Q.children().move({parent:null})}),P.forEach(function(Q){return f(Q).remove()})}t.style&&n.style(t.style),t.zoom!=null&&t.zoom!==s.zoom&&n.zoom(t.zoom),t.pan&&(t.pan.x!==s.pan.x||t.pan.y!==s.pan.y)&&n.pan(t.pan),t.data&&n.data(t.data);for(var N=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],F=0;F<N.length;F++){var j=N[F];t[j]!=null&&n[j](t[j])}return n.endBatch(),this}else{var U=!!t,V={};U?V.elements=this.elements().map(function(Q){return Q.json()}):(V.elements={},u.forEach(function(Q){var J=Q.group();V.elements[J]||(V.elements[J]=[]),V.elements[J].push(Q.json())})),this._private.styleEnabled&&(V.style=n.style().json()),V.data=copy(n.data());var Z=s.options;return V.zoomingEnabled=s.zoomingEnabled,V.userZoomingEnabled=s.userZoomingEnabled,V.zoom=s.zoom,V.minZoom=s.minZoom,V.maxZoom=s.maxZoom,V.panningEnabled=s.panningEnabled,V.userPanningEnabled=s.userPanningEnabled,V.pan=copy(s.pan),V.boxSelectionEnabled=s.boxSelectionEnabled,V.renderer=copy(Z.renderer),V.hideEdgesOnViewport=Z.hideEdgesOnViewport,V.textureOnViewport=Z.textureOnViewport,V.wheelSensitivity=Z.wheelSensitivity,V.motionBlur=Z.motionBlur,V.multiClickDebounceTime=Z.multiClickDebounceTime,V}}});corefn.$id=corefn.getElementById;[corefn$9,corefn$8,elesfn,corefn$7,corefn$6,corefn$5,corefn$4,corefn$3,corefn$2,corefn$1,fn].forEach(function(e){extend(corefn,e)});var defaults$7={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}},getInfo=function(t){return t.scratch("breadthfirst")},setInfo=function(t,n){return t.scratch("breadthfirst",n)};function BreadthFirstLayout(e){this.options=extend({},defaults$7,e)}BreadthFirstLayout.prototype.run=function(){var e=this.options,t=e,n=e.cy,s=t.eles,u=s.nodes().filter(function(st){return!st.isParent()}),f=s,d=t.directed,g=t.maximal||t.maximalAdjustments>0,v=makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),S;if(elementOrCollection(t.roots))S=t.roots;else if(array(t.roots)){for(var M=[],I=0;I<t.roots.length;I++){var P=t.roots[I],N=n.getElementById(P);M.push(N)}S=n.collection(M)}else if(string(t.roots))S=n.$(t.roots);else if(d)S=u.roots();else{var F=s.components();S=n.collection();for(var j=function(ft){var Dt=F[ft],ut=Dt.maxDegree(!1),_t=Dt.filter(function(Bt){return Bt.degree(!1)===ut});S=S.add(_t)},U=0;U<F.length;U++)j(U)}var V=[],Z={},Q=function(ft,Dt){V[Dt]==null&&(V[Dt]=[]);var ut=V[Dt].length;V[Dt].push(ft),setInfo(ft,{index:ut,depth:Dt})},J=function(ft,Dt){var ut=getInfo(ft),_t=ut.depth,Bt=ut.index;V[_t][Bt]=null,Q(ft,Dt)};f.bfs({roots:S,directed:t.directed,visit:function(ft,Dt,ut,_t,Bt){var mn=ft[0],dn=mn.id();Q(mn,Bt),Z[dn]=!0}});for(var te=[],oe=0;oe<u.length;oe++){var ue=u[oe];Z[ue.id()]||te.push(ue)}var se=function(ft){for(var Dt=V[ft],ut=0;ut<Dt.length;ut++){var _t=Dt[ut];if(_t==null){Dt.splice(ut,1),ut--;continue}setInfo(_t,{depth:ft,index:ut})}},le=function(){for(var ft=0;ft<V.length;ft++)se(ft)},de=function(ft,Dt){for(var ut=getInfo(ft),_t=ft.incomers().filter(function(We){return We.isNode()&&s.has(We)}),Bt=-1,mn=ft.id(),dn=0;dn<_t.length;dn++){var Zt=_t[dn],Mt=getInfo(Zt);Bt=Math.max(Bt,Mt.depth)}return ut.depth<=Bt?Dt[mn]?null:(J(ft,Bt+1),Dt[mn]=!0,!0):!1};if(d&&g){var ge=[],ve={},me=function(ft){return ge.push(ft)},ye=function(){return ge.shift()};for(u.forEach(function(st){return ge.push(st)});ge.length>0;){var Ae=ye(),Te=de(Ae,ve);if(Te)Ae.outgoers().filter(function(st){return st.isNode()&&s.has(st)}).forEach(me);else if(Te===null){warn("Detected double maximal shift for node `"+Ae.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}le();var Oe=0;if(t.avoidOverlap)for(var Ie=0;Ie<u.length;Ie++){var Be=u[Ie],De=Be.layoutDimensions(t),Pe=De.w,Ne=De.h;Oe=Math.max(Oe,Pe,Ne)}var He={},je=function(ft){if(He[ft.id()])return He[ft.id()];for(var Dt=getInfo(ft).depth,ut=ft.neighborhood(),_t=0,Bt=0,mn=0;mn<ut.length;mn++){var dn=ut[mn];if(!(dn.isEdge()||dn.isParent()||!u.has(dn))){var Zt=getInfo(dn);if(Zt!=null){var Mt=Zt.index,We=Zt.depth;if(!(Mt==null||We==null)){var bt=V[We].length;We<Dt&&(_t+=Mt/bt,Bt++)}}}}return Bt=Math.max(1,Bt),_t=_t/Bt,Bt===0&&(_t=0),He[ft.id()]=_t,_t},ze=function(ft,Dt){var ut=je(ft),_t=je(Dt),Bt=ut-_t;return Bt===0?ascending(ft.id(),Dt.id()):Bt};t.depthSort!==void 0&&(ze=t.depthSort);for(var Ve=0;Ve<V.length;Ve++)V[Ve].sort(ze),se(Ve);for(var Ye=[],nt=0;nt<te.length;nt++)Ye.push(te[nt]);V.unshift(Ye),le();for(var Fe=0,Qe=0;Qe<V.length;Qe++)Fe=Math.max(V[Qe].length,Fe);var it={x:v.x1+v.w/2,y:v.x1+v.h/2},at=V.reduce(function(st,ft){return Math.max(st,ft.length)},0),wt=function(ft){var Dt=getInfo(ft),ut=Dt.depth,_t=Dt.index,Bt=V[ut].length,mn=Math.max(v.w/((t.grid?at:Bt)+1),Oe),dn=Math.max(v.h/(V.length+1),Oe),Zt=Math.min(v.w/2/V.length,v.h/2/V.length);if(Zt=Math.max(Zt,Oe),t.circle){var We=Zt*ut+Zt-(V.length>0&&V[0].length<=3?Zt/2:0),bt=2*Math.PI/V[ut].length*_t;return ut===0&&V[0].length===1&&(We=1),{x:it.x+We*Math.cos(bt),y:it.y+We*Math.sin(bt)}}else{var Mt={x:it.x+(_t+1-(Bt+1)/2)*mn,y:(ut+1)*dn};return Mt}};return s.nodes().layoutPositions(this,t,wt),this};var defaults$6={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function CircleLayout(e){this.options=extend({},defaults$6,e)}CircleLayout.prototype.run=function(){var e=this.options,t=e,n=e.cy,s=t.eles,u=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,f=s.nodes().not(":parent");t.sort&&(f=f.sort(t.sort));for(var d=makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),g={x:d.x1+d.w/2,y:d.y1+d.h/2},v=t.sweep===void 0?2*Math.PI-2*Math.PI/f.length:t.sweep,S=v/Math.max(1,f.length-1),M,I=0,P=0;P<f.length;P++){var N=f[P],F=N.layoutDimensions(t),j=F.w,U=F.h;I=Math.max(I,j,U)}if(number$1(t.radius)?M=t.radius:f.length<=1?M=0:M=Math.min(d.h,d.w)/2-I,f.length>1&&t.avoidOverlap){I*=1.75;var V=Math.cos(S)-Math.cos(0),Z=Math.sin(S)-Math.sin(0),Q=Math.sqrt(I*I/(V*V+Z*Z));M=Math.max(Q,M)}var J=function(oe,ue){var se=t.startAngle+ue*S*(u?1:-1),le=M*Math.cos(se),de=M*Math.sin(se),ge={x:g.x+le,y:g.y+de};return ge};return s.nodes().layoutPositions(this,t,J),this};var defaults$5={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function ConcentricLayout(e){this.options=extend({},defaults$5,e)}ConcentricLayout.prototype.run=function(){for(var e=this.options,t=e,n=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,s=e.cy,u=t.eles,f=u.nodes().not(":parent"),d=makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()}),g={x:d.x1+d.w/2,y:d.y1+d.h/2},v=[],S=0,M=0;M<f.length;M++){var I=f[M],P=void 0;P=t.concentric(I),v.push({value:P,node:I}),I._private.scratch.concentric=P}f.updateStyle();for(var N=0;N<f.length;N++){var F=f[N],j=F.layoutDimensions(t);S=Math.max(S,j.w,j.h)}v.sort(function(st,ft){return ft.value-st.value});for(var U=t.levelWidth(f),V=[[]],Z=V[0],Q=0;Q<v.length;Q++){var J=v[Q];if(Z.length>0){var te=Math.abs(Z[0].value-J.value);te>=U&&(Z=[],V.push(Z))}Z.push(J)}var oe=S+t.minNodeSpacing;if(!t.avoidOverlap){var ue=V.length>0&&V[0].length>1,se=Math.min(d.w,d.h)/2-oe,le=se/(V.length+ue?1:0);oe=Math.min(oe,le)}for(var de=0,ge=0;ge<V.length;ge++){var ve=V[ge],me=t.sweep===void 0?2*Math.PI-2*Math.PI/ve.length:t.sweep,ye=ve.dTheta=me/Math.max(1,ve.length-1);if(ve.length>1&&t.avoidOverlap){var Ae=Math.cos(ye)-Math.cos(0),Te=Math.sin(ye)-Math.sin(0),Oe=Math.sqrt(oe*oe/(Ae*Ae+Te*Te));de=Math.max(Oe,de)}ve.r=de,de+=oe}if(t.equidistant){for(var Ie=0,Be=0,De=0;De<V.length;De++){var Pe=V[De],Ne=Pe.r-Be;Ie=Math.max(Ie,Ne)}Be=0;for(var He=0;He<V.length;He++){var je=V[He];He===0&&(Be=je.r),je.r=Be,Be+=Ie}}for(var ze={},Ve=0;Ve<V.length;Ve++)for(var Ye=V[Ve],nt=Ye.dTheta,Fe=Ye.r,Qe=0;Qe<Ye.length;Qe++){var it=Ye[Qe],at=t.startAngle+(n?1:-1)*nt*Qe,wt={x:g.x+Fe*Math.cos(at),y:g.y+Fe*Math.sin(at)};ze[it.node.id()]=wt}return u.nodes().layoutPositions(this,t,function(st){var ft=st.id();return ze[ft]}),this};var DEBUG,defaults$4={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,n){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function CoseLayout(e){this.options=extend({},defaults$4,e),this.options.layout=this}CoseLayout.prototype.run=function(){var e=this.options,t=e.cy,n=this;n.stopped=!1,(e.animate===!0||e.animate===!1)&&n.emit({type:"layoutstart",layout:n}),e.debug===!0?DEBUG=!0:DEBUG=!1;var s=createLayoutInfo(t,n,e);DEBUG&&printLayoutInfo(s),e.randomize&&randomizePositions(s);var u=performanceNow(),f=function(){refreshPositions(s,t,e),e.fit===!0&&t.fit(e.padding)},d=function(P){return!(n.stopped||P>=e.numIter||(step(s,e),s.temperature=s.temperature*e.coolingFactor,s.temperature<e.minTemp))},g=function(){if(e.animate===!0||e.animate===!1)f(),n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n});else{var P=e.eles.nodes(),N=getScaleInBoundsFn(s,e,P);P.layoutPositions(n,e,N)}},v=0,S=!0;if(e.animate===!0){var M=function I(){for(var P=0;S&&P<e.refresh;)S=d(v),v++,P++;if(!S)separateComponents(s,e),g();else{var N=performanceNow();N-u>=e.animationThreshold&&f(),requestAnimationFrame$1(I)}};M()}else{for(;S;)S=d(v),v++;separateComponents(s,e),g()}return this};CoseLayout.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};CoseLayout.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var createLayoutInfo=function(t,n,s){for(var u=s.eles.edges(),f=s.eles.nodes(),d={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:f.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:u.size(),temperature:s.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:makeBoundingBox(s.boundingBox?s.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},g=s.eles.components(),v={},S=0;S<g.length;S++)for(var M=g[S],I=0;I<M.length;I++){var P=M[I];v[P.id()]=S}for(var S=0;S<d.nodeSize;S++){var N=f[S],F=N.layoutDimensions(s),j={};j.isLocked=N.locked(),j.id=N.data("id"),j.parentId=N.data("parent"),j.cmptId=v[N.id()],j.children=[],j.positionX=N.position("x"),j.positionY=N.position("y"),j.offsetX=0,j.offsetY=0,j.height=F.w,j.width=F.h,j.maxX=j.positionX+j.width/2,j.minX=j.positionX-j.width/2,j.maxY=j.positionY+j.height/2,j.minY=j.positionY-j.height/2,j.padLeft=parseFloat(N.style("padding")),j.padRight=parseFloat(N.style("padding")),j.padTop=parseFloat(N.style("padding")),j.padBottom=parseFloat(N.style("padding")),j.nodeRepulsion=fn$6(s.nodeRepulsion)?s.nodeRepulsion(N):s.nodeRepulsion,d.layoutNodes.push(j),d.idToIndex[j.id]=S}for(var U=[],V=0,Z=-1,Q=[],S=0;S<d.nodeSize;S++){var N=d.layoutNodes[S],J=N.parentId;J!=null?d.layoutNodes[d.idToIndex[J]].children.push(N.id):(U[++Z]=N.id,Q.push(N.id))}for(d.graphSet.push(Q);V<=Z;){var te=U[V++],oe=d.idToIndex[te],P=d.layoutNodes[oe],ue=P.children;if(ue.length>0){d.graphSet.push(ue);for(var S=0;S<ue.length;S++)U[++Z]=ue[S]}}for(var S=0;S<d.graphSet.length;S++)for(var se=d.graphSet[S],I=0;I<se.length;I++){var le=d.idToIndex[se[I]];d.indexToGraph[le]=S}for(var S=0;S<d.edgeSize;S++){var de=u[S],ge={};ge.id=de.data("id"),ge.sourceId=de.data("source"),ge.targetId=de.data("target");var ve=fn$6(s.idealEdgeLength)?s.idealEdgeLength(de):s.idealEdgeLength,me=fn$6(s.edgeElasticity)?s.edgeElasticity(de):s.edgeElasticity,ye=d.idToIndex[ge.sourceId],Ae=d.idToIndex[ge.targetId],Te=d.indexToGraph[ye],Oe=d.indexToGraph[Ae];if(Te!=Oe){for(var Ie=findLCA(ge.sourceId,ge.targetId,d),Be=d.graphSet[Ie],De=0,j=d.layoutNodes[ye];Be.indexOf(j.id)===-1;)j=d.layoutNodes[d.idToIndex[j.parentId]],De++;for(j=d.layoutNodes[Ae];Be.indexOf(j.id)===-1;)j=d.layoutNodes[d.idToIndex[j.parentId]],De++;ve*=De*s.nestingFactor}ge.idealLength=ve,ge.elasticity=me,d.layoutEdges.push(ge)}return d},findLCA=function(t,n,s){var u=findLCA_aux(t,n,0,s);return 2>u.count?0:u.graph},findLCA_aux=function e(t,n,s,u){var f=u.graphSet[s];if(-1<f.indexOf(t)&&-1<f.indexOf(n))return{count:2,graph:s};for(var d=0,g=0;g<f.length;g++){var v=f[g],S=u.idToIndex[v],M=u.layoutNodes[S].children;if(M.length!==0){var I=u.indexToGraph[u.idToIndex[M[0]]],P=e(t,n,I,u);if(P.count!==0)if(P.count===1){if(d++,d===2)break}else return P}}return{count:d,graph:s}},printLayoutInfo,randomizePositions=function(t,n){for(var s=t.clientWidth,u=t.clientHeight,f=0;f<t.nodeSize;f++){var d=t.layoutNodes[f];d.children.length===0&&!d.isLocked&&(d.positionX=Math.random()*s,d.positionY=Math.random()*u)}},getScaleInBoundsFn=function(t,n,s){var u=t.boundingBox,f={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return n.boundingBox&&(s.forEach(function(d){var g=t.layoutNodes[t.idToIndex[d.data("id")]];f.x1=Math.min(f.x1,g.positionX),f.x2=Math.max(f.x2,g.positionX),f.y1=Math.min(f.y1,g.positionY),f.y2=Math.max(f.y2,g.positionY)}),f.w=f.x2-f.x1,f.h=f.y2-f.y1),function(d,g){var v=t.layoutNodes[t.idToIndex[d.data("id")]];if(n.boundingBox){var S=(v.positionX-f.x1)/f.w,M=(v.positionY-f.y1)/f.h;return{x:u.x1+S*u.w,y:u.y1+M*u.h}}else return{x:v.positionX,y:v.positionY}}},refreshPositions=function(t,n,s){var u=s.layout,f=s.eles.nodes(),d=getScaleInBoundsFn(t,s,f);f.positions(d),t.ready!==!0&&(t.ready=!0,u.one("layoutready",s.ready),u.emit({type:"layoutready",layout:this}))},step=function(t,n,s){calculateNodeForces(t,n),calculateEdgeForces(t),calculateGravityForces(t,n),propagateForces(t),updatePositions(t)},calculateNodeForces=function(t,n){for(var s=0;s<t.graphSet.length;s++)for(var u=t.graphSet[s],f=u.length,d=0;d<f;d++)for(var g=t.layoutNodes[t.idToIndex[u[d]]],v=d+1;v<f;v++){var S=t.layoutNodes[t.idToIndex[u[v]]];nodeRepulsion(g,S,t,n)}},randomDistance=function(t){return-t+2*t*Math.random()},nodeRepulsion=function(t,n,s,u){var f=t.cmptId,d=n.cmptId;if(!(f!==d&&!s.isCompound)){var g=n.positionX-t.positionX,v=n.positionY-t.positionY,S=1;g===0&&v===0&&(g=randomDistance(S),v=randomDistance(S));var M=nodesOverlap(t,n,g,v);if(M>0)var I=u.nodeOverlap*M,P=Math.sqrt(g*g+v*v),N=I*g/P,F=I*v/P;else var j=findClippingPoint(t,g,v),U=findClippingPoint(n,-1*g,-1*v),V=U.x-j.x,Z=U.y-j.y,Q=V*V+Z*Z,P=Math.sqrt(Q),I=(t.nodeRepulsion+n.nodeRepulsion)/Q,N=I*V/P,F=I*Z/P;t.isLocked||(t.offsetX-=N,t.offsetY-=F),n.isLocked||(n.offsetX+=N,n.offsetY+=F)}},nodesOverlap=function(t,n,s,u){if(s>0)var f=t.maxX-n.minX;else var f=n.maxX-t.minX;if(u>0)var d=t.maxY-n.minY;else var d=n.maxY-t.minY;return f>=0&&d>=0?Math.sqrt(f*f+d*d):0},findClippingPoint=function(t,n,s){var u=t.positionX,f=t.positionY,d=t.height||1,g=t.width||1,v=s/n,S=d/g,M={};return n===0&&0<s||n===0&&0>s?(M.x=u,M.y=f+d/2,M):0<n&&-1*S<=v&&v<=S?(M.x=u+g/2,M.y=f+g*s/2/n,M):0>n&&-1*S<=v&&v<=S?(M.x=u-g/2,M.y=f-g*s/2/n,M):0<s&&(v<=-1*S||v>=S)?(M.x=u+d*n/2/s,M.y=f+d/2,M):(0>s&&(v<=-1*S||v>=S)&&(M.x=u-d*n/2/s,M.y=f-d/2),M)},calculateEdgeForces=function(t,n){for(var s=0;s<t.edgeSize;s++){var u=t.layoutEdges[s],f=t.idToIndex[u.sourceId],d=t.layoutNodes[f],g=t.idToIndex[u.targetId],v=t.layoutNodes[g],S=v.positionX-d.positionX,M=v.positionY-d.positionY;if(!(S===0&&M===0)){var I=findClippingPoint(d,S,M),P=findClippingPoint(v,-1*S,-1*M),N=P.x-I.x,F=P.y-I.y,j=Math.sqrt(N*N+F*F),U=Math.pow(u.idealLength-j,2)/u.elasticity;if(j!==0)var V=U*N/j,Z=U*F/j;else var V=0,Z=0;d.isLocked||(d.offsetX+=V,d.offsetY+=Z),v.isLocked||(v.offsetX-=V,v.offsetY-=Z)}}},calculateGravityForces=function(t,n){if(n.gravity!==0)for(var s=1,u=0;u<t.graphSet.length;u++){var f=t.graphSet[u],d=f.length;if(u===0)var g=t.clientHeight/2,v=t.clientWidth/2;else var S=t.layoutNodes[t.idToIndex[f[0]]],M=t.layoutNodes[t.idToIndex[S.parentId]],g=M.positionX,v=M.positionY;for(var I=0;I<d;I++){var P=t.layoutNodes[t.idToIndex[f[I]]];if(!P.isLocked){var N=g-P.positionX,F=v-P.positionY,j=Math.sqrt(N*N+F*F);if(j>s){var U=n.gravity*N/j,V=n.gravity*F/j;P.offsetX+=U,P.offsetY+=V}}}}},propagateForces=function(t,n){var s=[],u=0,f=-1;for(s.push.apply(s,t.graphSet[0]),f+=t.graphSet[0].length;u<=f;){var d=s[u++],g=t.idToIndex[d],v=t.layoutNodes[g],S=v.children;if(0<S.length&&!v.isLocked){for(var M=v.offsetX,I=v.offsetY,P=0;P<S.length;P++){var N=t.layoutNodes[t.idToIndex[S[P]]];N.offsetX+=M,N.offsetY+=I,s[++f]=S[P]}v.offsetX=0,v.offsetY=0}}},updatePositions=function(t,n){for(var s=0;s<t.nodeSize;s++){var u=t.layoutNodes[s];0<u.children.length&&(u.maxX=void 0,u.minX=void 0,u.maxY=void 0,u.minY=void 0)}for(var s=0;s<t.nodeSize;s++){var u=t.layoutNodes[s];if(!(0<u.children.length||u.isLocked)){var f=limitForce(u.offsetX,u.offsetY,t.temperature);u.positionX+=f.x,u.positionY+=f.y,u.offsetX=0,u.offsetY=0,u.minX=u.positionX-u.width,u.maxX=u.positionX+u.width,u.minY=u.positionY-u.height,u.maxY=u.positionY+u.height,updateAncestryBoundaries(u,t)}}for(var s=0;s<t.nodeSize;s++){var u=t.layoutNodes[s];0<u.children.length&&!u.isLocked&&(u.positionX=(u.maxX+u.minX)/2,u.positionY=(u.maxY+u.minY)/2,u.width=u.maxX-u.minX,u.height=u.maxY-u.minY)}},limitForce=function(t,n,s){var u=Math.sqrt(t*t+n*n);if(u>s)var f={x:s*t/u,y:s*n/u};else var f={x:t,y:n};return f},updateAncestryBoundaries=function e(t,n){var s=t.parentId;if(s!=null){var u=n.layoutNodes[n.idToIndex[s]],f=!1;if((u.maxX==null||t.maxX+u.padRight>u.maxX)&&(u.maxX=t.maxX+u.padRight,f=!0),(u.minX==null||t.minX-u.padLeft<u.minX)&&(u.minX=t.minX-u.padLeft,f=!0),(u.maxY==null||t.maxY+u.padBottom>u.maxY)&&(u.maxY=t.maxY+u.padBottom,f=!0),(u.minY==null||t.minY-u.padTop<u.minY)&&(u.minY=t.minY-u.padTop,f=!0),f)return e(u,n)}},separateComponents=function(t,n){for(var s=t.layoutNodes,u=[],f=0;f<s.length;f++){var d=s[f],g=d.cmptId,v=u[g]=u[g]||[];v.push(d)}for(var S=0,f=0;f<u.length;f++){var M=u[f];if(M){M.x1=1/0,M.x2=-1/0,M.y1=1/0,M.y2=-1/0;for(var I=0;I<M.length;I++){var P=M[I];M.x1=Math.min(M.x1,P.positionX-P.width/2),M.x2=Math.max(M.x2,P.positionX+P.width/2),M.y1=Math.min(M.y1,P.positionY-P.height/2),M.y2=Math.max(M.y2,P.positionY+P.height/2)}M.w=M.x2-M.x1,M.h=M.y2-M.y1,S+=M.w*M.h}}u.sort(function(Z,Q){return Q.w*Q.h-Z.w*Z.h});for(var N=0,F=0,j=0,U=0,V=Math.sqrt(S)*t.clientWidth/t.clientHeight,f=0;f<u.length;f++){var M=u[f];if(M){for(var I=0;I<M.length;I++){var P=M[I];P.isLocked||(P.positionX+=N-M.x1,P.positionY+=F-M.y1)}N+=M.w+n.componentSpacing,j+=M.w+n.componentSpacing,U=Math.max(U,M.h),j>V&&(F+=U+n.componentSpacing,N=0,j=0,U=0)}}},defaults$3={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function GridLayout(e){this.options=extend({},defaults$3,e)}GridLayout.prototype.run=function(){var e=this.options,t=e,n=e.cy,s=t.eles,u=s.nodes().not(":parent");t.sort&&(u=u.sort(t.sort));var f=makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(f.h===0||f.w===0)s.nodes().layoutPositions(this,t,function(He){return{x:f.x1,y:f.y1}});else{var d=u.size(),g=Math.sqrt(d*f.h/f.w),v=Math.round(g),S=Math.round(f.w/f.h*g),M=function(je){if(je==null)return Math.min(v,S);var ze=Math.min(v,S);ze==v?v=je:S=je},I=function(je){if(je==null)return Math.max(v,S);var ze=Math.max(v,S);ze==v?v=je:S=je},P=t.rows,N=t.cols!=null?t.cols:t.columns;if(P!=null&&N!=null)v=P,S=N;else if(P!=null&&N==null)v=P,S=Math.ceil(d/v);else if(P==null&&N!=null)S=N,v=Math.ceil(d/S);else if(S*v>d){var F=M(),j=I();(F-1)*j>=d?M(F-1):(j-1)*F>=d&&I(j-1)}else for(;S*v<d;){var U=M(),V=I();(V+1)*U>=d?I(V+1):M(U+1)}var Z=f.w/S,Q=f.h/v;if(t.condense&&(Z=0,Q=0),t.avoidOverlap)for(var J=0;J<u.length;J++){var te=u[J],oe=te._private.position;(oe.x==null||oe.y==null)&&(oe.x=0,oe.y=0);var ue=te.layoutDimensions(t),se=t.avoidOverlapPadding,le=ue.w+se,de=ue.h+se;Z=Math.max(Z,le),Q=Math.max(Q,de)}for(var ge={},ve=function(je,ze){return!!ge["c-"+je+"-"+ze]},me=function(je,ze){ge["c-"+je+"-"+ze]=!0},ye=0,Ae=0,Te=function(){Ae++,Ae>=S&&(Ae=0,ye++)},Oe={},Ie=0;Ie<u.length;Ie++){var Be=u[Ie],De=t.position(Be);if(De&&(De.row!==void 0||De.col!==void 0)){var Pe={row:De.row,col:De.col};if(Pe.col===void 0)for(Pe.col=0;ve(Pe.row,Pe.col);)Pe.col++;else if(Pe.row===void 0)for(Pe.row=0;ve(Pe.row,Pe.col);)Pe.row++;Oe[Be.id()]=Pe,me(Pe.row,Pe.col)}}var Ne=function(je,ze){var Ve,Ye;if(je.locked()||je.isParent())return!1;var nt=Oe[je.id()];if(nt)Ve=nt.col*Z+Z/2+f.x1,Ye=nt.row*Q+Q/2+f.y1;else{for(;ve(ye,Ae);)Te();Ve=Ae*Z+Z/2+f.x1,Ye=ye*Q+Q/2+f.y1,me(ye,Ae),Te()}return{x:Ve,y:Ye}};u.layoutPositions(this,t,Ne)}return this};var defaults$2={ready:function(){},stop:function(){}};function NullLayout(e){this.options=extend({},defaults$2,e)}NullLayout.prototype.run=function(){var e=this.options,t=e.eles,n=this;return e.cy,n.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",e.ready),n.emit("layoutready"),n.one("layoutstop",e.stop),n.emit("layoutstop"),this};NullLayout.prototype.stop=function(){return this};var defaults$1={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function PresetLayout(e){this.options=extend({},defaults$1,e)}PresetLayout.prototype.run=function(){var e=this.options,t=e.eles,n=t.nodes(),s=fn$6(e.positions);function u(f){if(e.positions==null)return copyPosition(f.position());if(s)return e.positions(f);var d=e.positions[f._private.data.id];return d??null}return n.layoutPositions(this,e,function(f,d){var g=u(f);return f.locked()||g==null?!1:g}),this};var defaults={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function RandomLayout(e){this.options=extend({},defaults,e)}RandomLayout.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,s=makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),u=function(d,g){return{x:s.x1+Math.round(Math.random()*s.w),y:s.y1+Math.round(Math.random()*s.h)}};return n.nodes().layoutPositions(this,e,u),this};var layout$1=[{name:"breadthfirst",impl:BreadthFirstLayout},{name:"circle",impl:CircleLayout},{name:"concentric",impl:ConcentricLayout},{name:"cose",impl:CoseLayout},{name:"grid",impl:GridLayout},{name:"null",impl:NullLayout},{name:"preset",impl:PresetLayout},{name:"random",impl:RandomLayout}];function NullRenderer(e){this.options=e,this.notifications=0}var noop=function(){},throwImgErr=function(){throw new Error("A headless instance can not render images")};NullRenderer.prototype={recalculateRenderedStyle:noop,notify:function(){this.notifications++},init:noop,isHeadless:function(){return!0},png:throwImgErr,jpg:throwImgErr};var BRp$f={};BRp$f.arrowShapeWidth=.3;BRp$f.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,n=function(S,M,I,P,N,F,j){var U=N.x-I/2-j,V=N.x+I/2+j,Z=N.y-I/2-j,Q=N.y+I/2+j,J=U<=S&&S<=V&&Z<=M&&M<=Q;return J},s=function(S,M,I,P,N){var F=S*Math.cos(P)-M*Math.sin(P),j=S*Math.sin(P)+M*Math.cos(P),U=F*I,V=j*I,Z=U+N.x,Q=V+N.y;return{x:Z,y:Q}},u=function(S,M,I,P){for(var N=[],F=0;F<S.length;F+=2){var j=S[F],U=S[F+1];N.push(s(j,U,M,I,P))}return N},f=function(S){for(var M=[],I=0;I<S.length;I++){var P=S[I];M.push(P.x,P.y)}return M},d=function(S){return S.pstyle("width").pfValue*S.pstyle("arrow-scale").pfValue*2},g=function(S,M){string(M)&&(M=e[M]),e[S]=extend({name:S,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(P,N,F,j,U,V){var Z=f(u(this.points,F+2*V,j,U)),Q=pointInsidePolygonPoints(P,N,Z);return Q},roughCollide:n,draw:function(P,N,F,j){var U=u(this.points,N,F,j);t.arrowShapeImpl("polygon")(P,U)},spacing:function(P){return 0},gap:d},M)};g("none",{collide:falsify,roughCollide:falsify,draw:noop$1,spacing:zeroify,gap:zeroify}),g("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),g("arrow","triangle"),g("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(S,M,I,P,N){var F=u(this.points,M,I,P),j=this.controlPoint,U=s(j[0],j[1],M,I,P);t.arrowShapeImpl(this.name)(S,F,U)},gap:function(S){return d(S)*.8}}),g("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(S,M,I,P,N,F,j){var U=f(u(this.points,I+2*j,P,N)),V=f(u(this.pointsTee,I+2*j,P,N)),Z=pointInsidePolygonPoints(S,M,U)||pointInsidePolygonPoints(S,M,V);return Z},draw:function(S,M,I,P,N){var F=u(this.points,M,I,P),j=u(this.pointsTee,M,I,P);t.arrowShapeImpl(this.name)(S,F,j)}}),g("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(S,M,I,P,N,F,j){var U=N,V=Math.pow(U.x-S,2)+Math.pow(U.y-M,2)<=Math.pow((I+2*j)*this.radius,2),Z=f(u(this.points,I+2*j,P,N));return pointInsidePolygonPoints(S,M,Z)||V},draw:function(S,M,I,P,N){var F=u(this.pointsTr,M,I,P);t.arrowShapeImpl(this.name)(S,F,P.x,P.y,this.radius*M)},spacing:function(S){return t.getArrowWidth(S.pstyle("width").pfValue,S.pstyle("arrow-scale").value)*this.radius}}),g("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(S,M){var I=this.baseCrossLinePts.slice(),P=M/S,N=3,F=5;return I[N]=I[N]-P,I[F]=I[F]-P,I},collide:function(S,M,I,P,N,F,j){var U=f(u(this.points,I+2*j,P,N)),V=f(u(this.crossLinePts(I,F),I+2*j,P,N)),Z=pointInsidePolygonPoints(S,M,U)||pointInsidePolygonPoints(S,M,V);return Z},draw:function(S,M,I,P,N){var F=u(this.points,M,I,P),j=u(this.crossLinePts(M,N),M,I,P);t.arrowShapeImpl(this.name)(S,F,j)}}),g("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(S){return d(S)*.525}}),g("circle",{radius:.15,collide:function(S,M,I,P,N,F,j){var U=N,V=Math.pow(U.x-S,2)+Math.pow(U.y-M,2)<=Math.pow((I+2*j)*this.radius,2);return V},draw:function(S,M,I,P,N){t.arrowShapeImpl(this.name)(S,P.x,P.y,this.radius*M)},spacing:function(S){return t.getArrowWidth(S.pstyle("width").pfValue,S.pstyle("arrow-scale").value)*this.radius}}),g("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(S){return 1},gap:function(S){return 1}}),g("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),g("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(S){return S.pstyle("width").pfValue*S.pstyle("arrow-scale").value}}),g("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(S){return .95*S.pstyle("width").pfValue*S.pstyle("arrow-scale").value}})};var BRp$e={};BRp$e.projectIntoViewport=function(e,t){var n=this.cy,s=this.findContainerClientCoords(),u=s[0],f=s[1],d=s[4],g=n.pan(),v=n.zoom(),S=((e-u)/d-g.x)/v,M=((t-f)/d-g.y)/v;return[S,M]};BRp$e.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=window$1.getComputedStyle(e),s=function(V){return parseFloat(n.getPropertyValue(V))},u={left:s("padding-left"),right:s("padding-right"),top:s("padding-top"),bottom:s("padding-bottom")},f={left:s("border-left-width"),right:s("border-right-width"),top:s("border-top-width"),bottom:s("border-bottom-width")},d=e.clientWidth,g=e.clientHeight,v=u.left+u.right,S=u.top+u.bottom,M=f.left+f.right,I=t.width/(d+M),P=d-v,N=g-S,F=t.left+u.left+f.left,j=t.top+u.top+f.top;return this.containerBB=[F,j,P,N,I]};BRp$e.invalidateContainerClientCoordsCache=function(){this.containerBB=null};BRp$e.findNearestElement=function(e,t,n,s){return this.findNearestElements(e,t,n,s)[0]};BRp$e.findNearestElements=function(e,t,n,s){var u=this,f=this,d=f.getCachedZSortedEles(),g=[],v=f.cy.zoom(),S=f.cy.hasCompoundNodes(),M=(s?24:8)/v,I=(s?8:2)/v,P=(s?8:2)/v,N=1/0,F,j;n&&(d=d.interactive);function U(ue,se){if(ue.isNode()){if(j)return;j=ue,g.push(ue)}if(ue.isEdge()&&(se==null||se<N))if(F){if(F.pstyle("z-compound-depth").value===ue.pstyle("z-compound-depth").value&&F.pstyle("z-compound-depth").value===ue.pstyle("z-compound-depth").value){for(var le=0;le<g.length;le++)if(g[le].isEdge()){g[le]=ue,F=ue,N=se??N;break}}}else g.push(ue),F=ue,N=se??N}function V(ue){var se=ue.outerWidth()+2*I,le=ue.outerHeight()+2*I,de=se/2,ge=le/2,ve=ue.position();if(ve.x-de<=e&&e<=ve.x+de&&ve.y-ge<=t&&t<=ve.y+ge){var me=f.nodeShapes[u.getNodeShape(ue)];if(me.checkPoint(e,t,0,se,le,ve.x,ve.y))return U(ue,0),!0}}function Z(ue){var se=ue._private,le=se.rscratch,de=ue.pstyle("width").pfValue,ge=ue.pstyle("arrow-scale").value,ve=de/2+M,me=ve*ve,ye=ve*2,Ie=se.source,Be=se.target,Ae;if(le.edgeType==="segments"||le.edgeType==="straight"||le.edgeType==="haystack"){for(var Te=le.allpts,Oe=0;Oe+3<Te.length;Oe+=2)if(inLineVicinity(e,t,Te[Oe],Te[Oe+1],Te[Oe+2],Te[Oe+3],ye)&&me>(Ae=sqdistToFiniteLine(e,t,Te[Oe],Te[Oe+1],Te[Oe+2],Te[Oe+3])))return U(ue,Ae),!0}else if(le.edgeType==="bezier"||le.edgeType==="multibezier"||le.edgeType==="self"||le.edgeType==="compound"){for(var Te=le.allpts,Oe=0;Oe+5<le.allpts.length;Oe+=4)if(inBezierVicinity(e,t,Te[Oe],Te[Oe+1],Te[Oe+2],Te[Oe+3],Te[Oe+4],Te[Oe+5],ye)&&me>(Ae=sqdistToQuadraticBezier(e,t,Te[Oe],Te[Oe+1],Te[Oe+2],Te[Oe+3],Te[Oe+4],Te[Oe+5])))return U(ue,Ae),!0}for(var Ie=Ie||se.source,Be=Be||se.target,De=u.getArrowWidth(de,ge),Pe=[{name:"source",x:le.arrowStartX,y:le.arrowStartY,angle:le.srcArrowAngle},{name:"target",x:le.arrowEndX,y:le.arrowEndY,angle:le.tgtArrowAngle},{name:"mid-source",x:le.midX,y:le.midY,angle:le.midsrcArrowAngle},{name:"mid-target",x:le.midX,y:le.midY,angle:le.midtgtArrowAngle}],Oe=0;Oe<Pe.length;Oe++){var Ne=Pe[Oe],He=f.arrowShapes[ue.pstyle(Ne.name+"-arrow-shape").value],je=ue.pstyle("width").pfValue;if(He.roughCollide(e,t,De,Ne.angle,{x:Ne.x,y:Ne.y},je,M)&&He.collide(e,t,De,Ne.angle,{x:Ne.x,y:Ne.y},je,M))return U(ue),!0}S&&g.length>0&&(V(Ie),V(Be))}function Q(ue,se,le){return getPrefixedProperty(ue,se,le)}function J(ue,se){var le=ue._private,de=P,ge;se?ge=se+"-":ge="",ue.boundingBox();var ve=le.labelBounds[se||"main"],me=ue.pstyle(ge+"label").value,ye=ue.pstyle("text-events").strValue==="yes";if(!(!ye||!me)){var Ae=Q(le.rscratch,"labelX",se),Te=Q(le.rscratch,"labelY",se),Oe=Q(le.rscratch,"labelAngle",se),Ie=ue.pstyle(ge+"text-margin-x").pfValue,Be=ue.pstyle(ge+"text-margin-y").pfValue,De=ve.x1-de-Ie,Pe=ve.x2+de-Ie,Ne=ve.y1-de-Be,He=ve.y2+de-Be;if(Oe){var je=Math.cos(Oe),ze=Math.sin(Oe),Ve=function(wt,st){return wt=wt-Ae,st=st-Te,{x:wt*je-st*ze+Ae,y:wt*ze+st*je+Te}},Ye=Ve(De,Ne),nt=Ve(De,He),Fe=Ve(Pe,Ne),Qe=Ve(Pe,He),it=[Ye.x+Ie,Ye.y+Be,Fe.x+Ie,Fe.y+Be,Qe.x+Ie,Qe.y+Be,nt.x+Ie,nt.y+Be];if(pointInsidePolygonPoints(e,t,it))return U(ue),!0}else if(inBoundingBox(ve,e,t))return U(ue),!0}}for(var te=d.length-1;te>=0;te--){var oe=d[te];oe.isNode()?V(oe)||J(oe):Z(oe)||J(oe)||J(oe,"source")||J(oe,"target")}return g};BRp$e.getAllInBox=function(e,t,n,s){var u=this.getCachedZSortedEles().interactive,f=[],d=Math.min(e,n),g=Math.max(e,n),v=Math.min(t,s),S=Math.max(t,s);e=d,n=g,t=v,s=S;for(var M=makeBoundingBox({x1:e,y1:t,x2:n,y2:s}),I=0;I<u.length;I++){var P=u[I];if(P.isNode()){var N=P,F=N.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});boundingBoxesIntersect(M,F)&&!boundingBoxInBoundingBox(F,M)&&f.push(N)}else{var j=P,U=j._private,V=U.rscratch;if(V.startX!=null&&V.startY!=null&&!inBoundingBox(M,V.startX,V.startY)||V.endX!=null&&V.endY!=null&&!inBoundingBox(M,V.endX,V.endY))continue;if(V.edgeType==="bezier"||V.edgeType==="multibezier"||V.edgeType==="self"||V.edgeType==="compound"||V.edgeType==="segments"||V.edgeType==="haystack"){for(var Z=U.rstyle.bezierPts||U.rstyle.linePts||U.rstyle.haystackPts,Q=!0,J=0;J<Z.length;J++)if(!pointInBoundingBox(M,Z[J])){Q=!1;break}Q&&f.push(j)}else(V.edgeType==="haystack"||V.edgeType==="straight")&&f.push(j)}}return f};var BRp$d={};BRp$d.calculateArrowAngles=function(e){var t=e._private.rscratch,n=t.edgeType==="haystack",s=t.edgeType==="bezier",u=t.edgeType==="multibezier",f=t.edgeType==="segments",d=t.edgeType==="compound",g=t.edgeType==="self",v,S,M,I,P,N,V,Z;if(n?(M=t.haystackPts[0],I=t.haystackPts[1],P=t.haystackPts[2],N=t.haystackPts[3]):(M=t.arrowStartX,I=t.arrowStartY,P=t.arrowEndX,N=t.arrowEndY),V=t.midX,Z=t.midY,f)v=M-t.segpts[0],S=I-t.segpts[1];else if(u||d||g||s){var F=t.allpts,j=qbezierAt(F[0],F[2],F[4],.1),U=qbezierAt(F[1],F[3],F[5],.1);v=M-j,S=I-U}else v=M-V,S=I-Z;t.srcArrowAngle=getAngleFromDisp(v,S);var V=t.midX,Z=t.midY;if(n&&(V=(M+P)/2,Z=(I+N)/2),v=P-M,S=N-I,f){var F=t.allpts;if(F.length/2%2===0){var Q=F.length/2,J=Q-2;v=F[Q]-F[J],S=F[Q+1]-F[J+1]}else{var Q=F.length/2-1,J=Q-2,te=Q+2;v=F[Q]-F[J],S=F[Q+1]-F[J+1]}}else if(u||d||g){var F=t.allpts,oe=t.ctrlpts,ue,se,le,de;if(oe.length/2%2===0){var ge=F.length/2-1,ve=ge+2,me=ve+2;ue=qbezierAt(F[ge],F[ve],F[me],0),se=qbezierAt(F[ge+1],F[ve+1],F[me+1],0),le=qbezierAt(F[ge],F[ve],F[me],1e-4),de=qbezierAt(F[ge+1],F[ve+1],F[me+1],1e-4)}else{var ve=F.length/2-1,ge=ve-2,me=ve+2;ue=qbezierAt(F[ge],F[ve],F[me],.4999),se=qbezierAt(F[ge+1],F[ve+1],F[me+1],.4999),le=qbezierAt(F[ge],F[ve],F[me],.5),de=qbezierAt(F[ge+1],F[ve+1],F[me+1],.5)}v=le-ue,S=de-se}if(t.midtgtArrowAngle=getAngleFromDisp(v,S),t.midDispX=v,t.midDispY=S,v*=-1,S*=-1,f){var F=t.allpts;if(F.length/2%2!==0){var Q=F.length/2-1,te=Q+2;v=-(F[te]-F[Q]),S=-(F[te+1]-F[Q+1])}}if(t.midsrcArrowAngle=getAngleFromDisp(v,S),f)v=P-t.segpts[t.segpts.length-2],S=N-t.segpts[t.segpts.length-1];else if(u||d||g||s){var F=t.allpts,ye=F.length,j=qbezierAt(F[ye-6],F[ye-4],F[ye-2],.9),U=qbezierAt(F[ye-5],F[ye-3],F[ye-1],.9);v=P-j,S=N-U}else v=P-V,S=N-Z;t.tgtArrowAngle=getAngleFromDisp(v,S)};BRp$d.getArrowWidth=BRp$d.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},s=n[e+", "+t];return s||(s=Math.max(Math.pow(e*13.37,.9),29)*t,n[e+", "+t]=s,s)};var BRp$c={};BRp$c.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],s=n._private,u=s.rscratch;if(!u.haystack){var f=Math.random()*2*Math.PI;u.source={x:Math.cos(f),y:Math.sin(f)},f=Math.random()*2*Math.PI,u.target={x:Math.cos(f),y:Math.sin(f)}}var d=s.source,g=s.target,v=d.position(),S=g.position(),M=d.width(),I=g.width(),P=d.height(),N=g.height(),F=n.pstyle("haystack-radius").value,j=F/2;u.haystackPts=u.allpts=[u.source.x*M*j+v.x,u.source.y*P*j+v.y,u.target.x*I*j+S.x,u.target.y*N*j+S.y],u.midX=(u.allpts[0]+u.allpts[2])/2,u.midY=(u.allpts[1]+u.allpts[3])/2,u.edgeType="haystack",u.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}};BRp$c.findSegmentsPoints=function(e,t){var n=e._private.rscratch,s=t.posPts,u=t.intersectionPts,f=t.vectorNormInverse,d=e.pstyle("edge-distances").value,g=e.pstyle("segment-weights"),v=e.pstyle("segment-distances"),S=Math.min(g.pfValue.length,v.pfValue.length);n.edgeType="segments",n.segpts=[];for(var M=0;M<S;M++){var I=g.pfValue[M],P=v.pfValue[M],N=1-I,F=I,j=d==="node-position"?s:u,U={x:j.x1*N+j.x2*F,y:j.y1*N+j.y2*F};n.segpts.push(U.x+f.x*P,U.y+f.y*P)}};BRp$c.findLoopPoints=function(e,t,n,s){var u=e._private.rscratch,f=t.dirCounts,d=t.srcPos,g=e.pstyle("control-point-distances"),v=g?g.pfValue[0]:void 0,S=e.pstyle("loop-direction").pfValue,M=e.pstyle("loop-sweep").pfValue,I=e.pstyle("control-point-step-size").pfValue;u.edgeType="self";var P=n,N=I;s&&(P=0,N=v);var F=S-Math.PI/2,j=F-M/2,U=F+M/2,V=S+"_"+M;P=f[V]===void 0?f[V]=0:++f[V],u.ctrlpts=[d.x+Math.cos(j)*1.4*N*(P/3+1),d.y+Math.sin(j)*1.4*N*(P/3+1),d.x+Math.cos(U)*1.4*N*(P/3+1),d.y+Math.sin(U)*1.4*N*(P/3+1)]};BRp$c.findCompoundLoopPoints=function(e,t,n,s){var u=e._private.rscratch;u.edgeType="compound";var f=t.srcPos,d=t.tgtPos,g=t.srcW,v=t.srcH,S=t.tgtW,M=t.tgtH,I=e.pstyle("control-point-step-size").pfValue,P=e.pstyle("control-point-distances"),N=P?P.pfValue[0]:void 0,F=n,j=I;s&&(F=0,j=N);var U=50,V={x:f.x-g/2,y:f.y-v/2},Z={x:d.x-S/2,y:d.y-M/2},Q={x:Math.min(V.x,Z.x),y:Math.min(V.y,Z.y)},J=.5,te=Math.max(J,Math.log(g*.01)),oe=Math.max(J,Math.log(S*.01));u.ctrlpts=[Q.x,Q.y-(1+Math.pow(U,1.12)/100)*j*(F/3+1)*te,Q.x-(1+Math.pow(U,1.12)/100)*j*(F/3+1)*oe,Q.y]};BRp$c.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"};BRp$c.findBezierPoints=function(e,t,n,s,u){var f=e._private.rscratch,d=t.vectorNormInverse,g=t.posPts,v=t.intersectionPts,S=e.pstyle("edge-distances").value,M=e.pstyle("control-point-step-size").pfValue,I=e.pstyle("control-point-distances"),P=e.pstyle("control-point-weights"),N=I&&P?Math.min(I.value.length,P.value.length):1,F=I?I.pfValue[0]:void 0,j=P.value[0],U=s;f.edgeType=U?"multibezier":"bezier",f.ctrlpts=[];for(var V=0;V<N;V++){var Z=(.5-t.eles.length/2+n)*M*(u?-1:1),Q=void 0,J=signum(Z);U&&(F=I?I.pfValue[V]:M,j=P.value[V]),s?Q=F:Q=F!==void 0?J*F:void 0;var te=Q!==void 0?Q:Z,oe=1-j,ue=j,se=S==="node-position"?g:v,le={x:se.x1*oe+se.x2*ue,y:se.y1*oe+se.y2*ue};f.ctrlpts.push(le.x+d.x*te,le.y+d.y*te)}};BRp$c.findTaxiPoints=function(e,t){var n=e._private.rscratch;n.edgeType="segments";var s="vertical",u="horizontal",f="leftward",d="rightward",g="downward",v="upward",S="auto",M=t.posPts,I=t.srcW,P=t.srcH,N=t.tgtW,F=t.tgtH,j=e.pstyle("edge-distances").value,U=j!=="node-position",V=e.pstyle("taxi-direction").value,Z=V,Q=e.pstyle("taxi-turn"),J=Q.units==="%",te=Q.pfValue,oe=te<0,ue=e.pstyle("taxi-turn-min-distance").pfValue,se=U?(I+N)/2:0,le=U?(P+F)/2:0,de=M.x2-M.x1,ge=M.y2-M.y1,ve=function(ln,fr){return ln>0?Math.max(ln-fr,0):Math.min(ln+fr,0)},me=ve(de,se),ye=ve(ge,le),Ae=!1;Z===S?V=Math.abs(me)>Math.abs(ye)?u:s:Z===v||Z===g?(V=s,Ae=!0):(Z===f||Z===d)&&(V=u,Ae=!0);var Te=V===s,Oe=Te?ye:me,Ie=Te?ge:de,Be=signum(Ie),De=!1;!(Ae&&(J||oe))&&(Z===g&&Ie<0||Z===v&&Ie>0||Z===f&&Ie>0||Z===d&&Ie<0)&&(Be*=-1,Oe=Be*Math.abs(Oe),De=!0);var Pe;if(J){var Ne=te<0?1+te:te;Pe=Ne*Oe}else{var He=te<0?Oe:0;Pe=He+te*Be}var je=function(ln){return Math.abs(ln)<ue||Math.abs(ln)>=Math.abs(Oe)},ze=je(Pe),Ve=je(Math.abs(Oe)-Math.abs(Pe)),Ye=ze||Ve;if(Ye&&!De)if(Te){var nt=Math.abs(Ie)<=P/2,Fe=Math.abs(de)<=N/2;if(nt){var Qe=(M.x1+M.x2)/2,it=M.y1,at=M.y2;n.segpts=[Qe,it,Qe,at]}else if(Fe){var wt=(M.y1+M.y2)/2,st=M.x1,ft=M.x2;n.segpts=[st,wt,ft,wt]}else n.segpts=[M.x1,M.y2]}else{var Dt=Math.abs(Ie)<=I/2,ut=Math.abs(ge)<=F/2;if(Dt){var _t=(M.y1+M.y2)/2,Bt=M.x1,mn=M.x2;n.segpts=[Bt,_t,mn,_t]}else if(ut){var dn=(M.x1+M.x2)/2,Zt=M.y1,Mt=M.y2;n.segpts=[dn,Zt,dn,Mt]}else n.segpts=[M.x2,M.y1]}else if(Te){var We=M.y1+Pe+(U?P/2*Be:0),bt=M.x1,Nt=M.x2;n.segpts=[bt,We,Nt,We]}else{var It=M.x1+Pe+(U?I/2*Be:0),Lt=M.y1,Pn=M.y2;n.segpts=[It,Lt,It,Pn]}};BRp$c.tryToCorrectInvalidPoints=function(e,t){var n=e._private.rscratch;if(n.edgeType==="bezier"){var s=t.srcPos,u=t.tgtPos,f=t.srcW,d=t.srcH,g=t.tgtW,v=t.tgtH,S=t.srcShape,M=t.tgtShape,I=!number$1(n.startX)||!number$1(n.startY),P=!number$1(n.arrowStartX)||!number$1(n.arrowStartY),N=!number$1(n.endX)||!number$1(n.endY),F=!number$1(n.arrowEndX)||!number$1(n.arrowEndY),j=3,U=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,V=j*U,Z=dist({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),Q=Z<V,J=dist({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),te=J<V,oe=!1;if(I||P||Q){oe=!0;var ue={x:n.ctrlpts[0]-s.x,y:n.ctrlpts[1]-s.y},se=Math.sqrt(ue.x*ue.x+ue.y*ue.y),le={x:ue.x/se,y:ue.y/se},de=Math.max(f,d),ge={x:n.ctrlpts[0]+le.x*2*de,y:n.ctrlpts[1]+le.y*2*de},ve=S.intersectLine(s.x,s.y,f,d,ge.x,ge.y,0);Q?(n.ctrlpts[0]=n.ctrlpts[0]+le.x*(V-Z),n.ctrlpts[1]=n.ctrlpts[1]+le.y*(V-Z)):(n.ctrlpts[0]=ve[0]+le.x*V,n.ctrlpts[1]=ve[1]+le.y*V)}if(N||F||te){oe=!0;var me={x:n.ctrlpts[0]-u.x,y:n.ctrlpts[1]-u.y},ye=Math.sqrt(me.x*me.x+me.y*me.y),Ae={x:me.x/ye,y:me.y/ye},Te=Math.max(f,d),Oe={x:n.ctrlpts[0]+Ae.x*2*Te,y:n.ctrlpts[1]+Ae.y*2*Te},Ie=M.intersectLine(u.x,u.y,g,v,Oe.x,Oe.y,0);te?(n.ctrlpts[0]=n.ctrlpts[0]+Ae.x*(V-J),n.ctrlpts[1]=n.ctrlpts[1]+Ae.y*(V-J)):(n.ctrlpts[0]=Ie[0]+Ae.x*V,n.ctrlpts[1]=Ie[1]+Ae.y*V)}oe&&this.findEndpoints(e)}};BRp$c.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);t.allpts.push(t.endX,t.endY);var s,u;t.ctrlpts.length/2%2===0?(s=t.allpts.length/2-1,t.midX=t.allpts[s],t.midY=t.allpts[s+1]):(s=t.allpts.length/2-3,u=.5,t.midX=qbezierAt(t.allpts[s],t.allpts[s+2],t.allpts[s+4],u),t.midY=qbezierAt(t.allpts[s+1],t.allpts[s+3],t.allpts[s+5],u))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments")if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.segpts.length%4===0){var f=t.segpts.length/2,d=f-2;t.midX=(t.segpts[d]+t.segpts[f])/2,t.midY=(t.segpts[d+1]+t.segpts[f+1])/2}else{var g=t.segpts.length/2-1;t.midX=t.segpts[g],t.midY=t.segpts[g+1]}};BRp$c.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||number$1(t.startX)&&number$1(t.startY)&&number$1(t.endX)&&number$1(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,warn("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};BRp$c.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var n=this,s=n.cy,u=s.hasCompoundNodes(),f={map:new Map$1,get:function(ue){var se=this.map.get(ue[0]);return se!=null?se.get(ue[1]):null},set:function(ue,se){var le=this.map.get(ue[0]);le==null&&(le=new Map$1,this.map.set(ue[0],le)),le.set(ue[1],se)}},d=[],g=[],v=0;v<e.length;v++){var S=e[v],M=S._private,I=S.pstyle("curve-style").value;if(!(S.removed()||!S.takesUpSpace())){if(I==="haystack"){g.push(S);continue}var P=I==="unbundled-bezier"||I==="segments"||I==="straight"||I==="straight-triangle"||I==="taxi",N=I==="unbundled-bezier"||I==="bezier",F=M.source,j=M.target,U=F.poolIndex(),V=j.poolIndex(),Z=[U,V].sort(),Q=f.get(Z);Q==null&&(Q={eles:[]},f.set(Z,Q),d.push(Z)),Q.eles.push(S),P&&(Q.hasUnbundled=!0),N&&(Q.hasBezier=!0)}}for(var J=function(ue){var se=d[ue],le=f.get(se),de=void 0;if(!le.hasUnbundled){var ge=le.eles[0].parallelEdges().filter(function(Mt){return Mt.isBundledBezier()});clearArray(le.eles),ge.forEach(function(Mt){return le.eles.push(Mt)}),le.eles.sort(function(Mt,We){return Mt.poolIndex()-We.poolIndex()})}var ve=le.eles[0],me=ve.source(),ye=ve.target();if(me.poolIndex()>ye.poolIndex()){var Ae=me;me=ye,ye=Ae}var Te=le.srcPos=me.position(),Oe=le.tgtPos=ye.position(),Ie=le.srcW=me.outerWidth(),Be=le.srcH=me.outerHeight(),De=le.tgtW=ye.outerWidth(),Pe=le.tgtH=ye.outerHeight(),Ne=le.srcShape=n.nodeShapes[t.getNodeShape(me)],He=le.tgtShape=n.nodeShapes[t.getNodeShape(ye)];le.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var je=0;je<le.eles.length;je++){var ze=le.eles[je],Ve=ze[0]._private.rscratch,Ye=ze.pstyle("curve-style").value,nt=Ye==="unbundled-bezier"||Ye==="segments"||Ye==="taxi",Fe=!me.same(ze.source());if(!le.calculatedIntersection&&me!==ye&&(le.hasBezier||le.hasUnbundled)){le.calculatedIntersection=!0;var Qe=Ne.intersectLine(Te.x,Te.y,Ie,Be,Oe.x,Oe.y,0),it=le.srcIntn=Qe,at=He.intersectLine(Oe.x,Oe.y,De,Pe,Te.x,Te.y,0),wt=le.tgtIntn=at,st=le.intersectionPts={x1:Qe[0],x2:at[0],y1:Qe[1],y2:at[1]},ft=le.posPts={x1:Te.x,x2:Oe.x,y1:Te.y,y2:Oe.y},Dt=at[1]-Qe[1],ut=at[0]-Qe[0],_t=Math.sqrt(ut*ut+Dt*Dt),Bt=le.vector={x:ut,y:Dt},mn=le.vectorNorm={x:Bt.x/_t,y:Bt.y/_t},dn={x:-mn.y,y:mn.x};le.nodesOverlap=!number$1(_t)||He.checkPoint(Qe[0],Qe[1],0,De,Pe,Oe.x,Oe.y)||Ne.checkPoint(at[0],at[1],0,Ie,Be,Te.x,Te.y),le.vectorNormInverse=dn,de={nodesOverlap:le.nodesOverlap,dirCounts:le.dirCounts,calculatedIntersection:!0,hasBezier:le.hasBezier,hasUnbundled:le.hasUnbundled,eles:le.eles,srcPos:Oe,tgtPos:Te,srcW:De,srcH:Pe,tgtW:Ie,tgtH:Be,srcIntn:wt,tgtIntn:it,srcShape:He,tgtShape:Ne,posPts:{x1:ft.x2,y1:ft.y2,x2:ft.x1,y2:ft.y1},intersectionPts:{x1:st.x2,y1:st.y2,x2:st.x1,y2:st.y1},vector:{x:-Bt.x,y:-Bt.y},vectorNorm:{x:-mn.x,y:-mn.y},vectorNormInverse:{x:-dn.x,y:-dn.y}}}var Zt=Fe?de:le;Ve.nodesOverlap=Zt.nodesOverlap,Ve.srcIntn=Zt.srcIntn,Ve.tgtIntn=Zt.tgtIntn,u&&(me.isParent()||me.isChild()||ye.isParent()||ye.isChild())&&(me.parents().anySame(ye)||ye.parents().anySame(me)||me.same(ye)&&me.isParent())?t.findCompoundLoopPoints(ze,Zt,je,nt):me===ye?t.findLoopPoints(ze,Zt,je,nt):Ye==="segments"?t.findSegmentsPoints(ze,Zt):Ye==="taxi"?t.findTaxiPoints(ze,Zt):Ye==="straight"||!nt&&le.eles.length%2===1&&je===Math.floor(le.eles.length/2)?t.findStraightEdgePoints(ze):t.findBezierPoints(ze,Zt,je,nt,Fe),t.findEndpoints(ze),t.tryToCorrectInvalidPoints(ze,Zt),t.checkForInvalidEdgeWarning(ze),t.storeAllpts(ze),t.storeEdgeProjections(ze),t.calculateArrowAngles(ze),t.recalculateEdgeLabelProjections(ze),t.calculateLabelAngles(ze)}},te=0;te<d.length;te++)J(te);this.findHaystackPoints(g)}};function getPts(e){var t=[];if(e!=null){for(var n=0;n<e.length;n+=2){var s=e[n],u=e[n+1];t.push({x:s,y:u})}return t}}BRp$c.getSegmentPoints=function(e){var t=e[0]._private.rscratch,n=t.edgeType;if(n==="segments")return this.recalculateRenderedStyle(e),getPts(t.segpts)};BRp$c.getControlPoints=function(e){var t=e[0]._private.rscratch,n=t.edgeType;if(n==="bezier"||n==="multibezier"||n==="self"||n==="compound")return this.recalculateRenderedStyle(e),getPts(t.ctrlpts)};BRp$c.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var BRp$b={};BRp$b.manualEndptToPx=function(e,t){var n=this,s=e.position(),u=e.outerWidth(),f=e.outerHeight();if(t.value.length===2){var d=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(d[0]=d[0]*u),t.units[1]==="%"&&(d[1]=d[1]*f),d[0]+=s.x,d[1]+=s.y,d}else{var g=t.pfValue[0];g=-Math.PI/2+g;var v=2*Math.max(u,f),S=[s.x+Math.cos(g)*v,s.y+Math.sin(g)*v];return n.nodeShapes[this.getNodeShape(e)].intersectLine(s.x,s.y,u,f,S[0],S[1],0)}};BRp$b.findEndpoints=function(e){var t=this,n,s=e.source()[0],u=e.target()[0],f=s.position(),d=u.position(),g=e.pstyle("target-arrow-shape").value,v=e.pstyle("source-arrow-shape").value,S=e.pstyle("target-distance-from-node").pfValue,M=e.pstyle("source-distance-from-node").pfValue,I=e.pstyle("curve-style").value,P=e._private.rscratch,N=P.edgeType,F=I==="taxi",j=N==="self"||N==="compound",U=N==="bezier"||N==="multibezier"||j,V=N!=="bezier",Z=N==="straight"||N==="segments",Q=N==="segments",J=U||V||Z,te=j||F,oe=e.pstyle("source-endpoint"),ue=te?"outside-to-node":oe.value,se=e.pstyle("target-endpoint"),le=te?"outside-to-node":se.value;P.srcManEndpt=oe,P.tgtManEndpt=se;var de,ge,ve,me;if(U){var ye=[P.ctrlpts[0],P.ctrlpts[1]],Ae=V?[P.ctrlpts[P.ctrlpts.length-2],P.ctrlpts[P.ctrlpts.length-1]]:ye;de=Ae,ge=ye}else if(Z){var Te=Q?P.segpts.slice(0,2):[d.x,d.y],Oe=Q?P.segpts.slice(P.segpts.length-2):[f.x,f.y];de=Oe,ge=Te}if(le==="inside-to-node")n=[d.x,d.y];else if(se.units)n=this.manualEndptToPx(u,se);else if(le==="outside-to-line")n=P.tgtIntn;else if(le==="outside-to-node"||le==="outside-to-node-or-label"?ve=de:(le==="outside-to-line"||le==="outside-to-line-or-label")&&(ve=[f.x,f.y]),n=t.nodeShapes[this.getNodeShape(u)].intersectLine(d.x,d.y,u.outerWidth(),u.outerHeight(),ve[0],ve[1],0),le==="outside-to-node-or-label"||le==="outside-to-line-or-label"){var Ie=u._private.rscratch,Be=Ie.labelWidth,De=Ie.labelHeight,Pe=Ie.labelX,Ne=Ie.labelY,He=Be/2,je=De/2,ze=u.pstyle("text-valign").value;ze==="top"?Ne-=je:ze==="bottom"&&(Ne+=je);var Ve=u.pstyle("text-halign").value;Ve==="left"?Pe-=He:Ve==="right"&&(Pe+=He);var Ye=polygonIntersectLine(ve[0],ve[1],[Pe-He,Ne-je,Pe+He,Ne-je,Pe+He,Ne+je,Pe-He,Ne+je],d.x,d.y);if(Ye.length>0){var nt=f,Fe=sqdist(nt,array2point(n)),Qe=sqdist(nt,array2point(Ye)),it=Fe;if(Qe<Fe&&(n=Ye,it=Qe),Ye.length>2){var at=sqdist(nt,{x:Ye[2],y:Ye[3]});at<it&&(n=[Ye[2],Ye[3]])}}}var wt=shortenIntersection(n,de,t.arrowShapes[g].spacing(e)+S),st=shortenIntersection(n,de,t.arrowShapes[g].gap(e)+S);if(P.endX=st[0],P.endY=st[1],P.arrowEndX=wt[0],P.arrowEndY=wt[1],ue==="inside-to-node")n=[f.x,f.y];else if(oe.units)n=this.manualEndptToPx(s,oe);else if(ue==="outside-to-line")n=P.srcIntn;else if(ue==="outside-to-node"||ue==="outside-to-node-or-label"?me=ge:(ue==="outside-to-line"||ue==="outside-to-line-or-label")&&(me=[d.x,d.y]),n=t.nodeShapes[this.getNodeShape(s)].intersectLine(f.x,f.y,s.outerWidth(),s.outerHeight(),me[0],me[1],0),ue==="outside-to-node-or-label"||ue==="outside-to-line-or-label"){var ft=s._private.rscratch,Dt=ft.labelWidth,ut=ft.labelHeight,_t=ft.labelX,Bt=ft.labelY,mn=Dt/2,dn=ut/2,Zt=s.pstyle("text-valign").value;Zt==="top"?Bt-=dn:Zt==="bottom"&&(Bt+=dn);var Mt=s.pstyle("text-halign").value;Mt==="left"?_t-=mn:Mt==="right"&&(_t+=mn);var We=polygonIntersectLine(me[0],me[1],[_t-mn,Bt-dn,_t+mn,Bt-dn,_t+mn,Bt+dn,_t-mn,Bt+dn],f.x,f.y);if(We.length>0){var bt=d,Nt=sqdist(bt,array2point(n)),It=sqdist(bt,array2point(We)),Lt=Nt;if(It<Nt&&(n=[We[0],We[1]],Lt=It),We.length>2){var Pn=sqdist(bt,{x:We[2],y:We[3]});Pn<Lt&&(n=[We[2],We[3]])}}}var qt=shortenIntersection(n,ge,t.arrowShapes[v].spacing(e)+M),ln=shortenIntersection(n,ge,t.arrowShapes[v].gap(e)+M);P.startX=ln[0],P.startY=ln[1],P.arrowStartX=qt[0],P.arrowStartY=qt[1],J&&(!number$1(P.startX)||!number$1(P.startY)||!number$1(P.endX)||!number$1(P.endY)?P.badLine=!0:P.badLine=!1)};BRp$b.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}};BRp$b.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}};var BRp$a={};function pushBezierPts(e,t,n){for(var s=function(S,M,I,P){return qbezierAt(S,M,I,P)},u=t._private,f=u.rstyle.bezierPts,d=0;d<e.bezierProjPcts.length;d++){var g=e.bezierProjPcts[d];f.push({x:s(n[0],n[2],n[4],g),y:s(n[1],n[3],n[5],g)})}}BRp$a.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,s=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,s==="multibezier"||s==="bezier"||s==="self"||s==="compound"){t.rstyle.bezierPts=[];for(var u=0;u+5<n.allpts.length;u+=4)pushBezierPts(this,e,n.allpts.slice(u,u+6))}else if(s==="segments")for(var f=t.rstyle.linePts=[],u=0;u+1<n.allpts.length;u+=2)f.push({x:n.allpts[u],y:n.allpts[u+1]});else if(s==="haystack"){var d=n.haystackPts;t.rstyle.haystackPts=[{x:d[0],y:d[1]},{x:d[2],y:d[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth};BRp$a.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var BRp$9={};BRp$9.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!emptyString(t)){var n,s,u=e._private,f=e.width(),d=e.height(),g=e.padding(),v=e.position(),S=e.pstyle("text-halign").strValue,M=e.pstyle("text-valign").strValue,I=u.rscratch,P=u.rstyle;switch(S){case"left":n=v.x-f/2-g;break;case"right":n=v.x+f/2+g;break;default:n=v.x}switch(M){case"top":s=v.y-d/2-g;break;case"bottom":s=v.y+d/2+g;break;default:s=v.y}I.labelX=n,I.labelY=s,P.labelX=n,P.labelY=s,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}};var lineAngleFromDelta=function(t,n){var s=Math.atan(n/t);return t===0&&s<0&&(s=s*-1),s},lineAngle=function(t,n){var s=n.x-t.x,u=n.y-t.y;return lineAngleFromDelta(s,u)},bezierAngle=function(t,n,s,u){var f=bound(0,u-.001,1),d=bound(0,u+.001,1),g=qbezierPtAt(t,n,s,f),v=qbezierPtAt(t,n,s,d);return lineAngle(g,v)};BRp$9.recalculateEdgeLabelProjections=function(e){var t,n=e._private,s=n.rscratch,u=this,f={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(f.mid||f.source||f.target){t={x:s.midX,y:s.midY};var d=function(I,P,N){setPrefixedProperty(n.rscratch,I,P,N),setPrefixedProperty(n.rstyle,I,P,N)};d("labelX",null,t.x),d("labelY",null,t.y);var g=lineAngleFromDelta(s.midDispX,s.midDispY);d("labelAutoAngle",null,g);var v=function M(){if(M.cache)return M.cache;for(var I=[],P=0;P+5<s.allpts.length;P+=4){var N={x:s.allpts[P],y:s.allpts[P+1]},F={x:s.allpts[P+2],y:s.allpts[P+3]},j={x:s.allpts[P+4],y:s.allpts[P+5]};I.push({p0:N,p1:F,p2:j,startDist:0,length:0,segments:[]})}var U=n.rstyle.bezierPts,V=u.bezierProjPcts.length;function Z(ue,se,le,de,ge){var ve=dist(se,le),me=ue.segments[ue.segments.length-1],ye={p0:se,p1:le,t0:de,t1:ge,startDist:me?me.startDist+me.length:0,length:ve};ue.segments.push(ye),ue.length+=ve}for(var Q=0;Q<I.length;Q++){var J=I[Q],te=I[Q-1];te&&(J.startDist=te.startDist+te.length),Z(J,J.p0,U[Q*V],0,u.bezierProjPcts[0]);for(var oe=0;oe<V-1;oe++)Z(J,U[Q*V+oe],U[Q*V+oe+1],u.bezierProjPcts[oe],u.bezierProjPcts[oe+1]);Z(J,U[Q*V+V-1],J.p2,u.bezierProjPcts[V-1],1)}return M.cache=I},S=function(I){var P,N=I==="source";if(f[I]){var F=e.pstyle(I+"-text-offset").pfValue;switch(s.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var j=v(),U,V=0,Z=0,Q=0;Q<j.length;Q++){for(var J=j[N?Q:j.length-1-Q],te=0;te<J.segments.length;te++){var oe=J.segments[N?te:J.segments.length-1-te],ue=Q===j.length-1&&te===J.segments.length-1;if(V=Z,Z+=oe.length,Z>=F||ue){U={cp:J,segment:oe};break}}if(U)break}var se=U.cp,le=U.segment,de=(F-V)/le.length,ge=le.t1-le.t0,ve=N?le.t0+ge*de:le.t1-ge*de;ve=bound(0,ve,1),t=qbezierPtAt(se.p0,se.p1,se.p2,ve),P=bezierAngle(se.p0,se.p1,se.p2,ve);break}case"straight":case"segments":case"haystack":{for(var me=0,ye,Ae,Te,Oe,Ie=s.allpts.length,Be=0;Be+3<Ie&&(N?(Te={x:s.allpts[Be],y:s.allpts[Be+1]},Oe={x:s.allpts[Be+2],y:s.allpts[Be+3]}):(Te={x:s.allpts[Ie-2-Be],y:s.allpts[Ie-1-Be]},Oe={x:s.allpts[Ie-4-Be],y:s.allpts[Ie-3-Be]}),ye=dist(Te,Oe),Ae=me,me+=ye,!(me>=F));Be+=2);var De=F-Ae,Pe=De/ye;Pe=bound(0,Pe,1),t=lineAt(Te,Oe,Pe),P=lineAngle(Te,Oe);break}}d("labelX",I,t.x),d("labelY",I,t.y),d("labelAutoAngle",I,P)}};S("source"),S("target"),this.applyLabelDimensions(e)}};BRp$9.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))};BRp$9.applyPrefixedLabelDimensions=function(e,t){var n=e._private,s=this.getLabelText(e,t),u=this.calculateLabelDimensions(e,s),f=e.pstyle("line-height").pfValue,d=e.pstyle("text-wrap").strValue,g=getPrefixedProperty(n.rscratch,"labelWrapCachedLines",t)||[],v=d!=="wrap"?1:Math.max(g.length,1),S=u.height/v,M=S*f,I=u.width,P=u.height+(v-1)*(f-1)*S;setPrefixedProperty(n.rstyle,"labelWidth",t,I),setPrefixedProperty(n.rscratch,"labelWidth",t,I),setPrefixedProperty(n.rstyle,"labelHeight",t,P),setPrefixedProperty(n.rscratch,"labelHeight",t,P),setPrefixedProperty(n.rscratch,"labelLineHeight",t,M)};BRp$9.getLabelText=function(e,t){var n=e._private,s=t?t+"-":"",u=e.pstyle(s+"label").strValue,f=e.pstyle("text-transform").value,d=function(De,Pe){return Pe?(setPrefixedProperty(n.rscratch,De,t,Pe),Pe):getPrefixedProperty(n.rscratch,De,t)};if(!u)return"";f=="none"||(f=="uppercase"?u=u.toUpperCase():f=="lowercase"&&(u=u.toLowerCase()));var g=e.pstyle("text-wrap").value;if(g==="wrap"){var v=d("labelKey");if(v!=null&&d("labelWrapKey")===v)return d("labelWrapCachedText");for(var S="",M=u.split(`
`),I=e.pstyle("text-max-width").pfValue,P=e.pstyle("text-overflow-wrap").value,N=P==="anywhere",F=[],j=/[\s\u200b]+/,U=N?"":" ",V=0;V<M.length;V++){var Z=M[V],Q=this.calculateLabelDimensions(e,Z),J=Q.width;if(N){var te=Z.split("").join(S);Z=te}if(J>I){for(var oe=Z.split(j),ue="",se=0;se<oe.length;se++){var le=oe[se],de=ue.length===0?le:ue+U+le,ge=this.calculateLabelDimensions(e,de),ve=ge.width;ve<=I?ue+=le+U:(ue&&F.push(ue),ue=le+U)}ue.match(/^[\s\u200b]+$/)||F.push(ue)}else F.push(Z)}d("labelWrapCachedLines",F),u=d("labelWrapCachedText",F.join(`
`)),d("labelWrapKey",v)}else if(g==="ellipsis"){var me=e.pstyle("text-max-width").pfValue,ye="",Ae="",Te=!1;if(this.calculateLabelDimensions(e,u).width<me)return u;for(var Oe=0;Oe<u.length;Oe++){var Ie=this.calculateLabelDimensions(e,ye+u[Oe]+Ae).width;if(Ie>me)break;ye+=u[Oe],Oe===u.length-1&&(Te=!0)}return Te||(ye+=Ae),ye}return u};BRp$9.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(n){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t};BRp$9.calculateLabelDimensions=function(e,t){var n=this,s=hashString(t,e._private.labelDimsKey),u=n.labelDimCache||(n.labelDimCache=[]),f=u[s];if(f!=null)return f;var d=0,g=e.pstyle("font-style").strValue,v=e.pstyle("font-size").pfValue,S=e.pstyle("font-family").strValue,M=e.pstyle("font-weight").strValue,I=this.labelCalcCanvas,P=this.labelCalcCanvasContext;if(!I){I=this.labelCalcCanvas=document.createElement("canvas"),P=this.labelCalcCanvasContext=I.getContext("2d");var N=I.style;N.position="absolute",N.left="-9999px",N.top="-9999px",N.zIndex="-1",N.visibility="hidden",N.pointerEvents="none"}P.font="".concat(g," ").concat(M," ").concat(v,"px ").concat(S);for(var F=0,j=0,U=t.split(`
`),V=0;V<U.length;V++){var Z=U[V],Q=P.measureText(Z),J=Math.ceil(Q.width),te=v;F=Math.max(J,F),j+=te}return F+=d,j+=d,u[s]={width:F,height:j}};BRp$9.calculateLabelAngle=function(e,t){var n=e._private,s=n.rscratch,u=e.isEdge(),f=t?t+"-":"",d=e.pstyle(f+"text-rotation"),g=d.strValue;return g==="none"?0:u&&g==="autorotate"?s.labelAutoAngle:g==="autorotate"?0:d.pfValue};BRp$9.calculateLabelAngles=function(e){var t=this,n=e.isEdge(),s=e._private,u=s.rscratch;u.labelAngle=t.calculateLabelAngle(e),n&&(u.sourceLabelAngle=t.calculateLabelAngle(e,"source"),u.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var BRp$8={},TOO_SMALL_CUT_RECT=28,warnedCutRect=!1;BRp$8.getNodeShape=function(e){var t=this,n=e.pstyle("shape").value;if(n==="cutrectangle"&&(e.width()<TOO_SMALL_CUT_RECT||e.height()<TOO_SMALL_CUT_RECT))return warnedCutRect||(warn("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),warnedCutRect=!0),"rectangle";if(e.isParent())return n==="rectangle"||n==="roundrectangle"||n==="round-rectangle"||n==="cutrectangle"||n==="cut-rectangle"||n==="barrel"?n:"rectangle";if(n==="polygon"){var s=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(s).name}return n};var BRp$7={};BRp$7.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),n=this,s=function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(d),g)for(var v=0;v<d.length;v++){var S=d[v],M=S._private,I=M.rstyle;I.clean=!1,I.cleanConnected=!1}};n.binder(e).on("bounds.* dirty.*",function(d){var g=d.target;s(g)}).on("style.* background.*",function(d){var g=d.target;s(g,!1)});var u=function(d){if(d){var g=n.onUpdateEleCalcsFns;t.cleanStyle();for(var v=0;v<t.length;v++){var S=t[v],M=S._private.rstyle;S.isNode()&&!M.cleanConnected&&(s(S.connectedEdges()),M.cleanConnected=!0)}if(g)for(var I=0;I<g.length;I++){var P=g[I];P(d,t)}n.recalculateRenderedStyle(t),t=e.collection()}};n.flushRenderedStyleQueue=function(){u(!0)},n.beforeRender(u,n.beforeRenderPriorities.eleCalcs)};BRp$7.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)};BRp$7.recalculateRenderedStyle=function(e,t){var n=function(J){return J._private.rstyle.cleanConnected},s=[],u=[];if(!this.destroyed){t===void 0&&(t=!0);for(var f=0;f<e.length;f++){var d=e[f],g=d._private,v=g.rstyle;d.isEdge()&&(!n(d.source())||!n(d.target()))&&(v.clean=!1),!(t&&v.clean||d.removed())&&d.pstyle("display").value!=="none"&&(g.group==="nodes"?u.push(d):s.push(d),v.clean=!0)}for(var S=0;S<u.length;S++){var M=u[S],I=M._private,P=I.rstyle,N=M.position();this.recalculateNodeLabelProjection(M),P.nodeX=N.x,P.nodeY=N.y,P.nodeW=M.pstyle("width").pfValue,P.nodeH=M.pstyle("height").pfValue}this.recalculateEdgeProjections(s);for(var F=0;F<s.length;F++){var j=s[F],U=j._private,V=U.rstyle,Z=U.rscratch;V.srcX=Z.arrowStartX,V.srcY=Z.arrowStartY,V.tgtX=Z.arrowEndX,V.tgtY=Z.arrowEndY,V.midX=Z.midX,V.midY=Z.midY,V.labelAngle=Z.labelAngle,V.sourceLabelAngle=Z.sourceLabelAngle,V.targetLabelAngle=Z.targetLabelAngle}}};var BRp$6={};BRp$6.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var s=e[n],u=s._private.rscratch;s.grabbed()&&!s.isParent()?t.push(s):u.inDragLayer?e.drag.push(s):e.nondrag.push(s)}for(var n=0;n<t.length;n++){var s=t[n];e.drag.push(s)}}};BRp$6.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};BRp$6.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(zIndexSort),t.interactive=t.filter(function(n){return n.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t};var BRp$5={};[BRp$e,BRp$d,BRp$c,BRp$b,BRp$a,BRp$9,BRp$8,BRp$7,BRp$6].forEach(function(e){extend(BRp$5,e)});var BRp$4={};BRp$4.getCachedImage=function(e,t,n){var s=this,u=s.imageCache=s.imageCache||{},f=u[e];if(f)return f.image.complete||f.image.addEventListener("load",n),f.image;f=u[e]=u[e]||{};var d=f.image=new Image;d.addEventListener("load",n),d.addEventListener("error",function(){d.error=!0});var g="data:",v=e.substring(0,g.length).toLowerCase()===g;return v||(d.crossOrigin=t),d.src=e,d};var BRp$3={};BRp$3.registerBinding=function(e,t,n,s){var u=Array.prototype.slice.apply(arguments,[1]),f=this.binder(e);return f.on.apply(f,u)};BRp$3.binder=function(e){var t=this,n=e===window||e===document||e===document.body||domElement(e);if(t.supportsPassiveEvents==null){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){return s=!0,!0}});window.addEventListener("test",null,u)}catch{}t.supportsPassiveEvents=s}var f=function(g,v,S){var M=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(M[2]={capture:S??!1,passive:!1,once:!1}),t.bindings.push({target:e,args:M}),(e.addEventListener||e.on).apply(e,M),this};return{on:f,addEventListener:f,addListener:f,bind:f}};BRp$3.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()};BRp$3.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()};BRp$3.load=function(){var e=this,t=function(We){return We.selected()},n=function(We,bt,Nt,It){We==null&&(We=e.cy);for(var Lt=0;Lt<bt.length;Lt++){var Pn=bt[Lt];We.emit({originalEvent:Nt,type:Pn,position:It})}},s=function(We){return We.shiftKey||We.metaKey||We.ctrlKey},u=function(We,bt){var Nt=!0;if(e.cy.hasCompoundNodes()&&We&&We.pannable())for(var It=0;bt&&It<bt.length;It++){var We=bt[It];if(We.isNode()&&We.isParent()&&!We.pannable()){Nt=!1;break}}else Nt=!0;return Nt},f=function(We){We[0]._private.grabbed=!0},d=function(We){We[0]._private.grabbed=!1},g=function(We){We[0]._private.rscratch.inDragLayer=!0},v=function(We){We[0]._private.rscratch.inDragLayer=!1},S=function(We){We[0]._private.rscratch.isGrabTarget=!0},M=function(We){We[0]._private.rscratch.isGrabTarget=!1},I=function(We,bt){var Nt=bt.addToList,It=Nt.has(We);!It&&We.grabbable()&&!We.locked()&&(Nt.merge(We),f(We))},P=function(We,bt){if(We.cy().hasCompoundNodes()&&!(bt.inDragLayer==null&&bt.addToList==null)){var Nt=We.descendants();bt.inDragLayer&&(Nt.forEach(g),Nt.connectedEdges().forEach(g)),bt.addToList&&I(Nt,bt)}},N=function(We,bt){bt=bt||{};var Nt=We.cy().hasCompoundNodes();bt.inDragLayer&&(We.forEach(g),We.neighborhood().stdFilter(function(It){return!Nt||It.isEdge()}).forEach(g)),bt.addToList&&We.forEach(function(It){I(It,bt)}),P(We,bt),U(We,{inDragLayer:bt.inDragLayer}),e.updateCachedGrabbedEles()},F=N,j=function(We){We&&(e.getCachedZSortedEles().forEach(function(bt){d(bt),v(bt),M(bt)}),e.updateCachedGrabbedEles())},U=function(We,bt){if(!(bt.inDragLayer==null&&bt.addToList==null)&&We.cy().hasCompoundNodes()){var Nt=We.ancestors().orphans();if(!Nt.same(We)){var It=Nt.descendants().spawnSelf().merge(Nt).unmerge(We).unmerge(We.descendants()),Lt=It.connectedEdges();bt.inDragLayer&&(Lt.forEach(g),It.forEach(g)),bt.addToList&&It.forEach(function(Pn){I(Pn,bt)})}}},V=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},Z=typeof MutationObserver<"u",Q=typeof ResizeObserver<"u";Z?(e.removeObserver=new MutationObserver(function(Mt){for(var We=0;We<Mt.length;We++){var bt=Mt[We],Nt=bt.removedNodes;if(Nt)for(var It=0;It<Nt.length;It++){var Lt=Nt[It];if(Lt===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(Mt){e.destroy()});var J=debounce__default.default(function(){e.cy.resize()},100);Z&&(e.styleObserver=new MutationObserver(J),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(window,"resize",J),Q&&(e.resizeObserver=new ResizeObserver(J),e.resizeObserver.observe(e.container));var te=function(We,bt){for(;We!=null;)bt(We),We=We.parentNode},oe=function(){e.invalidateContainerClientCoordsCache()};te(e.container,function(Mt){e.registerBinding(Mt,"transitionend",oe),e.registerBinding(Mt,"animationend",oe),e.registerBinding(Mt,"scroll",oe)}),e.registerBinding(e.container,"contextmenu",function(Mt){Mt.preventDefault()});var ue=function(){return e.selection[4]!==0},se=function(We){for(var bt=e.findContainerClientCoords(),Nt=bt[0],It=bt[1],Lt=bt[2],Pn=bt[3],qt=We.touches?We.touches:[We],ln=!1,fr=0;fr<qt.length;fr++){var ar=qt[fr];if(Nt<=ar.clientX&&ar.clientX<=Nt+Lt&&It<=ar.clientY&&ar.clientY<=It+Pn){ln=!0;break}}if(!ln)return!1;for(var Rn=e.container,Cr=We.target,gn=Cr.parentNode,Tn=!1;gn;){if(gn===Rn){Tn=!0;break}gn=gn.parentNode}return!!Tn};e.registerBinding(e.container,"mousedown",function(We){if(se(We)){We.preventDefault(),V(),e.hoverData.capture=!0,e.hoverData.which=We.which;var bt=e.cy,Nt=[We.clientX,We.clientY],It=e.projectIntoViewport(Nt[0],Nt[1]),Lt=e.selection,Pn=e.findNearestElements(It[0],It[1],!0,!1),qt=Pn[0],ln=e.dragData.possibleDragElements;e.hoverData.mdownPos=It,e.hoverData.mdownGPos=Nt;var fr=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var Sr=e.hoverData.down;Sr?Sr.emit({originalEvent:We,type:"taphold",position:{x:It[0],y:It[1]}}):bt.emit({originalEvent:We,type:"taphold",position:{x:It[0],y:It[1]}})}},e.tapholdDuration)};if(We.which==3){e.hoverData.cxtStarted=!0;var ar={originalEvent:We,type:"cxttapstart",position:{x:It[0],y:It[1]}};qt?(qt.activate(),qt.emit(ar),e.hoverData.down=qt):bt.emit(ar),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(We.which==1){qt&&qt.activate();{if(qt!=null&&e.nodeIsGrabbable(qt)){var Rn=function(Sr){return{originalEvent:We,type:Sr,position:{x:It[0],y:It[1]}}},Cr=function(Sr){Sr.emit(Rn("grab"))};if(S(qt),!qt.selected())ln=e.dragData.possibleDragElements=bt.collection(),F(qt,{addToList:ln}),qt.emit(Rn("grabon")).emit(Rn("grab"));else{ln=e.dragData.possibleDragElements=bt.collection();var gn=bt.$(function(Tn){return Tn.isNode()&&Tn.selected()&&e.nodeIsGrabbable(Tn)});N(gn,{addToList:ln}),qt.emit(Rn("grabon")),gn.forEach(Cr)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=qt,e.hoverData.downs=Pn,e.hoverData.downTime=new Date().getTime()}n(qt,["mousedown","tapstart","vmousedown"],We,{x:It[0],y:It[1]}),qt==null?(Lt[4]=1,e.data.bgActivePosistion={x:It[0],y:It[1]},e.redrawHint("select",!0),e.redraw()):qt.pannable()&&(Lt[4]=1),fr()}Lt[0]=Lt[2]=It[0],Lt[1]=Lt[3]=It[1]}},!1),e.registerBinding(window,"mousemove",function(We){var bt=e.hoverData.capture;if(!(!bt&&!se(We))){var Nt=!1,It=e.cy,Lt=It.zoom(),Pn=[We.clientX,We.clientY],qt=e.projectIntoViewport(Pn[0],Pn[1]),ln=e.hoverData.mdownPos,fr=e.hoverData.mdownGPos,ar=e.selection,Rn=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(Rn=e.findNearestElement(qt[0],qt[1],!0,!1));var Cr=e.hoverData.last,gn=e.hoverData.down,Tn=[qt[0]-ar[2],qt[1]-ar[3]],Sr=e.dragData.possibleDragElements,Yr;if(fr){var Oa=Pn[0]-fr[0],Ei=Oa*Oa,si=Pn[1]-fr[1],ca=si*si,ta=Ei+ca;e.hoverData.isOverThresholdDrag=Yr=ta>=e.desktopTapThreshold2}var Ks=s(We);Yr&&(e.hoverData.tapholdCancelled=!0);var bu=function(){var es=e.hoverData.dragDelta=e.hoverData.dragDelta||[];es.length===0?(es.push(Tn[0]),es.push(Tn[1])):(es[0]+=Tn[0],es[1]+=Tn[1])};Nt=!0,n(Rn,["mousemove","vmousemove","tapdrag"],We,{x:qt[0],y:qt[1]});var kc=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||It.emit({originalEvent:We,type:"boxstart",position:{x:qt[0],y:qt[1]}}),ar[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(e.hoverData.which===3){if(Yr){var zu={originalEvent:We,type:"cxtdrag",position:{x:qt[0],y:qt[1]}};gn?gn.emit(zu):It.emit(zu),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||Rn!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:We,type:"cxtdragout",position:{x:qt[0],y:qt[1]}}),e.hoverData.cxtOver=Rn,Rn&&Rn.emit({originalEvent:We,type:"cxtdragover",position:{x:qt[0],y:qt[1]}}))}}else if(e.hoverData.dragging){if(Nt=!0,It.panningEnabled()&&It.userPanningEnabled()){var wu;if(e.hoverData.justStartedPan){var Tf=e.hoverData.mdownPos;wu={x:(qt[0]-Tf[0])*Lt,y:(qt[1]-Tf[1])*Lt},e.hoverData.justStartedPan=!1}else wu={x:Tn[0]*Lt,y:Tn[1]*Lt};It.panBy(wu),It.emit("dragpan"),e.hoverData.dragged=!0}qt=e.projectIntoViewport(We.clientX,We.clientY)}else if(ar[4]==1&&(gn==null||gn.pannable())){if(Yr){if(!e.hoverData.dragging&&It.boxSelectionEnabled()&&(Ks||!It.panningEnabled()||!It.userPanningEnabled()))kc();else if(!e.hoverData.selecting&&It.panningEnabled()&&It.userPanningEnabled()){var Gu=u(gn,e.hoverData.downs);Gu&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,ar[4]=0,e.data.bgActivePosistion=array2point(ln),e.redrawHint("select",!0),e.redraw())}gn&&gn.pannable()&&gn.active()&&gn.unactivate()}}else{if(gn&&gn.pannable()&&gn.active()&&gn.unactivate(),(!gn||!gn.grabbed())&&Rn!=Cr&&(Cr&&n(Cr,["mouseout","tapdragout"],We,{x:qt[0],y:qt[1]}),Rn&&n(Rn,["mouseover","tapdragover"],We,{x:qt[0],y:qt[1]}),e.hoverData.last=Rn),gn)if(Yr){if(It.boxSelectionEnabled()&&Ks)gn&&gn.grabbed()&&(j(Sr),gn.emit("freeon"),Sr.emit("free"),e.dragData.didDrag&&(gn.emit("dragfreeon"),Sr.emit("dragfree"))),kc();else if(gn&&gn.grabbed()&&e.nodeIsDraggable(gn)){var po=!e.dragData.didDrag;po&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||N(Sr,{inDragLayer:!0});var Za={x:0,y:0};if(number$1(Tn[0])&&number$1(Tn[1])&&(Za.x+=Tn[0],Za.y+=Tn[1],po)){var Di=e.hoverData.dragDelta;Di&&number$1(Di[0])&&number$1(Di[1])&&(Za.x+=Di[0],Za.y+=Di[1])}e.hoverData.draggingEles=!0,Sr.silentShift(Za).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else bu();Nt=!0}if(ar[2]=qt[0],ar[3]=qt[1],Nt)return We.stopPropagation&&We.stopPropagation(),We.preventDefault&&We.preventDefault(),!1}},!1);var le,de,ge;e.registerBinding(window,"mouseup",function(We){var bt=e.hoverData.capture;if(bt){e.hoverData.capture=!1;var Nt=e.cy,It=e.projectIntoViewport(We.clientX,We.clientY),Lt=e.selection,Pn=e.findNearestElement(It[0],It[1],!0,!1),qt=e.dragData.possibleDragElements,ln=e.hoverData.down,fr=s(We);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,ln&&ln.unactivate(),e.hoverData.which===3){var ar={originalEvent:We,type:"cxttapend",position:{x:It[0],y:It[1]}};if(ln?ln.emit(ar):Nt.emit(ar),!e.hoverData.cxtDragged){var Rn={originalEvent:We,type:"cxttap",position:{x:It[0],y:It[1]}};ln?ln.emit(Rn):Nt.emit(Rn)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(n(Pn,["mouseup","tapend","vmouseup"],We,{x:It[0],y:It[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(n(ln,["click","tap","vclick"],We,{x:It[0],y:It[1]}),de=!1,We.timeStamp-ge<=Nt.multiClickDebounceTime()?(le&&clearTimeout(le),de=!0,ge=null,n(ln,["dblclick","dbltap","vdblclick"],We,{x:It[0],y:It[1]})):(le=setTimeout(function(){de||n(ln,["oneclick","onetap","voneclick"],We,{x:It[0],y:It[1]})},Nt.multiClickDebounceTime()),ge=We.timeStamp)),ln==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!s(We)&&(Nt.$(t).unselect(["tapunselect"]),qt.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=qt=Nt.collection()),Pn==ln&&!e.dragData.didDrag&&!e.hoverData.selecting&&Pn!=null&&Pn._private.selectable&&(e.hoverData.dragging||(Nt.selectionType()==="additive"||fr?Pn.selected()?Pn.unselect(["tapunselect"]):Pn.select(["tapselect"]):fr||(Nt.$(t).unmerge(Pn).unselect(["tapunselect"]),Pn.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var Cr=Nt.collection(e.getAllInBox(Lt[0],Lt[1],Lt[2],Lt[3]));e.redrawHint("select",!0),Cr.length>0&&e.redrawHint("eles",!0),Nt.emit({type:"boxend",originalEvent:We,position:{x:It[0],y:It[1]}});var gn=function(Yr){return Yr.selectable()&&!Yr.selected()};Nt.selectionType()==="additive"||fr||Nt.$(t).unmerge(Cr).unselect(),Cr.emit("box").stdFilter(gn).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!Lt[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var Tn=ln&&ln.grabbed();j(qt),Tn&&(ln.emit("freeon"),qt.emit("free"),e.dragData.didDrag&&(ln.emit("dragfreeon"),qt.emit("dragfree")))}}Lt[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null}},!1);var ve=function(We){if(!e.scrollingPage){var bt=e.cy,Nt=bt.zoom(),It=bt.pan(),Lt=e.projectIntoViewport(We.clientX,We.clientY),Pn=[Lt[0]*Nt+It.x,Lt[1]*Nt+It.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||ue()){We.preventDefault();return}if(bt.panningEnabled()&&bt.userPanningEnabled()&&bt.zoomingEnabled()&&bt.userZoomingEnabled()){We.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var qt;We.deltaY!=null?qt=We.deltaY/-250:We.wheelDeltaY!=null?qt=We.wheelDeltaY/1e3:qt=We.wheelDelta/1e3,qt=qt*e.wheelSensitivity;var ln=We.deltaMode===1;ln&&(qt*=33);var fr=bt.zoom()*Math.pow(10,qt);We.type==="gesturechange"&&(fr=e.gestureStartZoom*We.scale),bt.zoom({level:fr,renderedPosition:{x:Pn[0],y:Pn[1]}}),bt.emit(We.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};e.registerBinding(e.container,"wheel",ve,!0),e.registerBinding(window,"scroll",function(We){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(We){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||We.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(Mt){e.hasTouchStarted||ve(Mt)},!0),e.registerBinding(e.container,"mouseout",function(We){var bt=e.projectIntoViewport(We.clientX,We.clientY);e.cy.emit({originalEvent:We,type:"mouseout",position:{x:bt[0],y:bt[1]}})},!1),e.registerBinding(e.container,"mouseover",function(We){var bt=e.projectIntoViewport(We.clientX,We.clientY);e.cy.emit({originalEvent:We,type:"mouseover",position:{x:bt[0],y:bt[1]}})},!1);var me,ye,Ae,Te,Oe,Ie,Be,De,Pe,Ne,He,je,ze,Ve=function(We,bt,Nt,It){return Math.sqrt((Nt-We)*(Nt-We)+(It-bt)*(It-bt))},Ye=function(We,bt,Nt,It){return(Nt-We)*(Nt-We)+(It-bt)*(It-bt)},nt;e.registerBinding(e.container,"touchstart",nt=function(We){if(e.hasTouchStarted=!0,!!se(We)){V(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var bt=e.cy,Nt=e.touchData.now,It=e.touchData.earlier;if(We.touches[0]){var Lt=e.projectIntoViewport(We.touches[0].clientX,We.touches[0].clientY);Nt[0]=Lt[0],Nt[1]=Lt[1]}if(We.touches[1]){var Lt=e.projectIntoViewport(We.touches[1].clientX,We.touches[1].clientY);Nt[2]=Lt[0],Nt[3]=Lt[1]}if(We.touches[2]){var Lt=e.projectIntoViewport(We.touches[2].clientX,We.touches[2].clientY);Nt[4]=Lt[0],Nt[5]=Lt[1]}if(We.touches[1]){e.touchData.singleTouchMoved=!0,j(e.dragData.touchDragEles);var Pn=e.findContainerClientCoords();Pe=Pn[0],Ne=Pn[1],He=Pn[2],je=Pn[3],me=We.touches[0].clientX-Pe,ye=We.touches[0].clientY-Ne,Ae=We.touches[1].clientX-Pe,Te=We.touches[1].clientY-Ne,ze=0<=me&&me<=He&&0<=Ae&&Ae<=He&&0<=ye&&ye<=je&&0<=Te&&Te<=je;var qt=bt.pan(),ln=bt.zoom();Oe=Ve(me,ye,Ae,Te),Ie=Ye(me,ye,Ae,Te),Be=[(me+Ae)/2,(ye+Te)/2],De=[(Be[0]-qt.x)/ln,(Be[1]-qt.y)/ln];var fr=200,ar=fr*fr;if(Ie<ar&&!We.touches[2]){var Rn=e.findNearestElement(Nt[0],Nt[1],!0,!0),Cr=e.findNearestElement(Nt[2],Nt[3],!0,!0);Rn&&Rn.isNode()?(Rn.activate().emit({originalEvent:We,type:"cxttapstart",position:{x:Nt[0],y:Nt[1]}}),e.touchData.start=Rn):Cr&&Cr.isNode()?(Cr.activate().emit({originalEvent:We,type:"cxttapstart",position:{x:Nt[0],y:Nt[1]}}),e.touchData.start=Cr):bt.emit({originalEvent:We,type:"cxttapstart",position:{x:Nt[0],y:Nt[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(We.touches[2])bt.boxSelectionEnabled()&&We.preventDefault();else if(!We.touches[1]){if(We.touches[0]){var gn=e.findNearestElements(Nt[0],Nt[1],!0,!0),Tn=gn[0];if(Tn!=null&&(Tn.activate(),e.touchData.start=Tn,e.touchData.starts=gn,e.nodeIsGrabbable(Tn))){var Sr=e.dragData.touchDragEles=bt.collection(),Yr=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),Tn.selected()?(Yr=bt.$(function(ta){return ta.selected()&&e.nodeIsGrabbable(ta)}),N(Yr,{addToList:Sr})):F(Tn,{addToList:Sr}),S(Tn);var Oa=function(Ks){return{originalEvent:We,type:Ks,position:{x:Nt[0],y:Nt[1]}}};Tn.emit(Oa("grabon")),Yr?Yr.forEach(function(ta){ta.emit(Oa("grab"))}):Tn.emit(Oa("grab"))}n(Tn,["touchstart","tapstart","vmousedown"],We,{x:Nt[0],y:Nt[1]}),Tn==null&&(e.data.bgActivePosistion={x:Lt[0],y:Lt[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&n(e.touchData.start,["taphold"],We,{x:Nt[0],y:Nt[1]})},e.tapholdDuration)}}if(We.touches.length>=1){for(var Ei=e.touchData.startPosition=[],si=0;si<Nt.length;si++)Ei[si]=It[si]=Nt[si];var ca=We.touches[0];e.touchData.startGPosition=[ca.clientX,ca.clientY]}}},!1);var Fe;e.registerBinding(window,"touchmove",Fe=function(We){var bt=e.touchData.capture;if(!(!bt&&!se(We))){var Nt=e.selection,It=e.cy,Lt=e.touchData.now,Pn=e.touchData.earlier,qt=It.zoom();if(We.touches[0]){var ln=e.projectIntoViewport(We.touches[0].clientX,We.touches[0].clientY);Lt[0]=ln[0],Lt[1]=ln[1]}if(We.touches[1]){var ln=e.projectIntoViewport(We.touches[1].clientX,We.touches[1].clientY);Lt[2]=ln[0],Lt[3]=ln[1]}if(We.touches[2]){var ln=e.projectIntoViewport(We.touches[2].clientX,We.touches[2].clientY);Lt[4]=ln[0],Lt[5]=ln[1]}var fr=e.touchData.startGPosition,ar;if(bt&&We.touches[0]&&fr){for(var Rn=[],Cr=0;Cr<Lt.length;Cr++)Rn[Cr]=Lt[Cr]-Pn[Cr];var gn=We.touches[0].clientX-fr[0],Tn=gn*gn,Sr=We.touches[0].clientY-fr[1],Yr=Sr*Sr,Oa=Tn+Yr;ar=Oa>=e.touchTapThreshold2}if(bt&&e.touchData.cxt){We.preventDefault();var Ei=We.touches[0].clientX-Pe,si=We.touches[0].clientY-Ne,ca=We.touches[1].clientX-Pe,ta=We.touches[1].clientY-Ne,Ks=Ye(Ei,si,ca,ta),bu=Ks/Ie,kc=150,zu=kc*kc,wu=1.5,Tf=wu*wu;if(bu>=Tf||Ks>=zu){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Gu={originalEvent:We,type:"cxttapend",position:{x:Lt[0],y:Lt[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(Gu),e.touchData.start=null):It.emit(Gu)}}if(bt&&e.touchData.cxt){var Gu={originalEvent:We,type:"cxtdrag",position:{x:Lt[0],y:Lt[1]}};e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(Gu):It.emit(Gu),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var po=e.findNearestElement(Lt[0],Lt[1],!0,!0);(!e.touchData.cxtOver||po!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:We,type:"cxtdragout",position:{x:Lt[0],y:Lt[1]}}),e.touchData.cxtOver=po,po&&po.emit({originalEvent:We,type:"cxtdragover",position:{x:Lt[0],y:Lt[1]}}))}else if(bt&&We.touches[2]&&It.boxSelectionEnabled())We.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||It.emit({originalEvent:We,type:"boxstart",position:{x:Lt[0],y:Lt[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,Nt[4]=1,!Nt||Nt.length===0||Nt[0]===void 0?(Nt[0]=(Lt[0]+Lt[2]+Lt[4])/3,Nt[1]=(Lt[1]+Lt[3]+Lt[5])/3,Nt[2]=(Lt[0]+Lt[2]+Lt[4])/3+1,Nt[3]=(Lt[1]+Lt[3]+Lt[5])/3+1):(Nt[2]=(Lt[0]+Lt[2]+Lt[4])/3,Nt[3]=(Lt[1]+Lt[3]+Lt[5])/3),e.redrawHint("select",!0),e.redraw();else if(bt&&We.touches[1]&&!e.touchData.didSelect&&It.zoomingEnabled()&&It.panningEnabled()&&It.userZoomingEnabled()&&It.userPanningEnabled()){We.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Za=e.dragData.touchDragEles;if(Za){e.redrawHint("drag",!0);for(var Di=0;Di<Za.length;Di++){var En=Za[Di]._private;En.grabbed=!1,En.rscratch.inDragLayer=!1}}var es=e.touchData.start,Ei=We.touches[0].clientX-Pe,si=We.touches[0].clientY-Ne,ca=We.touches[1].clientX-Pe,ta=We.touches[1].clientY-Ne,Ih=Ve(Ei,si,ca,ta),tg=Ih/Oe;if(ze){var ng=Ei-me,Rh=si-ye,rg=ca-Ae,Cc=ta-Te,ig=(ng+rg)/2,Ip=(Rh+Cc)/2,wl=It.zoom(),Ph=wl*tg,Af=It.pan(),Dh=De[0]*wl+Af.x,ag=De[1]*wl+Af.y,Lf={x:-Ph/wl*(Dh-Af.x-ig)+Dh,y:-Ph/wl*(ag-Af.y-Ip)+ag};if(es&&es.active()){var Za=e.dragData.touchDragEles;j(Za),e.redrawHint("drag",!0),e.redrawHint("eles",!0),es.unactivate().emit("freeon"),Za.emit("free"),e.dragData.didDrag&&(es.emit("dragfreeon"),Za.emit("dragfree"))}It.viewport({zoom:Ph,pan:Lf,cancelOnFailedZoom:!0}),It.emit("pinchzoom"),Oe=Ih,me=Ei,ye=si,Ae=ca,Te=ta,e.pinching=!0}if(We.touches[0]){var ln=e.projectIntoViewport(We.touches[0].clientX,We.touches[0].clientY);Lt[0]=ln[0],Lt[1]=ln[1]}if(We.touches[1]){var ln=e.projectIntoViewport(We.touches[1].clientX,We.touches[1].clientY);Lt[2]=ln[0],Lt[3]=ln[1]}if(We.touches[2]){var ln=e.projectIntoViewport(We.touches[2].clientX,We.touches[2].clientY);Lt[4]=ln[0],Lt[5]=ln[1]}}else if(We.touches[0]&&!e.touchData.didSelect){var ns=e.touchData.start,Sc=e.touchData.last,po;if(!e.hoverData.draggingEles&&!e.swipePanning&&(po=e.findNearestElement(Lt[0],Lt[1],!0,!0)),bt&&ns!=null&&We.preventDefault(),bt&&ns!=null&&e.nodeIsDraggable(ns))if(ar){var Za=e.dragData.touchDragEles,og=!e.dragData.didDrag;og&&N(Za,{inDragLayer:!0}),e.dragData.didDrag=!0;var _l={x:0,y:0};if(number$1(Rn[0])&&number$1(Rn[1])&&(_l.x+=Rn[0],_l.y+=Rn[1],og)){e.redrawHint("eles",!0);var ws=e.touchData.dragDelta;ws&&number$1(ws[0])&&number$1(ws[1])&&(_l.x+=ws[0],_l.y+=ws[1])}e.hoverData.draggingEles=!0,Za.silentShift(_l).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==Pn[0]&&e.touchData.startPosition[1]==Pn[1]&&e.redrawHint("eles",!0),e.redraw()}else{var ws=e.touchData.dragDelta=e.touchData.dragDelta||[];ws.length===0?(ws.push(Rn[0]),ws.push(Rn[1])):(ws[0]+=Rn[0],ws[1]+=Rn[1])}if(n(ns||po,["touchmove","tapdrag","vmousemove"],We,{x:Lt[0],y:Lt[1]}),(!ns||!ns.grabbed())&&po!=Sc&&(Sc&&Sc.emit({originalEvent:We,type:"tapdragout",position:{x:Lt[0],y:Lt[1]}}),po&&po.emit({originalEvent:We,type:"tapdragover",position:{x:Lt[0],y:Lt[1]}})),e.touchData.last=po,bt)for(var Di=0;Di<Lt.length;Di++)Lt[Di]&&e.touchData.startPosition[Di]&&ar&&(e.touchData.singleTouchMoved=!0);if(bt&&(ns==null||ns.pannable())&&It.panningEnabled()&&It.userPanningEnabled()){var Oh=u(ns,e.touchData.starts);Oh&&(We.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=array2point(e.touchData.startPosition)),e.swipePanning?(It.panBy({x:Rn[0]*qt,y:Rn[1]*qt}),It.emit("dragpan")):ar&&(e.swipePanning=!0,It.panBy({x:gn*qt,y:Sr*qt}),It.emit("dragpan"),ns&&(ns.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var ln=e.projectIntoViewport(We.touches[0].clientX,We.touches[0].clientY);Lt[0]=ln[0],Lt[1]=ln[1]}}for(var Cr=0;Cr<Lt.length;Cr++)Pn[Cr]=Lt[Cr];bt&&We.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1);var Qe;e.registerBinding(window,"touchcancel",Qe=function(We){var bt=e.touchData.start;e.touchData.capture=!1,bt&&bt.unactivate()});var it,at,wt,st;if(e.registerBinding(window,"touchend",it=function(We){var bt=e.touchData.start,Nt=e.touchData.capture;if(Nt)We.touches.length===0&&(e.touchData.capture=!1),We.preventDefault();else return;var It=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var Lt=e.cy,Pn=Lt.zoom(),qt=e.touchData.now,ln=e.touchData.earlier;if(We.touches[0]){var fr=e.projectIntoViewport(We.touches[0].clientX,We.touches[0].clientY);qt[0]=fr[0],qt[1]=fr[1]}if(We.touches[1]){var fr=e.projectIntoViewport(We.touches[1].clientX,We.touches[1].clientY);qt[2]=fr[0],qt[3]=fr[1]}if(We.touches[2]){var fr=e.projectIntoViewport(We.touches[2].clientX,We.touches[2].clientY);qt[4]=fr[0],qt[5]=fr[1]}bt&&bt.unactivate();var ar;if(e.touchData.cxt){if(ar={originalEvent:We,type:"cxttapend",position:{x:qt[0],y:qt[1]}},bt?bt.emit(ar):Lt.emit(ar),!e.touchData.cxtDragged){var Rn={originalEvent:We,type:"cxttap",position:{x:qt[0],y:qt[1]}};bt?bt.emit(Rn):Lt.emit(Rn)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!We.touches[2]&&Lt.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var Cr=Lt.collection(e.getAllInBox(It[0],It[1],It[2],It[3]));It[0]=void 0,It[1]=void 0,It[2]=void 0,It[3]=void 0,It[4]=0,e.redrawHint("select",!0),Lt.emit({type:"boxend",originalEvent:We,position:{x:qt[0],y:qt[1]}});var gn=function(zu){return zu.selectable()&&!zu.selected()};Cr.emit("box").stdFilter(gn).select().emit("boxselect"),Cr.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(bt!=null&&bt.unactivate(),We.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!We.touches[1]){if(!We.touches[0]){if(!We.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Tn=e.dragData.touchDragEles;if(bt!=null){var Sr=bt._private.grabbed;j(Tn),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Sr&&(bt.emit("freeon"),Tn.emit("free"),e.dragData.didDrag&&(bt.emit("dragfreeon"),Tn.emit("dragfree"))),n(bt,["touchend","tapend","vmouseup","tapdragout"],We,{x:qt[0],y:qt[1]}),bt.unactivate(),e.touchData.start=null}else{var Yr=e.findNearestElement(qt[0],qt[1],!0,!0);n(Yr,["touchend","tapend","vmouseup","tapdragout"],We,{x:qt[0],y:qt[1]})}var Oa=e.touchData.startPosition[0]-qt[0],Ei=Oa*Oa,si=e.touchData.startPosition[1]-qt[1],ca=si*si,ta=Ei+ca,Ks=ta*Pn*Pn;e.touchData.singleTouchMoved||(bt||Lt.$(":selected").unselect(["tapunselect"]),n(bt,["tap","vclick"],We,{x:qt[0],y:qt[1]}),at=!1,We.timeStamp-st<=Lt.multiClickDebounceTime()?(wt&&clearTimeout(wt),at=!0,st=null,n(bt,["dbltap","vdblclick"],We,{x:qt[0],y:qt[1]})):(wt=setTimeout(function(){at||n(bt,["onetap","voneclick"],We,{x:qt[0],y:qt[1]})},Lt.multiClickDebounceTime()),st=We.timeStamp)),bt!=null&&!e.dragData.didDrag&&bt._private.selectable&&Ks<e.touchTapThreshold2&&!e.pinching&&(Lt.selectionType()==="single"?(Lt.$(t).unmerge(bt).unselect(["tapunselect"]),bt.select(["tapselect"])):bt.selected()?bt.unselect(["tapunselect"]):bt.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}}}for(var bu=0;bu<qt.length;bu++)ln[bu]=qt[bu];e.dragData.didDrag=!1,We.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=null,e.touchData.startGPosition=null,e.touchData.didSelect=!1),We.touches.length<2&&(We.touches.length===1&&(e.touchData.startGPosition=[We.touches[0].clientX,We.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},!1),typeof TouchEvent>"u"){var ft=[],Dt=function(We){return{clientX:We.clientX,clientY:We.clientY,force:1,identifier:We.pointerId,pageX:We.pageX,pageY:We.pageY,radiusX:We.width/2,radiusY:We.height/2,screenX:We.screenX,screenY:We.screenY,target:We.target}},ut=function(We){return{event:We,touch:Dt(We)}},_t=function(We){ft.push(ut(We))},Bt=function(We){for(var bt=0;bt<ft.length;bt++){var Nt=ft[bt];if(Nt.event.pointerId===We.pointerId){ft.splice(bt,1);return}}},mn=function(We){var bt=ft.filter(function(Nt){return Nt.event.pointerId===We.pointerId})[0];bt.event=We,bt.touch=Dt(We)},dn=function(We){We.touches=ft.map(function(bt){return bt.touch})},Zt=function(We){return We.pointerType==="mouse"||We.pointerType===4};e.registerBinding(e.container,"pointerdown",function(Mt){Zt(Mt)||(Mt.preventDefault(),_t(Mt),dn(Mt),nt(Mt))}),e.registerBinding(e.container,"pointerup",function(Mt){Zt(Mt)||(Bt(Mt),dn(Mt),it(Mt))}),e.registerBinding(e.container,"pointercancel",function(Mt){Zt(Mt)||(Bt(Mt),dn(Mt),Qe(Mt))}),e.registerBinding(e.container,"pointermove",function(Mt){Zt(Mt)||(Mt.preventDefault(),mn(Mt),dn(Mt),Fe(Mt))})}};var BRp$2={};BRp$2.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(s,u,f,d,g){this.renderer.nodeShapeImpl("polygon",s,u,f,d,g,this.points)},intersectLine:function(s,u,f,d,g,v,S){return polygonIntersectLine(g,v,this.points,s,u,f/2,d/2,S)},checkPoint:function(s,u,f,d,g,v,S){return pointInsidePolygon(s,u,this.points,v,S,d,g,[0,-1],f)}}};BRp$2.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,n,s,u,f){this.renderer.nodeShapeImpl(this.name,t,n,s,u,f)},intersectLine:function(t,n,s,u,f,d,g){return intersectLineEllipse(f,d,t,n,s/2+g,u/2+g)},checkPoint:function(t,n,s,u,f,d,g){return checkInEllipse(t,n,u,f,d,g,s)}}};BRp$2.generateRoundPolygon=function(e,t){for(var n=new Array(t.length*2),s=0;s<t.length/2;s++){var u=s*2,f=void 0;s<t.length/2-1?f=(s+1)*2:f=0,n[s*4]=t[u],n[s*4+1]=t[u+1];var d=t[f]-t[u],g=t[f+1]-t[u+1],v=Math.sqrt(d*d+g*g);n[s*4+2]=d/v,n[s*4+3]=g/v}return this.nodeShapes[e]={renderer:this,name:e,points:n,draw:function(M,I,P,N,F){this.renderer.nodeShapeImpl("round-polygon",M,I,P,N,F,this.points)},intersectLine:function(M,I,P,N,F,j,U){return roundPolygonIntersectLine(F,j,this.points,M,I,P,N)},checkPoint:function(M,I,P,N,F,j,U){return pointInsideRoundPolygon(M,I,this.points,j,U,N,F)}}};BRp$2.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:generateUnitNgonPointsFitToSquare(4,0),draw:function(t,n,s,u,f){this.renderer.nodeShapeImpl(this.name,t,n,s,u,f)},intersectLine:function(t,n,s,u,f,d,g){return roundRectangleIntersectLine(f,d,t,n,s,u,g)},checkPoint:function(t,n,s,u,f,d,g){var v=getRoundRectangleRadius(u,f),S=v*2;return!!(pointInsidePolygon(t,n,this.points,d,g,u,f-S,[0,-1],s)||pointInsidePolygon(t,n,this.points,d,g,u-S,f,[0,-1],s)||checkInEllipse(t,n,S,S,d-u/2+v,g-f/2+v,s)||checkInEllipse(t,n,S,S,d+u/2-v,g-f/2+v,s)||checkInEllipse(t,n,S,S,d+u/2-v,g+f/2-v,s)||checkInEllipse(t,n,S,S,d-u/2+v,g+f/2-v,s))}}};BRp$2.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:getCutRectangleCornerLength(),points:generateUnitNgonPointsFitToSquare(4,0),draw:function(t,n,s,u,f){this.renderer.nodeShapeImpl(this.name,t,n,s,u,f)},generateCutTrianglePts:function(t,n,s,u){var f=this.cornerLength,d=n/2,g=t/2,v=s-g,S=s+g,M=u-d,I=u+d;return{topLeft:[v,M+f,v+f,M,v+f,M+f],topRight:[S-f,M,S,M+f,S-f,M+f],bottomRight:[S,I-f,S-f,I,S-f,I-f],bottomLeft:[v+f,I,v,I-f,v+f,I-f]}},intersectLine:function(t,n,s,u,f,d,g){var v=this.generateCutTrianglePts(s+2*g,u+2*g,t,n),S=[].concat.apply([],[v.topLeft.splice(0,4),v.topRight.splice(0,4),v.bottomRight.splice(0,4),v.bottomLeft.splice(0,4)]);return polygonIntersectLine(f,d,S,t,n)},checkPoint:function(t,n,s,u,f,d,g){if(pointInsidePolygon(t,n,this.points,d,g,u,f-2*this.cornerLength,[0,-1],s)||pointInsidePolygon(t,n,this.points,d,g,u-2*this.cornerLength,f,[0,-1],s))return!0;var v=this.generateCutTrianglePts(u,f,d,g);return pointInsidePolygonPoints(t,n,v.topLeft)||pointInsidePolygonPoints(t,n,v.topRight)||pointInsidePolygonPoints(t,n,v.bottomRight)||pointInsidePolygonPoints(t,n,v.bottomLeft)}}};BRp$2.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:generateUnitNgonPointsFitToSquare(4,0),draw:function(t,n,s,u,f){this.renderer.nodeShapeImpl(this.name,t,n,s,u,f)},intersectLine:function(t,n,s,u,f,d,g){var v=.15,S=.5,M=.85,I=this.generateBarrelBezierPts(s+2*g,u+2*g,t,n),P=function(j){var U=qbezierPtAt({x:j[0],y:j[1]},{x:j[2],y:j[3]},{x:j[4],y:j[5]},v),V=qbezierPtAt({x:j[0],y:j[1]},{x:j[2],y:j[3]},{x:j[4],y:j[5]},S),Z=qbezierPtAt({x:j[0],y:j[1]},{x:j[2],y:j[3]},{x:j[4],y:j[5]},M);return[j[0],j[1],U.x,U.y,V.x,V.y,Z.x,Z.y,j[4],j[5]]},N=[].concat(P(I.topLeft),P(I.topRight),P(I.bottomRight),P(I.bottomLeft));return polygonIntersectLine(f,d,N,t,n)},generateBarrelBezierPts:function(t,n,s,u){var f=n/2,d=t/2,g=s-d,v=s+d,S=u-f,M=u+f,I=getBarrelCurveConstants(t,n),P=I.heightOffset,N=I.widthOffset,F=I.ctrlPtOffsetPct*t,j={topLeft:[g,S+P,g+F,S,g+N,S],topRight:[v-N,S,v-F,S,v,S+P],bottomRight:[v,M-P,v-F,M,v-N,M],bottomLeft:[g+N,M,g+F,M,g,M-P]};return j.topLeft.isTop=!0,j.topRight.isTop=!0,j.bottomLeft.isBottom=!0,j.bottomRight.isBottom=!0,j},checkPoint:function(t,n,s,u,f,d,g){var v=getBarrelCurveConstants(u,f),S=v.heightOffset,M=v.widthOffset;if(pointInsidePolygon(t,n,this.points,d,g,u,f-2*S,[0,-1],s)||pointInsidePolygon(t,n,this.points,d,g,u-2*M,f,[0,-1],s))return!0;for(var I=this.generateBarrelBezierPts(u,f,d,g),P=function(ue,se,le){var de=le[4],ge=le[2],ve=le[0],me=le[5],ye=le[1],Ae=Math.min(de,ve),Te=Math.max(de,ve),Oe=Math.min(me,ye),Ie=Math.max(me,ye);if(Ae<=ue&&ue<=Te&&Oe<=se&&se<=Ie){var Be=bezierPtsToQuadCoeff(de,ge,ve),De=solveQuadratic(Be[0],Be[1],Be[2],ue),Pe=De.filter(function(Ne){return 0<=Ne&&Ne<=1});if(Pe.length>0)return Pe[0]}return null},N=Object.keys(I),F=0;F<N.length;F++){var j=N[F],U=I[j],V=P(t,n,U);if(V!=null){var Z=U[5],Q=U[3],J=U[1],te=qbezierAt(Z,Q,J,V);if(U.isTop&&te<=n||U.isBottom&&n<=te)return!0}}return!1}}};BRp$2.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:generateUnitNgonPointsFitToSquare(4,0),draw:function(t,n,s,u,f){this.renderer.nodeShapeImpl(this.name,t,n,s,u,f)},intersectLine:function(t,n,s,u,f,d,g){var v=t-(s/2+g),S=n-(u/2+g),M=S,I=t+(s/2+g),P=finiteLinesIntersect(f,d,t,n,v,S,I,M,!1);return P.length>0?P:roundRectangleIntersectLine(f,d,t,n,s,u,g)},checkPoint:function(t,n,s,u,f,d,g){var v=getRoundRectangleRadius(u,f),S=2*v;if(pointInsidePolygon(t,n,this.points,d,g,u,f-S,[0,-1],s)||pointInsidePolygon(t,n,this.points,d,g,u-S,f,[0,-1],s))return!0;var M=u/2+2*s,I=f/2+2*s,P=[d-M,g-I,d-M,g,d+M,g,d+M,g-I];return!!(pointInsidePolygonPoints(t,n,P)||checkInEllipse(t,n,S,S,d+u/2-v,g+f/2-v,s)||checkInEllipse(t,n,S,S,d-u/2+v,g+f/2-v,s))}}};BRp$2.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",generateUnitNgonPointsFitToSquare(3,0)),this.generateRoundPolygon("round-triangle",generateUnitNgonPointsFitToSquare(3,0)),this.generatePolygon("rectangle",generateUnitNgonPointsFitToSquare(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n)}this.generatePolygon("pentagon",generateUnitNgonPointsFitToSquare(5,0)),this.generateRoundPolygon("round-pentagon",generateUnitNgonPointsFitToSquare(5,0)),this.generatePolygon("hexagon",generateUnitNgonPointsFitToSquare(6,0)),this.generateRoundPolygon("round-hexagon",generateUnitNgonPointsFitToSquare(6,0)),this.generatePolygon("heptagon",generateUnitNgonPointsFitToSquare(7,0)),this.generateRoundPolygon("round-heptagon",generateUnitNgonPointsFitToSquare(7,0)),this.generatePolygon("octagon",generateUnitNgonPointsFitToSquare(8,0)),this.generateRoundPolygon("round-octagon",generateUnitNgonPointsFitToSquare(8,0));var s=new Array(20);{var u=generateUnitNgonPoints(5,0),f=generateUnitNgonPoints(5,Math.PI/5),d=.5*(3-Math.sqrt(5));d*=1.57;for(var g=0;g<f.length/2;g++)f[g*2]*=d,f[g*2+1]*=d;for(var g=0;g<20/4;g++)s[g*4]=u[g*2],s[g*4+1]=u[g*2+1],s[g*4+2]=f[g*2],s[g*4+3]=f[g*2+1]}s=fitPolygonToSquare(s),this.generatePolygon("star",s),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var v=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",v),this.generateRoundPolygon("round-tag",v)}e.makePolygon=function(S){var M=S.join("$"),I="polygon-"+M,P;return(P=this[I])?P:t.generatePolygon(I,S)}};var BRp$1={};BRp$1.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};BRp$1.redraw=function(e){e=e||staticEmptyObject();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e};BRp$1.beforeRender=function(e,t){if(!this.destroyed){t==null&&error("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(s,u){return u.priority-s.priority})}};var beforeRenderCallbacks=function(t,n,s){for(var u=t.beforeRenderCallbacks,f=0;f<u.length;f++)u[f].fn(n,s)};BRp$1.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var n=function s(u){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){beforeRenderCallbacks(e,!0,u);var f=performanceNow();e.render(e.renderOptions);var d=e.lastDrawTime=performanceNow();e.averageRedrawTime===void 0&&(e.averageRedrawTime=d-f),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var g=d-f;e.redrawTotalTime+=g,e.lastRedrawTime=g,e.averageRedrawTime=e.averageRedrawTime/2+g/2,e.requestedFrame=!1}else beforeRenderCallbacks(e,!1,u);e.skipFrame=!1,requestAnimationFrame$1(s)}};requestAnimationFrame$1(n)}};var BaseRenderer=function(t){this.init(t)},BR=BaseRenderer,BRp=BR.prototype;BRp.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];BRp.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container();if(window$1){var s=window$1.document,u=s.head,f="__________cytoscape_stylesheet",d="__________cytoscape_container",g=s.getElementById(f)!=null;if(n.className.indexOf(d)<0&&(n.className=(n.className||"")+" "+d),!g){var v=s.createElement("style");v.id=f,v.innerHTML="."+d+" { position: relative; }",u.insertBefore(v,u.children[0])}var S=window$1.getComputedStyle(n),M=S.getPropertyValue("position");M==="static"&&warn("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=number$1(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()};BRp.notify=function(e,t){var n=this,s=n.cy;if(!this.destroyed){if(e==="init"){n.load();return}if(e==="destroy"){n.destroy();return}(e==="add"||e==="remove"||e==="move"&&s.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&n.invalidateCachedZSortedEles(),e==="viewport"&&n.redrawHint("select",!0),(e==="load"||e==="resize"||e==="mount")&&(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};BRp.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],s=n,u=s.target;(u.off||u.removeEventListener).apply(u,s.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}};BRp.isHeadless=function(){return!1};[BRp$f,BRp$5,BRp$4,BRp$3,BRp$2,BRp$1].forEach(function(e){extend(BRp,e)});var fullFpsTime=1e3/60,defs={setupDequeueing:function(t){return function(){var s=this,u=this.renderer;if(!s.dequeueingSetup){s.dequeueingSetup=!0;var f=debounce__default.default(function(){u.redrawHint("eles",!0),u.redrawHint("drag",!0),u.redraw()},t.deqRedrawThreshold),d=function(S,M){var I=performanceNow(),P=u.averageRedrawTime,N=u.lastRedrawTime,F=[],j=u.cy.extent(),U=u.getPixelRatio();for(S||u.flushRenderedStyleQueue();;){var V=performanceNow(),Z=V-I,Q=V-M;if(N<fullFpsTime){var J=fullFpsTime-(S?P:0);if(Q>=t.deqFastCost*J)break}else if(S){if(Z>=t.deqCost*N||Z>=t.deqAvgCost*P)break}else if(Q>=t.deqNoDrawCost*fullFpsTime)break;var te=t.deq(s,U,j);if(te.length>0)for(var oe=0;oe<te.length;oe++)F.push(te[oe]);else break}F.length>0&&(t.onDeqd(s,F),!S&&t.shouldRedraw(s,F,U,j)&&f())},g=t.priority||noop$1;u.beforeRender(d,g(s))}}}},ElementTextureCacheLookup=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:falsify;_classCallCheck(this,e),this.idsByKey=new Map$1,this.keyForId=new Map$1,this.cachesByLvl=new Map$1,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=n}return _createClass(e,[{key:"getIdsFor",value:function(n){n==null&&error("Can not get id list for null key");var s=this.idsByKey,u=this.idsByKey.get(n);return u||(u=new Set$1,s.set(n,u)),u}},{key:"addIdForKey",value:function(n,s){n!=null&&this.getIdsFor(n).add(s)}},{key:"deleteIdForKey",value:function(n,s){n!=null&&this.getIdsFor(n).delete(s)}},{key:"getNumberOfIdsForKey",value:function(n){return n==null?0:this.getIdsFor(n).size}},{key:"updateKeyMappingFor",value:function(n){var s=n.id(),u=this.keyForId.get(s),f=this.getKey(n);this.deleteIdForKey(u,s),this.addIdForKey(f,s),this.keyForId.set(s,f)}},{key:"deleteKeyMappingFor",value:function(n){var s=n.id(),u=this.keyForId.get(s);this.deleteIdForKey(u,s),this.keyForId.delete(s)}},{key:"keyHasChangedFor",value:function(n){var s=n.id(),u=this.keyForId.get(s),f=this.getKey(n);return u!==f}},{key:"isInvalid",value:function(n){return this.keyHasChangedFor(n)||this.doesEleInvalidateKey(n)}},{key:"getCachesAt",value:function(n){var s=this.cachesByLvl,u=this.lvls,f=s.get(n);return f||(f=new Map$1,s.set(n,f),u.push(n)),f}},{key:"getCache",value:function(n,s){return this.getCachesAt(s).get(n)}},{key:"get",value:function(n,s){var u=this.getKey(n),f=this.getCache(u,s);return f!=null&&this.updateKeyMappingFor(n),f}},{key:"getForCachedKey",value:function(n,s){var u=this.keyForId.get(n.id()),f=this.getCache(u,s);return f}},{key:"hasCache",value:function(n,s){return this.getCachesAt(s).has(n)}},{key:"has",value:function(n,s){var u=this.getKey(n);return this.hasCache(u,s)}},{key:"setCache",value:function(n,s,u){u.key=n,this.getCachesAt(s).set(n,u)}},{key:"set",value:function(n,s,u){var f=this.getKey(n);this.setCache(f,s,u),this.updateKeyMappingFor(n)}},{key:"deleteCache",value:function(n,s){this.getCachesAt(s).delete(n)}},{key:"delete",value:function(n,s){var u=this.getKey(n);this.deleteCache(u,s)}},{key:"invalidateKey",value:function(n){var s=this;this.lvls.forEach(function(u){return s.deleteCache(n,u)})}},{key:"invalidate",value:function(n){var s=n.id(),u=this.keyForId.get(s);this.deleteKeyMappingFor(n);var f=this.doesEleInvalidateKey(n);return f&&this.invalidateKey(u),f||this.getNumberOfIdsForKey(u)===0}}]),e}(),minTxrH=25,txrStepH=50,minLvl$1=-4,maxLvl$1=3,maxZoom$1=7.99,eleTxrSpacing=8,defTxrWidth=1024,maxTxrW=1024,maxTxrH=1024,minUtility=.2,maxFullness=.8,maxFullnessChecks=10,deqCost$1=.15,deqAvgCost$1=.1,deqNoDrawCost$1=.9,deqFastCost$1=.9,deqRedrawThreshold$1=100,maxDeqSize$1=1,getTxrReasons={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},initDefaults=defaults$g({getKey:null,doesEleInvalidateKey:falsify,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:trueify,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),ElementTextureCache=function(t,n){var s=this;s.renderer=t,s.onDequeues=[];var u=initDefaults(n);extend(s,u),s.lookup=new ElementTextureCacheLookup(u.getKey,u.doesEleInvalidateKey),s.setupDequeueing()},ETCp=ElementTextureCache.prototype;ETCp.reasons=getTxrReasons;ETCp.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]};ETCp.getRetiredTextureQueue=function(e){var t=this,n=t.eleImgCaches.retired=t.eleImgCaches.retired||{},s=n[e]=n[e]||[];return s};ETCp.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new Heap__default.default(function(n,s){return s.reqs-n.reqs});return t};ETCp.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t};ETCp.getElement=function(e,t,n,s,u){var f=this,d=this.renderer,g=d.cy.zoom(),v=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!f.allowEdgeTxrCaching&&e.isEdge()||!f.allowParentTxrCaching&&e.isParent())return null;if(s==null&&(s=Math.ceil(log2(g*n))),s<minLvl$1)s=minLvl$1;else if(g>=maxZoom$1||s>maxLvl$1)return null;var S=Math.pow(2,s),M=t.h*S,I=t.w*S,P=d.eleTextBiggerThanMin(e,S);if(!this.isVisible(e,P))return null;var N=v.get(e,s);if(N&&N.invalidated&&(N.invalidated=!1,N.texture.invalidatedWidth-=N.width),N)return N;var F;if(M<=minTxrH?F=minTxrH:M<=txrStepH?F=txrStepH:F=Math.ceil(M/txrStepH)*txrStepH,M>maxTxrH||I>maxTxrW)return null;var j=f.getTextureQueue(F),U=j[j.length-2],V=function(){return f.recycleTexture(F,I)||f.addTexture(F,I)};U||(U=j[j.length-1]),U||(U=V()),U.width-U.usedWidth<I&&(U=V());for(var Z=function(Te){return Te&&Te.scaledLabelShown===P},Q=u&&u===getTxrReasons.dequeue,J=u&&u===getTxrReasons.highQuality,te=u&&u===getTxrReasons.downscale,oe,ue=s+1;ue<=maxLvl$1;ue++){var se=v.get(e,ue);if(se){oe=se;break}}var le=oe&&oe.level===s+1?oe:null,de=function(){U.context.drawImage(le.texture.canvas,le.x,0,le.width,le.height,U.usedWidth,0,I,M)};if(U.context.setTransform(1,0,0,1,0,0),U.context.clearRect(U.usedWidth,0,I,F),Z(le))de();else if(Z(oe))if(J){for(var ge=oe.level;ge>s;ge--)le=f.getElement(e,t,n,ge,getTxrReasons.downscale);de()}else return f.queueElement(e,oe.level-1),oe;else{var ve;if(!Q&&!J&&!te)for(var me=s-1;me>=minLvl$1;me--){var ye=v.get(e,me);if(ye){ve=ye;break}}if(Z(ve))return f.queueElement(e,s),ve;U.context.translate(U.usedWidth,0),U.context.scale(S,S),this.drawElement(U.context,e,t,P,!1),U.context.scale(1/S,1/S),U.context.translate(-U.usedWidth,0)}return N={x:U.usedWidth,texture:U,level:s,scale:S,width:I,height:M,scaledLabelShown:P},U.usedWidth+=Math.ceil(I+eleTxrSpacing),U.eleCaches.push(N),v.set(e,s,N),f.checkTextureFullness(U),N};ETCp.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])};ETCp.invalidateElement=function(e){var t=this,n=t.lookup,s=[],u=n.isInvalid(e);if(u){for(var f=minLvl$1;f<=maxLvl$1;f++){var d=n.getForCachedKey(e,f);d&&s.push(d)}var g=n.invalidate(e);if(g)for(var v=0;v<s.length;v++){var S=s[v],M=S.texture;M.invalidatedWidth+=S.width,S.invalidated=!0,t.checkTextureUtility(M)}t.removeFromQueue(e)}};ETCp.checkTextureUtility=function(e){e.invalidatedWidth>=minUtility*e.width&&this.retireTexture(e)};ETCp.checkTextureFullness=function(e){var t=this,n=t.getTextureQueue(e.height);e.usedWidth/e.width>maxFullness&&e.fullnessChecks>=maxFullnessChecks?removeFromArray(n,e):e.fullnessChecks++};ETCp.retireTexture=function(e){var t=this,n=e.height,s=t.getTextureQueue(n),u=this.lookup;removeFromArray(s,e),e.retired=!0;for(var f=e.eleCaches,d=0;d<f.length;d++){var g=f[d];u.deleteCache(g.key,g.level)}clearArray(f);var v=t.getRetiredTextureQueue(n);v.push(e)};ETCp.addTexture=function(e,t){var n=this,s=n.getTextureQueue(e),u={};return s.push(u),u.eleCaches=[],u.height=e,u.width=Math.max(defTxrWidth,t),u.usedWidth=0,u.invalidatedWidth=0,u.fullnessChecks=0,u.canvas=n.renderer.makeOffscreenCanvas(u.width,u.height),u.context=u.canvas.getContext("2d"),u};ETCp.recycleTexture=function(e,t){for(var n=this,s=n.getTextureQueue(e),u=n.getRetiredTextureQueue(e),f=0;f<u.length;f++){var d=u[f];if(d.width>=t)return d.retired=!1,d.usedWidth=0,d.invalidatedWidth=0,d.fullnessChecks=0,clearArray(d.eleCaches),d.context.setTransform(1,0,0,1,0,0),d.context.clearRect(0,0,d.width,d.height),removeFromArray(u,d),s.push(d),d}};ETCp.queueElement=function(e,t){var n=this,s=n.getElementQueue(),u=n.getElementKeyToQueue(),f=this.getKey(e),d=u[f];if(d)d.level=Math.max(d.level,t),d.eles.merge(e),d.reqs++,s.updateItem(d);else{var g={eles:e.spawn().merge(e),level:t,reqs:1,key:f};s.push(g),u[f]=g}};ETCp.dequeue=function(e){for(var t=this,n=t.getElementQueue(),s=t.getElementKeyToQueue(),u=[],f=t.lookup,d=0;d<maxDeqSize$1&&n.size()>0;d++){var g=n.pop(),v=g.key,S=g.eles[0],M=f.hasCache(S,g.level);if(s[v]=null,M)continue;u.push(g);var I=t.getBoundingBox(S);t.getElement(S,I,e,g.level,getTxrReasons.dequeue)}return u};ETCp.removeFromQueue=function(e){var t=this,n=t.getElementQueue(),s=t.getElementKeyToQueue(),u=this.getKey(e),f=s[u];f!=null&&(f.eles.length===1?(f.reqs=MAX_INT$1,n.updateItem(f),n.pop(),s[u]=null):f.eles.unmerge(e))};ETCp.onDequeue=function(e){this.onDequeues.push(e)};ETCp.offDequeue=function(e){removeFromArray(this.onDequeues,e)};ETCp.setupDequeueing=defs.setupDequeueing({deqRedrawThreshold:deqRedrawThreshold$1,deqCost:deqCost$1,deqAvgCost:deqAvgCost$1,deqNoDrawCost:deqNoDrawCost$1,deqFastCost:deqFastCost$1,deq:function(t,n,s){return t.dequeue(n,s)},onDeqd:function(t,n){for(var s=0;s<t.onDequeues.length;s++){var u=t.onDequeues[s];u(n)}},shouldRedraw:function(t,n,s,u){for(var f=0;f<n.length;f++)for(var d=n[f].eles,g=0;g<d.length;g++){var v=d[g].boundingBox();if(boundingBoxesIntersect(v,u))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var defNumLayers=1,minLvl=-4,maxLvl=2,maxZoom=3.99,deqRedrawThreshold=50,refineEleDebounceTime=50,deqCost=.15,deqAvgCost=.1,deqNoDrawCost=.9,deqFastCost=.9,maxDeqSize=1,invalidThreshold=250,maxLayerArea=4e3*4e3,useHighQualityEleTxrReqs=!0,LayeredTextureCache=function(t){var n=this,s=n.renderer=t,u=s.cy;n.layersByLevel={},n.firstGet=!0,n.lastInvalidationTime=performanceNow()-2*invalidThreshold,n.skipping=!1,n.eleTxrDeqs=u.collection(),n.scheduleElementRefinement=debounce__default.default(function(){n.refineElementTextures(n.eleTxrDeqs),n.eleTxrDeqs.unmerge(n.eleTxrDeqs)},refineEleDebounceTime),s.beforeRender(function(d,g){g-n.lastInvalidationTime<=invalidThreshold?n.skipping=!0:n.skipping=!1},s.beforeRenderPriorities.lyrTxrSkip);var f=function(g,v){return v.reqs-g.reqs};n.layersQueue=new Heap__default.default(f),n.setupDequeueing()},LTCp=LayeredTextureCache.prototype,layerIdPool=0,MAX_INT=Math.pow(2,53)-1;LTCp.makeLayer=function(e,t){var n=Math.pow(2,t),s=Math.ceil(e.w*n),u=Math.ceil(e.h*n),f=this.renderer.makeOffscreenCanvas(s,u),d={id:layerIdPool=++layerIdPool%MAX_INT,bb:e,level:t,width:s,height:u,canvas:f,context:f.getContext("2d"),eles:[],elesQueue:[],reqs:0},g=d.context,v=-d.bb.x1,S=-d.bb.y1;return g.scale(n,n),g.translate(v,S),d};LTCp.getLayers=function(e,t,n){var s=this,u=s.renderer,f=u.cy,d=f.zoom(),g=s.firstGet;if(s.firstGet=!1,n==null){if(n=Math.ceil(log2(d*t)),n<minLvl)n=minLvl;else if(d>=maxZoom||n>maxLvl)return null}s.validateLayersElesOrdering(n,e);var v=s.layersByLevel,S=Math.pow(2,n),M=v[n]=v[n]||[],I,P=s.levelIsComplete(n,e),N,F=function(){var de=function(Ae){if(s.validateLayersElesOrdering(Ae,e),s.levelIsComplete(Ae,e))return N=v[Ae],!0},ge=function(Ae){if(!N)for(var Te=n+Ae;minLvl<=Te&&Te<=maxLvl&&!de(Te);Te+=Ae);};ge(1),ge(-1);for(var ve=M.length-1;ve>=0;ve--){var me=M[ve];me.invalid&&removeFromArray(M,me)}};if(!P)F();else return M;var j=function(){if(!I){I=makeBoundingBox();for(var de=0;de<e.length;de++)updateBoundingBox(I,e[de].boundingBox())}return I},U=function(de){de=de||{};var ge=de.after;j();var ve=I.w*S*(I.h*S);if(ve>maxLayerArea)return null;var me=s.makeLayer(I,n);if(ge!=null){var ye=M.indexOf(ge)+1;M.splice(ye,0,me)}else(de.insert===void 0||de.insert)&&M.unshift(me);return me};if(s.skipping&&!g)return null;for(var V=null,Z=e.length/defNumLayers,Q=!g,J=0;J<e.length;J++){var te=e[J],oe=te._private.rscratch,ue=oe.imgLayerCaches=oe.imgLayerCaches||{},se=ue[n];if(se){V=se;continue}if((!V||V.eles.length>=Z||!boundingBoxInBoundingBox(V.bb,te.boundingBox()))&&(V=U({insert:!0,after:V}),!V))return null;N||Q?s.queueLayer(V,te):s.drawEleInLayer(V,te,n,t),V.eles.push(te),ue[n]=V}return N||(Q?null:M)};LTCp.getEleLevelForLayerLevel=function(e,t){return e};LTCp.drawEleInLayer=function(e,t,n,s){var u=this,f=this.renderer,d=e.context,g=t.boundingBox();g.w===0||g.h===0||!t.visible()||(n=u.getEleLevelForLayerLevel(n,s),f.setImgSmoothing(d,!1),f.drawCachedElement(d,t,null,null,n,useHighQualityEleTxrReqs),f.setImgSmoothing(d,!0))};LTCp.levelIsComplete=function(e,t){var n=this,s=n.layersByLevel[e];if(!s||s.length===0)return!1;for(var u=0,f=0;f<s.length;f++){var d=s[f];if(d.reqs>0||d.invalid)return!1;u+=d.eles.length}return u===t.length};LTCp.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var s=0;s<n.length;s++){for(var u=n[s],f=-1,d=0;d<t.length;d++)if(u.eles[0]===t[d]){f=d;break}if(f<0){this.invalidateLayer(u);continue}for(var g=f,d=0;d<u.eles.length;d++)if(u.eles[d]!==t[g+d]){this.invalidateLayer(u);break}}};LTCp.updateElementsInLayers=function(e,t){for(var n=this,s=element(e[0]),u=0;u<e.length;u++)for(var f=s?null:e[u],d=s?e[u]:e[u].ele,g=d._private.rscratch,v=g.imgLayerCaches=g.imgLayerCaches||{},S=minLvl;S<=maxLvl;S++){var M=v[S];M&&(f&&n.getEleLevelForLayerLevel(M.level)!==f.level||t(M,d,f))}};LTCp.haveLayers=function(){for(var e=this,t=!1,n=minLvl;n<=maxLvl;n++){var s=e.layersByLevel[n];if(s&&s.length>0){t=!0;break}}return t};LTCp.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=performanceNow(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,function(s,u,f){t.invalidateLayer(s)}))};LTCp.invalidateLayer=function(e){if(this.lastInvalidationTime=performanceNow(),!e.invalid){var t=e.level,n=e.eles,s=this.layersByLevel[t];removeFromArray(s,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var u=0;u<n.length;u++){var f=n[u]._private.rscratch.imgLayerCaches;f&&(f[t]=null)}}};LTCp.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(s,u,f){var d=s.replacement;if(d||(d=s.replacement=t.makeLayer(s.bb,s.level),d.replaces=s,d.eles=s.eles),!d.reqs)for(var g=0;g<d.eles.length;g++)t.queueLayer(d,d.eles[g])})};LTCp.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()};LTCp.queueLayer=function(e,t){var n=this,s=n.layersQueue,u=e.elesQueue,f=u.hasId=u.hasId||{};if(!e.replacement){if(t){if(f[t.id()])return;u.push(t),f[t.id()]=!0}e.reqs?(e.reqs++,s.updateItem(e)):(e.reqs=1,s.push(e))}};LTCp.dequeue=function(e){for(var t=this,n=t.layersQueue,s=[],u=0;u<maxDeqSize&&n.size()!==0;){var f=n.peek();if(f.replacement){n.pop();continue}if(f.replaces&&f!==f.replaces.replacement){n.pop();continue}if(f.invalid){n.pop();continue}var d=f.elesQueue.shift();d&&(t.drawEleInLayer(f,d,f.level,e),u++),s.length===0&&s.push(!0),f.elesQueue.length===0&&(n.pop(),f.reqs=0,f.replaces&&t.applyLayerReplacement(f),t.requestRedraw())}return s};LTCp.applyLayerReplacement=function(e){var t=this,n=t.layersByLevel[e.level],s=e.replaces,u=n.indexOf(s);if(!(u<0||s.invalid)){n[u]=e;for(var f=0;f<e.eles.length;f++){var d=e.eles[f]._private,g=d.imgLayerCaches=d.imgLayerCaches||{};g&&(g[e.level]=e)}t.requestRedraw()}};LTCp.requestRedraw=debounce__default.default(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100);LTCp.setupDequeueing=defs.setupDequeueing({deqRedrawThreshold,deqCost,deqAvgCost,deqNoDrawCost,deqFastCost,deq:function(t,n){return t.dequeue(n)},onDeqd:noop$1,shouldRedraw:trueify,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var CRp$a={},impl;function polygon(e,t){for(var n=0;n<t.length;n++){var s=t[n];e.lineTo(s.x,s.y)}}function triangleBackcurve(e,t,n){for(var s,u=0;u<t.length;u++){var f=t[u];u===0&&(s=f),e.lineTo(f.x,f.y)}e.quadraticCurveTo(n.x,n.y,s.x,s.y)}function triangleTee(e,t,n){e.beginPath&&e.beginPath();for(var s=t,u=0;u<s.length;u++){var f=s[u];e.lineTo(f.x,f.y)}var d=n,g=n[0];e.moveTo(g.x,g.y);for(var u=1;u<d.length;u++){var f=d[u];e.lineTo(f.x,f.y)}e.closePath&&e.closePath()}function circleTriangle(e,t,n,s,u){e.beginPath&&e.beginPath(),e.arc(n,s,u,0,Math.PI*2,!1);var f=t,d=f[0];e.moveTo(d.x,d.y);for(var g=0;g<f.length;g++){var v=f[g];e.lineTo(v.x,v.y)}e.closePath&&e.closePath()}function circle$1(e,t,n,s){e.arc(t,n,s,0,Math.PI*2,!1)}CRp$a.arrowShapeImpl=function(e){return(impl||(impl={polygon,"triangle-backcurve":triangleBackcurve,"triangle-tee":triangleTee,"circle-triangle":circleTriangle,"triangle-cross":triangleTee,circle:circle$1}))[e]};var CRp$9={};CRp$9.drawElement=function(e,t,n,s,u,f){var d=this;t.isNode()?d.drawNode(e,t,n,s,u,f):d.drawEdge(e,t,n,s,u,f)};CRp$9.drawElementOverlay=function(e,t){var n=this;t.isNode()?n.drawNodeOverlay(e,t):n.drawEdgeOverlay(e,t)};CRp$9.drawElementUnderlay=function(e,t){var n=this;t.isNode()?n.drawNodeUnderlay(e,t):n.drawEdgeUnderlay(e,t)};CRp$9.drawCachedElementPortion=function(e,t,n,s,u,f,d,g){var v=this,S=n.getBoundingBox(t);if(!(S.w===0||S.h===0)){var M=n.getElement(t,S,s,u,f);if(M!=null){var I=g(v,t);if(I===0)return;var P=d(v,t),N=S.x1,F=S.y1,j=S.w,U=S.h,V,Z,Q,J,te;if(P!==0){var oe=n.getRotationPoint(t);Q=oe.x,J=oe.y,e.translate(Q,J),e.rotate(P),te=v.getImgSmoothing(e),te||v.setImgSmoothing(e,!0);var ue=n.getRotationOffset(t);V=ue.x,Z=ue.y}else V=N,Z=F;var se;I!==1&&(se=e.globalAlpha,e.globalAlpha=se*I),e.drawImage(M.texture.canvas,M.x,0,M.width,M.height,V,Z,j,U),I!==1&&(e.globalAlpha=se),P!==0&&(e.rotate(-P),e.translate(-Q,-J),te||v.setImgSmoothing(e,!1))}else n.drawElement(e,t)}};var getZeroRotation=function(){return 0},getLabelRotation=function(t,n){return t.getTextAngle(n,null)},getSourceLabelRotation=function(t,n){return t.getTextAngle(n,"source")},getTargetLabelRotation=function(t,n){return t.getTextAngle(n,"target")},getOpacity=function(t,n){return n.effectiveOpacity()},getTextOpacity=function(t,n){return n.pstyle("text-opacity").pfValue*n.effectiveOpacity()};CRp$9.drawCachedElement=function(e,t,n,s,u,f){var d=this,g=d.data,v=g.eleTxrCache,S=g.lblTxrCache,M=g.slbTxrCache,I=g.tlbTxrCache,P=t.boundingBox(),N=f===!0?v.reasons.highQuality:null;if(!(P.w===0||P.h===0||!t.visible())&&(!s||boundingBoxesIntersect(P,s))){var F=t.isEdge(),j=t.element()._private.rscratch.badLine;d.drawElementUnderlay(e,t),d.drawCachedElementPortion(e,t,v,n,u,N,getZeroRotation,getOpacity),(!F||!j)&&d.drawCachedElementPortion(e,t,S,n,u,N,getLabelRotation,getTextOpacity),F&&!j&&(d.drawCachedElementPortion(e,t,M,n,u,N,getSourceLabelRotation,getTextOpacity),d.drawCachedElementPortion(e,t,I,n,u,N,getTargetLabelRotation,getTextOpacity)),d.drawElementOverlay(e,t)}};CRp$9.drawElements=function(e,t){for(var n=this,s=0;s<t.length;s++){var u=t[s];n.drawElement(e,u)}};CRp$9.drawCachedElements=function(e,t,n,s){for(var u=this,f=0;f<t.length;f++){var d=t[f];u.drawCachedElement(e,d,n,s)}};CRp$9.drawCachedNodes=function(e,t,n,s){for(var u=this,f=0;f<t.length;f++){var d=t[f];d.isNode()&&u.drawCachedElement(e,d,n,s)}};CRp$9.drawLayeredElements=function(e,t,n,s){var u=this,f=u.data.lyrTxrCache.getLayers(t,n);if(f)for(var d=0;d<f.length;d++){var g=f[d],v=g.bb;v.w===0||v.h===0||e.drawImage(g.canvas,v.x1,v.y1,v.w,v.h)}else u.drawCachedElements(e,t,n,s)};var CRp$8={};CRp$8.drawEdge=function(e,t,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,d=this,g=t._private.rscratch;if(!(f&&!t.visible())&&!(g.badLine||g.allpts==null||isNaN(g.allpts[0]))){var v;n&&(v=n,e.translate(-v.x1,-v.y1));var S=f?t.pstyle("opacity").value:1,M=f?t.pstyle("line-opacity").value:1,I=t.pstyle("curve-style").value,P=t.pstyle("line-style").value,N=t.pstyle("width").pfValue,F=t.pstyle("line-cap").value,j=S*M,U=S*M,V=function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j;I==="straight-triangle"?(d.eleStrokeStyle(e,t,ve),d.drawEdgeTrianglePath(t,e,g.allpts)):(e.lineWidth=N,e.lineCap=F,d.eleStrokeStyle(e,t,ve),d.drawEdgePath(t,e,g.allpts,P),e.lineCap="butt")},Z=function(){u&&d.drawEdgeOverlay(e,t)},Q=function(){u&&d.drawEdgeUnderlay(e,t)},J=function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U;d.drawArrowheads(e,t,ve)},te=function(){d.drawElementText(e,t,null,s)};e.lineJoin="round";var oe=t.pstyle("ghost").value==="yes";if(oe){var ue=t.pstyle("ghost-offset-x").pfValue,se=t.pstyle("ghost-offset-y").pfValue,le=t.pstyle("ghost-opacity").value,de=j*le;e.translate(ue,se),V(de),J(de),e.translate(-ue,-se)}Q(),V(),J(),Z(),te(),n&&e.translate(v.x1,v.y1)}};var drawEdgeOverlayUnderlay=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(n,s){if(s.visible()){var u=s.pstyle("".concat(t,"-opacity")).value;if(u!==0){var f=this,d=f.usePaths(),g=s._private.rscratch,v=s.pstyle("".concat(t,"-padding")).pfValue,S=2*v,M=s.pstyle("".concat(t,"-color")).value;n.lineWidth=S,g.edgeType==="self"&&!d?n.lineCap="butt":n.lineCap="round",f.colorStrokeStyle(n,M[0],M[1],M[2],u),f.drawEdgePath(s,n,g.allpts,"solid")}}}};CRp$8.drawEdgeOverlay=drawEdgeOverlayUnderlay("overlay");CRp$8.drawEdgeUnderlay=drawEdgeOverlayUnderlay("underlay");CRp$8.drawEdgePath=function(e,t,n,s){var u=e._private.rscratch,f=t,d,g=!1,v=this.usePaths(),S=e.pstyle("line-dash-pattern").pfValue,M=e.pstyle("line-dash-offset").pfValue;if(v){var I=n.join("$"),P=u.pathCacheKey&&u.pathCacheKey===I;P?(d=t=u.pathCache,g=!0):(d=t=new Path2D,u.pathCacheKey=I,u.pathCache=d)}if(f.setLineDash)switch(s){case"dotted":f.setLineDash([1,1]);break;case"dashed":f.setLineDash(S),f.lineDashOffset=M;break;case"solid":f.setLineDash([]);break}if(!g&&!u.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),u.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var N=2;N+3<n.length;N+=4)t.quadraticCurveTo(n[N],n[N+1],n[N+2],n[N+3]);break;case"straight":case"segments":case"haystack":for(var F=2;F+1<n.length;F+=2)t.lineTo(n[F],n[F+1]);break}t=f,v?t.stroke(d):t.stroke(),t.setLineDash&&t.setLineDash([])};CRp$8.drawEdgeTrianglePath=function(e,t,n){t.fillStyle=t.strokeStyle;for(var s=e.pstyle("width").pfValue,u=0;u+1<n.length;u+=2){var f=[n[u+2]-n[u],n[u+3]-n[u+1]],d=Math.sqrt(f[0]*f[0]+f[1]*f[1]),g=[f[1]/d,-f[0]/d],v=[g[0]*s/2,g[1]*s/2];t.beginPath(),t.moveTo(n[u]-v[0],n[u+1]-v[1]),t.lineTo(n[u]+v[0],n[u+1]+v[1]),t.lineTo(n[u+2],n[u+3]),t.closePath(),t.fill()}};CRp$8.drawArrowheads=function(e,t,n){var s=t._private.rscratch,u=s.edgeType==="haystack";u||this.drawArrowhead(e,t,"source",s.arrowStartX,s.arrowStartY,s.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",s.midX,s.midY,s.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",s.midX,s.midY,s.midsrcArrowAngle,n),u||this.drawArrowhead(e,t,"target",s.arrowEndX,s.arrowEndY,s.tgtArrowAngle,n)};CRp$8.drawArrowhead=function(e,t,n,s,u,f,d){if(!(isNaN(s)||s==null||isNaN(u)||u==null||isNaN(f)||f==null)){var g=this,v=t.pstyle(n+"-arrow-shape").value;if(v!=="none"){var S=t.pstyle(n+"-arrow-fill").value==="hollow"?"both":"filled",M=t.pstyle(n+"-arrow-fill").value,I=t.pstyle("width").pfValue,P=t.pstyle("opacity").value;d===void 0&&(d=P);var N=e.globalCompositeOperation;(d!==1||M==="hollow")&&(e.globalCompositeOperation="destination-out",g.colorFillStyle(e,255,255,255,1),g.colorStrokeStyle(e,255,255,255,1),g.drawArrowShape(t,e,S,I,v,s,u,f),e.globalCompositeOperation=N);var F=t.pstyle(n+"-arrow-color").value;g.colorFillStyle(e,F[0],F[1],F[2],d),g.colorStrokeStyle(e,F[0],F[1],F[2],d),g.drawArrowShape(t,e,M,I,v,s,u,f)}}};CRp$8.drawArrowShape=function(e,t,n,s,u,f,d,g){var v=this,S=this.usePaths()&&u!=="triangle-cross",M=!1,I,P=t,N={x:f,y:d},F=e.pstyle("arrow-scale").value,j=this.getArrowWidth(s,F),U=v.arrowShapes[u];if(S){var V=v.arrowPathCache=v.arrowPathCache||[],Z=hashString(u),Q=V[Z];Q!=null?(I=t=Q,M=!0):(I=t=new Path2D,V[Z]=I)}M||(t.beginPath&&t.beginPath(),S?U.draw(t,1,0,{x:0,y:0},1):U.draw(t,j,g,N,s),t.closePath&&t.closePath()),t=P,S&&(t.translate(f,d),t.rotate(g),t.scale(j,j)),(n==="filled"||n==="both")&&(S?t.fill(I):t.fill()),(n==="hollow"||n==="both")&&(t.lineWidth=(U.matchEdgeWidth?s:1)/(S?j:1),t.lineJoin="miter",S?t.stroke(I):t.stroke()),S&&(t.scale(1/j,1/j),t.rotate(-g),t.translate(-f,-d))};var CRp$7={};CRp$7.safeDrawImage=function(e,t,n,s,u,f,d,g,v,S){if(!(u<=0||f<=0||v<=0||S<=0))try{e.drawImage(t,n,s,u,f,d,g,v,S)}catch(M){warn(M)}};CRp$7.drawInscribedImage=function(e,t,n,s,u){var f=this,d=n.position(),g=d.x,v=d.y,S=n.cy().style(),M=S.getIndexedStyle.bind(S),I=M(n,"background-fit","value",s),P=M(n,"background-repeat","value",s),N=n.width(),F=n.height(),j=n.padding()*2,U=N+(M(n,"background-width-relative-to","value",s)==="inner"?0:j),V=F+(M(n,"background-height-relative-to","value",s)==="inner"?0:j),Z=n._private.rscratch,Q=M(n,"background-clip","value",s),J=Q==="node",te=M(n,"background-image-opacity","value",s)*u,oe=M(n,"background-image-smoothing","value",s),ue=t.width||t.cachedW,se=t.height||t.cachedH;(ue==null||se==null)&&(document.body.appendChild(t),ue=t.cachedW=t.width||t.offsetWidth,se=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var le=ue,de=se;if(M(n,"background-width","value",s)!=="auto"&&(M(n,"background-width","units",s)==="%"?le=M(n,"background-width","pfValue",s)*U:le=M(n,"background-width","pfValue",s)),M(n,"background-height","value",s)!=="auto"&&(M(n,"background-height","units",s)==="%"?de=M(n,"background-height","pfValue",s)*V:de=M(n,"background-height","pfValue",s)),!(le===0||de===0)){if(I==="contain"){var ge=Math.min(U/le,V/de);le*=ge,de*=ge}else if(I==="cover"){var ge=Math.max(U/le,V/de);le*=ge,de*=ge}var ve=g-U/2,me=M(n,"background-position-x","units",s),ye=M(n,"background-position-x","pfValue",s);me==="%"?ve+=(U-le)*ye:ve+=ye;var Ae=M(n,"background-offset-x","units",s),Te=M(n,"background-offset-x","pfValue",s);Ae==="%"?ve+=(U-le)*Te:ve+=Te;var Oe=v-V/2,Ie=M(n,"background-position-y","units",s),Be=M(n,"background-position-y","pfValue",s);Ie==="%"?Oe+=(V-de)*Be:Oe+=Be;var De=M(n,"background-offset-y","units",s),Pe=M(n,"background-offset-y","pfValue",s);De==="%"?Oe+=(V-de)*Pe:Oe+=Pe,Z.pathCache&&(ve-=g,Oe-=v,g=0,v=0);var Ne=e.globalAlpha;e.globalAlpha=te;var He=f.getImgSmoothing(e),je=!1;if(oe==="no"&&He?(f.setImgSmoothing(e,!1),je=!0):oe==="yes"&&!He&&(f.setImgSmoothing(e,!0),je=!0),P==="no-repeat")J&&(e.save(),Z.pathCache?e.clip(Z.pathCache):(f.nodeShapes[f.getNodeShape(n)].draw(e,g,v,U,V),e.clip())),f.safeDrawImage(e,t,0,0,ue,se,ve,Oe,le,de),J&&e.restore();else{var ze=e.createPattern(t,P);e.fillStyle=ze,f.nodeShapes[f.getNodeShape(n)].draw(e,g,v,U,V),e.translate(ve,Oe),e.fill(),e.translate(-ve,-Oe)}e.globalAlpha=Ne,je&&f.setImgSmoothing(e,He)}};var CRp$6={};CRp$6.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),s=this.getPixelRatio(),u=Math.ceil(log2(n*s));t=Math.pow(2,u)}var f=e.pstyle("font-size").pfValue*t,d=e.pstyle("min-zoomed-font-size").pfValue;return!(f<d)};CRp$6.drawElementText=function(e,t,n,s,u){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,d=this;if(s==null){if(f&&!d.eleTextBiggerThanMin(t))return}else if(s===!1)return;if(t.isNode()){var g=t.pstyle("label");if(!g||!g.value)return;var v=d.getLabelJustification(t);e.textAlign=v,e.textBaseline="bottom"}else{var S=t.element()._private.rscratch.badLine,M=t.pstyle("label"),I=t.pstyle("source-label"),P=t.pstyle("target-label");if(S||(!M||!M.value)&&(!I||!I.value)&&(!P||!P.value))return;e.textAlign="center",e.textBaseline="bottom"}var N=!n,F;n&&(F=n,e.translate(-F.x1,-F.y1)),u==null?(d.drawText(e,t,null,N,f),t.isEdge()&&(d.drawText(e,t,"source",N,f),d.drawText(e,t,"target",N,f))):d.drawText(e,t,u,N,f),n&&e.translate(F.x1,F.y1)};CRp$6.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if(t=this.fontCaches[n],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t};CRp$6.setupTextStyle=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=t.pstyle("font-style").strValue,u=t.pstyle("font-size").pfValue+"px",f=t.pstyle("font-family").strValue,d=t.pstyle("font-weight").strValue,g=n?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,v=t.pstyle("text-outline-opacity").value*g,S=t.pstyle("color").value,M=t.pstyle("text-outline-color").value;e.font=s+" "+d+" "+u+" "+f,e.lineJoin="round",this.colorFillStyle(e,S[0],S[1],S[2],g),this.colorStrokeStyle(e,M[0],M[1],M[2],v)};function roundRect(e,t,n,s,u){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5;e.beginPath(),e.moveTo(t+f,n),e.lineTo(t+s-f,n),e.quadraticCurveTo(t+s,n,t+s,n+f),e.lineTo(t+s,n+u-f),e.quadraticCurveTo(t+s,n+u,t+s-f,n+u),e.lineTo(t+f,n+u),e.quadraticCurveTo(t,n+u,t,n+u-f),e.lineTo(t,n+f),e.quadraticCurveTo(t,n,t+f,n),e.closePath(),e.fill()}CRp$6.getTextAngle=function(e,t){var n,s=e._private,u=s.rscratch,f=t?t+"-":"",d=e.pstyle(f+"text-rotation"),g=getPrefixedProperty(u,"labelAngle",t);return d.strValue==="autorotate"?n=e.isEdge()?g:0:d.strValue==="none"?n=0:n=d.pfValue,n};CRp$6.drawText=function(e,t,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,f=t._private,d=f.rscratch,g=u?t.effectiveOpacity():1;if(!(u&&(g===0||t.pstyle("text-opacity").value===0))){n==="main"&&(n=null);var v=getPrefixedProperty(d,"labelX",n),S=getPrefixedProperty(d,"labelY",n),M,I,P=this.getLabelText(t,n);if(P!=null&&P!==""&&!isNaN(v)&&!isNaN(S)){this.setupTextStyle(e,t,u);var N=n?n+"-":"",F=getPrefixedProperty(d,"labelWidth",n),j=getPrefixedProperty(d,"labelHeight",n),U=t.pstyle(N+"text-margin-x").pfValue,V=t.pstyle(N+"text-margin-y").pfValue,Z=t.isEdge(),Q=t.pstyle("text-halign").value,J=t.pstyle("text-valign").value;Z&&(Q="center",J="center"),v+=U,S+=V;var te;switch(s?te=this.getTextAngle(t,n):te=0,te!==0&&(M=v,I=S,e.translate(M,I),e.rotate(te),v=0,S=0),J){case"top":break;case"center":S+=j/2;break;case"bottom":S+=j;break}var oe=t.pstyle("text-background-opacity").value,ue=t.pstyle("text-border-opacity").value,se=t.pstyle("text-border-width").pfValue,le=t.pstyle("text-background-padding").pfValue;if(oe>0||se>0&&ue>0){var de=v-le;switch(Q){case"left":de-=F;break;case"center":de-=F/2;break}var ge=S-j-le,ve=F+2*le,me=j+2*le;if(oe>0){var ye=e.fillStyle,Ae=t.pstyle("text-background-color").value;e.fillStyle="rgba("+Ae[0]+","+Ae[1]+","+Ae[2]+","+oe*g+")";var Te=t.pstyle("text-background-shape").strValue;Te.indexOf("round")===0?roundRect(e,de,ge,ve,me,2):e.fillRect(de,ge,ve,me),e.fillStyle=ye}if(se>0&&ue>0){var Oe=e.strokeStyle,Ie=e.lineWidth,Be=t.pstyle("text-border-color").value,De=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+Be[0]+","+Be[1]+","+Be[2]+","+ue*g+")",e.lineWidth=se,e.setLineDash)switch(De){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=se/4,e.setLineDash([]);break;case"solid":e.setLineDash([]);break}if(e.strokeRect(de,ge,ve,me),De==="double"){var Pe=se/2;e.strokeRect(de+Pe,ge+Pe,ve-Pe*2,me-Pe*2)}e.setLineDash&&e.setLineDash([]),e.lineWidth=Ie,e.strokeStyle=Oe}}var Ne=2*t.pstyle("text-outline-width").pfValue;if(Ne>0&&(e.lineWidth=Ne),t.pstyle("text-wrap").value==="wrap"){var He=getPrefixedProperty(d,"labelWrapCachedLines",n),je=getPrefixedProperty(d,"labelLineHeight",n),ze=F/2,Ve=this.getLabelJustification(t);switch(Ve==="auto"||(Q==="left"?Ve==="left"?v+=-F:Ve==="center"&&(v+=-ze):Q==="center"?Ve==="left"?v+=-ze:Ve==="right"&&(v+=ze):Q==="right"&&(Ve==="center"?v+=ze:Ve==="right"&&(v+=F))),J){case"top":S-=(He.length-1)*je;break;case"center":case"bottom":S-=(He.length-1)*je;break}for(var Ye=0;Ye<He.length;Ye++)Ne>0&&e.strokeText(He[Ye],v,S),e.fillText(He[Ye],v,S),S+=je}else Ne>0&&e.strokeText(P,v,S),e.fillText(P,v,S);te!==0&&(e.rotate(-te),e.translate(-M,-I))}}};var CRp$5={};CRp$5.drawNode=function(e,t,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,d=this,g,v,S=t._private,M=S.rscratch,I=t.position();if(!(!number$1(I.x)||!number$1(I.y))&&!(f&&!t.visible())){var P=f?t.effectiveOpacity():1,N=d.usePaths(),F,j=!1,U=t.padding();g=t.width()+2*U,v=t.height()+2*U;var V;n&&(V=n,e.translate(-V.x1,-V.y1));for(var Z=t.pstyle("background-image"),Q=Z.value,J=new Array(Q.length),te=new Array(Q.length),oe=0,ue=0;ue<Q.length;ue++){var se=Q[ue],le=J[ue]=se!=null&&se!=="none";if(le){var de=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",ue);oe++,te[ue]=d.getCachedImage(se,de,function(){S.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var ge=t.pstyle("background-blacken").value,ve=t.pstyle("border-width").pfValue,me=t.pstyle("background-opacity").value*P,ye=t.pstyle("border-color").value,Ae=t.pstyle("border-style").value,Te=t.pstyle("border-opacity").value*P;e.lineJoin="miter";var Oe=function(){var _t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:me;d.eleFillStyle(e,t,_t)},Ie=function(){var _t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Te;d.colorStrokeStyle(e,ye[0],ye[1],ye[2],_t)},Be=t.pstyle("shape").strValue,De=t.pstyle("shape-polygon-points").pfValue;if(N){e.translate(I.x,I.y);var Pe=d.nodePathCache=d.nodePathCache||[],Ne=hashStrings(Be==="polygon"?Be+","+De.join(","):Be,""+v,""+g),He=Pe[Ne];He!=null?(F=He,j=!0,M.pathCache=F):(F=new Path2D,Pe[Ne]=M.pathCache=F)}var je=function(){if(!j){var _t=I;N&&(_t={x:0,y:0}),d.nodeShapes[d.getNodeShape(t)].draw(F||e,_t.x,_t.y,g,v)}N?e.fill(F):e.fill()},ze=function(){for(var _t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:P,Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,mn=S.backgrounding,dn=0,Zt=0;Zt<te.length;Zt++){var Mt=t.cy().style().getIndexedStyle(t,"background-image-containment","value",Zt);if(Bt&&Mt==="over"||!Bt&&Mt==="inside"){dn++;continue}J[Zt]&&te[Zt].complete&&!te[Zt].error&&(dn++,d.drawInscribedImage(e,te[Zt],t,Zt,_t))}S.backgrounding=dn!==oe,mn!==S.backgrounding&&t.updateStyle(!1)},Ve=function(){var _t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P;d.hasPie(t)&&(d.drawPie(e,t,Bt),_t&&(N||d.nodeShapes[d.getNodeShape(t)].draw(e,I.x,I.y,g,v)))},Ye=function(){var _t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:P,Bt=(ge>0?ge:-ge)*_t,mn=ge>0?0:255;ge!==0&&(d.colorFillStyle(e,mn,mn,mn,Bt),N?e.fill(F):e.fill())},nt=function(){if(ve>0){if(e.lineWidth=ve,e.lineCap="butt",e.setLineDash)switch(Ae){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}if(N?e.stroke(F):e.stroke(),Ae==="double"){e.lineWidth=ve/3;var _t=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",N?e.stroke(F):e.stroke(),e.globalCompositeOperation=_t}e.setLineDash&&e.setLineDash([])}},Fe=function(){u&&d.drawNodeOverlay(e,t,I,g,v)},Qe=function(){u&&d.drawNodeUnderlay(e,t,I,g,v)},it=function(){d.drawElementText(e,t,null,s)},at=t.pstyle("ghost").value==="yes";if(at){var wt=t.pstyle("ghost-offset-x").pfValue,st=t.pstyle("ghost-offset-y").pfValue,ft=t.pstyle("ghost-opacity").value,Dt=ft*P;e.translate(wt,st),Oe(ft*me),je(),ze(Dt,!0),Ie(ft*Te),nt(),Ve(ge!==0||ve!==0),ze(Dt,!1),Ye(Dt),e.translate(-wt,-st)}N&&e.translate(-I.x,-I.y),Qe(),N&&e.translate(I.x,I.y),Oe(),je(),ze(P,!0),Ie(),nt(),Ve(ge!==0||ve!==0),ze(P,!1),Ye(),N&&e.translate(-I.x,-I.y),it(),Fe(),n&&e.translate(V.x1,V.y1)}};var drawNodeOverlayUnderlay=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(n,s,u,f,d){var g=this;if(s.visible()){var v=s.pstyle("".concat(t,"-padding")).pfValue,S=s.pstyle("".concat(t,"-opacity")).value,M=s.pstyle("".concat(t,"-color")).value,I=s.pstyle("".concat(t,"-shape")).value;if(S>0){if(u=u||s.position(),f==null||d==null){var P=s.padding();f=s.width()+2*P,d=s.height()+2*P}g.colorFillStyle(n,M[0],M[1],M[2],S),g.nodeShapes[I].draw(n,u.x,u.y,f+v*2,d+v*2),n.fill()}}}};CRp$5.drawNodeOverlay=drawNodeOverlayUnderlay("overlay");CRp$5.drawNodeUnderlay=drawNodeOverlayUnderlay("underlay");CRp$5.hasPie=function(e){return e=e[0],e._private.hasPie};CRp$5.drawPie=function(e,t,n,s){t=t[0],s=s||t.position();var u=t.cy().style(),f=t.pstyle("pie-size"),d=s.x,g=s.y,v=t.width(),S=t.height(),M=Math.min(v,S)/2,I=0,P=this.usePaths();P&&(d=0,g=0),f.units==="%"?M=M*f.pfValue:f.pfValue!==void 0&&(M=f.pfValue/2);for(var N=1;N<=u.pieBackgroundN;N++){var F=t.pstyle("pie-"+N+"-background-size").value,j=t.pstyle("pie-"+N+"-background-color").value,U=t.pstyle("pie-"+N+"-background-opacity").value*n,V=F/100;V+I>1&&(V=1-I);var Z=1.5*Math.PI+2*Math.PI*I,Q=2*Math.PI*V,J=Z+Q;F===0||I>=1||I+V>1||(e.beginPath(),e.moveTo(d,g),e.arc(d,g,M,Z,J),e.closePath(),this.colorFillStyle(e,j[0],j[1],j[2],U),e.fill(),I+=V)}};var CRp$4={},motionBlurDelay=100;CRp$4.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t};CRp$4.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],n=!0,s,u=0;u<t.length;u++)if(s=t[u],s.context===e){n=!1;break}return n&&(s={context:e},t.push(s)),s};CRp$4.createGradientStyleFor=function(e,t,n,s,u){var f,d=this.usePaths(),g=n.pstyle(t+"-gradient-stop-colors").value,v=n.pstyle(t+"-gradient-stop-positions").pfValue;if(s==="radial-gradient")if(n.isEdge()){var S=n.sourceEndpoint(),M=n.targetEndpoint(),I=n.midpoint(),P=dist(S,I),N=dist(M,I);f=e.createRadialGradient(I.x,I.y,0,I.x,I.y,Math.max(P,N))}else{var F=d?{x:0,y:0}:n.position(),j=n.paddedWidth(),U=n.paddedHeight();f=e.createRadialGradient(F.x,F.y,0,F.x,F.y,Math.max(j,U))}else if(n.isEdge()){var V=n.sourceEndpoint(),Z=n.targetEndpoint();f=e.createLinearGradient(V.x,V.y,Z.x,Z.y)}else{var Q=d?{x:0,y:0}:n.position(),J=n.paddedWidth(),te=n.paddedHeight(),oe=J/2,ue=te/2,se=n.pstyle("background-gradient-direction").value;switch(se){case"to-bottom":f=e.createLinearGradient(Q.x,Q.y-ue,Q.x,Q.y+ue);break;case"to-top":f=e.createLinearGradient(Q.x,Q.y+ue,Q.x,Q.y-ue);break;case"to-left":f=e.createLinearGradient(Q.x+oe,Q.y,Q.x-oe,Q.y);break;case"to-right":f=e.createLinearGradient(Q.x-oe,Q.y,Q.x+oe,Q.y);break;case"to-bottom-right":case"to-right-bottom":f=e.createLinearGradient(Q.x-oe,Q.y-ue,Q.x+oe,Q.y+ue);break;case"to-top-right":case"to-right-top":f=e.createLinearGradient(Q.x-oe,Q.y+ue,Q.x+oe,Q.y-ue);break;case"to-bottom-left":case"to-left-bottom":f=e.createLinearGradient(Q.x+oe,Q.y-ue,Q.x-oe,Q.y+ue);break;case"to-top-left":case"to-left-top":f=e.createLinearGradient(Q.x+oe,Q.y+ue,Q.x-oe,Q.y-ue);break}}if(!f)return null;for(var le=v.length===g.length,de=g.length,ge=0;ge<de;ge++)f.addColorStop(le?v[ge]:ge/(de-1),"rgba("+g[ge][0]+","+g[ge][1]+","+g[ge][2]+","+u+")");return f};CRp$4.gradientFillStyle=function(e,t,n,s){var u=this.createGradientStyleFor(e,"background",t,n,s);if(!u)return null;e.fillStyle=u};CRp$4.colorFillStyle=function(e,t,n,s,u){e.fillStyle="rgba("+t+","+n+","+s+","+u+")"};CRp$4.eleFillStyle=function(e,t,n){var s=t.pstyle("background-fill").value;if(s==="linear-gradient"||s==="radial-gradient")this.gradientFillStyle(e,t,s,n);else{var u=t.pstyle("background-color").value;this.colorFillStyle(e,u[0],u[1],u[2],n)}};CRp$4.gradientStrokeStyle=function(e,t,n,s){var u=this.createGradientStyleFor(e,"line",t,n,s);if(!u)return null;e.strokeStyle=u};CRp$4.colorStrokeStyle=function(e,t,n,s,u){e.strokeStyle="rgba("+t+","+n+","+s+","+u+")"};CRp$4.eleStrokeStyle=function(e,t,n){var s=t.pstyle("line-fill").value;if(s==="linear-gradient"||s==="radial-gradient")this.gradientStrokeStyle(e,t,s,n);else{var u=t.pstyle("line-color").value;this.colorStrokeStyle(e,u[0],u[1],u[2],n)}};CRp$4.matchCanvasSize=function(e){var t=this,n=t.data,s=t.findContainerClientCoords(),u=s[2],f=s[3],d=t.getPixelRatio(),g=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(d=g);var v=u*d,S=f*d,M;if(!(v===t.canvasWidth&&S===t.canvasHeight)){t.fontCaches=null;var I=n.canvasContainer;I.style.width=u+"px",I.style.height=f+"px";for(var P=0;P<t.CANVAS_LAYERS;P++)M=n.canvases[P],M.width=v,M.height=S,M.style.width=u+"px",M.style.height=f+"px";for(var P=0;P<t.BUFFER_COUNT;P++)M=n.bufferCanvases[P],M.width=v,M.height=S,M.style.width=u+"px",M.style.height=f+"px";t.textureMult=1,d<=1&&(M=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,M.width=v*t.textureMult,M.height=S*t.textureMult),t.canvasWidth=v,t.canvasHeight=S}};CRp$4.renderTo=function(e,t,n,s){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:s})};CRp$4.render=function(e){e=e||staticEmptyObject();var t=e.forcedContext,n=e.drawAllLayers,s=e.drawOnlyNodeLayer,u=e.forcedZoom,f=e.forcedPan,d=this,g=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,v=d.cy,S=d.data,M=S.canvasNeedsRedraw,I=d.textureOnViewport&&!t&&(d.pinching||d.hoverData.dragging||d.swipePanning||d.data.wheelZooming),P=e.motionBlur!==void 0?e.motionBlur:d.motionBlur,N=d.motionBlurPxRatio,F=v.hasCompoundNodes(),j=d.hoverData.draggingEles,U=!!(d.hoverData.selecting||d.touchData.selecting);P=P&&!t&&d.motionBlurEnabled&&!U;var V=P;t||(d.prevPxRatio!==g&&(d.invalidateContainerClientCoordsCache(),d.matchCanvasSize(d.container),d.redrawHint("eles",!0),d.redrawHint("drag",!0)),d.prevPxRatio=g),!t&&d.motionBlurTimeout&&clearTimeout(d.motionBlurTimeout),P&&(d.mbFrames==null&&(d.mbFrames=0),d.mbFrames++,d.mbFrames<3&&(V=!1),d.mbFrames>d.minMbLowQualFrames&&(d.motionBlurPxRatio=d.mbPxRBlurry)),d.clearingMotionBlur&&(d.motionBlurPxRatio=1),d.textureDrawLastFrame&&!I&&(M[d.NODE]=!0,M[d.SELECT_BOX]=!0);var Z=v.style(),Q=v.zoom(),J=u!==void 0?u:Q,te=v.pan(),oe={x:te.x,y:te.y},ue={zoom:Q,pan:{x:te.x,y:te.y}},se=d.prevViewport,le=se===void 0||ue.zoom!==se.zoom||ue.pan.x!==se.pan.x||ue.pan.y!==se.pan.y;!le&&!(j&&!F)&&(d.motionBlurPxRatio=1),f&&(oe=f),J*=g,oe.x*=g,oe.y*=g;var de=d.getCachedZSortedEles();function ge(st,ft,Dt,ut,_t){var Bt=st.globalCompositeOperation;st.globalCompositeOperation="destination-out",d.colorFillStyle(st,255,255,255,d.motionBlurTransparency),st.fillRect(ft,Dt,ut,_t),st.globalCompositeOperation=Bt}function ve(st,ft){var Dt,ut,_t,Bt;!d.clearingMotionBlur&&(st===S.bufferContexts[d.MOTIONBLUR_BUFFER_NODE]||st===S.bufferContexts[d.MOTIONBLUR_BUFFER_DRAG])?(Dt={x:te.x*N,y:te.y*N},ut=Q*N,_t=d.canvasWidth*N,Bt=d.canvasHeight*N):(Dt=oe,ut=J,_t=d.canvasWidth,Bt=d.canvasHeight),st.setTransform(1,0,0,1,0,0),ft==="motionBlur"?ge(st,0,0,_t,Bt):!t&&(ft===void 0||ft)&&st.clearRect(0,0,_t,Bt),n||(st.translate(Dt.x,Dt.y),st.scale(ut,ut)),f&&st.translate(f.x,f.y),u&&st.scale(u,u)}if(I||(d.textureDrawLastFrame=!1),I){if(d.textureDrawLastFrame=!0,!d.textureCache){d.textureCache={},d.textureCache.bb=v.mutableElements().boundingBox(),d.textureCache.texture=d.data.bufferCanvases[d.TEXTURE_BUFFER];var me=d.data.bufferContexts[d.TEXTURE_BUFFER];me.setTransform(1,0,0,1,0,0),me.clearRect(0,0,d.canvasWidth*d.textureMult,d.canvasHeight*d.textureMult),d.render({forcedContext:me,drawOnlyNodeLayer:!0,forcedPxRatio:g*d.textureMult});var ue=d.textureCache.viewport={zoom:v.zoom(),pan:v.pan(),width:d.canvasWidth,height:d.canvasHeight};ue.mpan={x:(0-ue.pan.x)/ue.zoom,y:(0-ue.pan.y)/ue.zoom}}M[d.DRAG]=!1,M[d.NODE]=!1;var ye=S.contexts[d.NODE],Ae=d.textureCache.texture,ue=d.textureCache.viewport;ye.setTransform(1,0,0,1,0,0),P?ge(ye,0,0,ue.width,ue.height):ye.clearRect(0,0,ue.width,ue.height);var Te=Z.core("outside-texture-bg-color").value,Oe=Z.core("outside-texture-bg-opacity").value;d.colorFillStyle(ye,Te[0],Te[1],Te[2],Oe),ye.fillRect(0,0,ue.width,ue.height);var Q=v.zoom();ve(ye,!1),ye.clearRect(ue.mpan.x,ue.mpan.y,ue.width/ue.zoom/g,ue.height/ue.zoom/g),ye.drawImage(Ae,ue.mpan.x,ue.mpan.y,ue.width/ue.zoom/g,ue.height/ue.zoom/g)}else d.textureOnViewport&&!t&&(d.textureCache=null);var Ie=v.extent(),Be=d.pinching||d.hoverData.dragging||d.swipePanning||d.data.wheelZooming||d.hoverData.draggingEles||d.cy.animated(),De=d.hideEdgesOnViewport&&Be,Pe=[];if(Pe[d.NODE]=!M[d.NODE]&&P&&!d.clearedForMotionBlur[d.NODE]||d.clearingMotionBlur,Pe[d.NODE]&&(d.clearedForMotionBlur[d.NODE]=!0),Pe[d.DRAG]=!M[d.DRAG]&&P&&!d.clearedForMotionBlur[d.DRAG]||d.clearingMotionBlur,Pe[d.DRAG]&&(d.clearedForMotionBlur[d.DRAG]=!0),M[d.NODE]||n||s||Pe[d.NODE]){var Ne=P&&!Pe[d.NODE]&&N!==1,ye=t||(Ne?d.data.bufferContexts[d.MOTIONBLUR_BUFFER_NODE]:S.contexts[d.NODE]),He=P&&!Ne?"motionBlur":void 0;ve(ye,He),De?d.drawCachedNodes(ye,de.nondrag,g,Ie):d.drawLayeredElements(ye,de.nondrag,g,Ie),d.debug&&d.drawDebugPoints(ye,de.nondrag),!n&&!P&&(M[d.NODE]=!1)}if(!s&&(M[d.DRAG]||n||Pe[d.DRAG])){var Ne=P&&!Pe[d.DRAG]&&N!==1,ye=t||(Ne?d.data.bufferContexts[d.MOTIONBLUR_BUFFER_DRAG]:S.contexts[d.DRAG]);ve(ye,P&&!Ne?"motionBlur":void 0),De?d.drawCachedNodes(ye,de.drag,g,Ie):d.drawCachedElements(ye,de.drag,g,Ie),d.debug&&d.drawDebugPoints(ye,de.drag),!n&&!P&&(M[d.DRAG]=!1)}if(d.showFps||!s&&M[d.SELECT_BOX]&&!n){var ye=t||S.contexts[d.SELECT_BOX];if(ve(ye),d.selection[4]==1&&(d.hoverData.selecting||d.touchData.selecting)){var Q=d.cy.zoom(),je=Z.core("selection-box-border-width").value/Q;ye.lineWidth=je,ye.fillStyle="rgba("+Z.core("selection-box-color").value[0]+","+Z.core("selection-box-color").value[1]+","+Z.core("selection-box-color").value[2]+","+Z.core("selection-box-opacity").value+")",ye.fillRect(d.selection[0],d.selection[1],d.selection[2]-d.selection[0],d.selection[3]-d.selection[1]),je>0&&(ye.strokeStyle="rgba("+Z.core("selection-box-border-color").value[0]+","+Z.core("selection-box-border-color").value[1]+","+Z.core("selection-box-border-color").value[2]+","+Z.core("selection-box-opacity").value+")",ye.strokeRect(d.selection[0],d.selection[1],d.selection[2]-d.selection[0],d.selection[3]-d.selection[1]))}if(S.bgActivePosistion&&!d.hoverData.selecting){var Q=d.cy.zoom(),ze=S.bgActivePosistion;ye.fillStyle="rgba("+Z.core("active-bg-color").value[0]+","+Z.core("active-bg-color").value[1]+","+Z.core("active-bg-color").value[2]+","+Z.core("active-bg-opacity").value+")",ye.beginPath(),ye.arc(ze.x,ze.y,Z.core("active-bg-size").pfValue/Q,0,2*Math.PI),ye.fill()}var Ve=d.lastRedrawTime;if(d.showFps&&Ve){Ve=Math.round(Ve);var Ye=Math.round(1e3/Ve);ye.setTransform(1,0,0,1,0,0),ye.fillStyle="rgba(255, 0, 0, 0.75)",ye.strokeStyle="rgba(255, 0, 0, 0.75)",ye.lineWidth=1,ye.fillText("1 frame = "+Ve+" ms = "+Ye+" fps",0,20);var nt=60;ye.strokeRect(0,30,250,20),ye.fillRect(0,30,250*Math.min(Ye/nt,1),20)}n||(M[d.SELECT_BOX]=!1)}if(P&&N!==1){var Fe=S.contexts[d.NODE],Qe=d.data.bufferCanvases[d.MOTIONBLUR_BUFFER_NODE],it=S.contexts[d.DRAG],at=d.data.bufferCanvases[d.MOTIONBLUR_BUFFER_DRAG],wt=function(ft,Dt,ut){ft.setTransform(1,0,0,1,0,0),ut||!V?ft.clearRect(0,0,d.canvasWidth,d.canvasHeight):ge(ft,0,0,d.canvasWidth,d.canvasHeight);var _t=N;ft.drawImage(Dt,0,0,d.canvasWidth*_t,d.canvasHeight*_t,0,0,d.canvasWidth,d.canvasHeight)};(M[d.NODE]||Pe[d.NODE])&&(wt(Fe,Qe,Pe[d.NODE]),M[d.NODE]=!1),(M[d.DRAG]||Pe[d.DRAG])&&(wt(it,at,Pe[d.DRAG]),M[d.DRAG]=!1)}d.prevViewport=ue,d.clearingMotionBlur&&(d.clearingMotionBlur=!1,d.motionBlurCleared=!0,d.motionBlur=!0),P&&(d.motionBlurTimeout=setTimeout(function(){d.motionBlurTimeout=null,d.clearedForMotionBlur[d.NODE]=!1,d.clearedForMotionBlur[d.DRAG]=!1,d.motionBlur=!1,d.clearingMotionBlur=!I,d.mbFrames=0,M[d.NODE]=!0,M[d.DRAG]=!0,d.redraw()},motionBlurDelay)),t||v.emit("render")};var CRp$3={};CRp$3.drawPolygonPath=function(e,t,n,s,u,f){var d=s/2,g=u/2;e.beginPath&&e.beginPath(),e.moveTo(t+d*f[0],n+g*f[1]);for(var v=1;v<f.length/2;v++)e.lineTo(t+d*f[v*2],n+g*f[v*2+1]);e.closePath()};CRp$3.drawRoundPolygonPath=function(e,t,n,s,u,f){var d=s/2,g=u/2,v=getRoundPolygonRadius(s,u);e.beginPath&&e.beginPath();for(var S=0;S<f.length/4;S++){var M=void 0,I=void 0;S===0?M=f.length-2:M=S*4-2,I=S*4+2;var P=t+d*f[S*4],N=n+g*f[S*4+1],F=-f[M]*f[I]-f[M+1]*f[I+1],j=v/Math.tan(Math.acos(F)/2),U=P-j*f[M],V=N-j*f[M+1],Z=P+j*f[I],Q=N+j*f[I+1];S===0?e.moveTo(U,V):e.lineTo(U,V),e.arcTo(P,N,Z,Q,v)}e.closePath()};CRp$3.drawRoundRectanglePath=function(e,t,n,s,u){var f=s/2,d=u/2,g=getRoundRectangleRadius(s,u);e.beginPath&&e.beginPath(),e.moveTo(t,n-d),e.arcTo(t+f,n-d,t+f,n,g),e.arcTo(t+f,n+d,t,n+d,g),e.arcTo(t-f,n+d,t-f,n,g),e.arcTo(t-f,n-d,t,n-d,g),e.lineTo(t,n-d),e.closePath()};CRp$3.drawBottomRoundRectanglePath=function(e,t,n,s,u){var f=s/2,d=u/2,g=getRoundRectangleRadius(s,u);e.beginPath&&e.beginPath(),e.moveTo(t,n-d),e.lineTo(t+f,n-d),e.lineTo(t+f,n),e.arcTo(t+f,n+d,t,n+d,g),e.arcTo(t-f,n+d,t-f,n,g),e.lineTo(t-f,n-d),e.lineTo(t,n-d),e.closePath()};CRp$3.drawCutRectanglePath=function(e,t,n,s,u){var f=s/2,d=u/2,g=getCutRectangleCornerLength();e.beginPath&&e.beginPath(),e.moveTo(t-f+g,n-d),e.lineTo(t+f-g,n-d),e.lineTo(t+f,n-d+g),e.lineTo(t+f,n+d-g),e.lineTo(t+f-g,n+d),e.lineTo(t-f+g,n+d),e.lineTo(t-f,n+d-g),e.lineTo(t-f,n-d+g),e.closePath()};CRp$3.drawBarrelPath=function(e,t,n,s,u){var f=s/2,d=u/2,g=t-f,v=t+f,S=n-d,M=n+d,I=getBarrelCurveConstants(s,u),P=I.widthOffset,N=I.heightOffset,F=I.ctrlPtOffsetPct*P;e.beginPath&&e.beginPath(),e.moveTo(g,S+N),e.lineTo(g,M-N),e.quadraticCurveTo(g+F,M,g+P,M),e.lineTo(v-P,M),e.quadraticCurveTo(v-F,M,v,M-N),e.lineTo(v,S+N),e.quadraticCurveTo(v-F,S,v-P,S),e.lineTo(g+P,S),e.quadraticCurveTo(g+F,S,g,S+N),e.closePath()};var sin0=Math.sin(0),cos0=Math.cos(0),sin={},cos={},ellipseStepSize=Math.PI/40;for(var i=0*Math.PI;i<2*Math.PI;i+=ellipseStepSize)sin[i]=Math.sin(i),cos[i]=Math.cos(i);CRp$3.drawEllipsePath=function(e,t,n,s,u){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,s/2,u/2,0,0,2*Math.PI);else for(var f,d,g=s/2,v=u/2,S=0*Math.PI;S<2*Math.PI;S+=ellipseStepSize)f=t-g*sin[S]*sin0+g*cos[S]*cos0,d=n+v*cos[S]*sin0+v*sin[S]*cos0,S===0?e.moveTo(f,d):e.lineTo(f,d);e.closePath()};var CRp$2={};CRp$2.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]};CRp$2.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements(),s=n.boundingBox(),u=this.findContainerClientCoords(),f=e.full?Math.ceil(s.w):u[2],d=e.full?Math.ceil(s.h):u[3],g=number$1(e.maxWidth)||number$1(e.maxHeight),v=this.getPixelRatio(),S=1;if(e.scale!==void 0)f*=e.scale,d*=e.scale,S=e.scale;else if(g){var M=1/0,I=1/0;number$1(e.maxWidth)&&(M=S*e.maxWidth/f),number$1(e.maxHeight)&&(I=S*e.maxHeight/d),S=Math.min(M,I),f*=S,d*=S}g||(f*=v,d*=v,S*=v);var P=document.createElement("canvas");P.width=f,P.height=d,P.style.width=f+"px",P.style.height=d+"px";var N=P.getContext("2d");if(f>0&&d>0){N.clearRect(0,0,f,d),N.globalCompositeOperation="source-over";var F=this.getCachedZSortedEles();if(e.full)N.translate(-s.x1*S,-s.y1*S),N.scale(S,S),this.drawElements(N,F),N.scale(1/S,1/S),N.translate(s.x1*S,s.y1*S);else{var j=t.pan(),U={x:j.x*S,y:j.y*S};S*=t.zoom(),N.translate(U.x,U.y),N.scale(S,S),this.drawElements(N,F),N.scale(1/S,1/S),N.translate(-U.x,-U.y)}e.bg&&(N.globalCompositeOperation="destination-over",N.fillStyle=e.bg,N.rect(0,0,f,d),N.fill())}return P};function b64ToBlob(e,t){for(var n=atob(e),s=new ArrayBuffer(n.length),u=new Uint8Array(s),f=0;f<n.length;f++)u[f]=n.charCodeAt(f);return new Blob([s],{type:t})}function b64UriToB64(e){var t=e.indexOf(",");return e.substr(t+1)}function output(e,t,n){var s=function(){return t.toDataURL(n,e.quality)};switch(e.output){case"blob-promise":return new Promise$1(function(u,f){try{t.toBlob(function(d){d!=null?u(d):f(new Error("`canvas.toBlob()` sent a null value in its callback"))},n,e.quality)}catch(d){f(d)}});case"blob":return b64ToBlob(b64UriToB64(s()),n);case"base64":return b64UriToB64(s());case"base64uri":default:return s()}}CRp$2.png=function(e){return output(e,this.bufferCanvasImage(e),"image/png")};CRp$2.jpg=function(e){return output(e,this.bufferCanvasImage(e),"image/jpeg")};var CRp$1={};CRp$1.nodeShapeImpl=function(e,t,n,s,u,f,d){switch(e){case"ellipse":return this.drawEllipsePath(t,n,s,u,f);case"polygon":return this.drawPolygonPath(t,n,s,u,f,d);case"round-polygon":return this.drawRoundPolygonPath(t,n,s,u,f,d);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,s,u,f);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,s,u,f);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,s,u,f);case"barrel":return this.drawBarrelPath(t,n,s,u,f)}};var CR=CanvasRenderer,CRp=CanvasRenderer.prototype;CRp.CANVAS_LAYERS=3;CRp.SELECT_BOX=0;CRp.DRAG=1;CRp.NODE=2;CRp.BUFFER_COUNT=3;CRp.TEXTURE_BUFFER=0;CRp.MOTIONBLUR_BUFFER_NODE=1;CRp.MOTIONBLUR_BUFFER_DRAG=2;function CanvasRenderer(e){var t=this;t.data={canvases:new Array(CRp.CANVAS_LAYERS),contexts:new Array(CRp.CANVAS_LAYERS),canvasNeedsRedraw:new Array(CRp.CANVAS_LAYERS),bufferCanvases:new Array(CRp.BUFFER_COUNT),bufferContexts:new Array(CRp.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",s="rgba(0,0,0,0)";t.data.canvasContainer=document.createElement("div");var u=t.data.canvasContainer.style;t.data.canvasContainer.style[n]=s,u.position="relative",u.zIndex="0",u.overflow="hidden";var f=e.cy.container();f.appendChild(t.data.canvasContainer),f.style[n]=s;var d={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};ms()&&(d["-ms-touch-action"]="none",d["touch-action"]="none");for(var g=0;g<CRp.CANVAS_LAYERS;g++){var v=t.data.canvases[g]=document.createElement("canvas");t.data.contexts[g]=v.getContext("2d"),Object.keys(d).forEach(function(Ve){v.style[Ve]=d[Ve]}),v.style.position="absolute",v.setAttribute("data-id","layer"+g),v.style.zIndex=String(CRp.CANVAS_LAYERS-g),t.data.canvasContainer.appendChild(v),t.data.canvasNeedsRedraw[g]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[CRp.NODE].setAttribute("data-id","layer"+CRp.NODE+"-node"),t.data.canvases[CRp.SELECT_BOX].setAttribute("data-id","layer"+CRp.SELECT_BOX+"-selectbox"),t.data.canvases[CRp.DRAG].setAttribute("data-id","layer"+CRp.DRAG+"-drag");for(var g=0;g<CRp.BUFFER_COUNT;g++)t.data.bufferCanvases[g]=document.createElement("canvas"),t.data.bufferContexts[g]=t.data.bufferCanvases[g].getContext("2d"),t.data.bufferCanvases[g].style.position="absolute",t.data.bufferCanvases[g].setAttribute("data-id","buffer"+g),t.data.bufferCanvases[g].style.zIndex=String(-g-1),t.data.bufferCanvases[g].style.visibility="hidden";t.pathsEnabled=!0;var S=makeBoundingBox(),M=function(Ye){return{x:(Ye.x1+Ye.x2)/2,y:(Ye.y1+Ye.y2)/2}},I=function(Ye){return{x:-Ye.w/2,y:-Ye.h/2}},P=function(Ye){var nt=Ye[0]._private,Fe=nt.oldBackgroundTimestamp===nt.backgroundTimestamp;return!Fe},N=function(Ye){return Ye[0]._private.nodeKey},F=function(Ye){return Ye[0]._private.labelStyleKey},j=function(Ye){return Ye[0]._private.sourceLabelStyleKey},U=function(Ye){return Ye[0]._private.targetLabelStyleKey},V=function(Ye,nt,Fe,Qe,it){return t.drawElement(Ye,nt,Fe,!1,!1,it)},Z=function(Ye,nt,Fe,Qe,it){return t.drawElementText(Ye,nt,Fe,Qe,"main",it)},Q=function(Ye,nt,Fe,Qe,it){return t.drawElementText(Ye,nt,Fe,Qe,"source",it)},J=function(Ye,nt,Fe,Qe,it){return t.drawElementText(Ye,nt,Fe,Qe,"target",it)},te=function(Ye){return Ye.boundingBox(),Ye[0]._private.bodyBounds},oe=function(Ye){return Ye.boundingBox(),Ye[0]._private.labelBounds.main||S},ue=function(Ye){return Ye.boundingBox(),Ye[0]._private.labelBounds.source||S},se=function(Ye){return Ye.boundingBox(),Ye[0]._private.labelBounds.target||S},le=function(Ye,nt){return nt},de=function(Ye){return M(te(Ye))},ge=function(Ye,nt,Fe){var Qe=Ye?Ye+"-":"";return{x:nt.x+Fe.pstyle(Qe+"text-margin-x").pfValue,y:nt.y+Fe.pstyle(Qe+"text-margin-y").pfValue}},ve=function(Ye,nt,Fe){var Qe=Ye[0]._private.rscratch;return{x:Qe[nt],y:Qe[Fe]}},me=function(Ye){return ge("",ve(Ye,"labelX","labelY"),Ye)},ye=function(Ye){return ge("source",ve(Ye,"sourceLabelX","sourceLabelY"),Ye)},Ae=function(Ye){return ge("target",ve(Ye,"targetLabelX","targetLabelY"),Ye)},Te=function(Ye){return I(te(Ye))},Oe=function(Ye){return I(ue(Ye))},Ie=function(Ye){return I(se(Ye))},Be=function(Ye){var nt=oe(Ye),Fe=I(oe(Ye));if(Ye.isNode()){switch(Ye.pstyle("text-halign").value){case"left":Fe.x=-nt.w;break;case"right":Fe.x=0;break}switch(Ye.pstyle("text-valign").value){case"top":Fe.y=-nt.h;break;case"bottom":Fe.y=0;break}}return Fe},De=t.data.eleTxrCache=new ElementTextureCache(t,{getKey:N,doesEleInvalidateKey:P,drawElement:V,getBoundingBox:te,getRotationPoint:de,getRotationOffset:Te,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),Pe=t.data.lblTxrCache=new ElementTextureCache(t,{getKey:F,drawElement:Z,getBoundingBox:oe,getRotationPoint:me,getRotationOffset:Be,isVisible:le}),Ne=t.data.slbTxrCache=new ElementTextureCache(t,{getKey:j,drawElement:Q,getBoundingBox:ue,getRotationPoint:ye,getRotationOffset:Oe,isVisible:le}),He=t.data.tlbTxrCache=new ElementTextureCache(t,{getKey:U,drawElement:J,getBoundingBox:se,getRotationPoint:Ae,getRotationOffset:Ie,isVisible:le}),je=t.data.lyrTxrCache=new LayeredTextureCache(t);t.onUpdateEleCalcs(function(Ye,nt){De.invalidateElements(nt),Pe.invalidateElements(nt),Ne.invalidateElements(nt),He.invalidateElements(nt),je.invalidateElements(nt);for(var Fe=0;Fe<nt.length;Fe++){var Qe=nt[Fe]._private;Qe.oldBackgroundTimestamp=Qe.backgroundTimestamp}});var ze=function(Ye){for(var nt=0;nt<Ye.length;nt++)je.enqueueElementRefinement(Ye[nt].ele)};De.onDequeue(ze),Pe.onDequeue(ze),Ne.onDequeue(ze),He.onDequeue(ze)}CRp.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[CRp.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[CRp.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[CRp.SELECT_BOX]=t;break}};var pathsImpld=typeof Path2D<"u";CRp.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e};CRp.usePaths=function(){return pathsImpld&&this.pathsEnabled};CRp.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)};CRp.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled};CRp.makeOffscreenCanvas=function(e,t){var n;return(typeof OffscreenCanvas>"u"?"undefined":_typeof(OffscreenCanvas))!=="undefined"?n=new OffscreenCanvas(e,t):(n=document.createElement("canvas"),n.width=e,n.height=t),n};[CRp$a,CRp$9,CRp$8,CRp$7,CRp$6,CRp$5,CRp$4,CRp$3,CRp$2,CRp$1].forEach(function(e){extend(CRp,e)});var renderer=[{name:"null",impl:NullRenderer},{name:"base",impl:BR},{name:"canvas",impl:CR}],incExts=[{type:"layout",extensions:layout$1},{type:"renderer",extensions:renderer}],extensions={},modules={};function setExtension(e,t,n){var s=n,u=function(se){warn("Can not register `"+t+"` for `"+e+"` since `"+se+"` already exists in the prototype and can not be overridden")};if(e==="core"){if(Core.prototype[t])return u(t);Core.prototype[t]=n}else if(e==="collection"){if(Collection.prototype[t])return u(t);Collection.prototype[t]=n}else if(e==="layout"){for(var f=function(se){this.options=se,n.call(this,se),plainObject(this._private)||(this._private={}),this._private.cy=se.cy,this._private.listeners=[],this.createEmitter()},d=f.prototype=Object.create(n.prototype),g=[],v=0;v<g.length;v++){var S=g[v];d[S]=d[S]||function(){return this}}d.start&&!d.run?d.run=function(){return this.start(),this}:!d.start&&d.run&&(d.start=function(){return this.run(),this});var M=n.prototype.stop;d.stop=function(){var ue=this.options;if(ue&&ue.animate){var se=this.animations;if(se)for(var le=0;le<se.length;le++)se[le].stop()}return M?M.call(this):this.emit("layoutstop"),this},d.destroy||(d.destroy=function(){return this}),d.cy=function(){return this._private.cy};var I=function(se){return se._private.cy},P={addEventFields:function(se,le){le.layout=se,le.cy=I(se),le.target=se},bubble:function(){return!0},parent:function(se){return I(se)}};extend(d,{createEmitter:function(){return this._private.emitter=new Emitter(P,this),this},emitter:function(){return this._private.emitter},on:function(se,le){return this.emitter().on(se,le),this},one:function(se,le){return this.emitter().one(se,le),this},once:function(se,le){return this.emitter().one(se,le),this},removeListener:function(se,le){return this.emitter().removeListener(se,le),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(se,le){return this.emitter().emit(se,le),this}}),define.eventAliasesOn(d),s=f}else if(e==="renderer"&&t!=="null"&&t!=="base"){var N=getExtension("renderer","base"),F=N.prototype,j=n,U=n.prototype,V=function(){N.apply(this,arguments),j.apply(this,arguments)},Z=V.prototype;for(var Q in F){var J=F[Q],te=U[Q]!=null;if(te)return u(Q);Z[Q]=J}for(var oe in U)Z[oe]=U[oe];F.clientFunctions.forEach(function(ue){Z[ue]=Z[ue]||function(){error("Renderer does not implement `renderer."+ue+"()` on its prototype")}}),s=V}else if(e==="__proto__"||e==="constructor"||e==="prototype")return error(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return setMap({map:extensions,keys:[e,t],value:s})}function getExtension(e,t){return getMap({map:extensions,keys:[e,t]})}function setModule(e,t,n,s,u){return setMap({map:modules,keys:[e,t,n,s],value:u})}function getModule(e,t,n,s){return getMap({map:modules,keys:[e,t,n,s]})}var extension=function(){if(arguments.length===2)return getExtension.apply(null,arguments);if(arguments.length===3)return setExtension.apply(null,arguments);if(arguments.length===4)return getModule.apply(null,arguments);if(arguments.length===5)return setModule.apply(null,arguments);error("Invalid extension access syntax")};Core.prototype.extension=extension;incExts.forEach(function(e){e.extensions.forEach(function(t){setExtension(e.type,t.name,t.impl)})});var Stylesheet=function e(){if(!(this instanceof e))return new e;this.length=0},sheetfn=Stylesheet.prototype;sheetfn.instanceString=function(){return"stylesheet"};sheetfn.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this};sheetfn.css=function(e,t){var n=this.length-1;if(string(e))this[n].properties.push({name:e,value:t});else if(plainObject(e))for(var s=e,u=Object.keys(s),f=0;f<u.length;f++){var d=u[f],g=s[d];if(g!=null){var v=Style.properties[d]||Style.properties[dash2camel(d)];if(v!=null){var S=v.name,M=g;this[n].properties.push({name:S,value:M})}}}return this};sheetfn.style=sheetfn.css;sheetfn.generateStyle=function(e){var t=new Style(e);return this.appendToStyle(t)};sheetfn.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],s=n.selector,u=n.properties;e.selector(s);for(var f=0;f<u.length;f++){var d=u[f];e.css(d.name,d.value)}}return e};var version$2="3.23.0",cytoscape$1=function(t){if(t===void 0&&(t={}),plainObject(t))return new Core(t);if(string(t))return extension.apply(extension,arguments)};cytoscape$1.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(cytoscape$1),e.apply(null,t),this};cytoscape$1.warnings=function(e){return warnings(e)};cytoscape$1.version=version$2;cytoscape$1.stylesheet=cytoscape$1.Stylesheet=Stylesheet;var cytoscape_cjs=cytoscape$1,cytoscapeAvsdfExports={},cytoscapeAvsdf={get exports(){return cytoscapeAvsdfExports},set exports(e){cytoscapeAvsdfExports=e}},avsdfBaseExports={},avsdfBase={get exports(){return avsdfBaseExports},set exports(e){avsdfBaseExports=e}},layoutBaseExports={},layoutBase={get exports(){return layoutBaseExports},set exports(e){layoutBaseExports=e}},hasRequiredLayoutBase;function requireLayoutBase(){return hasRequiredLayoutBase||(hasRequiredLayoutBase=1,function(e,t){(function(s,u){e.exports=u()})(commonjsGlobal,function(){return function(n){var s={};function u(f){if(s[f])return s[f].exports;var d=s[f]={i:f,l:!1,exports:{}};return n[f].call(d.exports,d,d.exports,u),d.l=!0,d.exports}return u.m=n,u.c=s,u.i=function(f){return f},u.d=function(f,d,g){u.o(f,d)||Object.defineProperty(f,d,{configurable:!1,enumerable:!0,get:g})},u.n=function(f){var d=f&&f.__esModule?function(){return f.default}:function(){return f};return u.d(d,"a",d),d},u.o=function(f,d){return Object.prototype.hasOwnProperty.call(f,d)},u.p="",u(u.s=26)}([function(n,s,u){function f(){}f.QUALITY=1,f.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,f.DEFAULT_INCREMENTAL=!1,f.DEFAULT_ANIMATION_ON_LAYOUT=!0,f.DEFAULT_ANIMATION_DURING_LAYOUT=!1,f.DEFAULT_ANIMATION_PERIOD=50,f.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,f.DEFAULT_GRAPH_MARGIN=15,f.NODE_DIMENSIONS_INCLUDE_LABELS=!1,f.SIMPLE_NODE_SIZE=40,f.SIMPLE_NODE_HALF_SIZE=f.SIMPLE_NODE_SIZE/2,f.EMPTY_COMPOUND_NODE_SIZE=40,f.MIN_EDGE_LENGTH=1,f.WORLD_BOUNDARY=1e6,f.INITIAL_WORLD_BOUNDARY=f.WORLD_BOUNDARY/1e3,f.WORLD_CENTER_X=1200,f.WORLD_CENTER_Y=900,n.exports=f},function(n,s,u){var f=u(2),d=u(8),g=u(9);function v(M,I,P){f.call(this,P),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=P,this.bendpoints=[],this.source=M,this.target=I}v.prototype=Object.create(f.prototype);for(var S in f)v[S]=f[S];v.prototype.getSource=function(){return this.source},v.prototype.getTarget=function(){return this.target},v.prototype.isInterGraph=function(){return this.isInterGraph},v.prototype.getLength=function(){return this.length},v.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},v.prototype.getBendpoints=function(){return this.bendpoints},v.prototype.getLca=function(){return this.lca},v.prototype.getSourceInLca=function(){return this.sourceInLca},v.prototype.getTargetInLca=function(){return this.targetInLca},v.prototype.getOtherEnd=function(M){if(this.source===M)return this.target;if(this.target===M)return this.source;throw"Node is not incident with this edge"},v.prototype.getOtherEndInGraph=function(M,I){for(var P=this.getOtherEnd(M),N=I.getGraphManager().getRoot();;){if(P.getOwner()==I)return P;if(P.getOwner()==N)break;P=P.getOwner().getParent()}return null},v.prototype.updateLength=function(){var M=new Array(4);this.isOverlapingSourceAndTarget=d.getIntersection(this.target.getRect(),this.source.getRect(),M),this.isOverlapingSourceAndTarget||(this.lengthX=M[0]-M[2],this.lengthY=M[1]-M[3],Math.abs(this.lengthX)<1&&(this.lengthX=g.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=g.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},v.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=g.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=g.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},n.exports=v},function(n,s,u){function f(d){this.vGraphObject=d}n.exports=f},function(n,s,u){var f=u(2),d=u(10),g=u(13),v=u(0),S=u(16),M=u(4);function I(N,F,j,U){j==null&&U==null&&(U=F),f.call(this,U),N.graphManager!=null&&(N=N.graphManager),this.estimatedSize=d.MIN_VALUE,this.inclusionTreeDepth=d.MAX_VALUE,this.vGraphObject=U,this.edges=[],this.graphManager=N,j!=null&&F!=null?this.rect=new g(F.x,F.y,j.width,j.height):this.rect=new g}I.prototype=Object.create(f.prototype);for(var P in f)I[P]=f[P];I.prototype.getEdges=function(){return this.edges},I.prototype.getChild=function(){return this.child},I.prototype.getOwner=function(){return this.owner},I.prototype.getWidth=function(){return this.rect.width},I.prototype.setWidth=function(N){this.rect.width=N},I.prototype.getHeight=function(){return this.rect.height},I.prototype.setHeight=function(N){this.rect.height=N},I.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},I.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},I.prototype.getCenter=function(){return new M(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},I.prototype.getLocation=function(){return new M(this.rect.x,this.rect.y)},I.prototype.getRect=function(){return this.rect},I.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},I.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},I.prototype.setRect=function(N,F){this.rect.x=N.x,this.rect.y=N.y,this.rect.width=F.width,this.rect.height=F.height},I.prototype.setCenter=function(N,F){this.rect.x=N-this.rect.width/2,this.rect.y=F-this.rect.height/2},I.prototype.setLocation=function(N,F){this.rect.x=N,this.rect.y=F},I.prototype.moveBy=function(N,F){this.rect.x+=N,this.rect.y+=F},I.prototype.getEdgeListToNode=function(N){var F=[],j=this;return j.edges.forEach(function(U){if(U.target==N){if(U.source!=j)throw"Incorrect edge source!";F.push(U)}}),F},I.prototype.getEdgesBetween=function(N){var F=[],j=this;return j.edges.forEach(function(U){if(!(U.source==j||U.target==j))throw"Incorrect edge source and/or target";(U.target==N||U.source==N)&&F.push(U)}),F},I.prototype.getNeighborsList=function(){var N=new Set,F=this;return F.edges.forEach(function(j){if(j.source==F)N.add(j.target);else{if(j.target!=F)throw"Incorrect incidency!";N.add(j.source)}}),N},I.prototype.withChildren=function(){var N=new Set,F,j;if(N.add(this),this.child!=null)for(var U=this.child.getNodes(),V=0;V<U.length;V++)F=U[V],j=F.withChildren(),j.forEach(function(Z){N.add(Z)});return N},I.prototype.getNoOfChildren=function(){var N=0,F;if(this.child==null)N=1;else for(var j=this.child.getNodes(),U=0;U<j.length;U++)F=j[U],N+=F.getNoOfChildren();return N==0&&(N=1),N},I.prototype.getEstimatedSize=function(){if(this.estimatedSize==d.MIN_VALUE)throw"assert failed";return this.estimatedSize},I.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},I.prototype.scatter=function(){var N,F,j=-v.INITIAL_WORLD_BOUNDARY,U=v.INITIAL_WORLD_BOUNDARY;N=v.WORLD_CENTER_X+S.nextDouble()*(U-j)+j;var V=-v.INITIAL_WORLD_BOUNDARY,Z=v.INITIAL_WORLD_BOUNDARY;F=v.WORLD_CENTER_Y+S.nextDouble()*(Z-V)+V,this.rect.x=N,this.rect.y=F},I.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var N=this.getChild();if(N.updateBounds(!0),this.rect.x=N.getLeft(),this.rect.y=N.getTop(),this.setWidth(N.getRight()-N.getLeft()),this.setHeight(N.getBottom()-N.getTop()),v.NODE_DIMENSIONS_INCLUDE_LABELS){var F=N.getRight()-N.getLeft(),j=N.getBottom()-N.getTop();this.labelWidth>F&&(this.rect.x-=(this.labelWidth-F)/2,this.setWidth(this.labelWidth)),this.labelHeight>j&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-j)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-j),this.setHeight(this.labelHeight))}}},I.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==d.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},I.prototype.transform=function(N){var F=this.rect.x;F>v.WORLD_BOUNDARY?F=v.WORLD_BOUNDARY:F<-v.WORLD_BOUNDARY&&(F=-v.WORLD_BOUNDARY);var j=this.rect.y;j>v.WORLD_BOUNDARY?j=v.WORLD_BOUNDARY:j<-v.WORLD_BOUNDARY&&(j=-v.WORLD_BOUNDARY);var U=new M(F,j),V=N.inverseTransformPoint(U);this.setLocation(V.x,V.y)},I.prototype.getLeft=function(){return this.rect.x},I.prototype.getRight=function(){return this.rect.x+this.rect.width},I.prototype.getTop=function(){return this.rect.y},I.prototype.getBottom=function(){return this.rect.y+this.rect.height},I.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},n.exports=I},function(n,s,u){function f(d,g){d==null&&g==null?(this.x=0,this.y=0):(this.x=d,this.y=g)}f.prototype.getX=function(){return this.x},f.prototype.getY=function(){return this.y},f.prototype.setX=function(d){this.x=d},f.prototype.setY=function(d){this.y=d},f.prototype.getDifference=function(d){return new DimensionD(this.x-d.x,this.y-d.y)},f.prototype.getCopy=function(){return new f(this.x,this.y)},f.prototype.translate=function(d){return this.x+=d.width,this.y+=d.height,this},n.exports=f},function(n,s,u){var f=u(2),d=u(10),g=u(0),v=u(6),S=u(3),M=u(1),I=u(13),P=u(12),N=u(11);function F(U,V,Z){f.call(this,Z),this.estimatedSize=d.MIN_VALUE,this.margin=g.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=U,V!=null&&V instanceof v?this.graphManager=V:V!=null&&V instanceof Layout&&(this.graphManager=V.graphManager)}F.prototype=Object.create(f.prototype);for(var j in f)F[j]=f[j];F.prototype.getNodes=function(){return this.nodes},F.prototype.getEdges=function(){return this.edges},F.prototype.getGraphManager=function(){return this.graphManager},F.prototype.getParent=function(){return this.parent},F.prototype.getLeft=function(){return this.left},F.prototype.getRight=function(){return this.right},F.prototype.getTop=function(){return this.top},F.prototype.getBottom=function(){return this.bottom},F.prototype.isConnected=function(){return this.isConnected},F.prototype.add=function(U,V,Z){if(V==null&&Z==null){var Q=U;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(Q)>-1)throw"Node already in graph!";return Q.owner=this,this.getNodes().push(Q),Q}else{var J=U;if(!(this.getNodes().indexOf(V)>-1&&this.getNodes().indexOf(Z)>-1))throw"Source or target not in graph!";if(!(V.owner==Z.owner&&V.owner==this))throw"Both owners must be this graph!";return V.owner!=Z.owner?null:(J.source=V,J.target=Z,J.isInterGraph=!1,this.getEdges().push(J),V.edges.push(J),Z!=V&&Z.edges.push(J),J)}},F.prototype.remove=function(U){var V=U;if(U instanceof S){if(V==null)throw"Node is null!";if(!(V.owner!=null&&V.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var Z=V.edges.slice(),Q,J=Z.length,te=0;te<J;te++)Q=Z[te],Q.isInterGraph?this.graphManager.remove(Q):Q.source.owner.remove(Q);var oe=this.nodes.indexOf(V);if(oe==-1)throw"Node not in owner node list!";this.nodes.splice(oe,1)}else if(U instanceof M){var Q=U;if(Q==null)throw"Edge is null!";if(!(Q.source!=null&&Q.target!=null))throw"Source and/or target is null!";if(!(Q.source.owner!=null&&Q.target.owner!=null&&Q.source.owner==this&&Q.target.owner==this))throw"Source and/or target owner is invalid!";var ue=Q.source.edges.indexOf(Q),se=Q.target.edges.indexOf(Q);if(!(ue>-1&&se>-1))throw"Source and/or target doesn't know this edge!";Q.source.edges.splice(ue,1),Q.target!=Q.source&&Q.target.edges.splice(se,1);var oe=Q.source.owner.getEdges().indexOf(Q);if(oe==-1)throw"Not in owner's edge list!";Q.source.owner.getEdges().splice(oe,1)}},F.prototype.updateLeftTop=function(){for(var U=d.MAX_VALUE,V=d.MAX_VALUE,Z,Q,J,te=this.getNodes(),oe=te.length,ue=0;ue<oe;ue++){var se=te[ue];Z=se.getTop(),Q=se.getLeft(),U>Z&&(U=Z),V>Q&&(V=Q)}return U==d.MAX_VALUE?null:(te[0].getParent().paddingLeft!=null?J=te[0].getParent().paddingLeft:J=this.margin,this.left=V-J,this.top=U-J,new P(this.left,this.top))},F.prototype.updateBounds=function(U){for(var V=d.MAX_VALUE,Z=-d.MAX_VALUE,Q=d.MAX_VALUE,J=-d.MAX_VALUE,te,oe,ue,se,le,de=this.nodes,ge=de.length,ve=0;ve<ge;ve++){var me=de[ve];U&&me.child!=null&&me.updateBounds(),te=me.getLeft(),oe=me.getRight(),ue=me.getTop(),se=me.getBottom(),V>te&&(V=te),Z<oe&&(Z=oe),Q>ue&&(Q=ue),J<se&&(J=se)}var ye=new I(V,Q,Z-V,J-Q);V==d.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),de[0].getParent().paddingLeft!=null?le=de[0].getParent().paddingLeft:le=this.margin,this.left=ye.x-le,this.right=ye.x+ye.width+le,this.top=ye.y-le,this.bottom=ye.y+ye.height+le},F.calculateBounds=function(U){for(var V=d.MAX_VALUE,Z=-d.MAX_VALUE,Q=d.MAX_VALUE,J=-d.MAX_VALUE,te,oe,ue,se,le=U.length,de=0;de<le;de++){var ge=U[de];te=ge.getLeft(),oe=ge.getRight(),ue=ge.getTop(),se=ge.getBottom(),V>te&&(V=te),Z<oe&&(Z=oe),Q>ue&&(Q=ue),J<se&&(J=se)}var ve=new I(V,Q,Z-V,J-Q);return ve},F.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},F.prototype.getEstimatedSize=function(){if(this.estimatedSize==d.MIN_VALUE)throw"assert failed";return this.estimatedSize},F.prototype.calcEstimatedSize=function(){for(var U=0,V=this.nodes,Z=V.length,Q=0;Q<Z;Q++){var J=V[Q];U+=J.calcEstimatedSize()}return U==0?this.estimatedSize=g.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=U/Math.sqrt(this.nodes.length),this.estimatedSize},F.prototype.updateConnected=function(){var U=this;if(this.nodes.length==0){this.isConnected=!0;return}var V=new N,Z=new Set,Q=this.nodes[0],J,te,oe=Q.withChildren();for(oe.forEach(function(ve){V.push(ve),Z.add(ve)});V.length!==0;){Q=V.shift(),J=Q.getEdges();for(var ue=J.length,se=0;se<ue;se++){var le=J[se];if(te=le.getOtherEndInGraph(Q,this),te!=null&&!Z.has(te)){var de=te.withChildren();de.forEach(function(ve){V.push(ve),Z.add(ve)})}}}if(this.isConnected=!1,Z.size>=this.nodes.length){var ge=0;Z.forEach(function(ve){ve.owner==U&&ge++}),ge==this.nodes.length&&(this.isConnected=!0)}},n.exports=F},function(n,s,u){var f,d=u(1);function g(v){f=u(5),this.layout=v,this.graphs=[],this.edges=[]}g.prototype.addRoot=function(){var v=this.layout.newGraph(),S=this.layout.newNode(null),M=this.add(v,S);return this.setRootGraph(M),this.rootGraph},g.prototype.add=function(v,S,M,I,P){if(M==null&&I==null&&P==null){if(v==null)throw"Graph is null!";if(S==null)throw"Parent node is null!";if(this.graphs.indexOf(v)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(v),v.parent!=null)throw"Already has a parent!";if(S.child!=null)throw"Already has a child!";return v.parent=S,S.child=v,v}else{P=M,I=S,M=v;var N=I.getOwner(),F=P.getOwner();if(!(N!=null&&N.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(F!=null&&F.getGraphManager()==this))throw"Target not in this graph mgr!";if(N==F)return M.isInterGraph=!1,N.add(M,I,P);if(M.isInterGraph=!0,M.source=I,M.target=P,this.edges.indexOf(M)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(M),!(M.source!=null&&M.target!=null))throw"Edge source and/or target is null!";if(!(M.source.edges.indexOf(M)==-1&&M.target.edges.indexOf(M)==-1))throw"Edge already in source and/or target incidency list!";return M.source.edges.push(M),M.target.edges.push(M),M}},g.prototype.remove=function(v){if(v instanceof f){var S=v;if(S.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(S==this.rootGraph||S.parent!=null&&S.parent.graphManager==this))throw"Invalid parent node!";var M=[];M=M.concat(S.getEdges());for(var I,P=M.length,N=0;N<P;N++)I=M[N],S.remove(I);var F=[];F=F.concat(S.getNodes());var j;P=F.length;for(var N=0;N<P;N++)j=F[N],S.remove(j);S==this.rootGraph&&this.setRootGraph(null);var U=this.graphs.indexOf(S);this.graphs.splice(U,1),S.parent=null}else if(v instanceof d){if(I=v,I==null)throw"Edge is null!";if(!I.isInterGraph)throw"Not an inter-graph edge!";if(!(I.source!=null&&I.target!=null))throw"Source and/or target is null!";if(!(I.source.edges.indexOf(I)!=-1&&I.target.edges.indexOf(I)!=-1))throw"Source and/or target doesn't know this edge!";var U=I.source.edges.indexOf(I);if(I.source.edges.splice(U,1),U=I.target.edges.indexOf(I),I.target.edges.splice(U,1),!(I.source.owner!=null&&I.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(I.source.owner.getGraphManager().edges.indexOf(I)==-1)throw"Not in owner graph manager's edge list!";var U=I.source.owner.getGraphManager().edges.indexOf(I);I.source.owner.getGraphManager().edges.splice(U,1)}},g.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},g.prototype.getGraphs=function(){return this.graphs},g.prototype.getAllNodes=function(){if(this.allNodes==null){for(var v=[],S=this.getGraphs(),M=S.length,I=0;I<M;I++)v=v.concat(S[I].getNodes());this.allNodes=v}return this.allNodes},g.prototype.resetAllNodes=function(){this.allNodes=null},g.prototype.resetAllEdges=function(){this.allEdges=null},g.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},g.prototype.getAllEdges=function(){if(this.allEdges==null){var v=[],S=this.getGraphs();S.length;for(var M=0;M<S.length;M++)v=v.concat(S[M].getEdges());v=v.concat(this.edges),this.allEdges=v}return this.allEdges},g.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},g.prototype.setAllNodesToApplyGravitation=function(v){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=v},g.prototype.getRoot=function(){return this.rootGraph},g.prototype.setRootGraph=function(v){if(v.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=v,v.parent==null&&(v.parent=this.layout.newNode("Root node"))},g.prototype.getLayout=function(){return this.layout},g.prototype.isOneAncestorOfOther=function(v,S){if(!(v!=null&&S!=null))throw"assert failed";if(v==S)return!0;var M=v.getOwner(),I;do{if(I=M.getParent(),I==null)break;if(I==S)return!0;if(M=I.getOwner(),M==null)break}while(!0);M=S.getOwner();do{if(I=M.getParent(),I==null)break;if(I==v)return!0;if(M=I.getOwner(),M==null)break}while(!0);return!1},g.prototype.calcLowestCommonAncestors=function(){for(var v,S,M,I,P,N=this.getAllEdges(),F=N.length,j=0;j<F;j++){if(v=N[j],S=v.source,M=v.target,v.lca=null,v.sourceInLca=S,v.targetInLca=M,S==M){v.lca=S.getOwner();continue}for(I=S.getOwner();v.lca==null;){for(v.targetInLca=M,P=M.getOwner();v.lca==null;){if(P==I){v.lca=P;break}if(P==this.rootGraph)break;if(v.lca!=null)throw"assert failed";v.targetInLca=P.getParent(),P=v.targetInLca.getOwner()}if(I==this.rootGraph)break;v.lca==null&&(v.sourceInLca=I.getParent(),I=v.sourceInLca.getOwner())}if(v.lca==null)throw"assert failed"}},g.prototype.calcLowestCommonAncestor=function(v,S){if(v==S)return v.getOwner();var M=v.getOwner();do{if(M==null)break;var I=S.getOwner();do{if(I==null)break;if(I==M)return I;I=I.getParent().getOwner()}while(!0);M=M.getParent().getOwner()}while(!0);return M},g.prototype.calcInclusionTreeDepths=function(v,S){v==null&&S==null&&(v=this.rootGraph,S=1);for(var M,I=v.getNodes(),P=I.length,N=0;N<P;N++)M=I[N],M.inclusionTreeDepth=S,M.child!=null&&this.calcInclusionTreeDepths(M.child,S+1)},g.prototype.includesInvalidEdge=function(){for(var v,S=this.edges.length,M=0;M<S;M++)if(v=this.edges[M],this.isOneAncestorOfOther(v.source,v.target))return!0;return!1},n.exports=g},function(n,s,u){var f=u(0);function d(){}for(var g in f)d[g]=f[g];d.MAX_ITERATIONS=2500,d.DEFAULT_EDGE_LENGTH=50,d.DEFAULT_SPRING_STRENGTH=.45,d.DEFAULT_REPULSION_STRENGTH=4500,d.DEFAULT_GRAVITY_STRENGTH=.4,d.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,d.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,d.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,d.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,d.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,d.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,d.COOLING_ADAPTATION_FACTOR=.33,d.ADAPTATION_LOWER_NODE_LIMIT=1e3,d.ADAPTATION_UPPER_NODE_LIMIT=5e3,d.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,d.MAX_NODE_DISPLACEMENT=d.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,d.MIN_REPULSION_DIST=d.DEFAULT_EDGE_LENGTH/10,d.CONVERGENCE_CHECK_PERIOD=100,d.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,d.MIN_EDGE_LENGTH=1,d.GRID_CALCULATION_CHECK_PERIOD=10,n.exports=d},function(n,s,u){var f=u(12);function d(){}d.calcSeparationAmount=function(g,v,S,M){if(!g.intersects(v))throw"assert failed";var I=new Array(2);this.decideDirectionsForOverlappingNodes(g,v,I),S[0]=Math.min(g.getRight(),v.getRight())-Math.max(g.x,v.x),S[1]=Math.min(g.getBottom(),v.getBottom())-Math.max(g.y,v.y),g.getX()<=v.getX()&&g.getRight()>=v.getRight()?S[0]+=Math.min(v.getX()-g.getX(),g.getRight()-v.getRight()):v.getX()<=g.getX()&&v.getRight()>=g.getRight()&&(S[0]+=Math.min(g.getX()-v.getX(),v.getRight()-g.getRight())),g.getY()<=v.getY()&&g.getBottom()>=v.getBottom()?S[1]+=Math.min(v.getY()-g.getY(),g.getBottom()-v.getBottom()):v.getY()<=g.getY()&&v.getBottom()>=g.getBottom()&&(S[1]+=Math.min(g.getY()-v.getY(),v.getBottom()-g.getBottom()));var P=Math.abs((v.getCenterY()-g.getCenterY())/(v.getCenterX()-g.getCenterX()));v.getCenterY()===g.getCenterY()&&v.getCenterX()===g.getCenterX()&&(P=1);var N=P*S[0],F=S[1]/P;S[0]<F?F=S[0]:N=S[1],S[0]=-1*I[0]*(F/2+M),S[1]=-1*I[1]*(N/2+M)},d.decideDirectionsForOverlappingNodes=function(g,v,S){g.getCenterX()<v.getCenterX()?S[0]=-1:S[0]=1,g.getCenterY()<v.getCenterY()?S[1]=-1:S[1]=1},d.getIntersection2=function(g,v,S){var M=g.getCenterX(),I=g.getCenterY(),P=v.getCenterX(),N=v.getCenterY();if(g.intersects(v))return S[0]=M,S[1]=I,S[2]=P,S[3]=N,!0;var F=g.getX(),j=g.getY(),U=g.getRight(),V=g.getX(),Z=g.getBottom(),Q=g.getRight(),J=g.getWidthHalf(),te=g.getHeightHalf(),oe=v.getX(),ue=v.getY(),se=v.getRight(),le=v.getX(),de=v.getBottom(),ge=v.getRight(),ve=v.getWidthHalf(),me=v.getHeightHalf(),ye=!1,Ae=!1;if(M===P){if(I>N)return S[0]=M,S[1]=j,S[2]=P,S[3]=de,!1;if(I<N)return S[0]=M,S[1]=Z,S[2]=P,S[3]=ue,!1}else if(I===N){if(M>P)return S[0]=F,S[1]=I,S[2]=se,S[3]=N,!1;if(M<P)return S[0]=U,S[1]=I,S[2]=oe,S[3]=N,!1}else{var Te=g.height/g.width,Oe=v.height/v.width,Ie=(N-I)/(P-M),Be=void 0,De=void 0,Pe=void 0,Ne=void 0,He=void 0,je=void 0;if(-Te===Ie?M>P?(S[0]=V,S[1]=Z,ye=!0):(S[0]=U,S[1]=j,ye=!0):Te===Ie&&(M>P?(S[0]=F,S[1]=j,ye=!0):(S[0]=Q,S[1]=Z,ye=!0)),-Oe===Ie?P>M?(S[2]=le,S[3]=de,Ae=!0):(S[2]=se,S[3]=ue,Ae=!0):Oe===Ie&&(P>M?(S[2]=oe,S[3]=ue,Ae=!0):(S[2]=ge,S[3]=de,Ae=!0)),ye&&Ae)return!1;if(M>P?I>N?(Be=this.getCardinalDirection(Te,Ie,4),De=this.getCardinalDirection(Oe,Ie,2)):(Be=this.getCardinalDirection(-Te,Ie,3),De=this.getCardinalDirection(-Oe,Ie,1)):I>N?(Be=this.getCardinalDirection(-Te,Ie,1),De=this.getCardinalDirection(-Oe,Ie,3)):(Be=this.getCardinalDirection(Te,Ie,2),De=this.getCardinalDirection(Oe,Ie,4)),!ye)switch(Be){case 1:Ne=j,Pe=M+-te/Ie,S[0]=Pe,S[1]=Ne;break;case 2:Pe=Q,Ne=I+J*Ie,S[0]=Pe,S[1]=Ne;break;case 3:Ne=Z,Pe=M+te/Ie,S[0]=Pe,S[1]=Ne;break;case 4:Pe=V,Ne=I+-J*Ie,S[0]=Pe,S[1]=Ne;break}if(!Ae)switch(De){case 1:je=ue,He=P+-me/Ie,S[2]=He,S[3]=je;break;case 2:He=ge,je=N+ve*Ie,S[2]=He,S[3]=je;break;case 3:je=de,He=P+me/Ie,S[2]=He,S[3]=je;break;case 4:He=le,je=N+-ve*Ie,S[2]=He,S[3]=je;break}}return!1},d.getCardinalDirection=function(g,v,S){return g>v?S:1+S%4},d.getIntersection=function(g,v,S,M){if(M==null)return this.getIntersection2(g,v,S);var I=g.x,P=g.y,N=v.x,F=v.y,j=S.x,U=S.y,V=M.x,Z=M.y,Q=void 0,J=void 0,te=void 0,oe=void 0,ue=void 0,se=void 0,le=void 0,de=void 0,ge=void 0;return te=F-P,ue=I-N,le=N*P-I*F,oe=Z-U,se=j-V,de=V*U-j*Z,ge=te*se-oe*ue,ge===0?null:(Q=(ue*de-se*le)/ge,J=(oe*le-te*de)/ge,new f(Q,J))},d.angleOfVector=function(g,v,S,M){var I=void 0;return g!==S?(I=Math.atan((M-v)/(S-g)),S<g?I+=Math.PI:M<v&&(I+=this.TWO_PI)):M<v?I=this.ONE_AND_HALF_PI:I=this.HALF_PI,I},d.doIntersect=function(g,v,S,M){var I=g.x,P=g.y,N=v.x,F=v.y,j=S.x,U=S.y,V=M.x,Z=M.y,Q=(N-I)*(Z-U)-(V-j)*(F-P);if(Q===0)return!1;var J=((Z-U)*(V-I)+(j-V)*(Z-P))/Q,te=((P-F)*(V-I)+(N-I)*(Z-P))/Q;return 0<J&&J<1&&0<te&&te<1},d.HALF_PI=.5*Math.PI,d.ONE_AND_HALF_PI=1.5*Math.PI,d.TWO_PI=2*Math.PI,d.THREE_PI=3*Math.PI,n.exports=d},function(n,s,u){function f(){}f.sign=function(d){return d>0?1:d<0?-1:0},f.floor=function(d){return d<0?Math.ceil(d):Math.floor(d)},f.ceil=function(d){return d<0?Math.floor(d):Math.ceil(d)},n.exports=f},function(n,s,u){function f(){}f.MAX_VALUE=2147483647,f.MIN_VALUE=-2147483648,n.exports=f},function(n,s,u){var f=function(){function I(P,N){for(var F=0;F<N.length;F++){var j=N[F];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(P,j.key,j)}}return function(P,N,F){return N&&I(P.prototype,N),F&&I(P,F),P}}();function d(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")}var g=function(P){return{value:P,next:null,prev:null}},v=function(P,N,F,j){return P!==null?P.next=N:j.head=N,F!==null?F.prev=N:j.tail=N,N.prev=P,N.next=F,j.length++,N},S=function(P,N){var F=P.prev,j=P.next;return F!==null?F.next=j:N.head=j,j!==null?j.prev=F:N.tail=F,P.prev=P.next=null,N.length--,P},M=function(){function I(P){var N=this;d(this,I),this.length=0,this.head=null,this.tail=null,P!=null&&P.forEach(function(F){return N.push(F)})}return f(I,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(N,F){return v(F.prev,g(N),F,this)}},{key:"insertAfter",value:function(N,F){return v(F,g(N),F.next,this)}},{key:"insertNodeBefore",value:function(N,F){return v(F.prev,N,F,this)}},{key:"insertNodeAfter",value:function(N,F){return v(F,N,F.next,this)}},{key:"push",value:function(N){return v(this.tail,g(N),null,this)}},{key:"unshift",value:function(N){return v(null,g(N),this.head,this)}},{key:"remove",value:function(N){return S(N,this)}},{key:"pop",value:function(){return S(this.tail,this).value}},{key:"popNode",value:function(){return S(this.tail,this)}},{key:"shift",value:function(){return S(this.head,this).value}},{key:"shiftNode",value:function(){return S(this.head,this)}},{key:"get_object_at",value:function(N){if(N<=this.length()){for(var F=1,j=this.head;F<N;)j=j.next,F++;return j.value}}},{key:"set_object_at",value:function(N,F){if(N<=this.length()){for(var j=1,U=this.head;j<N;)U=U.next,j++;U.value=F}}}]),I}();n.exports=M},function(n,s,u){function f(d,g,v){this.x=null,this.y=null,d==null&&g==null&&v==null?(this.x=0,this.y=0):typeof d=="number"&&typeof g=="number"&&v==null?(this.x=d,this.y=g):d.constructor.name=="Point"&&g==null&&v==null&&(v=d,this.x=v.x,this.y=v.y)}f.prototype.getX=function(){return this.x},f.prototype.getY=function(){return this.y},f.prototype.getLocation=function(){return new f(this.x,this.y)},f.prototype.setLocation=function(d,g,v){d.constructor.name=="Point"&&g==null&&v==null?(v=d,this.setLocation(v.x,v.y)):typeof d=="number"&&typeof g=="number"&&v==null&&(parseInt(d)==d&&parseInt(g)==g?this.move(d,g):(this.x=Math.floor(d+.5),this.y=Math.floor(g+.5)))},f.prototype.move=function(d,g){this.x=d,this.y=g},f.prototype.translate=function(d,g){this.x+=d,this.y+=g},f.prototype.equals=function(d){if(d.constructor.name=="Point"){var g=d;return this.x==g.x&&this.y==g.y}return this==d},f.prototype.toString=function(){return new f().constructor.name+"[x="+this.x+",y="+this.y+"]"},n.exports=f},function(n,s,u){function f(d,g,v,S){this.x=0,this.y=0,this.width=0,this.height=0,d!=null&&g!=null&&v!=null&&S!=null&&(this.x=d,this.y=g,this.width=v,this.height=S)}f.prototype.getX=function(){return this.x},f.prototype.setX=function(d){this.x=d},f.prototype.getY=function(){return this.y},f.prototype.setY=function(d){this.y=d},f.prototype.getWidth=function(){return this.width},f.prototype.setWidth=function(d){this.width=d},f.prototype.getHeight=function(){return this.height},f.prototype.setHeight=function(d){this.height=d},f.prototype.getRight=function(){return this.x+this.width},f.prototype.getBottom=function(){return this.y+this.height},f.prototype.intersects=function(d){return!(this.getRight()<d.x||this.getBottom()<d.y||d.getRight()<this.x||d.getBottom()<this.y)},f.prototype.getCenterX=function(){return this.x+this.width/2},f.prototype.getMinX=function(){return this.getX()},f.prototype.getMaxX=function(){return this.getX()+this.width},f.prototype.getCenterY=function(){return this.y+this.height/2},f.prototype.getMinY=function(){return this.getY()},f.prototype.getMaxY=function(){return this.getY()+this.height},f.prototype.getWidthHalf=function(){return this.width/2},f.prototype.getHeightHalf=function(){return this.height/2},n.exports=f},function(n,s,u){var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};function d(){}d.lastID=0,d.createID=function(g){return d.isPrimitive(g)?g:(g.uniqueID!=null||(g.uniqueID=d.getString(),d.lastID++),g.uniqueID)},d.getString=function(g){return g==null&&(g=d.lastID),"Object#"+g},d.isPrimitive=function(g){var v=typeof g>"u"?"undefined":f(g);return g==null||v!="object"&&v!="function"},n.exports=d},function(n,s,u){function f(j){if(Array.isArray(j)){for(var U=0,V=Array(j.length);U<j.length;U++)V[U]=j[U];return V}else return Array.from(j)}var d=u(0),g=u(6),v=u(3),S=u(1),M=u(5),I=u(4),P=u(17),N=u(27);function F(j){N.call(this),this.layoutQuality=d.QUALITY,this.createBendsAsNeeded=d.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=d.DEFAULT_INCREMENTAL,this.animationOnLayout=d.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=d.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=d.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=d.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new g(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,j!=null&&(this.isRemoteUse=j)}F.RANDOM_SEED=1,F.prototype=Object.create(N.prototype),F.prototype.getGraphManager=function(){return this.graphManager},F.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},F.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},F.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},F.prototype.newGraphManager=function(){var j=new g(this);return this.graphManager=j,j},F.prototype.newGraph=function(j){return new M(null,this.graphManager,j)},F.prototype.newNode=function(j){return new v(this.graphManager,j)},F.prototype.newEdge=function(j){return new S(null,null,j)},F.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},F.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var j;return this.checkLayoutSuccess()?j=!1:j=this.layout(),d.ANIMATE==="during"?!1:(j&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,j)},F.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},F.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var j=this.graphManager.getAllEdges(),U=0;U<j.length;U++)j[U];for(var V=this.graphManager.getRoot().getNodes(),U=0;U<V.length;U++)V[U];this.update(this.graphManager.getRoot())}},F.prototype.update=function(j){if(j==null)this.update2();else if(j instanceof v){var U=j;if(U.getChild()!=null)for(var V=U.getChild().getNodes(),Z=0;Z<V.length;Z++)update(V[Z]);if(U.vGraphObject!=null){var Q=U.vGraphObject;Q.update(U)}}else if(j instanceof S){var J=j;if(J.vGraphObject!=null){var te=J.vGraphObject;te.update(J)}}else if(j instanceof M){var oe=j;if(oe.vGraphObject!=null){var ue=oe.vGraphObject;ue.update(oe)}}},F.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=d.QUALITY,this.animationDuringLayout=d.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=d.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=d.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=d.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=d.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=d.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},F.prototype.transform=function(j){if(j==null)this.transform(new I(0,0));else{var U=new P,V=this.graphManager.getRoot().updateLeftTop();if(V!=null){U.setWorldOrgX(j.x),U.setWorldOrgY(j.y),U.setDeviceOrgX(V.x),U.setDeviceOrgY(V.y);for(var Z=this.getAllNodes(),Q,J=0;J<Z.length;J++)Q=Z[J],Q.transform(U)}}},F.prototype.positionNodesRandomly=function(j){if(j==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var U,V,Z=j.getNodes(),Q=0;Q<Z.length;Q++)U=Z[Q],V=U.getChild(),V==null||V.getNodes().length==0?U.scatter():(this.positionNodesRandomly(V),U.updateBounds())},F.prototype.getFlatForest=function(){for(var j=[],U=!0,V=this.graphManager.getRoot().getNodes(),Z=!0,Q=0;Q<V.length;Q++)V[Q].getChild()!=null&&(Z=!1);if(!Z)return j;var J=new Set,te=[],oe=new Map,ue=[];for(ue=ue.concat(V);ue.length>0&&U;){for(te.push(ue[0]);te.length>0&&U;){var se=te[0];te.splice(0,1),J.add(se);for(var le=se.getEdges(),Q=0;Q<le.length;Q++){var de=le[Q].getOtherEnd(se);if(oe.get(se)!=de)if(!J.has(de))te.push(de),oe.set(de,se);else{U=!1;break}}}if(!U)j=[];else{var ge=[].concat(f(J));j.push(ge);for(var Q=0;Q<ge.length;Q++){var ve=ge[Q],me=ue.indexOf(ve);me>-1&&ue.splice(me,1)}J=new Set,oe=new Map}}return j},F.prototype.createDummyNodesForBendpoints=function(j){for(var U=[],V=j.source,Z=this.graphManager.calcLowestCommonAncestor(j.source,j.target),Q=0;Q<j.bendpoints.length;Q++){var J=this.newNode(null);J.setRect(new Point(0,0),new Dimension(1,1)),Z.add(J);var te=this.newEdge(null);this.graphManager.add(te,V,J),U.add(J),V=J}var te=this.newEdge(null);return this.graphManager.add(te,V,j.target),this.edgeToDummyNodes.set(j,U),j.isInterGraph()?this.graphManager.remove(j):Z.remove(j),U},F.prototype.createBendpointsFromDummyNodes=function(){var j=[];j=j.concat(this.graphManager.getAllEdges()),j=[].concat(f(this.edgeToDummyNodes.keys())).concat(j);for(var U=0;U<j.length;U++){var V=j[U];if(V.bendpoints.length>0){for(var Z=this.edgeToDummyNodes.get(V),Q=0;Q<Z.length;Q++){var J=Z[Q],te=new I(J.getCenterX(),J.getCenterY()),oe=V.bendpoints.get(Q);oe.x=te.x,oe.y=te.y,J.getOwner().remove(J)}this.graphManager.add(V,V.source,V.target)}}},F.transform=function(j,U,V,Z){if(V!=null&&Z!=null){var Q=U;if(j<=50){var J=U/V;Q-=(U-J)/50*(50-j)}else{var te=U*Z;Q+=(te-U)/50*(j-50)}return Q}else{var oe,ue;return j<=50?(oe=9*U/500,ue=U/10):(oe=9*U/50,ue=-8*U),oe*j+ue}},F.findCenterOfTree=function(j){var U=[];U=U.concat(j);var V=[],Z=new Map,Q=!1,J=null;(U.length==1||U.length==2)&&(Q=!0,J=U[0]);for(var te=0;te<U.length;te++){var oe=U[te],ue=oe.getNeighborsList().size;Z.set(oe,oe.getNeighborsList().size),ue==1&&V.push(oe)}var se=[];for(se=se.concat(V);!Q;){var le=[];le=le.concat(se),se=[];for(var te=0;te<U.length;te++){var oe=U[te],de=U.indexOf(oe);de>=0&&U.splice(de,1);var ge=oe.getNeighborsList();ge.forEach(function(ye){if(V.indexOf(ye)<0){var Ae=Z.get(ye),Te=Ae-1;Te==1&&se.push(ye),Z.set(ye,Te)}})}V=V.concat(se),(U.length==1||U.length==2)&&(Q=!0,J=U[0])}return J},F.prototype.setGraphManager=function(j){this.graphManager=j},n.exports=F},function(n,s,u){function f(){}f.seed=1,f.x=0,f.nextDouble=function(){return f.x=Math.sin(f.seed++)*1e4,f.x-Math.floor(f.x)},n.exports=f},function(n,s,u){var f=u(4);function d(g,v){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}d.prototype.getWorldOrgX=function(){return this.lworldOrgX},d.prototype.setWorldOrgX=function(g){this.lworldOrgX=g},d.prototype.getWorldOrgY=function(){return this.lworldOrgY},d.prototype.setWorldOrgY=function(g){this.lworldOrgY=g},d.prototype.getWorldExtX=function(){return this.lworldExtX},d.prototype.setWorldExtX=function(g){this.lworldExtX=g},d.prototype.getWorldExtY=function(){return this.lworldExtY},d.prototype.setWorldExtY=function(g){this.lworldExtY=g},d.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},d.prototype.setDeviceOrgX=function(g){this.ldeviceOrgX=g},d.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},d.prototype.setDeviceOrgY=function(g){this.ldeviceOrgY=g},d.prototype.getDeviceExtX=function(){return this.ldeviceExtX},d.prototype.setDeviceExtX=function(g){this.ldeviceExtX=g},d.prototype.getDeviceExtY=function(){return this.ldeviceExtY},d.prototype.setDeviceExtY=function(g){this.ldeviceExtY=g},d.prototype.transformX=function(g){var v=0,S=this.lworldExtX;return S!=0&&(v=this.ldeviceOrgX+(g-this.lworldOrgX)*this.ldeviceExtX/S),v},d.prototype.transformY=function(g){var v=0,S=this.lworldExtY;return S!=0&&(v=this.ldeviceOrgY+(g-this.lworldOrgY)*this.ldeviceExtY/S),v},d.prototype.inverseTransformX=function(g){var v=0,S=this.ldeviceExtX;return S!=0&&(v=this.lworldOrgX+(g-this.ldeviceOrgX)*this.lworldExtX/S),v},d.prototype.inverseTransformY=function(g){var v=0,S=this.ldeviceExtY;return S!=0&&(v=this.lworldOrgY+(g-this.ldeviceOrgY)*this.lworldExtY/S),v},d.prototype.inverseTransformPoint=function(g){var v=new f(this.inverseTransformX(g.x),this.inverseTransformY(g.y));return v},n.exports=d},function(n,s,u){function f(N){if(Array.isArray(N)){for(var F=0,j=Array(N.length);F<N.length;F++)j[F]=N[F];return j}else return Array.from(N)}var d=u(15),g=u(7),v=u(0),S=u(8),M=u(9);function I(){d.call(this),this.useSmartIdealEdgeLengthCalculation=g.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=g.DEFAULT_EDGE_LENGTH,this.springConstant=g.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=g.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=g.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=g.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=g.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=g.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*g.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=g.MAX_ITERATIONS}I.prototype=Object.create(d.prototype);for(var P in d)I[P]=d[P];I.prototype.initParameters=function(){d.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=g.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},I.prototype.calcIdealEdgeLengths=function(){for(var N,F,j,U,V,Z,Q=this.getGraphManager().getAllEdges(),J=0;J<Q.length;J++)N=Q[J],N.idealLength=this.idealEdgeLength,N.isInterGraph&&(j=N.getSource(),U=N.getTarget(),V=N.getSourceInLca().getEstimatedSize(),Z=N.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(N.idealLength+=V+Z-2*v.SIMPLE_NODE_SIZE),F=N.getLca().getInclusionTreeDepth(),N.idealLength+=g.DEFAULT_EDGE_LENGTH*g.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(j.getInclusionTreeDepth()+U.getInclusionTreeDepth()-2*F))},I.prototype.initSpringEmbedder=function(){var N=this.getAllNodes().length;this.incremental?(N>g.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*g.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(N-g.ADAPTATION_LOWER_NODE_LIMIT)/(g.ADAPTATION_UPPER_NODE_LIMIT-g.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-g.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=g.MAX_NODE_DISPLACEMENT_INCREMENTAL):(N>g.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(g.COOLING_ADAPTATION_FACTOR,1-(N-g.ADAPTATION_LOWER_NODE_LIMIT)/(g.ADAPTATION_UPPER_NODE_LIMIT-g.ADAPTATION_LOWER_NODE_LIMIT)*(1-g.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=g.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},I.prototype.calcSpringForces=function(){for(var N=this.getAllEdges(),F,j=0;j<N.length;j++)F=N[j],this.calcSpringForce(F,F.idealLength)},I.prototype.calcRepulsionForces=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,j,U,V,Z,Q=this.getAllNodes(),J;if(this.useFRGridVariant)for(this.totalIterations%g.GRID_CALCULATION_CHECK_PERIOD==1&&N&&this.updateGrid(),J=new Set,j=0;j<Q.length;j++)V=Q[j],this.calculateRepulsionForceOfANode(V,J,N,F),J.add(V);else for(j=0;j<Q.length;j++)for(V=Q[j],U=j+1;U<Q.length;U++)Z=Q[U],V.getOwner()==Z.getOwner()&&this.calcRepulsionForce(V,Z)},I.prototype.calcGravitationalForces=function(){for(var N,F=this.getAllNodesToApplyGravitation(),j=0;j<F.length;j++)N=F[j],this.calcGravitationalForce(N)},I.prototype.moveNodes=function(){for(var N=this.getAllNodes(),F,j=0;j<N.length;j++)F=N[j],F.move()},I.prototype.calcSpringForce=function(N,F){var j=N.getSource(),U=N.getTarget(),V,Z,Q,J;if(this.uniformLeafNodeSizes&&j.getChild()==null&&U.getChild()==null)N.updateLengthSimple();else if(N.updateLength(),N.isOverlapingSourceAndTarget)return;V=N.getLength(),V!=0&&(Z=this.springConstant*(V-F),Q=Z*(N.lengthX/V),J=Z*(N.lengthY/V),j.springForceX+=Q,j.springForceY+=J,U.springForceX-=Q,U.springForceY-=J)},I.prototype.calcRepulsionForce=function(N,F){var j=N.getRect(),U=F.getRect(),V=new Array(2),Z=new Array(4),Q,J,te,oe,ue,se,le;if(j.intersects(U)){S.calcSeparationAmount(j,U,V,g.DEFAULT_EDGE_LENGTH/2),se=2*V[0],le=2*V[1];var de=N.noOfChildren*F.noOfChildren/(N.noOfChildren+F.noOfChildren);N.repulsionForceX-=de*se,N.repulsionForceY-=de*le,F.repulsionForceX+=de*se,F.repulsionForceY+=de*le}else this.uniformLeafNodeSizes&&N.getChild()==null&&F.getChild()==null?(Q=U.getCenterX()-j.getCenterX(),J=U.getCenterY()-j.getCenterY()):(S.getIntersection(j,U,Z),Q=Z[2]-Z[0],J=Z[3]-Z[1]),Math.abs(Q)<g.MIN_REPULSION_DIST&&(Q=M.sign(Q)*g.MIN_REPULSION_DIST),Math.abs(J)<g.MIN_REPULSION_DIST&&(J=M.sign(J)*g.MIN_REPULSION_DIST),te=Q*Q+J*J,oe=Math.sqrt(te),ue=this.repulsionConstant*N.noOfChildren*F.noOfChildren/te,se=ue*Q/oe,le=ue*J/oe,N.repulsionForceX-=se,N.repulsionForceY-=le,F.repulsionForceX+=se,F.repulsionForceY+=le},I.prototype.calcGravitationalForce=function(N){var F,j,U,V,Z,Q,J,te;F=N.getOwner(),j=(F.getRight()+F.getLeft())/2,U=(F.getTop()+F.getBottom())/2,V=N.getCenterX()-j,Z=N.getCenterY()-U,Q=Math.abs(V)+N.getWidth()/2,J=Math.abs(Z)+N.getHeight()/2,N.getOwner()==this.graphManager.getRoot()?(te=F.getEstimatedSize()*this.gravityRangeFactor,(Q>te||J>te)&&(N.gravitationForceX=-this.gravityConstant*V,N.gravitationForceY=-this.gravityConstant*Z)):(te=F.getEstimatedSize()*this.compoundGravityRangeFactor,(Q>te||J>te)&&(N.gravitationForceX=-this.gravityConstant*V*this.compoundGravityConstant,N.gravitationForceY=-this.gravityConstant*Z*this.compoundGravityConstant))},I.prototype.isConverged=function(){var N,F=!1;return this.totalIterations>this.maxIterations/3&&(F=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),N=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,N||F},I.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},I.prototype.calcNoOfChildrenForAllNodes=function(){for(var N,F=this.graphManager.getAllNodes(),j=0;j<F.length;j++)N=F[j],N.noOfChildren=N.getNoOfChildren()},I.prototype.calcGrid=function(N){var F=0,j=0;F=parseInt(Math.ceil((N.getRight()-N.getLeft())/this.repulsionRange)),j=parseInt(Math.ceil((N.getBottom()-N.getTop())/this.repulsionRange));for(var U=new Array(F),V=0;V<F;V++)U[V]=new Array(j);for(var V=0;V<F;V++)for(var Z=0;Z<j;Z++)U[V][Z]=new Array;return U},I.prototype.addNodeToGrid=function(N,F,j){var U=0,V=0,Z=0,Q=0;U=parseInt(Math.floor((N.getRect().x-F)/this.repulsionRange)),V=parseInt(Math.floor((N.getRect().width+N.getRect().x-F)/this.repulsionRange)),Z=parseInt(Math.floor((N.getRect().y-j)/this.repulsionRange)),Q=parseInt(Math.floor((N.getRect().height+N.getRect().y-j)/this.repulsionRange));for(var J=U;J<=V;J++)for(var te=Z;te<=Q;te++)this.grid[J][te].push(N),N.setGridCoordinates(U,V,Z,Q)},I.prototype.updateGrid=function(){var N,F,j=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),N=0;N<j.length;N++)F=j[N],this.addNodeToGrid(F,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},I.prototype.calculateRepulsionForceOfANode=function(N,F,j,U){if(this.totalIterations%g.GRID_CALCULATION_CHECK_PERIOD==1&&j||U){var V=new Set;N.surrounding=new Array;for(var Z,Q=this.grid,J=N.startX-1;J<N.finishX+2;J++)for(var te=N.startY-1;te<N.finishY+2;te++)if(!(J<0||te<0||J>=Q.length||te>=Q[0].length)){for(var oe=0;oe<Q[J][te].length;oe++)if(Z=Q[J][te][oe],!(N.getOwner()!=Z.getOwner()||N==Z)&&!F.has(Z)&&!V.has(Z)){var ue=Math.abs(N.getCenterX()-Z.getCenterX())-(N.getWidth()/2+Z.getWidth()/2),se=Math.abs(N.getCenterY()-Z.getCenterY())-(N.getHeight()/2+Z.getHeight()/2);ue<=this.repulsionRange&&se<=this.repulsionRange&&V.add(Z)}}N.surrounding=[].concat(f(V))}for(J=0;J<N.surrounding.length;J++)this.calcRepulsionForce(N,N.surrounding[J])},I.prototype.calcRepulsionRange=function(){return 0},n.exports=I},function(n,s,u){var f=u(1),d=u(7);function g(S,M,I){f.call(this,S,M,I),this.idealLength=d.DEFAULT_EDGE_LENGTH}g.prototype=Object.create(f.prototype);for(var v in f)g[v]=f[v];n.exports=g},function(n,s,u){var f=u(3);function d(v,S,M,I){f.call(this,v,S,M,I),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}d.prototype=Object.create(f.prototype);for(var g in f)d[g]=f[g];d.prototype.setGridCoordinates=function(v,S,M,I){this.startX=v,this.finishX=S,this.startY=M,this.finishY=I},n.exports=d},function(n,s,u){function f(d,g){this.width=0,this.height=0,d!==null&&g!==null&&(this.height=g,this.width=d)}f.prototype.getWidth=function(){return this.width},f.prototype.setWidth=function(d){this.width=d},f.prototype.getHeight=function(){return this.height},f.prototype.setHeight=function(d){this.height=d},n.exports=f},function(n,s,u){var f=u(14);function d(){this.map={},this.keys=[]}d.prototype.put=function(g,v){var S=f.createID(g);this.contains(S)||(this.map[S]=v,this.keys.push(g))},d.prototype.contains=function(g){return f.createID(g),this.map[g]!=null},d.prototype.get=function(g){var v=f.createID(g);return this.map[v]},d.prototype.keySet=function(){return this.keys},n.exports=d},function(n,s,u){var f=u(14);function d(){this.set={}}d.prototype.add=function(g){var v=f.createID(g);this.contains(v)||(this.set[v]=g)},d.prototype.remove=function(g){delete this.set[f.createID(g)]},d.prototype.clear=function(){this.set={}},d.prototype.contains=function(g){return this.set[f.createID(g)]==g},d.prototype.isEmpty=function(){return this.size()===0},d.prototype.size=function(){return Object.keys(this.set).length},d.prototype.addAllTo=function(g){for(var v=Object.keys(this.set),S=v.length,M=0;M<S;M++)g.push(this.set[v[M]])},d.prototype.size=function(){return Object.keys(this.set).length},d.prototype.addAll=function(g){for(var v=g.length,S=0;S<v;S++){var M=g[S];this.add(M)}},n.exports=d},function(n,s,u){var f=function(){function S(M,I){for(var P=0;P<I.length;P++){var N=I[P];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(M,N.key,N)}}return function(M,I,P){return I&&S(M.prototype,I),P&&S(M,P),M}}();function d(S,M){if(!(S instanceof M))throw new TypeError("Cannot call a class as a function")}var g=u(11),v=function(){function S(M,I){d(this,S),(I!==null||I!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var P=void 0;M instanceof g?P=M.size():P=M.length,this._quicksort(M,0,P-1)}return f(S,[{key:"_quicksort",value:function(I,P,N){if(P<N){var F=this._partition(I,P,N);this._quicksort(I,P,F),this._quicksort(I,F+1,N)}}},{key:"_partition",value:function(I,P,N){for(var F=this._get(I,P),j=P,U=N;;){for(;this.compareFunction(F,this._get(I,U));)U--;for(;this.compareFunction(this._get(I,j),F);)j++;if(j<U)this._swap(I,j,U),j++,U--;else return U}}},{key:"_get",value:function(I,P){return I instanceof g?I.get_object_at(P):I[P]}},{key:"_set",value:function(I,P,N){I instanceof g?I.set_object_at(P,N):I[P]=N}},{key:"_swap",value:function(I,P,N){var F=this._get(I,P);this._set(I,P,this._get(I,N)),this._set(I,N,F)}},{key:"_defaultCompareFunction",value:function(I,P){return P>I}}]),S}();n.exports=v},function(n,s,u){var f=function(){function v(S,M){for(var I=0;I<M.length;I++){var P=M[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(S,P.key,P)}}return function(S,M,I){return M&&v(S.prototype,M),I&&v(S,I),S}}();function d(v,S){if(!(v instanceof S))throw new TypeError("Cannot call a class as a function")}var g=function(){function v(S,M){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;d(this,v),this.sequence1=S,this.sequence2=M,this.match_score=I,this.mismatch_penalty=P,this.gap_penalty=N,this.iMax=S.length+1,this.jMax=M.length+1,this.grid=new Array(this.iMax);for(var F=0;F<this.iMax;F++){this.grid[F]=new Array(this.jMax);for(var j=0;j<this.jMax;j++)this.grid[F][j]=0}this.tracebackGrid=new Array(this.iMax);for(var U=0;U<this.iMax;U++){this.tracebackGrid[U]=new Array(this.jMax);for(var V=0;V<this.jMax;V++)this.tracebackGrid[U][V]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return f(v,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var M=1;M<this.jMax;M++)this.grid[0][M]=this.grid[0][M-1]+this.gap_penalty,this.tracebackGrid[0][M]=[!1,!1,!0];for(var I=1;I<this.iMax;I++)this.grid[I][0]=this.grid[I-1][0]+this.gap_penalty,this.tracebackGrid[I][0]=[!1,!0,!1];for(var P=1;P<this.iMax;P++)for(var N=1;N<this.jMax;N++){var F=void 0;this.sequence1[P-1]===this.sequence2[N-1]?F=this.grid[P-1][N-1]+this.match_score:F=this.grid[P-1][N-1]+this.mismatch_penalty;var j=this.grid[P-1][N]+this.gap_penalty,U=this.grid[P][N-1]+this.gap_penalty,V=[F,j,U],Z=this.arrayAllMaxIndexes(V);this.grid[P][N]=V[Z[0]],this.tracebackGrid[P][N]=[Z.includes(0),Z.includes(1),Z.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var M=[];for(M.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});M[0];){var I=M[0],P=this.tracebackGrid[I.pos[0]][I.pos[1]];P[0]&&M.push({pos:[I.pos[0]-1,I.pos[1]-1],seq1:this.sequence1[I.pos[0]-1]+I.seq1,seq2:this.sequence2[I.pos[1]-1]+I.seq2}),P[1]&&M.push({pos:[I.pos[0]-1,I.pos[1]],seq1:this.sequence1[I.pos[0]-1]+I.seq1,seq2:"-"+I.seq2}),P[2]&&M.push({pos:[I.pos[0],I.pos[1]-1],seq1:"-"+I.seq1,seq2:this.sequence2[I.pos[1]-1]+I.seq2}),I.pos[0]===0&&I.pos[1]===0&&this.alignments.push({sequence1:I.seq1,sequence2:I.seq2}),M.shift()}return this.alignments}},{key:"getAllIndexes",value:function(M,I){for(var P=[],N=-1;(N=M.indexOf(I,N+1))!==-1;)P.push(N);return P}},{key:"arrayAllMaxIndexes",value:function(M){return this.getAllIndexes(M,Math.max.apply(null,M))}}]),v}();n.exports=g},function(n,s,u){var f=function(){};f.FDLayout=u(18),f.FDLayoutConstants=u(7),f.FDLayoutEdge=u(19),f.FDLayoutNode=u(20),f.DimensionD=u(21),f.HashMap=u(22),f.HashSet=u(23),f.IGeometry=u(8),f.IMath=u(9),f.Integer=u(10),f.Point=u(12),f.PointD=u(4),f.RandomSeed=u(16),f.RectangleD=u(13),f.Transform=u(17),f.UniqueIDGeneretor=u(14),f.Quicksort=u(24),f.LinkedList=u(11),f.LGraphObject=u(2),f.LGraph=u(5),f.LEdge=u(1),f.LGraphManager=u(6),f.LNode=u(3),f.Layout=u(15),f.LayoutConstants=u(0),f.NeedlemanWunsch=u(25),n.exports=f},function(n,s,u){function f(){this.listeners=[]}var d=f.prototype;d.addListener=function(g,v){this.listeners.push({event:g,callback:v})},d.removeListener=function(g,v){for(var S=this.listeners.length;S>=0;S--){var M=this.listeners[S];M.event===g&&M.callback===v&&this.listeners.splice(S,1)}},d.emit=function(g,v){for(var S=0;S<this.listeners.length;S++){var M=this.listeners[S];g===M.event&&M.callback(v)}},n.exports=f}])})}(layoutBase)),layoutBaseExports}var hasRequiredAvsdfBase;function requireAvsdfBase(){return hasRequiredAvsdfBase||(hasRequiredAvsdfBase=1,function(e,t){(function(s,u){e.exports=u(requireLayoutBase())})(commonjsGlobal,function(n){return function(s){var u={};function f(d){if(u[d])return u[d].exports;var g=u[d]={i:d,l:!1,exports:{}};return s[d].call(g.exports,g,g.exports,f),g.l=!0,g.exports}return f.m=s,f.c=u,f.i=function(d){return d},f.d=function(d,g,v){f.o(d,g)||Object.defineProperty(d,g,{configurable:!1,enumerable:!0,get:v})},f.n=function(d){var g=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(g,"a",g),g},f.o=function(d,g){return Object.prototype.hasOwnProperty.call(d,g)},f.p="",f(f.s=6)}([function(s,u){s.exports=n},function(s,u,f){var d=f(0).LGraph;function g(S,M,I){d.call(this,S,M,I),this.inOrder=void 0,this.currentIndex=0,this.nodeSeparation=void 0,this.stack=[],this.perimeter=0,this.centerX=0,this.centerY=0,this.radius=0}g.prototype=Object.create(d.prototype);for(var v in d)g[v]=d[v];g.prototype.initOrdering=function(){this.inOrder=[]},g.prototype.getOrder=function(){return this.inOrder},g.prototype.getCenterX=function(){return this.centerX},g.prototype.getCenterY=function(){return this.centerY},g.prototype.getRadius=function(){return this.radius},g.prototype.getSize=function(){return this.getNodes().length},g.prototype.getTotalCrossingOfCircle=function(){var S=this,M=0;for(var I in S.inOrder){var P=I.getTotalCrossingOfEdges();if(P===-1)return-1;M+=P}return M/4},g.prototype.hasFinishedOrdering=function(){return this.currentIndex===this.getNodes().length},g.prototype.getNodeSeparation=function(){return this.nodeSeparation},g.prototype.setNodeSeparation=function(S){this.nodeSeparation=S},g.prototype.correctAngles=function(){var S=this;S.currentIndex=0,S.inOrder.forEach(function(M){return S.putInOrder(M)})},g.prototype.putInOrder=function(S){for(var M=this,I=M.getNodes(),P=!1,N=0;N<I.length;N++)if(I[N].id==S.id){P=!0;break}if(!P)throw"The node must be a member of LGraph";M.inOrder[M.currentIndex]=S,S.setIndex(M.currentIndex),M.currentIndex===0?S.setAngle(0):S.setAngle(M.inOrder[M.currentIndex-1].getAngle()+2*Math.PI*(S.getDiagonal()/2+M.nodeSeparation+M.inOrder[M.currentIndex-1].getDiagonal()/2)/M.perimeter),M.currentIndex++},g.prototype.findNodeToPlace=function(){var S=this,M=void 0;if(S.stack.length===0)M=S.findUnorderedSmallestDegreeNode();else{for(var I=!1;!I&&S.stack.length!==0;)M=S.stack.pop(),I=!M.isOrdered();I||(M=void 0)}if(M===void 0&&(M=S.findUnorderedSmallestDegreeNode()),M!==void 0)for(var P=M.getNeighborsSortedByDegree(),N=P.length-1;N>=0;N--){var F=P[N];F.isOrdered()||S.stack.push(F)}return M},g.prototype.calculateRadius=function(){var S=this,M=0;S.getNodes().forEach(function(P){return M+=Math.sqrt(P.getWidth()*P.getWidth()+P.getHeight()*P.getHeight())}),S.perimeter=M+S.getNodes().length*S.nodeSeparation;var I=S.perimeter/(2*Math.PI);S.getParent().setWidth(2*I),S.getParent().setHeight(2*I),S.getParent().setCenter(S.getParent().getWidth(),S.getParent().getHeight()),S.centerX=S.getParent().getCenterX(),S.centerY=S.getParent().getCenterY(),S.radius=S.getParent().getHeight()/2},g.prototype.calculateEdgeCrossingsOfNodes=function(){this.getNodes().forEach(function(S){return S.calculateTotalCrossing()})},g.prototype.loadOldIndicesOfNodes=function(){for(var S=this,M=0;M<this.inOrder.length;M++)S.inOrder[M].setIndex(M)},g.prototype.reOrderVertices=function(){var S=this;this.getNodes().forEach(function(M){return S.inOrder[M.getIndex()]=M})},g.prototype.findUnorderedSmallestDegreeNode=function(){var S=Number.MAX_SAFE_INTEGER,M=void 0;return this.getNodes().forEach(function(I){I.getDegree()<S&&!I.isOrdered()&&(S=I.getDegree(),M=I)}),M},s.exports=g},function(s,u,f){var d=f(0).LayoutConstants;function g(){}for(var v in d)g[v]=d[v];g.DEFAULT_NODE_SEPARATION=60,s.exports=g},function(s,u,f){var d=f(0).LEdge;function g(S,M,I){d.call(this,S,M,I)}g.prototype=Object.create(d.prototype);for(var v in d)g[v]=d[v];g.prototype.getOtherEnd=function(S){return d.prototype.getOtherEnd(S)},g.prototype.crossesWithEdge=function(S){var M=this,I=M.getSource().getIndex(),P=M.getTarget().getIndex(),N=S.getSource().getIndex(),F=S.getTarget().getIndex();if(I===-1||P===-1||N===-1||F===-1)return!1;var j=S.getSource().getCircDistWithTheNode(M.getSource()),U=S.getTarget().getCircDistWithTheNode(M.getSource()),V=M.getTarget().getCircDistWithTheNode(M.getSource());return V<Math.max(j,U)&&V>Math.min(j,U)&&U!==0&&j!==0},g.prototype.crossingWithEdge=function(S){var M=this,I=M.crossesWithEdge(S);return I?1:0},g.prototype.calculateTotalCrossingWithList=function(S){var M=this,I=0;return S.forEach(function(P){return I+=M.crossingWithEdge(P)}),I},s.exports=g},function(s,u,f){var d=f(0).LNode;f(0).Quicksort;function g(S,M,I,P){I!==void 0&&P!==void 0?d.call(this,S,M,I,P):d.call(this,S,M),this.angle=0,this.circleIndex=-1,this.totalCrossingOfEdges=-1,this.isCrossingNumberValid=!1}g.prototype=Object.create(d.prototype);for(var v in d)g[v]=d[v];g.prototype.getCircle=function(){return this.getOwner()},g.prototype.setIndex=function(S){this.circleIndex=S,this.isCrossingNumberValid=!1},g.prototype.getIndex=function(){return this.circleIndex},g.prototype.getNeighborsSortedByDegree=function(){var S=this,M=Array.from(S.getNeighborsList());return M=M.filter(function(I){return I.getIndex()===-1}),M.sort(function(I,P){return I.getDegree()-P.getDegree()}),M},g.prototype.getDegree=function(){return this.getEdges().length},g.prototype.isOrdered=function(){return this.getIndex()>-1},g.prototype.setAngle=function(S){this.angle=S},g.prototype.getAngle=function(){return this.angle},g.prototype.getCircDistWithTheNode=function(S){var M=this,I=S.getIndex();if(I===-1||M.getIndex()===-1)return-1;var P=M.getIndex()-I;return P<0&&(P+=M.getCircle().getSize()),P},g.prototype.getCrossingNumberWithNode=function(S){var M=this,I=0;return M.getEdges().forEach(function(P){S.getEdges().forEach(function(N){I+=P.crossingWithEdge(N)})}),I},g.prototype.getTotalCrossingOfEdges=function(){var S=this;return S.isCrossingNumberValid||(S.calculateTotalCrossing(),S.isCrossingNumberValid=!0),S.totalCrossingOfEdges},g.prototype.calculateTotalCrossing=function(){var S=this,M=0,I=[];I.push.apply(I,S.getCircle().getEdges()),I=I.filter(function(P){return S.getEdges().indexOf(P)<0}),S.getEdges().forEach(function(P){return M+=P.calculateTotalCrossingWithList(I)}),S.totalCrossingOfEdges=M},s.exports=g},function(s,u,f){var d=f(0).Layout,g=f(2),v=f(1),S=f(4),M=f(3);function I(){d.call(this),this.nodeSeparation=g.DEFAULT_NODE_SEPARATION}I.prototype=Object.create(d.prototype);for(var P in d)I[P]=d[P];I.prototype.newGraph=function(N){return this.avsdfCircle=new v(null,this.graphManager,N),this.avsdfCircle},I.prototype.newNode=function(N){return new S(this.graphManager,N)},I.prototype.newEdge=function(N){return new M(null,null,N)},I.prototype.getPositionsData=function(){for(var N=this.graphManager.getAllNodes(),F={},j=0;j<N.length;j++){var U=N[j].rect,V=N[j].id;F[V]={id:V,x:U.getCenterX(),y:U.getCenterY(),w:U.width,h:U.height}}return F},I.prototype.layout=function(){var N=this;if(N.graphManager.getGraphs().length>1)return!1;var F=this.avsdfCircle;for(F.setNodeSeparation(this.nodeSeparation),F.calculateRadius(),F.initOrdering();!F.hasFinishedOrdering();){var j=F.findNodeToPlace();F.putInOrder(j)}return!0},I.prototype.updateNodeAngles=function(){this.graphManager.getRoot().correctAngles()},I.prototype.updateNodeCoordinates=function(){var N=this.graphManager.getRoot();N.getNodes().forEach(function(F){F.setCenter(N.getCenterX()+N.getRadius()*Math.cos(F.getAngle()),N.getCenterY()+N.getRadius()*Math.sin(F.getAngle()))})},I.prototype.initPostProcess=function(){this.avsdfCircle.calculateEdgeCrossingsOfNodes();var N=this.avsdfCircle.getNodes();return N.sort(function(F,j){return j.getTotalCrossingOfEdges()-F.getTotalCrossingOfEdges()}),N},I.prototype.oneStepPostProcess=function(N){for(var F=this,j=N.getTotalCrossingOfEdges(),U=void 0,V=Array.from(N.getNeighborsList()),Z=0;Z<V.length;Z++){var Q=V[Z],J=N.getIndex(),te=(Q.getIndex()+1)%F.avsdfCircle.getSize();if(J!==te){N.setIndex(te),J<N.getIndex()&&(J+=F.avsdfCircle.getSize());for(var oe=N.getIndex();oe<J;){var ue=F.avsdfCircle.getOrder()[oe%F.avsdfCircle.getSize()];ue.setIndex((ue.getIndex()+1)%F.avsdfCircle.getSize()),oe+=1}N.calculateTotalCrossing(),U=N.getTotalCrossingOfEdges(),U>=j?F.avsdfCircle.loadOldIndicesOfNodes():(F.avsdfCircle.reOrderVertices(),j=U)}}},s.exports=I},function(s,u,f){var d={};d.layoutBase=f(0),d.AVSDFConstants=f(2),d.AVSDFEdge=f(3),d.AVSDFCircle=f(1),d.AVSDFLayout=f(5),d.AVSDFNode=f(4),s.exports=d}])})}(avsdfBase)),avsdfBaseExports}(function(e,t){(function(s,u){e.exports=u(requireAvsdfBase())})(commonjsGlobal,function(n){return function(s){var u={};function f(d){if(u[d])return u[d].exports;var g=u[d]={i:d,l:!1,exports:{}};return s[d].call(g.exports,g,g.exports,f),g.l=!0,g.exports}return f.m=s,f.c=u,f.i=function(d){return d},f.d=function(d,g,v){f.o(d,g)||Object.defineProperty(d,g,{configurable:!1,enumerable:!0,get:v})},f.n=function(d){var g=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(g,"a",g),g},f.o=function(d,g){return Object.prototype.hasOwnProperty.call(d,g)},f.p="",f(f.s=3)}([function(s,u){s.exports=n},function(s,u,f){s.exports=Object.assign!=null?Object.assign.bind(Object):function(d){for(var g=arguments.length,v=Array(g>1?g-1:0),S=1;S<g;S++)v[S-1]=arguments[S];return v.forEach(function(M){Object.keys(M).forEach(function(I){return d[I]=M[I]})}),d}},function(s,u,f){s.exports=f(4)},function(s,u,f){var d=f(2),g=function(S){S&&S("layout","avsdf",d)};typeof cytoscape<"u"&&g(cytoscape),s.exports=g},function(s,u,f){var d=function(){function J(te,oe){for(var ue=0;ue<oe.length;ue++){var se=oe[ue];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(te,se.key,se)}}return function(te,oe,ue){return oe&&J(te.prototype,oe),ue&&J(te,ue),te}}(),g=function J(te,oe,ue){te===null&&(te=Function.prototype);var se=Object.getOwnPropertyDescriptor(te,oe);if(se===void 0){var le=Object.getPrototypeOf(te);return le===null?void 0:J(le,oe,ue)}else{if("value"in se)return se.value;var de=se.get;return de===void 0?void 0:de.call(ue)}};function v(J,te){if(!(J instanceof te))throw new TypeError("Cannot call a class as a function")}function S(J,te){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te&&(typeof te=="object"||typeof te=="function")?te:J}function M(J,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof te);J.prototype=Object.create(te&&te.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf(J,te):J.__proto__=te)}var I=f(0).AVSDFLayout,P=f(0).AVSDFNode,N=f(0).AVSDFConstants,F=f(0).layoutBase.PointD,j=f(0).layoutBase.DimensionD,U=f(1),V=f(6),Z={ready:function(){},stop:function(){},refresh:30,fit:!0,padding:10,randomize:!1,animate:"end",animationDuration:500,nodeSeparation:60},Q=function(J){M(te,J);function te(oe){v(this,te);var ue=S(this,(te.__proto__||Object.getPrototypeOf(te)).call(this,U({},Z,oe)));return oe.nodeSeparation!=null?N.DEFAULT_NODE_SEPARATION=oe.nodeSeparation:N.DEFAULT_NODE_SEPARATION=Z.nodeSeparation,ue}return d(te,[{key:"prerun",value:function(){var ue=this.state,se=this.avsdfLayout=new I,le=this.graphManager=se.newGraphManager(),de=this.root=le.addRoot(),ge=ue.nodes,ve=ue.edges;this.idToLNode={},this.processChildrenList(de,ge,se);for(var me=0;me<ve.length;me++){var ye=ve[me],Ae=this.idToLNode[ye.data("source")],Te=this.idToLNode[ye.data("target")];if(Ae!==Te&&Ae.getEdgesBetween(Te).length===0){var Oe=le.add(se.newEdge(),Ae,Te);Oe.id=ye.id()}}se.layout(),se.updateNodeCoordinates(),this.sortedByDegreeList=se.initPostProcess()}},{key:"tick",value:function(){var ue=this,se=this.state,le=this.avsdfLayout.getPositionsData();if(se.nodes.forEach(function(de){var ge=ue.getScratch(de);ge.x=le[de.data("id")].x,ge.y=le[de.data("id")].y}),se.tickIndex>=se.nodes.size())return!0;this.avsdfLayout.oneStepPostProcess(this.sortedByDegreeList[se.tickIndex]),this.avsdfLayout.updateNodeAngles(),this.avsdfLayout.updateNodeCoordinates()}},{key:"postrun",value:function(){}},{key:"destroy",value:function(){return g(te.prototype.__proto__||Object.getPrototypeOf(te.prototype),"destroy",this).call(this),this}},{key:"processChildrenList",value:function(ue,se,le){for(var de=se.length,ge=0;ge<de;ge++){var ve=se[ge],me=void 0,ye=ve.layoutDimensions({nodeDimensionsIncludeLabels:!1});ve.outerWidth()!=null&&ve.outerHeight()!=null?me=ue.add(new P(le.graphManager,null,new F(ve.position("x")-ye.w/2,ve.position("y")-ye.h/2),new j(parseFloat(ye.w),parseFloat(ye.h)))):me=ue.add(new P(this.graphManager)),me.id=ve.data("id"),me.paddingLeft=parseInt(ve.css("padding")),me.paddingTop=parseInt(ve.css("padding")),me.paddingRight=parseInt(ve.css("padding")),me.paddingBottom=parseInt(ve.css("padding")),this.idToLNode[ve.data("id")]=me,isNaN(me.rect.x)&&(me.rect.x=0),isNaN(me.rect.y)&&(me.rect.y=0)}}}]),te}(V);s.exports=Q},function(s,u,f){s.exports=Object.freeze({animate:!0,refresh:10,maxIterations:1e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,infinite:!1})},function(s,u,f){var d=function(){function Z(Q,J){for(var te=0;te<J.length;te++){var oe=J[te];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(Q,oe.key,oe)}}return function(Q,J,te){return J&&Z(Q.prototype,J),te&&Z(Q,te),Q}}();function g(Z,Q){if(!(Z instanceof Q))throw new TypeError("Cannot call a class as a function")}var v=f(1),S=f(5),M=f(7),I=f(8),P=I.setInitialPositionState,N=I.refreshPositions,F=I.getNodePositionData,j=f(9),U=j.multitick,V=function(){function Z(Q){g(this,Z);var J=this.options=v({},S,Q),te=this.state=v({},J,{layout:this,nodes:J.eles.nodes(),edges:J.eles.edges(),tickIndex:0,firstUpdate:!0});te.animateEnd=J.animate&&J.animate==="end",te.animateContinuously=J.animate&&!te.animateEnd}return d(Z,[{key:"getScratch",value:function(J){var te=this.state.name,oe=J.scratch(te);return oe||(oe={},J.scratch(te,oe)),oe}},{key:"run",value:function(){var J=this,te=this.state;if(te.tickIndex=0,te.firstUpdate=!0,te.startTime=Date.now(),te.running=!0,te.currentBoundingBox=M(te.boundingBox,te.cy),te.ready&&J.one("ready",te.ready),te.stop&&J.one("stop",te.stop),te.nodes.forEach(function(Pe){return P(Pe,te)}),J.prerun(te),te.animateContinuously){var oe=function(Ne){if(te.ungrabifyWhileSimulating){var He=F(Ne,te).grabbable=Ne.grabbable();He&&Ne.ungrabify()}},ue=function(Ne){if(te.ungrabifyWhileSimulating){var He=F(Ne,te).grabbable;He&&Ne.grabify()}},se=function(Ne){return F(Ne,te).grabbed=Ne.grabbed()},le=function(Ne){var He=Ne.target;se(He)},de=le,ge=function(Ne){var He=Ne.target,je=F(He,te),ze=He.position();je.x=ze.x,je.y=ze.y},ve=function(Ne){Ne.on("grab",le),Ne.on("free",de),Ne.on("drag",ge)},me=function(Ne){Ne.removeListener("grab",le),Ne.removeListener("free",de),Ne.removeListener("drag",ge)},ye=function(){te.fit&&te.animateContinuously&&te.cy.fit(te.padding)},Ae=function(){N(te.nodes,te),ye(),requestAnimationFrame(Te)},Te=function(){U(te,Ae,Oe)},Oe=function(){N(te.nodes,te),ye(),te.nodes.forEach(function(Ne){ue(Ne),me(Ne)}),te.running=!1,J.emit("layoutstop")};J.emit("layoutstart"),te.nodes.forEach(function(Pe){oe(Pe),ve(Pe)}),Te()}else{for(var Ie=!1,Be=function(){},De=function(){return Ie=!0};!Ie;)U(te,Be,De);te.eles.layoutPositions(this,te,function(Pe){var Ne=F(Pe,te);return{x:Ne.x,y:Ne.y}})}return J.postrun(te),this}},{key:"prerun",value:function(){}},{key:"postrun",value:function(){}},{key:"tick",value:function(){}},{key:"stop",value:function(){return this.state.running=!1,this}},{key:"destroy",value:function(){return this}}]),Z}();s.exports=V},function(s,u,f){s.exports=function(d,g){return d==null?d={x1:0,y1:0,w:g.width(),h:g.height()}:d={x1:d.x1,x2:d.x2,y1:d.y1,y2:d.y2,w:d.w,h:d.h},d.x2==null&&(d.x2=d.x1+d.w),d.w==null&&(d.w=d.x2-d.x1),d.y2==null&&(d.y2=d.y1+d.h),d.h==null&&(d.h=d.y2-d.y1),d}},function(s,u,f){var d=f(1),g=function(I,P){var N=I.position(),F=P.currentBoundingBox,j=I.scratch(P.name);j==null&&(j={},I.scratch(P.name,j)),d(j,P.randomize?{x:F.x1+Math.round(Math.random()*F.w),y:F.y1+Math.round(Math.random()*F.h)}:{x:N.x,y:N.y}),j.locked=I.locked()},v=function(I,P){return I.scratch(P.name)},S=function(I,P){I.positions(function(N){var F=N.scratch(P.name);return{x:F.x,y:F.y}})};s.exports={setInitialPositionState:g,getNodePositionData:v,refreshPositions:S}},function(s,u,f){var d=function(){},g=function(M){var I=M,P=M.layout,N=P.tick(I);return I.firstUpdate&&(I.animateContinuously&&I.layout.emit("layoutready"),I.firstUpdate=!1),I.tickIndex++,Date.now()-I.startTime,!I.infinite&&N},v=function(M){for(var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d,N=!1,F=M,j=0;j<F.refresh&&(N=!F.running||g(F),!N);j++);N?P():I()};s.exports={tick:g,multitick:v}}])})})(cytoscapeAvsdf);const avsdf=getDefaultExportFromCjs(cytoscapeAvsdfExports);var cytoscapeDagreExports={},cytoscapeDagre={get exports(){return cytoscapeDagreExports},set exports(e){cytoscapeDagreExports=e}};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _stackClear,hasRequired_stackClear;function require_stackClear(){if(hasRequired_stackClear)return _stackClear;hasRequired_stackClear=1;var e=_ListCache;function t(){this.__data__=new e,this.size=0}return _stackClear=t,_stackClear}var _stackDelete,hasRequired_stackDelete;function require_stackDelete(){if(hasRequired_stackDelete)return _stackDelete;hasRequired_stackDelete=1;function e(t){var n=this.__data__,s=n.delete(t);return this.size=n.size,s}return _stackDelete=e,_stackDelete}var _stackGet,hasRequired_stackGet;function require_stackGet(){if(hasRequired_stackGet)return _stackGet;hasRequired_stackGet=1;function e(t){return this.__data__.get(t)}return _stackGet=e,_stackGet}var _stackHas,hasRequired_stackHas;function require_stackHas(){if(hasRequired_stackHas)return _stackHas;hasRequired_stackHas=1;function e(t){return this.__data__.has(t)}return _stackHas=e,_stackHas}var _stackSet,hasRequired_stackSet;function require_stackSet(){if(hasRequired_stackSet)return _stackSet;hasRequired_stackSet=1;var e=_ListCache,t=_Map,n=_MapCache,s=200;function u(f,d){var g=this.__data__;if(g instanceof e){var v=g.__data__;if(!t||v.length<s-1)return v.push([f,d]),this.size=++g.size,this;g=this.__data__=new n(v)}return g.set(f,d),this.size=g.size,this}return _stackSet=u,_stackSet}var _Stack,hasRequired_Stack;function require_Stack(){if(hasRequired_Stack)return _Stack;hasRequired_Stack=1;var e=_ListCache,t=require_stackClear(),n=require_stackDelete(),s=require_stackGet(),u=require_stackHas(),f=require_stackSet();function d(g){var v=this.__data__=new e(g);this.size=v.size}return d.prototype.clear=t,d.prototype.delete=n,d.prototype.get=s,d.prototype.has=u,d.prototype.set=f,_Stack=d,_Stack}var _arrayEach,hasRequired_arrayEach;function require_arrayEach(){if(hasRequired_arrayEach)return _arrayEach;hasRequired_arrayEach=1;function e(t,n){for(var s=-1,u=t==null?0:t.length;++s<u&&n(t[s],s,t)!==!1;);return t}return _arrayEach=e,_arrayEach}var _copyObject,hasRequired_copyObject;function require_copyObject(){if(hasRequired_copyObject)return _copyObject;hasRequired_copyObject=1;var e=_assignValue,t=_baseAssignValue;function n(s,u,f,d){var g=!f;f||(f={});for(var v=-1,S=u.length;++v<S;){var M=u[v],I=d?d(f[M],s[M],M,f,s):void 0;I===void 0&&(I=s[M]),g?t(f,M,I):e(f,M,I)}return f}return _copyObject=n,_copyObject}var _baseTimes,hasRequired_baseTimes;function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;hasRequired_baseTimes=1;function e(t,n){for(var s=-1,u=Array(t);++s<t;)u[s]=n(s);return u}return _baseTimes=e,_baseTimes}var _baseIsArguments,hasRequired_baseIsArguments;function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var e=_baseGetTag,t=isObjectLike_1,n="[object Arguments]";function s(u){return t(u)&&e(u)==n}return _baseIsArguments=s,_baseIsArguments}var isArguments_1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments_1;hasRequiredIsArguments=1;var e=require_baseIsArguments(),t=isObjectLike_1,n=Object.prototype,s=n.hasOwnProperty,u=n.propertyIsEnumerable,f=e(function(){return arguments}())?e:function(d){return t(d)&&s.call(d,"callee")&&!u.call(d,"callee")};return isArguments_1=f,isArguments_1}var isBufferExports={},isBuffer={get exports(){return isBufferExports},set exports(e){isBufferExports=e}},stubFalse_1,hasRequiredStubFalse;function requireStubFalse(){if(hasRequiredStubFalse)return stubFalse_1;hasRequiredStubFalse=1;function e(){return!1}return stubFalse_1=e,stubFalse_1}var hasRequiredIsBuffer;function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,function(e,t){var n=_root,s=requireStubFalse(),u=t&&!t.nodeType&&t,f=u&&!0&&e&&!e.nodeType&&e,d=f&&f.exports===u,g=d?n.Buffer:void 0,v=g?g.isBuffer:void 0,S=v||s;e.exports=S}(isBuffer,isBufferExports)),isBufferExports}var isLength_1,hasRequiredIsLength;function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return isLength_1=t,isLength_1}var _baseIsTypedArray,hasRequired_baseIsTypedArray;function require_baseIsTypedArray(){if(hasRequired_baseIsTypedArray)return _baseIsTypedArray;hasRequired_baseIsTypedArray=1;var e=_baseGetTag,t=requireIsLength(),n=isObjectLike_1,s="[object Arguments]",u="[object Array]",f="[object Boolean]",d="[object Date]",g="[object Error]",v="[object Function]",S="[object Map]",M="[object Number]",I="[object Object]",P="[object RegExp]",N="[object Set]",F="[object String]",j="[object WeakMap]",U="[object ArrayBuffer]",V="[object DataView]",Z="[object Float32Array]",Q="[object Float64Array]",J="[object Int8Array]",te="[object Int16Array]",oe="[object Int32Array]",ue="[object Uint8Array]",se="[object Uint8ClampedArray]",le="[object Uint16Array]",de="[object Uint32Array]",ge={};ge[Z]=ge[Q]=ge[J]=ge[te]=ge[oe]=ge[ue]=ge[se]=ge[le]=ge[de]=!0,ge[s]=ge[u]=ge[U]=ge[f]=ge[V]=ge[d]=ge[g]=ge[v]=ge[S]=ge[M]=ge[I]=ge[P]=ge[N]=ge[F]=ge[j]=!1;function ve(me){return n(me)&&t(me.length)&&!!ge[e(me)]}return _baseIsTypedArray=ve,_baseIsTypedArray}var _baseUnary,hasRequired_baseUnary;function require_baseUnary(){if(hasRequired_baseUnary)return _baseUnary;hasRequired_baseUnary=1;function e(t){return function(n){return t(n)}}return _baseUnary=e,_baseUnary}var _nodeUtilExports={},_nodeUtil={get exports(){return _nodeUtilExports},set exports(e){_nodeUtilExports=e}},hasRequired_nodeUtil;function require_nodeUtil(){return hasRequired_nodeUtil||(hasRequired_nodeUtil=1,function(e,t){var n=_freeGlobal,s=t&&!t.nodeType&&t,u=s&&!0&&e&&!e.nodeType&&e,f=u&&u.exports===s,d=f&&n.process,g=function(){try{var v=u&&u.require&&u.require("util").types;return v||d&&d.binding&&d.binding("util")}catch{}}();e.exports=g}(_nodeUtil,_nodeUtilExports)),_nodeUtilExports}var isTypedArray_1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray_1;hasRequiredIsTypedArray=1;var e=require_baseIsTypedArray(),t=require_baseUnary(),n=require_nodeUtil(),s=n&&n.isTypedArray,u=s?t(s):e;return isTypedArray_1=u,isTypedArray_1}var _arrayLikeKeys,hasRequired_arrayLikeKeys;function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var e=require_baseTimes(),t=requireIsArguments(),n=isArray_1,s=requireIsBuffer(),u=_isIndex,f=requireIsTypedArray(),d=Object.prototype,g=d.hasOwnProperty;function v(S,M){var I=n(S),P=!I&&t(S),N=!I&&!P&&s(S),F=!I&&!P&&!N&&f(S),j=I||P||N||F,U=j?e(S.length,String):[],V=U.length;for(var Z in S)(M||g.call(S,Z))&&!(j&&(Z=="length"||N&&(Z=="offset"||Z=="parent")||F&&(Z=="buffer"||Z=="byteLength"||Z=="byteOffset")||u(Z,V)))&&U.push(Z);return U}return _arrayLikeKeys=v,_arrayLikeKeys}var _isPrototype,hasRequired_isPrototype;function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var e=Object.prototype;function t(n){var s=n&&n.constructor,u=typeof s=="function"&&s.prototype||e;return n===u}return _isPrototype=t,_isPrototype}var _overArg,hasRequired_overArg;function require_overArg(){if(hasRequired_overArg)return _overArg;hasRequired_overArg=1;function e(t,n){return function(s){return t(n(s))}}return _overArg=e,_overArg}var _nativeKeys,hasRequired_nativeKeys;function require_nativeKeys(){if(hasRequired_nativeKeys)return _nativeKeys;hasRequired_nativeKeys=1;var e=require_overArg(),t=e(Object.keys,Object);return _nativeKeys=t,_nativeKeys}var _baseKeys,hasRequired_baseKeys;function require_baseKeys(){if(hasRequired_baseKeys)return _baseKeys;hasRequired_baseKeys=1;var e=require_isPrototype(),t=require_nativeKeys(),n=Object.prototype,s=n.hasOwnProperty;function u(f){if(!e(f))return t(f);var d=[];for(var g in Object(f))s.call(f,g)&&g!="constructor"&&d.push(g);return d}return _baseKeys=u,_baseKeys}var isArrayLike_1,hasRequiredIsArrayLike;function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var e=isFunction_1,t=requireIsLength();function n(s){return s!=null&&t(s.length)&&!e(s)}return isArrayLike_1=n,isArrayLike_1}var keys_1,hasRequiredKeys;function requireKeys(){if(hasRequiredKeys)return keys_1;hasRequiredKeys=1;var e=require_arrayLikeKeys(),t=require_baseKeys(),n=requireIsArrayLike();function s(u){return n(u)?e(u):t(u)}return keys_1=s,keys_1}var _baseAssign,hasRequired_baseAssign;function require_baseAssign(){if(hasRequired_baseAssign)return _baseAssign;hasRequired_baseAssign=1;var e=require_copyObject(),t=requireKeys();function n(s,u){return s&&e(u,t(u),s)}return _baseAssign=n,_baseAssign}var _nativeKeysIn,hasRequired_nativeKeysIn;function require_nativeKeysIn(){if(hasRequired_nativeKeysIn)return _nativeKeysIn;hasRequired_nativeKeysIn=1;function e(t){var n=[];if(t!=null)for(var s in Object(t))n.push(s);return n}return _nativeKeysIn=e,_nativeKeysIn}var _baseKeysIn,hasRequired_baseKeysIn;function require_baseKeysIn(){if(hasRequired_baseKeysIn)return _baseKeysIn;hasRequired_baseKeysIn=1;var e=isObject_1,t=require_isPrototype(),n=require_nativeKeysIn(),s=Object.prototype,u=s.hasOwnProperty;function f(d){if(!e(d))return n(d);var g=t(d),v=[];for(var S in d)S=="constructor"&&(g||!u.call(d,S))||v.push(S);return v}return _baseKeysIn=f,_baseKeysIn}var keysIn_1,hasRequiredKeysIn;function requireKeysIn(){if(hasRequiredKeysIn)return keysIn_1;hasRequiredKeysIn=1;var e=require_arrayLikeKeys(),t=require_baseKeysIn(),n=requireIsArrayLike();function s(u){return n(u)?e(u,!0):t(u)}return keysIn_1=s,keysIn_1}var _baseAssignIn,hasRequired_baseAssignIn;function require_baseAssignIn(){if(hasRequired_baseAssignIn)return _baseAssignIn;hasRequired_baseAssignIn=1;var e=require_copyObject(),t=requireKeysIn();function n(s,u){return s&&e(u,t(u),s)}return _baseAssignIn=n,_baseAssignIn}var _cloneBufferExports={},_cloneBuffer={get exports(){return _cloneBufferExports},set exports(e){_cloneBufferExports=e}},hasRequired_cloneBuffer;function require_cloneBuffer(){return hasRequired_cloneBuffer||(hasRequired_cloneBuffer=1,function(e,t){var n=_root,s=t&&!t.nodeType&&t,u=s&&!0&&e&&!e.nodeType&&e,f=u&&u.exports===s,d=f?n.Buffer:void 0,g=d?d.allocUnsafe:void 0;function v(S,M){if(M)return S.slice();var I=S.length,P=g?g(I):new S.constructor(I);return S.copy(P),P}e.exports=v}(_cloneBuffer,_cloneBufferExports)),_cloneBufferExports}var _arrayFilter,hasRequired_arrayFilter;function require_arrayFilter(){if(hasRequired_arrayFilter)return _arrayFilter;hasRequired_arrayFilter=1;function e(t,n){for(var s=-1,u=t==null?0:t.length,f=0,d=[];++s<u;){var g=t[s];n(g,s,t)&&(d[f++]=g)}return d}return _arrayFilter=e,_arrayFilter}var stubArray_1,hasRequiredStubArray;function requireStubArray(){if(hasRequiredStubArray)return stubArray_1;hasRequiredStubArray=1;function e(){return[]}return stubArray_1=e,stubArray_1}var _getSymbols,hasRequired_getSymbols;function require_getSymbols(){if(hasRequired_getSymbols)return _getSymbols;hasRequired_getSymbols=1;var e=require_arrayFilter(),t=requireStubArray(),n=Object.prototype,s=n.propertyIsEnumerable,u=Object.getOwnPropertySymbols,f=u?function(d){return d==null?[]:(d=Object(d),e(u(d),function(g){return s.call(d,g)}))}:t;return _getSymbols=f,_getSymbols}var _copySymbols,hasRequired_copySymbols;function require_copySymbols(){if(hasRequired_copySymbols)return _copySymbols;hasRequired_copySymbols=1;var e=require_copyObject(),t=require_getSymbols();function n(s,u){return e(s,t(s),u)}return _copySymbols=n,_copySymbols}var _arrayPush,hasRequired_arrayPush;function require_arrayPush(){if(hasRequired_arrayPush)return _arrayPush;hasRequired_arrayPush=1;function e(t,n){for(var s=-1,u=n.length,f=t.length;++s<u;)t[f+s]=n[s];return t}return _arrayPush=e,_arrayPush}var _getPrototype,hasRequired_getPrototype;function require_getPrototype(){if(hasRequired_getPrototype)return _getPrototype;hasRequired_getPrototype=1;var e=require_overArg(),t=e(Object.getPrototypeOf,Object);return _getPrototype=t,_getPrototype}var _getSymbolsIn,hasRequired_getSymbolsIn;function require_getSymbolsIn(){if(hasRequired_getSymbolsIn)return _getSymbolsIn;hasRequired_getSymbolsIn=1;var e=require_arrayPush(),t=require_getPrototype(),n=require_getSymbols(),s=requireStubArray(),u=Object.getOwnPropertySymbols,f=u?function(d){for(var g=[];d;)e(g,n(d)),d=t(d);return g}:s;return _getSymbolsIn=f,_getSymbolsIn}var _copySymbolsIn,hasRequired_copySymbolsIn;function require_copySymbolsIn(){if(hasRequired_copySymbolsIn)return _copySymbolsIn;hasRequired_copySymbolsIn=1;var e=require_copyObject(),t=require_getSymbolsIn();function n(s,u){return e(s,t(s),u)}return _copySymbolsIn=n,_copySymbolsIn}var _baseGetAllKeys,hasRequired_baseGetAllKeys;function require_baseGetAllKeys(){if(hasRequired_baseGetAllKeys)return _baseGetAllKeys;hasRequired_baseGetAllKeys=1;var e=require_arrayPush(),t=isArray_1;function n(s,u,f){var d=u(s);return t(s)?d:e(d,f(s))}return _baseGetAllKeys=n,_baseGetAllKeys}var _getAllKeys,hasRequired_getAllKeys;function require_getAllKeys(){if(hasRequired_getAllKeys)return _getAllKeys;hasRequired_getAllKeys=1;var e=require_baseGetAllKeys(),t=require_getSymbols(),n=requireKeys();function s(u){return e(u,n,t)}return _getAllKeys=s,_getAllKeys}var _getAllKeysIn,hasRequired_getAllKeysIn;function require_getAllKeysIn(){if(hasRequired_getAllKeysIn)return _getAllKeysIn;hasRequired_getAllKeysIn=1;var e=require_baseGetAllKeys(),t=require_getSymbolsIn(),n=requireKeysIn();function s(u){return e(u,n,t)}return _getAllKeysIn=s,_getAllKeysIn}var _DataView,hasRequired_DataView;function require_DataView(){if(hasRequired_DataView)return _DataView;hasRequired_DataView=1;var e=_getNative,t=_root,n=e(t,"DataView");return _DataView=n,_DataView}var _Promise,hasRequired_Promise;function require_Promise(){if(hasRequired_Promise)return _Promise;hasRequired_Promise=1;var e=_getNative,t=_root,n=e(t,"Promise");return _Promise=n,_Promise}var _Set,hasRequired_Set;function require_Set(){if(hasRequired_Set)return _Set;hasRequired_Set=1;var e=_getNative,t=_root,n=e(t,"Set");return _Set=n,_Set}var _WeakMap,hasRequired_WeakMap;function require_WeakMap(){if(hasRequired_WeakMap)return _WeakMap;hasRequired_WeakMap=1;var e=_getNative,t=_root,n=e(t,"WeakMap");return _WeakMap=n,_WeakMap}var _getTag,hasRequired_getTag;function require_getTag(){if(hasRequired_getTag)return _getTag;hasRequired_getTag=1;var e=require_DataView(),t=_Map,n=require_Promise(),s=require_Set(),u=require_WeakMap(),f=_baseGetTag,d=_toSource,g="[object Map]",v="[object Object]",S="[object Promise]",M="[object Set]",I="[object WeakMap]",P="[object DataView]",N=d(e),F=d(t),j=d(n),U=d(s),V=d(u),Z=f;return(e&&Z(new e(new ArrayBuffer(1)))!=P||t&&Z(new t)!=g||n&&Z(n.resolve())!=S||s&&Z(new s)!=M||u&&Z(new u)!=I)&&(Z=function(Q){var J=f(Q),te=J==v?Q.constructor:void 0,oe=te?d(te):"";if(oe)switch(oe){case N:return P;case F:return g;case j:return S;case U:return M;case V:return I}return J}),_getTag=Z,_getTag}var _initCloneArray,hasRequired_initCloneArray;function require_initCloneArray(){if(hasRequired_initCloneArray)return _initCloneArray;hasRequired_initCloneArray=1;var e=Object.prototype,t=e.hasOwnProperty;function n(s){var u=s.length,f=new s.constructor(u);return u&&typeof s[0]=="string"&&t.call(s,"index")&&(f.index=s.index,f.input=s.input),f}return _initCloneArray=n,_initCloneArray}var _Uint8Array,hasRequired_Uint8Array;function require_Uint8Array(){if(hasRequired_Uint8Array)return _Uint8Array;hasRequired_Uint8Array=1;var e=_root,t=e.Uint8Array;return _Uint8Array=t,_Uint8Array}var _cloneArrayBuffer,hasRequired_cloneArrayBuffer;function require_cloneArrayBuffer(){if(hasRequired_cloneArrayBuffer)return _cloneArrayBuffer;hasRequired_cloneArrayBuffer=1;var e=require_Uint8Array();function t(n){var s=new n.constructor(n.byteLength);return new e(s).set(new e(n)),s}return _cloneArrayBuffer=t,_cloneArrayBuffer}var _cloneDataView,hasRequired_cloneDataView;function require_cloneDataView(){if(hasRequired_cloneDataView)return _cloneDataView;hasRequired_cloneDataView=1;var e=require_cloneArrayBuffer();function t(n,s){var u=s?e(n.buffer):n.buffer;return new n.constructor(u,n.byteOffset,n.byteLength)}return _cloneDataView=t,_cloneDataView}var _cloneRegExp,hasRequired_cloneRegExp;function require_cloneRegExp(){if(hasRequired_cloneRegExp)return _cloneRegExp;hasRequired_cloneRegExp=1;var e=/\w*$/;function t(n){var s=new n.constructor(n.source,e.exec(n));return s.lastIndex=n.lastIndex,s}return _cloneRegExp=t,_cloneRegExp}var _cloneSymbol,hasRequired_cloneSymbol;function require_cloneSymbol(){if(hasRequired_cloneSymbol)return _cloneSymbol;hasRequired_cloneSymbol=1;var e=_Symbol,t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function s(u){return n?Object(n.call(u)):{}}return _cloneSymbol=s,_cloneSymbol}var _cloneTypedArray,hasRequired_cloneTypedArray;function require_cloneTypedArray(){if(hasRequired_cloneTypedArray)return _cloneTypedArray;hasRequired_cloneTypedArray=1;var e=require_cloneArrayBuffer();function t(n,s){var u=s?e(n.buffer):n.buffer;return new n.constructor(u,n.byteOffset,n.length)}return _cloneTypedArray=t,_cloneTypedArray}var _initCloneByTag,hasRequired_initCloneByTag;function require_initCloneByTag(){if(hasRequired_initCloneByTag)return _initCloneByTag;hasRequired_initCloneByTag=1;var e=require_cloneArrayBuffer(),t=require_cloneDataView(),n=require_cloneRegExp(),s=require_cloneSymbol(),u=require_cloneTypedArray(),f="[object Boolean]",d="[object Date]",g="[object Map]",v="[object Number]",S="[object RegExp]",M="[object Set]",I="[object String]",P="[object Symbol]",N="[object ArrayBuffer]",F="[object DataView]",j="[object Float32Array]",U="[object Float64Array]",V="[object Int8Array]",Z="[object Int16Array]",Q="[object Int32Array]",J="[object Uint8Array]",te="[object Uint8ClampedArray]",oe="[object Uint16Array]",ue="[object Uint32Array]";function se(le,de,ge){var ve=le.constructor;switch(de){case N:return e(le);case f:case d:return new ve(+le);case F:return t(le,ge);case j:case U:case V:case Z:case Q:case J:case te:case oe:case ue:return u(le,ge);case g:return new ve;case v:case I:return new ve(le);case S:return n(le);case M:return new ve;case P:return s(le)}}return _initCloneByTag=se,_initCloneByTag}var _baseCreate,hasRequired_baseCreate;function require_baseCreate(){if(hasRequired_baseCreate)return _baseCreate;hasRequired_baseCreate=1;var e=isObject_1,t=Object.create,n=function(){function s(){}return function(u){if(!e(u))return{};if(t)return t(u);s.prototype=u;var f=new s;return s.prototype=void 0,f}}();return _baseCreate=n,_baseCreate}var _initCloneObject,hasRequired_initCloneObject;function require_initCloneObject(){if(hasRequired_initCloneObject)return _initCloneObject;hasRequired_initCloneObject=1;var e=require_baseCreate(),t=require_getPrototype(),n=require_isPrototype();function s(u){return typeof u.constructor=="function"&&!n(u)?e(t(u)):{}}return _initCloneObject=s,_initCloneObject}var _baseIsMap,hasRequired_baseIsMap;function require_baseIsMap(){if(hasRequired_baseIsMap)return _baseIsMap;hasRequired_baseIsMap=1;var e=require_getTag(),t=isObjectLike_1,n="[object Map]";function s(u){return t(u)&&e(u)==n}return _baseIsMap=s,_baseIsMap}var isMap_1,hasRequiredIsMap;function requireIsMap(){if(hasRequiredIsMap)return isMap_1;hasRequiredIsMap=1;var e=require_baseIsMap(),t=require_baseUnary(),n=require_nodeUtil(),s=n&&n.isMap,u=s?t(s):e;return isMap_1=u,isMap_1}var _baseIsSet,hasRequired_baseIsSet;function require_baseIsSet(){if(hasRequired_baseIsSet)return _baseIsSet;hasRequired_baseIsSet=1;var e=require_getTag(),t=isObjectLike_1,n="[object Set]";function s(u){return t(u)&&e(u)==n}return _baseIsSet=s,_baseIsSet}var isSet_1,hasRequiredIsSet;function requireIsSet(){if(hasRequiredIsSet)return isSet_1;hasRequiredIsSet=1;var e=require_baseIsSet(),t=require_baseUnary(),n=require_nodeUtil(),s=n&&n.isSet,u=s?t(s):e;return isSet_1=u,isSet_1}var _baseClone,hasRequired_baseClone;function require_baseClone(){if(hasRequired_baseClone)return _baseClone;hasRequired_baseClone=1;var e=require_Stack(),t=require_arrayEach(),n=_assignValue,s=require_baseAssign(),u=require_baseAssignIn(),f=require_cloneBuffer(),d=_copyArray,g=require_copySymbols(),v=require_copySymbolsIn(),S=require_getAllKeys(),M=require_getAllKeysIn(),I=require_getTag(),P=require_initCloneArray(),N=require_initCloneByTag(),F=require_initCloneObject(),j=isArray_1,U=requireIsBuffer(),V=requireIsMap(),Z=isObject_1,Q=requireIsSet(),J=requireKeys(),te=requireKeysIn(),oe=1,ue=2,se=4,le="[object Arguments]",de="[object Array]",ge="[object Boolean]",ve="[object Date]",me="[object Error]",ye="[object Function]",Ae="[object GeneratorFunction]",Te="[object Map]",Oe="[object Number]",Ie="[object Object]",Be="[object RegExp]",De="[object Set]",Pe="[object String]",Ne="[object Symbol]",He="[object WeakMap]",je="[object ArrayBuffer]",ze="[object DataView]",Ve="[object Float32Array]",Ye="[object Float64Array]",nt="[object Int8Array]",Fe="[object Int16Array]",Qe="[object Int32Array]",it="[object Uint8Array]",at="[object Uint8ClampedArray]",wt="[object Uint16Array]",st="[object Uint32Array]",ft={};ft[le]=ft[de]=ft[je]=ft[ze]=ft[ge]=ft[ve]=ft[Ve]=ft[Ye]=ft[nt]=ft[Fe]=ft[Qe]=ft[Te]=ft[Oe]=ft[Ie]=ft[Be]=ft[De]=ft[Pe]=ft[Ne]=ft[it]=ft[at]=ft[wt]=ft[st]=!0,ft[me]=ft[ye]=ft[He]=!1;function Dt(ut,_t,Bt,mn,dn,Zt){var Mt,We=_t&oe,bt=_t&ue,Nt=_t&se;if(Bt&&(Mt=dn?Bt(ut,mn,dn,Zt):Bt(ut)),Mt!==void 0)return Mt;if(!Z(ut))return ut;var It=j(ut);if(It){if(Mt=P(ut),!We)return d(ut,Mt)}else{var Lt=I(ut),Pn=Lt==ye||Lt==Ae;if(U(ut))return f(ut,We);if(Lt==Ie||Lt==le||Pn&&!dn){if(Mt=bt||Pn?{}:F(ut),!We)return bt?v(ut,u(Mt,ut)):g(ut,s(Mt,ut))}else{if(!ft[Lt])return dn?ut:{};Mt=N(ut,Lt,We)}}Zt||(Zt=new e);var qt=Zt.get(ut);if(qt)return qt;Zt.set(ut,Mt),Q(ut)?ut.forEach(function(ar){Mt.add(Dt(ar,_t,Bt,ar,ut,Zt))}):V(ut)&&ut.forEach(function(ar,Rn){Mt.set(Rn,Dt(ar,_t,Bt,Rn,ut,Zt))});var ln=Nt?bt?M:S:bt?te:J,fr=It?void 0:ln(ut);return t(fr||ut,function(ar,Rn){fr&&(Rn=ar,ar=ut[Rn]),n(Mt,Rn,Dt(ar,_t,Bt,Rn,ut,Zt))}),Mt}return _baseClone=Dt,_baseClone}var clone_1,hasRequiredClone;function requireClone(){if(hasRequiredClone)return clone_1;hasRequiredClone=1;var e=require_baseClone(),t=4;function n(s){return e(s,t)}return clone_1=n,clone_1}var constant_1,hasRequiredConstant;function requireConstant(){if(hasRequiredConstant)return constant_1;hasRequiredConstant=1;function e(t){return function(){return t}}return constant_1=e,constant_1}var eachExports={},each={get exports(){return eachExports},set exports(e){eachExports=e}},_createBaseFor,hasRequired_createBaseFor;function require_createBaseFor(){if(hasRequired_createBaseFor)return _createBaseFor;hasRequired_createBaseFor=1;function e(t){return function(n,s,u){for(var f=-1,d=Object(n),g=u(n),v=g.length;v--;){var S=g[t?v:++f];if(s(d[S],S,d)===!1)break}return n}}return _createBaseFor=e,_createBaseFor}var _baseFor,hasRequired_baseFor;function require_baseFor(){if(hasRequired_baseFor)return _baseFor;hasRequired_baseFor=1;var e=require_createBaseFor(),t=e();return _baseFor=t,_baseFor}var _baseForOwn,hasRequired_baseForOwn;function require_baseForOwn(){if(hasRequired_baseForOwn)return _baseForOwn;hasRequired_baseForOwn=1;var e=require_baseFor(),t=requireKeys();function n(s,u){return s&&e(s,u,t)}return _baseForOwn=n,_baseForOwn}var _createBaseEach,hasRequired_createBaseEach;function require_createBaseEach(){if(hasRequired_createBaseEach)return _createBaseEach;hasRequired_createBaseEach=1;var e=requireIsArrayLike();function t(n,s){return function(u,f){if(u==null)return u;if(!e(u))return n(u,f);for(var d=u.length,g=s?d:-1,v=Object(u);(s?g--:++g<d)&&f(v[g],g,v)!==!1;);return u}}return _createBaseEach=t,_createBaseEach}var _baseEach,hasRequired_baseEach;function require_baseEach(){if(hasRequired_baseEach)return _baseEach;hasRequired_baseEach=1;var e=require_baseForOwn(),t=require_createBaseEach(),n=t(e);return _baseEach=n,_baseEach}var identity_1,hasRequiredIdentity;function requireIdentity(){if(hasRequiredIdentity)return identity_1;hasRequiredIdentity=1;function e(t){return t}return identity_1=e,identity_1}var _castFunction,hasRequired_castFunction;function require_castFunction(){if(hasRequired_castFunction)return _castFunction;hasRequired_castFunction=1;var e=requireIdentity();function t(n){return typeof n=="function"?n:e}return _castFunction=t,_castFunction}var forEach_1,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach_1;hasRequiredForEach=1;var e=require_arrayEach(),t=require_baseEach(),n=require_castFunction(),s=isArray_1;function u(f,d){var g=s(f)?e:t;return g(f,n(d))}return forEach_1=u,forEach_1}var hasRequiredEach;function requireEach(){return hasRequiredEach||(hasRequiredEach=1,function(e){e.exports=requireForEach()}(each)),eachExports}var _baseFilter,hasRequired_baseFilter;function require_baseFilter(){if(hasRequired_baseFilter)return _baseFilter;hasRequired_baseFilter=1;var e=require_baseEach();function t(n,s){var u=[];return e(n,function(f,d,g){s(f,d,g)&&u.push(f)}),u}return _baseFilter=t,_baseFilter}var _setCacheAdd,hasRequired_setCacheAdd;function require_setCacheAdd(){if(hasRequired_setCacheAdd)return _setCacheAdd;hasRequired_setCacheAdd=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return _setCacheAdd=t,_setCacheAdd}var _setCacheHas,hasRequired_setCacheHas;function require_setCacheHas(){if(hasRequired_setCacheHas)return _setCacheHas;hasRequired_setCacheHas=1;function e(t){return this.__data__.has(t)}return _setCacheHas=e,_setCacheHas}var _SetCache,hasRequired_SetCache;function require_SetCache(){if(hasRequired_SetCache)return _SetCache;hasRequired_SetCache=1;var e=_MapCache,t=require_setCacheAdd(),n=require_setCacheHas();function s(u){var f=-1,d=u==null?0:u.length;for(this.__data__=new e;++f<d;)this.add(u[f])}return s.prototype.add=s.prototype.push=t,s.prototype.has=n,_SetCache=s,_SetCache}var _arraySome,hasRequired_arraySome;function require_arraySome(){if(hasRequired_arraySome)return _arraySome;hasRequired_arraySome=1;function e(t,n){for(var s=-1,u=t==null?0:t.length;++s<u;)if(n(t[s],s,t))return!0;return!1}return _arraySome=e,_arraySome}var _cacheHas,hasRequired_cacheHas;function require_cacheHas(){if(hasRequired_cacheHas)return _cacheHas;hasRequired_cacheHas=1;function e(t,n){return t.has(n)}return _cacheHas=e,_cacheHas}var _equalArrays,hasRequired_equalArrays;function require_equalArrays(){if(hasRequired_equalArrays)return _equalArrays;hasRequired_equalArrays=1;var e=require_SetCache(),t=require_arraySome(),n=require_cacheHas(),s=1,u=2;function f(d,g,v,S,M,I){var P=v&s,N=d.length,F=g.length;if(N!=F&&!(P&&F>N))return!1;var j=I.get(d),U=I.get(g);if(j&&U)return j==g&&U==d;var V=-1,Z=!0,Q=v&u?new e:void 0;for(I.set(d,g),I.set(g,d);++V<N;){var J=d[V],te=g[V];if(S)var oe=P?S(te,J,V,g,d,I):S(J,te,V,d,g,I);if(oe!==void 0){if(oe)continue;Z=!1;break}if(Q){if(!t(g,function(ue,se){if(!n(Q,se)&&(J===ue||M(J,ue,v,S,I)))return Q.push(se)})){Z=!1;break}}else if(!(J===te||M(J,te,v,S,I))){Z=!1;break}}return I.delete(d),I.delete(g),Z}return _equalArrays=f,_equalArrays}var _mapToArray,hasRequired_mapToArray;function require_mapToArray(){if(hasRequired_mapToArray)return _mapToArray;hasRequired_mapToArray=1;function e(t){var n=-1,s=Array(t.size);return t.forEach(function(u,f){s[++n]=[f,u]}),s}return _mapToArray=e,_mapToArray}var _setToArray,hasRequired_setToArray;function require_setToArray(){if(hasRequired_setToArray)return _setToArray;hasRequired_setToArray=1;function e(t){var n=-1,s=Array(t.size);return t.forEach(function(u){s[++n]=u}),s}return _setToArray=e,_setToArray}var _equalByTag,hasRequired_equalByTag;function require_equalByTag(){if(hasRequired_equalByTag)return _equalByTag;hasRequired_equalByTag=1;var e=_Symbol,t=require_Uint8Array(),n=eq_1,s=require_equalArrays(),u=require_mapToArray(),f=require_setToArray(),d=1,g=2,v="[object Boolean]",S="[object Date]",M="[object Error]",I="[object Map]",P="[object Number]",N="[object RegExp]",F="[object Set]",j="[object String]",U="[object Symbol]",V="[object ArrayBuffer]",Z="[object DataView]",Q=e?e.prototype:void 0,J=Q?Q.valueOf:void 0;function te(oe,ue,se,le,de,ge,ve){switch(se){case Z:if(oe.byteLength!=ue.byteLength||oe.byteOffset!=ue.byteOffset)return!1;oe=oe.buffer,ue=ue.buffer;case V:return!(oe.byteLength!=ue.byteLength||!ge(new t(oe),new t(ue)));case v:case S:case P:return n(+oe,+ue);case M:return oe.name==ue.name&&oe.message==ue.message;case N:case j:return oe==ue+"";case I:var me=u;case F:var ye=le&d;if(me||(me=f),oe.size!=ue.size&&!ye)return!1;var Ae=ve.get(oe);if(Ae)return Ae==ue;le|=g,ve.set(oe,ue);var Te=s(me(oe),me(ue),le,de,ge,ve);return ve.delete(oe),Te;case U:if(J)return J.call(oe)==J.call(ue)}return!1}return _equalByTag=te,_equalByTag}var _equalObjects,hasRequired_equalObjects;function require_equalObjects(){if(hasRequired_equalObjects)return _equalObjects;hasRequired_equalObjects=1;var e=require_getAllKeys(),t=1,n=Object.prototype,s=n.hasOwnProperty;function u(f,d,g,v,S,M){var I=g&t,P=e(f),N=P.length,F=e(d),j=F.length;if(N!=j&&!I)return!1;for(var U=N;U--;){var V=P[U];if(!(I?V in d:s.call(d,V)))return!1}var Z=M.get(f),Q=M.get(d);if(Z&&Q)return Z==d&&Q==f;var J=!0;M.set(f,d),M.set(d,f);for(var te=I;++U<N;){V=P[U];var oe=f[V],ue=d[V];if(v)var se=I?v(ue,oe,V,d,f,M):v(oe,ue,V,f,d,M);if(!(se===void 0?oe===ue||S(oe,ue,g,v,M):se)){J=!1;break}te||(te=V=="constructor")}if(J&&!te){var le=f.constructor,de=d.constructor;le!=de&&"constructor"in f&&"constructor"in d&&!(typeof le=="function"&&le instanceof le&&typeof de=="function"&&de instanceof de)&&(J=!1)}return M.delete(f),M.delete(d),J}return _equalObjects=u,_equalObjects}var _baseIsEqualDeep,hasRequired_baseIsEqualDeep;function require_baseIsEqualDeep(){if(hasRequired_baseIsEqualDeep)return _baseIsEqualDeep;hasRequired_baseIsEqualDeep=1;var e=require_Stack(),t=require_equalArrays(),n=require_equalByTag(),s=require_equalObjects(),u=require_getTag(),f=isArray_1,d=requireIsBuffer(),g=requireIsTypedArray(),v=1,S="[object Arguments]",M="[object Array]",I="[object Object]",P=Object.prototype,N=P.hasOwnProperty;function F(j,U,V,Z,Q,J){var te=f(j),oe=f(U),ue=te?M:u(j),se=oe?M:u(U);ue=ue==S?I:ue,se=se==S?I:se;var le=ue==I,de=se==I,ge=ue==se;if(ge&&d(j)){if(!d(U))return!1;te=!0,le=!1}if(ge&&!le)return J||(J=new e),te||g(j)?t(j,U,V,Z,Q,J):n(j,U,ue,V,Z,Q,J);if(!(V&v)){var ve=le&&N.call(j,"__wrapped__"),me=de&&N.call(U,"__wrapped__");if(ve||me){var ye=ve?j.value():j,Ae=me?U.value():U;return J||(J=new e),Q(ye,Ae,V,Z,J)}}return ge?(J||(J=new e),s(j,U,V,Z,Q,J)):!1}return _baseIsEqualDeep=F,_baseIsEqualDeep}var _baseIsEqual,hasRequired_baseIsEqual;function require_baseIsEqual(){if(hasRequired_baseIsEqual)return _baseIsEqual;hasRequired_baseIsEqual=1;var e=require_baseIsEqualDeep(),t=isObjectLike_1;function n(s,u,f,d,g){return s===u?!0:s==null||u==null||!t(s)&&!t(u)?s!==s&&u!==u:e(s,u,f,d,n,g)}return _baseIsEqual=n,_baseIsEqual}var _baseIsMatch,hasRequired_baseIsMatch;function require_baseIsMatch(){if(hasRequired_baseIsMatch)return _baseIsMatch;hasRequired_baseIsMatch=1;var e=require_Stack(),t=require_baseIsEqual(),n=1,s=2;function u(f,d,g,v){var S=g.length,M=S,I=!v;if(f==null)return!M;for(f=Object(f);S--;){var P=g[S];if(I&&P[2]?P[1]!==f[P[0]]:!(P[0]in f))return!1}for(;++S<M;){P=g[S];var N=P[0],F=f[N],j=P[1];if(I&&P[2]){if(F===void 0&&!(N in f))return!1}else{var U=new e;if(v)var V=v(F,j,N,f,d,U);if(!(V===void 0?t(j,F,n|s,v,U):V))return!1}}return!0}return _baseIsMatch=u,_baseIsMatch}var _isStrictComparable,hasRequired_isStrictComparable;function require_isStrictComparable(){if(hasRequired_isStrictComparable)return _isStrictComparable;hasRequired_isStrictComparable=1;var e=isObject_1;function t(n){return n===n&&!e(n)}return _isStrictComparable=t,_isStrictComparable}var _getMatchData,hasRequired_getMatchData;function require_getMatchData(){if(hasRequired_getMatchData)return _getMatchData;hasRequired_getMatchData=1;var e=require_isStrictComparable(),t=requireKeys();function n(s){for(var u=t(s),f=u.length;f--;){var d=u[f],g=s[d];u[f]=[d,g,e(g)]}return u}return _getMatchData=n,_getMatchData}var _matchesStrictComparable,hasRequired_matchesStrictComparable;function require_matchesStrictComparable(){if(hasRequired_matchesStrictComparable)return _matchesStrictComparable;hasRequired_matchesStrictComparable=1;function e(t,n){return function(s){return s==null?!1:s[t]===n&&(n!==void 0||t in Object(s))}}return _matchesStrictComparable=e,_matchesStrictComparable}var _baseMatches,hasRequired_baseMatches;function require_baseMatches(){if(hasRequired_baseMatches)return _baseMatches;hasRequired_baseMatches=1;var e=require_baseIsMatch(),t=require_getMatchData(),n=require_matchesStrictComparable();function s(u){var f=t(u);return f.length==1&&f[0][2]?n(f[0][0],f[0][1]):function(d){return d===u||e(d,u,f)}}return _baseMatches=s,_baseMatches}var _baseHasIn,hasRequired_baseHasIn;function require_baseHasIn(){if(hasRequired_baseHasIn)return _baseHasIn;hasRequired_baseHasIn=1;function e(t,n){return t!=null&&n in Object(t)}return _baseHasIn=e,_baseHasIn}var _hasPath,hasRequired_hasPath;function require_hasPath(){if(hasRequired_hasPath)return _hasPath;hasRequired_hasPath=1;var e=_castPath,t=requireIsArguments(),n=isArray_1,s=_isIndex,u=requireIsLength(),f=_toKey;function d(g,v,S){v=e(v,g);for(var M=-1,I=v.length,P=!1;++M<I;){var N=f(v[M]);if(!(P=g!=null&&S(g,N)))break;g=g[N]}return P||++M!=I?P:(I=g==null?0:g.length,!!I&&u(I)&&s(N,I)&&(n(g)||t(g)))}return _hasPath=d,_hasPath}var hasIn_1,hasRequiredHasIn;function requireHasIn(){if(hasRequiredHasIn)return hasIn_1;hasRequiredHasIn=1;var e=require_baseHasIn(),t=require_hasPath();function n(s,u){return s!=null&&t(s,u,e)}return hasIn_1=n,hasIn_1}var _baseMatchesProperty,hasRequired_baseMatchesProperty;function require_baseMatchesProperty(){if(hasRequired_baseMatchesProperty)return _baseMatchesProperty;hasRequired_baseMatchesProperty=1;var e=require_baseIsEqual(),t=get_1,n=requireHasIn(),s=_isKey,u=require_isStrictComparable(),f=require_matchesStrictComparable(),d=_toKey,g=1,v=2;function S(M,I){return s(M)&&u(I)?f(d(M),I):function(P){var N=t(P,M);return N===void 0&&N===I?n(P,M):e(I,N,g|v)}}return _baseMatchesProperty=S,_baseMatchesProperty}var _baseProperty,hasRequired_baseProperty;function require_baseProperty(){if(hasRequired_baseProperty)return _baseProperty;hasRequired_baseProperty=1;function e(t){return function(n){return n==null?void 0:n[t]}}return _baseProperty=e,_baseProperty}var _basePropertyDeep,hasRequired_basePropertyDeep;function require_basePropertyDeep(){if(hasRequired_basePropertyDeep)return _basePropertyDeep;hasRequired_basePropertyDeep=1;var e=_baseGet;function t(n){return function(s){return e(s,n)}}return _basePropertyDeep=t,_basePropertyDeep}var property_1,hasRequiredProperty;function requireProperty(){if(hasRequiredProperty)return property_1;hasRequiredProperty=1;var e=require_baseProperty(),t=require_basePropertyDeep(),n=_isKey,s=_toKey;function u(f){return n(f)?e(s(f)):t(f)}return property_1=u,property_1}var _baseIteratee,hasRequired_baseIteratee;function require_baseIteratee(){if(hasRequired_baseIteratee)return _baseIteratee;hasRequired_baseIteratee=1;var e=require_baseMatches(),t=require_baseMatchesProperty(),n=requireIdentity(),s=isArray_1,u=requireProperty();function f(d){return typeof d=="function"?d:d==null?n:typeof d=="object"?s(d)?t(d[0],d[1]):e(d):u(d)}return _baseIteratee=f,_baseIteratee}var filter_1,hasRequiredFilter;function requireFilter(){if(hasRequiredFilter)return filter_1;hasRequiredFilter=1;var e=require_arrayFilter(),t=require_baseFilter(),n=require_baseIteratee(),s=isArray_1;function u(f,d){var g=s(f)?e:t;return g(f,n(d,3))}return filter_1=u,filter_1}var _baseHas,hasRequired_baseHas;function require_baseHas(){if(hasRequired_baseHas)return _baseHas;hasRequired_baseHas=1;var e=Object.prototype,t=e.hasOwnProperty;function n(s,u){return s!=null&&t.call(s,u)}return _baseHas=n,_baseHas}var has_1,hasRequiredHas;function requireHas(){if(hasRequiredHas)return has_1;hasRequiredHas=1;var e=require_baseHas(),t=require_hasPath();function n(s,u){return s!=null&&t(s,u,e)}return has_1=n,has_1}var isEmpty_1,hasRequiredIsEmpty;function requireIsEmpty(){if(hasRequiredIsEmpty)return isEmpty_1;hasRequiredIsEmpty=1;var e=require_baseKeys(),t=require_getTag(),n=requireIsArguments(),s=isArray_1,u=requireIsArrayLike(),f=requireIsBuffer(),d=require_isPrototype(),g=requireIsTypedArray(),v="[object Map]",S="[object Set]",M=Object.prototype,I=M.hasOwnProperty;function P(N){if(N==null)return!0;if(u(N)&&(s(N)||typeof N=="string"||typeof N.splice=="function"||f(N)||g(N)||n(N)))return!N.length;var F=t(N);if(F==v||F==S)return!N.size;if(d(N))return!e(N).length;for(var j in N)if(I.call(N,j))return!1;return!0}return isEmpty_1=P,isEmpty_1}var isUndefined_1,hasRequiredIsUndefined;function requireIsUndefined(){if(hasRequiredIsUndefined)return isUndefined_1;hasRequiredIsUndefined=1;function e(t){return t===void 0}return isUndefined_1=e,isUndefined_1}var _baseMap,hasRequired_baseMap;function require_baseMap(){if(hasRequired_baseMap)return _baseMap;hasRequired_baseMap=1;var e=require_baseEach(),t=requireIsArrayLike();function n(s,u){var f=-1,d=t(s)?Array(s.length):[];return e(s,function(g,v,S){d[++f]=u(g,v,S)}),d}return _baseMap=n,_baseMap}var map_1,hasRequiredMap;function requireMap(){if(hasRequiredMap)return map_1;hasRequiredMap=1;var e=_arrayMap,t=require_baseIteratee(),n=require_baseMap(),s=isArray_1;function u(f,d){var g=s(f)?e:n;return g(f,t(d,3))}return map_1=u,map_1}var _arrayReduce,hasRequired_arrayReduce;function require_arrayReduce(){if(hasRequired_arrayReduce)return _arrayReduce;hasRequired_arrayReduce=1;function e(t,n,s,u){var f=-1,d=t==null?0:t.length;for(u&&d&&(s=t[++f]);++f<d;)s=n(s,t[f],f,t);return s}return _arrayReduce=e,_arrayReduce}var _baseReduce,hasRequired_baseReduce;function require_baseReduce(){if(hasRequired_baseReduce)return _baseReduce;hasRequired_baseReduce=1;function e(t,n,s,u,f){return f(t,function(d,g,v){s=u?(u=!1,d):n(s,d,g,v)}),s}return _baseReduce=e,_baseReduce}var reduce_1,hasRequiredReduce;function requireReduce(){if(hasRequiredReduce)return reduce_1;hasRequiredReduce=1;var e=require_arrayReduce(),t=require_baseEach(),n=require_baseIteratee(),s=require_baseReduce(),u=isArray_1;function f(d,g,v){var S=u(d)?e:s,M=arguments.length<3;return S(d,n(g,4),v,M,t)}return reduce_1=f,reduce_1}var isString_1,hasRequiredIsString;function requireIsString(){if(hasRequiredIsString)return isString_1;hasRequiredIsString=1;var e=_baseGetTag,t=isArray_1,n=isObjectLike_1,s="[object String]";function u(f){return typeof f=="string"||!t(f)&&n(f)&&e(f)==s}return isString_1=u,isString_1}var _asciiSize,hasRequired_asciiSize;function require_asciiSize(){if(hasRequired_asciiSize)return _asciiSize;hasRequired_asciiSize=1;var e=require_baseProperty(),t=e("length");return _asciiSize=t,_asciiSize}var _hasUnicode,hasRequired_hasUnicode;function require_hasUnicode(){if(hasRequired_hasUnicode)return _hasUnicode;hasRequired_hasUnicode=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",u=t+n+s,f="\\ufe0e\\ufe0f",d="\\u200d",g=RegExp("["+d+e+u+f+"]");function v(S){return g.test(S)}return _hasUnicode=v,_hasUnicode}var _unicodeSize,hasRequired_unicodeSize;function require_unicodeSize(){if(hasRequired_unicodeSize)return _unicodeSize;hasRequired_unicodeSize=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",u=t+n+s,f="\\ufe0e\\ufe0f",d="["+e+"]",g="["+u+"]",v="\\ud83c[\\udffb-\\udfff]",S="(?:"+g+"|"+v+")",M="[^"+e+"]",I="(?:\\ud83c[\\udde6-\\uddff]){2}",P="[\\ud800-\\udbff][\\udc00-\\udfff]",N="\\u200d",F=S+"?",j="["+f+"]?",U="(?:"+N+"(?:"+[M,I,P].join("|")+")"+j+F+")*",V=j+F+U,Z="(?:"+[M+g+"?",g,I,P,d].join("|")+")",Q=RegExp(v+"(?="+v+")|"+Z+V,"g");function J(te){for(var oe=Q.lastIndex=0;Q.test(te);)++oe;return oe}return _unicodeSize=J,_unicodeSize}var _stringSize,hasRequired_stringSize;function require_stringSize(){if(hasRequired_stringSize)return _stringSize;hasRequired_stringSize=1;var e=require_asciiSize(),t=require_hasUnicode(),n=require_unicodeSize();function s(u){return t(u)?n(u):e(u)}return _stringSize=s,_stringSize}var size_1,hasRequiredSize;function requireSize(){if(hasRequiredSize)return size_1;hasRequiredSize=1;var e=require_baseKeys(),t=require_getTag(),n=requireIsArrayLike(),s=requireIsString(),u=require_stringSize(),f="[object Map]",d="[object Set]";function g(v){if(v==null)return 0;if(n(v))return s(v)?u(v):v.length;var S=t(v);return S==f||S==d?v.size:e(v).length}return size_1=g,size_1}var transform_1,hasRequiredTransform;function requireTransform(){if(hasRequiredTransform)return transform_1;hasRequiredTransform=1;var e=require_arrayEach(),t=require_baseCreate(),n=require_baseForOwn(),s=require_baseIteratee(),u=require_getPrototype(),f=isArray_1,d=requireIsBuffer(),g=isFunction_1,v=isObject_1,S=requireIsTypedArray();function M(I,P,N){var F=f(I),j=F||d(I)||S(I);if(P=s(P,4),N==null){var U=I&&I.constructor;j?N=F?new U:[]:v(I)?N=g(U)?t(u(I)):{}:N={}}return(j?e:n)(I,function(V,Z,Q){return P(N,V,Z,Q)}),N}return transform_1=M,transform_1}var _isFlattenable,hasRequired_isFlattenable;function require_isFlattenable(){if(hasRequired_isFlattenable)return _isFlattenable;hasRequired_isFlattenable=1;var e=_Symbol,t=requireIsArguments(),n=isArray_1,s=e?e.isConcatSpreadable:void 0;function u(f){return n(f)||t(f)||!!(s&&f&&f[s])}return _isFlattenable=u,_isFlattenable}var _baseFlatten,hasRequired_baseFlatten;function require_baseFlatten(){if(hasRequired_baseFlatten)return _baseFlatten;hasRequired_baseFlatten=1;var e=require_arrayPush(),t=require_isFlattenable();function n(s,u,f,d,g){var v=-1,S=s.length;for(f||(f=t),g||(g=[]);++v<S;){var M=s[v];u>0&&f(M)?u>1?n(M,u-1,f,d,g):e(g,M):d||(g[g.length]=M)}return g}return _baseFlatten=n,_baseFlatten}var _apply,hasRequired_apply;function require_apply(){if(hasRequired_apply)return _apply;hasRequired_apply=1;function e(t,n,s){switch(s.length){case 0:return t.call(n);case 1:return t.call(n,s[0]);case 2:return t.call(n,s[0],s[1]);case 3:return t.call(n,s[0],s[1],s[2])}return t.apply(n,s)}return _apply=e,_apply}var _overRest,hasRequired_overRest;function require_overRest(){if(hasRequired_overRest)return _overRest;hasRequired_overRest=1;var e=require_apply(),t=Math.max;function n(s,u,f){return u=t(u===void 0?s.length-1:u,0),function(){for(var d=arguments,g=-1,v=t(d.length-u,0),S=Array(v);++g<v;)S[g]=d[u+g];g=-1;for(var M=Array(u+1);++g<u;)M[g]=d[g];return M[u]=f(S),e(s,this,M)}}return _overRest=n,_overRest}var _baseSetToString,hasRequired_baseSetToString;function require_baseSetToString(){if(hasRequired_baseSetToString)return _baseSetToString;hasRequired_baseSetToString=1;var e=requireConstant(),t=_defineProperty$1,n=requireIdentity(),s=t?function(u,f){return t(u,"toString",{configurable:!0,enumerable:!1,value:e(f),writable:!0})}:n;return _baseSetToString=s,_baseSetToString}var _shortOut,hasRequired_shortOut;function require_shortOut(){if(hasRequired_shortOut)return _shortOut;hasRequired_shortOut=1;var e=800,t=16,n=Date.now;function s(u){var f=0,d=0;return function(){var g=n(),v=t-(g-d);if(d=g,v>0){if(++f>=e)return arguments[0]}else f=0;return u.apply(void 0,arguments)}}return _shortOut=s,_shortOut}var _setToString,hasRequired_setToString;function require_setToString(){if(hasRequired_setToString)return _setToString;hasRequired_setToString=1;var e=require_baseSetToString(),t=require_shortOut(),n=t(e);return _setToString=n,_setToString}var _baseRest,hasRequired_baseRest;function require_baseRest(){if(hasRequired_baseRest)return _baseRest;hasRequired_baseRest=1;var e=requireIdentity(),t=require_overRest(),n=require_setToString();function s(u,f){return n(t(u,f,e),u+"")}return _baseRest=s,_baseRest}var _baseFindIndex,hasRequired_baseFindIndex;function require_baseFindIndex(){if(hasRequired_baseFindIndex)return _baseFindIndex;hasRequired_baseFindIndex=1;function e(t,n,s,u){for(var f=t.length,d=s+(u?1:-1);u?d--:++d<f;)if(n(t[d],d,t))return d;return-1}return _baseFindIndex=e,_baseFindIndex}var _baseIsNaN,hasRequired_baseIsNaN;function require_baseIsNaN(){if(hasRequired_baseIsNaN)return _baseIsNaN;hasRequired_baseIsNaN=1;function e(t){return t!==t}return _baseIsNaN=e,_baseIsNaN}var _strictIndexOf,hasRequired_strictIndexOf;function require_strictIndexOf(){if(hasRequired_strictIndexOf)return _strictIndexOf;hasRequired_strictIndexOf=1;function e(t,n,s){for(var u=s-1,f=t.length;++u<f;)if(t[u]===n)return u;return-1}return _strictIndexOf=e,_strictIndexOf}var _baseIndexOf,hasRequired_baseIndexOf;function require_baseIndexOf(){if(hasRequired_baseIndexOf)return _baseIndexOf;hasRequired_baseIndexOf=1;var e=require_baseFindIndex(),t=require_baseIsNaN(),n=require_strictIndexOf();function s(u,f,d){return f===f?n(u,f,d):e(u,t,d)}return _baseIndexOf=s,_baseIndexOf}var _arrayIncludes,hasRequired_arrayIncludes;function require_arrayIncludes(){if(hasRequired_arrayIncludes)return _arrayIncludes;hasRequired_arrayIncludes=1;var e=require_baseIndexOf();function t(n,s){var u=n==null?0:n.length;return!!u&&e(n,s,0)>-1}return _arrayIncludes=t,_arrayIncludes}var _arrayIncludesWith,hasRequired_arrayIncludesWith;function require_arrayIncludesWith(){if(hasRequired_arrayIncludesWith)return _arrayIncludesWith;hasRequired_arrayIncludesWith=1;function e(t,n,s){for(var u=-1,f=t==null?0:t.length;++u<f;)if(s(n,t[u]))return!0;return!1}return _arrayIncludesWith=e,_arrayIncludesWith}var noop_1,hasRequiredNoop;function requireNoop(){if(hasRequiredNoop)return noop_1;hasRequiredNoop=1;function e(){}return noop_1=e,noop_1}var _createSet,hasRequired_createSet;function require_createSet(){if(hasRequired_createSet)return _createSet;hasRequired_createSet=1;var e=require_Set(),t=requireNoop(),n=require_setToArray(),s=1/0,u=e&&1/n(new e([,-0]))[1]==s?function(f){return new e(f)}:t;return _createSet=u,_createSet}var _baseUniq,hasRequired_baseUniq;function require_baseUniq(){if(hasRequired_baseUniq)return _baseUniq;hasRequired_baseUniq=1;var e=require_SetCache(),t=require_arrayIncludes(),n=require_arrayIncludesWith(),s=require_cacheHas(),u=require_createSet(),f=require_setToArray(),d=200;function g(v,S,M){var I=-1,P=t,N=v.length,F=!0,j=[],U=j;if(M)F=!1,P=n;else if(N>=d){var V=S?null:u(v);if(V)return f(V);F=!1,P=s,U=new e}else U=S?[]:j;e:for(;++I<N;){var Z=v[I],Q=S?S(Z):Z;if(Z=M||Z!==0?Z:0,F&&Q===Q){for(var J=U.length;J--;)if(U[J]===Q)continue e;S&&U.push(Q),j.push(Z)}else P(U,Q,M)||(U!==j&&U.push(Q),j.push(Z))}return j}return _baseUniq=g,_baseUniq}var isArrayLikeObject_1,hasRequiredIsArrayLikeObject;function requireIsArrayLikeObject(){if(hasRequiredIsArrayLikeObject)return isArrayLikeObject_1;hasRequiredIsArrayLikeObject=1;var e=requireIsArrayLike(),t=isObjectLike_1;function n(s){return t(s)&&e(s)}return isArrayLikeObject_1=n,isArrayLikeObject_1}var union_1,hasRequiredUnion;function requireUnion(){if(hasRequiredUnion)return union_1;hasRequiredUnion=1;var e=require_baseFlatten(),t=require_baseRest(),n=require_baseUniq(),s=requireIsArrayLikeObject(),u=t(function(f){return n(e(f,1,s,!0))});return union_1=u,union_1}var _baseValues,hasRequired_baseValues;function require_baseValues(){if(hasRequired_baseValues)return _baseValues;hasRequired_baseValues=1;var e=_arrayMap;function t(n,s){return e(s,function(u){return n[u]})}return _baseValues=t,_baseValues}var values_1,hasRequiredValues;function requireValues(){if(hasRequiredValues)return values_1;hasRequiredValues=1;var e=require_baseValues(),t=requireKeys();function n(s){return s==null?[]:e(s,t(s))}return values_1=n,values_1}var lodash_1$1,hasRequiredLodash$1;function requireLodash$1(){if(hasRequiredLodash$1)return lodash_1$1;hasRequiredLodash$1=1;var e;if(typeof commonjsRequire=="function")try{e={clone:requireClone(),constant:requireConstant(),each:requireEach(),filter:requireFilter(),has:requireHas(),isArray:isArray_1,isEmpty:requireIsEmpty(),isFunction:isFunction_1,isUndefined:requireIsUndefined(),keys:requireKeys(),map:requireMap(),reduce:requireReduce(),size:requireSize(),transform:requireTransform(),union:requireUnion(),values:requireValues()}}catch{}return e||(e=window._),lodash_1$1=e,lodash_1$1}var graph,hasRequiredGraph;function requireGraph(){if(hasRequiredGraph)return graph;hasRequiredGraph=1;var e=requireLodash$1();graph=u;var t="\0",n="\0",s="";function u(M){this._isDirected=e.has(M,"directed")?M.directed:!0,this._isMultigraph=e.has(M,"multigraph")?M.multigraph:!1,this._isCompound=e.has(M,"compound")?M.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}u.prototype._nodeCount=0,u.prototype._edgeCount=0,u.prototype.isDirected=function(){return this._isDirected},u.prototype.isMultigraph=function(){return this._isMultigraph},u.prototype.isCompound=function(){return this._isCompound},u.prototype.setGraph=function(M){return this._label=M,this},u.prototype.graph=function(){return this._label},u.prototype.setDefaultNodeLabel=function(M){return e.isFunction(M)||(M=e.constant(M)),this._defaultNodeLabelFn=M,this},u.prototype.nodeCount=function(){return this._nodeCount},u.prototype.nodes=function(){return e.keys(this._nodes)},u.prototype.sources=function(){var M=this;return e.filter(this.nodes(),function(I){return e.isEmpty(M._in[I])})},u.prototype.sinks=function(){var M=this;return e.filter(this.nodes(),function(I){return e.isEmpty(M._out[I])})},u.prototype.setNodes=function(M,I){var P=arguments,N=this;return e.each(M,function(F){P.length>1?N.setNode(F,I):N.setNode(F)}),this},u.prototype.setNode=function(M,I){return e.has(this._nodes,M)?(arguments.length>1&&(this._nodes[M]=I),this):(this._nodes[M]=arguments.length>1?I:this._defaultNodeLabelFn(M),this._isCompound&&(this._parent[M]=n,this._children[M]={},this._children[n][M]=!0),this._in[M]={},this._preds[M]={},this._out[M]={},this._sucs[M]={},++this._nodeCount,this)},u.prototype.node=function(M){return this._nodes[M]},u.prototype.hasNode=function(M){return e.has(this._nodes,M)},u.prototype.removeNode=function(M){var I=this;if(e.has(this._nodes,M)){var P=function(N){I.removeEdge(I._edgeObjs[N])};delete this._nodes[M],this._isCompound&&(this._removeFromParentsChildList(M),delete this._parent[M],e.each(this.children(M),function(N){I.setParent(N)}),delete this._children[M]),e.each(e.keys(this._in[M]),P),delete this._in[M],delete this._preds[M],e.each(e.keys(this._out[M]),P),delete this._out[M],delete this._sucs[M],--this._nodeCount}return this},u.prototype.setParent=function(M,I){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(I))I=n;else{I+="";for(var P=I;!e.isUndefined(P);P=this.parent(P))if(P===M)throw new Error("Setting "+I+" as parent of "+M+" would create a cycle");this.setNode(I)}return this.setNode(M),this._removeFromParentsChildList(M),this._parent[M]=I,this._children[I][M]=!0,this},u.prototype._removeFromParentsChildList=function(M){delete this._children[this._parent[M]][M]},u.prototype.parent=function(M){if(this._isCompound){var I=this._parent[M];if(I!==n)return I}},u.prototype.children=function(M){if(e.isUndefined(M)&&(M=n),this._isCompound){var I=this._children[M];if(I)return e.keys(I)}else{if(M===n)return this.nodes();if(this.hasNode(M))return[]}},u.prototype.predecessors=function(M){var I=this._preds[M];if(I)return e.keys(I)},u.prototype.successors=function(M){var I=this._sucs[M];if(I)return e.keys(I)},u.prototype.neighbors=function(M){var I=this.predecessors(M);if(I)return e.union(I,this.successors(M))},u.prototype.isLeaf=function(M){var I;return this.isDirected()?I=this.successors(M):I=this.neighbors(M),I.length===0},u.prototype.filterNodes=function(M){var I=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});I.setGraph(this.graph());var P=this;e.each(this._nodes,function(j,U){M(U)&&I.setNode(U,j)}),e.each(this._edgeObjs,function(j){I.hasNode(j.v)&&I.hasNode(j.w)&&I.setEdge(j,P.edge(j))});var N={};function F(j){var U=P.parent(j);return U===void 0||I.hasNode(U)?(N[j]=U,U):U in N?N[U]:F(U)}return this._isCompound&&e.each(I.nodes(),function(j){I.setParent(j,F(j))}),I},u.prototype.setDefaultEdgeLabel=function(M){return e.isFunction(M)||(M=e.constant(M)),this._defaultEdgeLabelFn=M,this},u.prototype.edgeCount=function(){return this._edgeCount},u.prototype.edges=function(){return e.values(this._edgeObjs)},u.prototype.setPath=function(M,I){var P=this,N=arguments;return e.reduce(M,function(F,j){return N.length>1?P.setEdge(F,j,I):P.setEdge(F,j),j}),this},u.prototype.setEdge=function(){var M,I,P,N,F=!1,j=arguments[0];typeof j=="object"&&j!==null&&"v"in j?(M=j.v,I=j.w,P=j.name,arguments.length===2&&(N=arguments[1],F=!0)):(M=j,I=arguments[1],P=arguments[3],arguments.length>2&&(N=arguments[2],F=!0)),M=""+M,I=""+I,e.isUndefined(P)||(P=""+P);var U=g(this._isDirected,M,I,P);if(e.has(this._edgeLabels,U))return F&&(this._edgeLabels[U]=N),this;if(!e.isUndefined(P)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(M),this.setNode(I),this._edgeLabels[U]=F?N:this._defaultEdgeLabelFn(M,I,P);var V=v(this._isDirected,M,I,P);return M=V.v,I=V.w,Object.freeze(V),this._edgeObjs[U]=V,f(this._preds[I],M),f(this._sucs[M],I),this._in[I][U]=V,this._out[M][U]=V,this._edgeCount++,this},u.prototype.edge=function(M,I,P){var N=arguments.length===1?S(this._isDirected,arguments[0]):g(this._isDirected,M,I,P);return this._edgeLabels[N]},u.prototype.hasEdge=function(M,I,P){var N=arguments.length===1?S(this._isDirected,arguments[0]):g(this._isDirected,M,I,P);return e.has(this._edgeLabels,N)},u.prototype.removeEdge=function(M,I,P){var N=arguments.length===1?S(this._isDirected,arguments[0]):g(this._isDirected,M,I,P),F=this._edgeObjs[N];return F&&(M=F.v,I=F.w,delete this._edgeLabels[N],delete this._edgeObjs[N],d(this._preds[I],M),d(this._sucs[M],I),delete this._in[I][N],delete this._out[M][N],this._edgeCount--),this},u.prototype.inEdges=function(M,I){var P=this._in[M];if(P){var N=e.values(P);return I?e.filter(N,function(F){return F.v===I}):N}},u.prototype.outEdges=function(M,I){var P=this._out[M];if(P){var N=e.values(P);return I?e.filter(N,function(F){return F.w===I}):N}},u.prototype.nodeEdges=function(M,I){var P=this.inEdges(M,I);if(P)return P.concat(this.outEdges(M,I))};function f(M,I){M[I]?M[I]++:M[I]=1}function d(M,I){--M[I]||delete M[I]}function g(M,I,P,N){var F=""+I,j=""+P;if(!M&&F>j){var U=F;F=j,j=U}return F+s+j+s+(e.isUndefined(N)?t:N)}function v(M,I,P,N){var F=""+I,j=""+P;if(!M&&F>j){var U=F;F=j,j=U}var V={v:F,w:j};return N&&(V.name=N),V}function S(M,I){return g(M,I.v,I.w,I.name)}return graph}var version$1,hasRequiredVersion$1;function requireVersion$1(){return hasRequiredVersion$1||(hasRequiredVersion$1=1,version$1="2.1.8"),version$1}var lib,hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,lib={Graph:requireGraph(),version:requireVersion$1()}),lib}var json,hasRequiredJson;function requireJson(){if(hasRequiredJson)return json;hasRequiredJson=1;var e=requireLodash$1(),t=requireGraph();json={write:n,read:f};function n(d){var g={options:{directed:d.isDirected(),multigraph:d.isMultigraph(),compound:d.isCompound()},nodes:s(d),edges:u(d)};return e.isUndefined(d.graph())||(g.value=e.clone(d.graph())),g}function s(d){return e.map(d.nodes(),function(g){var v=d.node(g),S=d.parent(g),M={v:g};return e.isUndefined(v)||(M.value=v),e.isUndefined(S)||(M.parent=S),M})}function u(d){return e.map(d.edges(),function(g){var v=d.edge(g),S={v:g.v,w:g.w};return e.isUndefined(g.name)||(S.name=g.name),e.isUndefined(v)||(S.value=v),S})}function f(d){var g=new t(d.options).setGraph(d.value);return e.each(d.nodes,function(v){g.setNode(v.v,v.value),v.parent&&g.setParent(v.v,v.parent)}),e.each(d.edges,function(v){g.setEdge({v:v.v,w:v.w,name:v.name},v.value)}),g}return json}var components_1,hasRequiredComponents;function requireComponents(){if(hasRequiredComponents)return components_1;hasRequiredComponents=1;var e=requireLodash$1();components_1=t;function t(n){var s={},u=[],f;function d(g){e.has(s,g)||(s[g]=!0,f.push(g),e.each(n.successors(g),d),e.each(n.predecessors(g),d))}return e.each(n.nodes(),function(g){f=[],d(g),f.length&&u.push(f)}),u}return components_1}var priorityQueue,hasRequiredPriorityQueue;function requirePriorityQueue(){if(hasRequiredPriorityQueue)return priorityQueue;hasRequiredPriorityQueue=1;var e=requireLodash$1();priorityQueue=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var s=this._keyIndices[n];if(s!==void 0)return this._arr[s].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,s){var u=this._keyIndices;if(n=String(n),!e.has(u,n)){var f=this._arr,d=f.length;return u[n]=d,f.push({key:n,priority:s}),this._decrease(d),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,s){var u=this._keyIndices[n];if(s>this._arr[u].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[u].priority+" New: "+s);this._arr[u].priority=s,this._decrease(u)},t.prototype._heapify=function(n){var s=this._arr,u=2*n,f=u+1,d=n;u<s.length&&(d=s[u].priority<s[d].priority?u:d,f<s.length&&(d=s[f].priority<s[d].priority?f:d),d!==n&&(this._swap(n,d),this._heapify(d)))},t.prototype._decrease=function(n){for(var s=this._arr,u=s[n].priority,f;n!==0&&(f=n>>1,!(s[f].priority<u));)this._swap(n,f),n=f},t.prototype._swap=function(n,s){var u=this._arr,f=this._keyIndices,d=u[n],g=u[s];u[n]=g,u[s]=d,f[g.key]=n,f[d.key]=s},priorityQueue}var dijkstra_1,hasRequiredDijkstra;function requireDijkstra(){if(hasRequiredDijkstra)return dijkstra_1;hasRequiredDijkstra=1;var e=requireLodash$1(),t=requirePriorityQueue();dijkstra_1=s;var n=e.constant(1);function s(f,d,g,v){return u(f,String(d),g||n,v||function(S){return f.outEdges(S)})}function u(f,d,g,v){var S={},M=new t,I,P,N=function(F){var j=F.v!==I?F.v:F.w,U=S[j],V=g(F),Z=P.distance+V;if(V<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+F+" Weight: "+V);Z<U.distance&&(U.distance=Z,U.predecessor=I,M.decrease(j,Z))};for(f.nodes().forEach(function(F){var j=F===d?0:Number.POSITIVE_INFINITY;S[F]={distance:j},M.add(F,j)});M.size()>0&&(I=M.removeMin(),P=S[I],P.distance!==Number.POSITIVE_INFINITY);)v(I).forEach(N);return S}return dijkstra_1}var dijkstraAll_1,hasRequiredDijkstraAll;function requireDijkstraAll(){if(hasRequiredDijkstraAll)return dijkstraAll_1;hasRequiredDijkstraAll=1;var e=requireDijkstra(),t=requireLodash$1();dijkstraAll_1=n;function n(s,u,f){return t.transform(s.nodes(),function(d,g){d[g]=e(s,g,u,f)},{})}return dijkstraAll_1}var tarjan_1,hasRequiredTarjan;function requireTarjan(){if(hasRequiredTarjan)return tarjan_1;hasRequiredTarjan=1;var e=requireLodash$1();tarjan_1=t;function t(n){var s=0,u=[],f={},d=[];function g(v){var S=f[v]={onStack:!0,lowlink:s,index:s++};if(u.push(v),n.successors(v).forEach(function(P){e.has(f,P)?f[P].onStack&&(S.lowlink=Math.min(S.lowlink,f[P].index)):(g(P),S.lowlink=Math.min(S.lowlink,f[P].lowlink))}),S.lowlink===S.index){var M=[],I;do I=u.pop(),f[I].onStack=!1,M.push(I);while(v!==I);d.push(M)}}return n.nodes().forEach(function(v){e.has(f,v)||g(v)}),d}return tarjan_1}var findCycles_1,hasRequiredFindCycles;function requireFindCycles(){if(hasRequiredFindCycles)return findCycles_1;hasRequiredFindCycles=1;var e=requireLodash$1(),t=requireTarjan();findCycles_1=n;function n(s){return e.filter(t(s),function(u){return u.length>1||u.length===1&&s.hasEdge(u[0],u[0])})}return findCycles_1}var floydWarshall_1,hasRequiredFloydWarshall;function requireFloydWarshall(){if(hasRequiredFloydWarshall)return floydWarshall_1;hasRequiredFloydWarshall=1;var e=requireLodash$1();floydWarshall_1=n;var t=e.constant(1);function n(u,f,d){return s(u,f||t,d||function(g){return u.outEdges(g)})}function s(u,f,d){var g={},v=u.nodes();return v.forEach(function(S){g[S]={},g[S][S]={distance:0},v.forEach(function(M){S!==M&&(g[S][M]={distance:Number.POSITIVE_INFINITY})}),d(S).forEach(function(M){var I=M.v===S?M.w:M.v,P=f(M);g[S][I]={distance:P,predecessor:S}})}),v.forEach(function(S){var M=g[S];v.forEach(function(I){var P=g[I];v.forEach(function(N){var F=P[S],j=M[N],U=P[N],V=F.distance+j.distance;V<U.distance&&(U.distance=V,U.predecessor=j.predecessor)})})}),g}return floydWarshall_1}var topsort_1,hasRequiredTopsort;function requireTopsort(){if(hasRequiredTopsort)return topsort_1;hasRequiredTopsort=1;var e=requireLodash$1();topsort_1=t,t.CycleException=n;function t(s){var u={},f={},d=[];function g(v){if(e.has(f,v))throw new n;e.has(u,v)||(f[v]=!0,u[v]=!0,e.each(s.predecessors(v),g),delete f[v],d.push(v))}if(e.each(s.sinks(),g),e.size(u)!==s.nodeCount())throw new n;return d}function n(){}return n.prototype=new Error,topsort_1}var isAcyclic_1,hasRequiredIsAcyclic;function requireIsAcyclic(){if(hasRequiredIsAcyclic)return isAcyclic_1;hasRequiredIsAcyclic=1;var e=requireTopsort();isAcyclic_1=t;function t(n){try{e(n)}catch(s){if(s instanceof e.CycleException)return!1;throw s}return!0}return isAcyclic_1}var dfs_1,hasRequiredDfs;function requireDfs(){if(hasRequiredDfs)return dfs_1;hasRequiredDfs=1;var e=requireLodash$1();dfs_1=t;function t(s,u,f){e.isArray(u)||(u=[u]);var d=(s.isDirected()?s.successors:s.neighbors).bind(s),g=[],v={};return e.each(u,function(S){if(!s.hasNode(S))throw new Error("Graph does not have node: "+S);n(s,S,f==="post",v,d,g)}),g}function n(s,u,f,d,g,v){e.has(d,u)||(d[u]=!0,f||v.push(u),e.each(g(u),function(S){n(s,S,f,d,g,v)}),f&&v.push(u))}return dfs_1}var postorder_1,hasRequiredPostorder;function requirePostorder(){if(hasRequiredPostorder)return postorder_1;hasRequiredPostorder=1;var e=requireDfs();postorder_1=t;function t(n,s){return e(n,s,"post")}return postorder_1}var preorder_1,hasRequiredPreorder;function requirePreorder(){if(hasRequiredPreorder)return preorder_1;hasRequiredPreorder=1;var e=requireDfs();preorder_1=t;function t(n,s){return e(n,s,"pre")}return preorder_1}var prim_1,hasRequiredPrim;function requirePrim(){if(hasRequiredPrim)return prim_1;hasRequiredPrim=1;var e=requireLodash$1(),t=requireGraph(),n=requirePriorityQueue();prim_1=s;function s(u,f){var d=new t,g={},v=new n,S;function M(P){var N=P.v===S?P.w:P.v,F=v.priority(N);if(F!==void 0){var j=f(P);j<F&&(g[N]=S,v.decrease(N,j))}}if(u.nodeCount()===0)return d;e.each(u.nodes(),function(P){v.add(P,Number.POSITIVE_INFINITY),d.setNode(P)}),v.decrease(u.nodes()[0],0);for(var I=!1;v.size()>0;){if(S=v.removeMin(),e.has(g,S))d.setEdge(S,g[S]);else{if(I)throw new Error("Input graph is not connected: "+u);I=!0}u.nodeEdges(S).forEach(M)}return d}return prim_1}var alg,hasRequiredAlg;function requireAlg(){return hasRequiredAlg||(hasRequiredAlg=1,alg={components:requireComponents(),dijkstra:requireDijkstra(),dijkstraAll:requireDijkstraAll(),findCycles:requireFindCycles(),floydWarshall:requireFloydWarshall(),isAcyclic:requireIsAcyclic(),postorder:requirePostorder(),preorder:requirePreorder(),prim:requirePrim(),tarjan:requireTarjan(),topsort:requireTopsort()}),alg}var graphlib,hasRequiredGraphlib$1;function requireGraphlib$1(){if(hasRequiredGraphlib$1)return graphlib;hasRequiredGraphlib$1=1;var e=requireLib();return graphlib={Graph:e.Graph,json:requireJson(),alg:requireAlg(),version:e.version},graphlib}var graphlib_1,hasRequiredGraphlib;function requireGraphlib(){if(hasRequiredGraphlib)return graphlib_1;hasRequiredGraphlib=1;var e;if(typeof commonjsRequire=="function")try{e=requireGraphlib$1()}catch{}return e||(e=window.graphlib),graphlib_1=e,graphlib_1}var cloneDeep_1,hasRequiredCloneDeep;function requireCloneDeep(){if(hasRequiredCloneDeep)return cloneDeep_1;hasRequiredCloneDeep=1;var e=require_baseClone(),t=1,n=4;function s(u){return e(u,t|n)}return cloneDeep_1=s,cloneDeep_1}var _isIterateeCall,hasRequired_isIterateeCall;function require_isIterateeCall(){if(hasRequired_isIterateeCall)return _isIterateeCall;hasRequired_isIterateeCall=1;var e=eq_1,t=requireIsArrayLike(),n=_isIndex,s=isObject_1;function u(f,d,g){if(!s(g))return!1;var v=typeof d;return(v=="number"?t(g)&&n(d,g.length):v=="string"&&d in g)?e(g[d],f):!1}return _isIterateeCall=u,_isIterateeCall}var defaults_1,hasRequiredDefaults;function requireDefaults(){if(hasRequiredDefaults)return defaults_1;hasRequiredDefaults=1;var e=require_baseRest(),t=eq_1,n=require_isIterateeCall(),s=requireKeysIn(),u=Object.prototype,f=u.hasOwnProperty,d=e(function(g,v){g=Object(g);var S=-1,M=v.length,I=M>2?v[2]:void 0;for(I&&n(v[0],v[1],I)&&(M=1);++S<M;)for(var P=v[S],N=s(P),F=-1,j=N.length;++F<j;){var U=N[F],V=g[U];(V===void 0||t(V,u[U])&&!f.call(g,U))&&(g[U]=P[U])}return g});return defaults_1=d,defaults_1}var _createFind,hasRequired_createFind;function require_createFind(){if(hasRequired_createFind)return _createFind;hasRequired_createFind=1;var e=require_baseIteratee(),t=requireIsArrayLike(),n=requireKeys();function s(u){return function(f,d,g){var v=Object(f);if(!t(f)){var S=e(d,3);f=n(f),d=function(I){return S(v[I],I,v)}}var M=u(f,d,g);return M>-1?v[S?f[M]:M]:void 0}}return _createFind=s,_createFind}var toFinite_1,hasRequiredToFinite;function requireToFinite(){if(hasRequiredToFinite)return toFinite_1;hasRequiredToFinite=1;var e=toNumber_1,t=1/0,n=17976931348623157e292;function s(u){if(!u)return u===0?u:0;if(u=e(u),u===t||u===-t){var f=u<0?-1:1;return f*n}return u===u?u:0}return toFinite_1=s,toFinite_1}var toInteger_1,hasRequiredToInteger;function requireToInteger(){if(hasRequiredToInteger)return toInteger_1;hasRequiredToInteger=1;var e=requireToFinite();function t(n){var s=e(n),u=s%1;return s===s?u?s-u:s:0}return toInteger_1=t,toInteger_1}var findIndex_1,hasRequiredFindIndex;function requireFindIndex(){if(hasRequiredFindIndex)return findIndex_1;hasRequiredFindIndex=1;var e=require_baseFindIndex(),t=require_baseIteratee(),n=requireToInteger(),s=Math.max;function u(f,d,g){var v=f==null?0:f.length;if(!v)return-1;var S=g==null?0:n(g);return S<0&&(S=s(v+S,0)),e(f,t(d,3),S)}return findIndex_1=u,findIndex_1}var find_1,hasRequiredFind;function requireFind(){if(hasRequiredFind)return find_1;hasRequiredFind=1;var e=require_createFind(),t=requireFindIndex(),n=e(t);return find_1=n,find_1}var flatten_1,hasRequiredFlatten;function requireFlatten(){if(hasRequiredFlatten)return flatten_1;hasRequiredFlatten=1;var e=require_baseFlatten();function t(n){var s=n==null?0:n.length;return s?e(n,1):[]}return flatten_1=t,flatten_1}var forIn_1,hasRequiredForIn;function requireForIn(){if(hasRequiredForIn)return forIn_1;hasRequiredForIn=1;var e=require_baseFor(),t=require_castFunction(),n=requireKeysIn();function s(u,f){return u==null?u:e(u,t(f),n)}return forIn_1=s,forIn_1}var last_1,hasRequiredLast;function requireLast(){if(hasRequiredLast)return last_1;hasRequiredLast=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return last_1=e,last_1}var mapValues_1,hasRequiredMapValues;function requireMapValues(){if(hasRequiredMapValues)return mapValues_1;hasRequiredMapValues=1;var e=_baseAssignValue,t=require_baseForOwn(),n=require_baseIteratee();function s(u,f){var d={};return f=n(f,3),t(u,function(g,v,S){e(d,v,f(g,v,S))}),d}return mapValues_1=s,mapValues_1}var _baseExtremum,hasRequired_baseExtremum;function require_baseExtremum(){if(hasRequired_baseExtremum)return _baseExtremum;hasRequired_baseExtremum=1;var e=isSymbol_1;function t(n,s,u){for(var f=-1,d=n.length;++f<d;){var g=n[f],v=s(g);if(v!=null&&(S===void 0?v===v&&!e(v):u(v,S)))var S=v,M=g}return M}return _baseExtremum=t,_baseExtremum}var _baseGt,hasRequired_baseGt;function require_baseGt(){if(hasRequired_baseGt)return _baseGt;hasRequired_baseGt=1;function e(t,n){return t>n}return _baseGt=e,_baseGt}var max_1,hasRequiredMax;function requireMax(){if(hasRequiredMax)return max_1;hasRequiredMax=1;var e=require_baseExtremum(),t=require_baseGt(),n=requireIdentity();function s(u){return u&&u.length?e(u,n,t):void 0}return max_1=s,max_1}var _assignMergeValue,hasRequired_assignMergeValue;function require_assignMergeValue(){if(hasRequired_assignMergeValue)return _assignMergeValue;hasRequired_assignMergeValue=1;var e=_baseAssignValue,t=eq_1;function n(s,u,f){(f!==void 0&&!t(s[u],f)||f===void 0&&!(u in s))&&e(s,u,f)}return _assignMergeValue=n,_assignMergeValue}var isPlainObject_1,hasRequiredIsPlainObject;function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject_1;hasRequiredIsPlainObject=1;var e=_baseGetTag,t=require_getPrototype(),n=isObjectLike_1,s="[object Object]",u=Function.prototype,f=Object.prototype,d=u.toString,g=f.hasOwnProperty,v=d.call(Object);function S(M){if(!n(M)||e(M)!=s)return!1;var I=t(M);if(I===null)return!0;var P=g.call(I,"constructor")&&I.constructor;return typeof P=="function"&&P instanceof P&&d.call(P)==v}return isPlainObject_1=S,isPlainObject_1}var _safeGet,hasRequired_safeGet;function require_safeGet(){if(hasRequired_safeGet)return _safeGet;hasRequired_safeGet=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return _safeGet=e,_safeGet}var toPlainObject_1,hasRequiredToPlainObject;function requireToPlainObject(){if(hasRequiredToPlainObject)return toPlainObject_1;hasRequiredToPlainObject=1;var e=require_copyObject(),t=requireKeysIn();function n(s){return e(s,t(s))}return toPlainObject_1=n,toPlainObject_1}var _baseMergeDeep,hasRequired_baseMergeDeep;function require_baseMergeDeep(){if(hasRequired_baseMergeDeep)return _baseMergeDeep;hasRequired_baseMergeDeep=1;var e=require_assignMergeValue(),t=require_cloneBuffer(),n=require_cloneTypedArray(),s=_copyArray,u=require_initCloneObject(),f=requireIsArguments(),d=isArray_1,g=requireIsArrayLikeObject(),v=requireIsBuffer(),S=isFunction_1,M=isObject_1,I=requireIsPlainObject(),P=requireIsTypedArray(),N=require_safeGet(),F=requireToPlainObject();function j(U,V,Z,Q,J,te,oe){var ue=N(U,Z),se=N(V,Z),le=oe.get(se);if(le){e(U,Z,le);return}var de=te?te(ue,se,Z+"",U,V,oe):void 0,ge=de===void 0;if(ge){var ve=d(se),me=!ve&&v(se),ye=!ve&&!me&&P(se);de=se,ve||me||ye?d(ue)?de=ue:g(ue)?de=s(ue):me?(ge=!1,de=t(se,!0)):ye?(ge=!1,de=n(se,!0)):de=[]:I(se)||f(se)?(de=ue,f(ue)?de=F(ue):(!M(ue)||S(ue))&&(de=u(se))):ge=!1}ge&&(oe.set(se,de),J(de,se,Q,te,oe),oe.delete(se)),e(U,Z,de)}return _baseMergeDeep=j,_baseMergeDeep}var _baseMerge,hasRequired_baseMerge;function require_baseMerge(){if(hasRequired_baseMerge)return _baseMerge;hasRequired_baseMerge=1;var e=require_Stack(),t=require_assignMergeValue(),n=require_baseFor(),s=require_baseMergeDeep(),u=isObject_1,f=requireKeysIn(),d=require_safeGet();function g(v,S,M,I,P){v!==S&&n(S,function(N,F){if(P||(P=new e),u(N))s(v,S,F,M,g,I,P);else{var j=I?I(d(v,F),N,F+"",v,S,P):void 0;j===void 0&&(j=N),t(v,F,j)}},f)}return _baseMerge=g,_baseMerge}var _createAssigner,hasRequired_createAssigner;function require_createAssigner(){if(hasRequired_createAssigner)return _createAssigner;hasRequired_createAssigner=1;var e=require_baseRest(),t=require_isIterateeCall();function n(s){return e(function(u,f){var d=-1,g=f.length,v=g>1?f[g-1]:void 0,S=g>2?f[2]:void 0;for(v=s.length>3&&typeof v=="function"?(g--,v):void 0,S&&t(f[0],f[1],S)&&(v=g<3?void 0:v,g=1),u=Object(u);++d<g;){var M=f[d];M&&s(u,M,d,v)}return u})}return _createAssigner=n,_createAssigner}var merge_1,hasRequiredMerge;function requireMerge(){if(hasRequiredMerge)return merge_1;hasRequiredMerge=1;var e=require_baseMerge(),t=require_createAssigner(),n=t(function(s,u,f){e(s,u,f)});return merge_1=n,merge_1}var _baseLt,hasRequired_baseLt;function require_baseLt(){if(hasRequired_baseLt)return _baseLt;hasRequired_baseLt=1;function e(t,n){return t<n}return _baseLt=e,_baseLt}var min_1,hasRequiredMin;function requireMin(){if(hasRequiredMin)return min_1;hasRequiredMin=1;var e=require_baseExtremum(),t=require_baseLt(),n=requireIdentity();function s(u){return u&&u.length?e(u,n,t):void 0}return min_1=s,min_1}var minBy_1,hasRequiredMinBy;function requireMinBy(){if(hasRequiredMinBy)return minBy_1;hasRequiredMinBy=1;var e=require_baseExtremum(),t=require_baseIteratee(),n=require_baseLt();function s(u,f){return u&&u.length?e(u,t(f,2),n):void 0}return minBy_1=s,minBy_1}var _basePickBy,hasRequired_basePickBy;function require_basePickBy(){if(hasRequired_basePickBy)return _basePickBy;hasRequired_basePickBy=1;var e=_baseGet,t=_baseSet,n=_castPath;function s(u,f,d){for(var g=-1,v=f.length,S={};++g<v;){var M=f[g],I=e(u,M);d(I,M)&&t(S,n(M,u),I)}return S}return _basePickBy=s,_basePickBy}var _basePick,hasRequired_basePick;function require_basePick(){if(hasRequired_basePick)return _basePick;hasRequired_basePick=1;var e=require_basePickBy(),t=requireHasIn();function n(s,u){return e(s,u,function(f,d){return t(s,d)})}return _basePick=n,_basePick}var _flatRest,hasRequired_flatRest;function require_flatRest(){if(hasRequired_flatRest)return _flatRest;hasRequired_flatRest=1;var e=requireFlatten(),t=require_overRest(),n=require_setToString();function s(u){return n(t(u,void 0,e),u+"")}return _flatRest=s,_flatRest}var pick_1,hasRequiredPick;function requirePick(){if(hasRequiredPick)return pick_1;hasRequiredPick=1;var e=require_basePick(),t=require_flatRest(),n=t(function(s,u){return s==null?{}:e(s,u)});return pick_1=n,pick_1}var _baseRange,hasRequired_baseRange;function require_baseRange(){if(hasRequired_baseRange)return _baseRange;hasRequired_baseRange=1;var e=Math.ceil,t=Math.max;function n(s,u,f,d){for(var g=-1,v=t(e((u-s)/(f||1)),0),S=Array(v);v--;)S[d?v:++g]=s,s+=f;return S}return _baseRange=n,_baseRange}var _createRange,hasRequired_createRange;function require_createRange(){if(hasRequired_createRange)return _createRange;hasRequired_createRange=1;var e=require_baseRange(),t=require_isIterateeCall(),n=requireToFinite();function s(u){return function(f,d,g){return g&&typeof g!="number"&&t(f,d,g)&&(d=g=void 0),f=n(f),d===void 0?(d=f,f=0):d=n(d),g=g===void 0?f<d?1:-1:n(g),e(f,d,g,u)}}return _createRange=s,_createRange}var range_1,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range_1;hasRequiredRange=1;var e=require_createRange(),t=e();return range_1=t,range_1}var _baseSortBy,hasRequired_baseSortBy;function require_baseSortBy(){if(hasRequired_baseSortBy)return _baseSortBy;hasRequired_baseSortBy=1;function e(t,n){var s=t.length;for(t.sort(n);s--;)t[s]=t[s].value;return t}return _baseSortBy=e,_baseSortBy}var _compareAscending,hasRequired_compareAscending;function require_compareAscending(){if(hasRequired_compareAscending)return _compareAscending;hasRequired_compareAscending=1;var e=isSymbol_1;function t(n,s){if(n!==s){var u=n!==void 0,f=n===null,d=n===n,g=e(n),v=s!==void 0,S=s===null,M=s===s,I=e(s);if(!S&&!I&&!g&&n>s||g&&v&&M&&!S&&!I||f&&v&&M||!u&&M||!d)return 1;if(!f&&!g&&!I&&n<s||I&&u&&d&&!f&&!g||S&&u&&d||!v&&d||!M)return-1}return 0}return _compareAscending=t,_compareAscending}var _compareMultiple,hasRequired_compareMultiple;function require_compareMultiple(){if(hasRequired_compareMultiple)return _compareMultiple;hasRequired_compareMultiple=1;var e=require_compareAscending();function t(n,s,u){for(var f=-1,d=n.criteria,g=s.criteria,v=d.length,S=u.length;++f<v;){var M=e(d[f],g[f]);if(M){if(f>=S)return M;var I=u[f];return M*(I=="desc"?-1:1)}}return n.index-s.index}return _compareMultiple=t,_compareMultiple}var _baseOrderBy,hasRequired_baseOrderBy;function require_baseOrderBy(){if(hasRequired_baseOrderBy)return _baseOrderBy;hasRequired_baseOrderBy=1;var e=_arrayMap,t=_baseGet,n=require_baseIteratee(),s=require_baseMap(),u=require_baseSortBy(),f=require_baseUnary(),d=require_compareMultiple(),g=requireIdentity(),v=isArray_1;function S(M,I,P){I.length?I=e(I,function(j){return v(j)?function(U){return t(U,j.length===1?j[0]:j)}:j}):I=[g];var N=-1;I=e(I,f(n));var F=s(M,function(j,U,V){var Z=e(I,function(Q){return Q(j)});return{criteria:Z,index:++N,value:j}});return u(F,function(j,U){return d(j,U,P)})}return _baseOrderBy=S,_baseOrderBy}var sortBy_1,hasRequiredSortBy;function requireSortBy(){if(hasRequiredSortBy)return sortBy_1;hasRequiredSortBy=1;var e=require_baseFlatten(),t=require_baseOrderBy(),n=require_baseRest(),s=require_isIterateeCall(),u=n(function(f,d){if(f==null)return[];var g=d.length;return g>1&&s(f,d[0],d[1])?d=[]:g>2&&s(d[0],d[1],d[2])&&(d=[d[0]]),t(f,e(d,1),[])});return sortBy_1=u,sortBy_1}var uniqueId_1,hasRequiredUniqueId;function requireUniqueId(){if(hasRequiredUniqueId)return uniqueId_1;hasRequiredUniqueId=1;var e=toString_1,t=0;function n(s){var u=++t;return e(s)+u}return uniqueId_1=n,uniqueId_1}var _baseZipObject,hasRequired_baseZipObject;function require_baseZipObject(){if(hasRequired_baseZipObject)return _baseZipObject;hasRequired_baseZipObject=1;function e(t,n,s){for(var u=-1,f=t.length,d=n.length,g={};++u<f;){var v=u<d?n[u]:void 0;s(g,t[u],v)}return g}return _baseZipObject=e,_baseZipObject}var zipObject_1,hasRequiredZipObject;function requireZipObject(){if(hasRequiredZipObject)return zipObject_1;hasRequiredZipObject=1;var e=_assignValue,t=require_baseZipObject();function n(s,u){return t(s||[],u||[],e)}return zipObject_1=n,zipObject_1}var lodash_1,hasRequiredLodash;function requireLodash(){if(hasRequiredLodash)return lodash_1;hasRequiredLodash=1;var e;if(typeof commonjsRequire=="function")try{e={cloneDeep:requireCloneDeep(),constant:requireConstant(),defaults:requireDefaults(),each:requireEach(),filter:requireFilter(),find:requireFind(),flatten:requireFlatten(),forEach:requireForEach(),forIn:requireForIn(),has:requireHas(),isUndefined:requireIsUndefined(),last:requireLast(),map:requireMap(),mapValues:requireMapValues(),max:requireMax(),merge:requireMerge(),min:requireMin(),minBy:requireMinBy(),now:now_1,pick:requirePick(),range:requireRange(),reduce:requireReduce(),sortBy:requireSortBy(),uniqueId:requireUniqueId(),values:requireValues(),zipObject:requireZipObject()}}catch{}return e||(e=window._),lodash_1=e,lodash_1}var list,hasRequiredList;function requireList(){if(hasRequiredList)return list;hasRequiredList=1,list=e;function e(){var s={};s._next=s._prev=s,this._sentinel=s}e.prototype.dequeue=function(){var s=this._sentinel,u=s._prev;if(u!==s)return t(u),u},e.prototype.enqueue=function(s){var u=this._sentinel;s._prev&&s._next&&t(s),s._next=u._next,u._next._prev=s,u._next=s,s._prev=u},e.prototype.toString=function(){for(var s=[],u=this._sentinel,f=u._prev;f!==u;)s.push(JSON.stringify(f,n)),f=f._prev;return"["+s.join(", ")+"]"};function t(s){s._prev._next=s._next,s._next._prev=s._prev,delete s._next,delete s._prev}function n(s,u){if(s!=="_next"&&s!=="_prev")return u}return list}var greedyFas,hasRequiredGreedyFas;function requireGreedyFas(){if(hasRequiredGreedyFas)return greedyFas;hasRequiredGreedyFas=1;var e=requireLodash(),t=requireGraphlib().Graph,n=requireList();greedyFas=u;var s=e.constant(1);function u(S,M){if(S.nodeCount()<=1)return[];var I=g(S,M||s),P=f(I.graph,I.buckets,I.zeroIdx);return e.flatten(e.map(P,function(N){return S.outEdges(N.v,N.w)}),!0)}function f(S,M,I){for(var P=[],N=M[M.length-1],F=M[0],j;S.nodeCount();){for(;j=F.dequeue();)d(S,M,I,j);for(;j=N.dequeue();)d(S,M,I,j);if(S.nodeCount()){for(var U=M.length-2;U>0;--U)if(j=M[U].dequeue(),j){P=P.concat(d(S,M,I,j,!0));break}}}return P}function d(S,M,I,P,N){var F=N?[]:void 0;return e.forEach(S.inEdges(P.v),function(j){var U=S.edge(j),V=S.node(j.v);N&&F.push({v:j.v,w:j.w}),V.out-=U,v(M,I,V)}),e.forEach(S.outEdges(P.v),function(j){var U=S.edge(j),V=j.w,Z=S.node(V);Z.in-=U,v(M,I,Z)}),S.removeNode(P.v),F}function g(S,M){var I=new t,P=0,N=0;e.forEach(S.nodes(),function(U){I.setNode(U,{v:U,in:0,out:0})}),e.forEach(S.edges(),function(U){var V=I.edge(U.v,U.w)||0,Z=M(U),Q=V+Z;I.setEdge(U.v,U.w,Q),N=Math.max(N,I.node(U.v).out+=Z),P=Math.max(P,I.node(U.w).in+=Z)});var F=e.range(N+P+3).map(function(){return new n}),j=P+1;return e.forEach(I.nodes(),function(U){v(F,j,I.node(U))}),{graph:I,buckets:F,zeroIdx:j}}function v(S,M,I){I.out?I.in?S[I.out-I.in+M].enqueue(I):S[S.length-1].enqueue(I):S[0].enqueue(I)}return greedyFas}var acyclic,hasRequiredAcyclic;function requireAcyclic(){if(hasRequiredAcyclic)return acyclic;hasRequiredAcyclic=1;var e=requireLodash(),t=requireGreedyFas();acyclic={run:n,undo:u};function n(f){var d=f.graph().acyclicer==="greedy"?t(f,g(f)):s(f);e.forEach(d,function(v){var S=f.edge(v);f.removeEdge(v),S.forwardName=v.name,S.reversed=!0,f.setEdge(v.w,v.v,S,e.uniqueId("rev"))});function g(v){return function(S){return v.edge(S).weight}}}function s(f){var d=[],g={},v={};function S(M){e.has(v,M)||(v[M]=!0,g[M]=!0,e.forEach(f.outEdges(M),function(I){e.has(g,I.w)?d.push(I):S(I.w)}),delete g[M])}return e.forEach(f.nodes(),S),d}function u(f){e.forEach(f.edges(),function(d){var g=f.edge(d);if(g.reversed){f.removeEdge(d);var v=g.forwardName;delete g.reversed,delete g.forwardName,f.setEdge(d.w,d.v,g,v)}})}return acyclic}var util$1,hasRequiredUtil$1;function requireUtil$1(){if(hasRequiredUtil$1)return util$1;hasRequiredUtil$1=1;var e=requireLodash(),t=requireGraphlib().Graph;util$1={addDummyNode:n,simplify:s,asNonCompoundGraph:u,successorWeights:f,predecessorWeights:d,intersectRect:g,buildLayerMatrix:v,normalizeRanks:S,removeEmptyRanks:M,addBorderNode:I,maxRank:P,partition:N,time:F,notime:j};function n(U,V,Z,Q){var J;do J=e.uniqueId(Q);while(U.hasNode(J));return Z.dummy=V,U.setNode(J,Z),J}function s(U){var V=new t().setGraph(U.graph());return e.forEach(U.nodes(),function(Z){V.setNode(Z,U.node(Z))}),e.forEach(U.edges(),function(Z){var Q=V.edge(Z.v,Z.w)||{weight:0,minlen:1},J=U.edge(Z);V.setEdge(Z.v,Z.w,{weight:Q.weight+J.weight,minlen:Math.max(Q.minlen,J.minlen)})}),V}function u(U){var V=new t({multigraph:U.isMultigraph()}).setGraph(U.graph());return e.forEach(U.nodes(),function(Z){U.children(Z).length||V.setNode(Z,U.node(Z))}),e.forEach(U.edges(),function(Z){V.setEdge(Z,U.edge(Z))}),V}function f(U){var V=e.map(U.nodes(),function(Z){var Q={};return e.forEach(U.outEdges(Z),function(J){Q[J.w]=(Q[J.w]||0)+U.edge(J).weight}),Q});return e.zipObject(U.nodes(),V)}function d(U){var V=e.map(U.nodes(),function(Z){var Q={};return e.forEach(U.inEdges(Z),function(J){Q[J.v]=(Q[J.v]||0)+U.edge(J).weight}),Q});return e.zipObject(U.nodes(),V)}function g(U,V){var Z=U.x,Q=U.y,J=V.x-Z,te=V.y-Q,oe=U.width/2,ue=U.height/2;if(!J&&!te)throw new Error("Not possible to find intersection inside of the rectangle");var se,le;return Math.abs(te)*oe>Math.abs(J)*ue?(te<0&&(ue=-ue),se=ue*J/te,le=ue):(J<0&&(oe=-oe),se=oe,le=oe*te/J),{x:Z+se,y:Q+le}}function v(U){var V=e.map(e.range(P(U)+1),function(){return[]});return e.forEach(U.nodes(),function(Z){var Q=U.node(Z),J=Q.rank;e.isUndefined(J)||(V[J][Q.order]=Z)}),V}function S(U){var V=e.min(e.map(U.nodes(),function(Z){return U.node(Z).rank}));e.forEach(U.nodes(),function(Z){var Q=U.node(Z);e.has(Q,"rank")&&(Q.rank-=V)})}function M(U){var V=e.min(e.map(U.nodes(),function(te){return U.node(te).rank})),Z=[];e.forEach(U.nodes(),function(te){var oe=U.node(te).rank-V;Z[oe]||(Z[oe]=[]),Z[oe].push(te)});var Q=0,J=U.graph().nodeRankFactor;e.forEach(Z,function(te,oe){e.isUndefined(te)&&oe%J!==0?--Q:Q&&e.forEach(te,function(ue){U.node(ue).rank+=Q})})}function I(U,V,Z,Q){var J={width:0,height:0};return arguments.length>=4&&(J.rank=Z,J.order=Q),n(U,"border",J,V)}function P(U){return e.max(e.map(U.nodes(),function(V){var Z=U.node(V).rank;if(!e.isUndefined(Z))return Z}))}function N(U,V){var Z={lhs:[],rhs:[]};return e.forEach(U,function(Q){V(Q)?Z.lhs.push(Q):Z.rhs.push(Q)}),Z}function F(U,V){var Z=e.now();try{return V()}finally{console.log(U+" time: "+(e.now()-Z)+"ms")}}function j(U,V){return V()}return util$1}var normalize,hasRequiredNormalize;function requireNormalize(){if(hasRequiredNormalize)return normalize;hasRequiredNormalize=1;var e=requireLodash(),t=requireUtil$1();normalize={run:n,undo:u};function n(f){f.graph().dummyChains=[],e.forEach(f.edges(),function(d){s(f,d)})}function s(f,d){var g=d.v,v=f.node(g).rank,S=d.w,M=f.node(S).rank,I=d.name,P=f.edge(d),N=P.labelRank;if(M!==v+1){f.removeEdge(d);var F,j,U;for(U=0,++v;v<M;++U,++v)P.points=[],j={width:0,height:0,edgeLabel:P,edgeObj:d,rank:v},F=t.addDummyNode(f,"edge",j,"_d"),v===N&&(j.width=P.width,j.height=P.height,j.dummy="edge-label",j.labelpos=P.labelpos),f.setEdge(g,F,{weight:P.weight},I),U===0&&f.graph().dummyChains.push(F),g=F;f.setEdge(g,S,{weight:P.weight},I)}}function u(f){e.forEach(f.graph().dummyChains,function(d){var g=f.node(d),v=g.edgeLabel,S;for(f.setEdge(g.edgeObj,v);g.dummy;)S=f.successors(d)[0],f.removeNode(d),v.points.push({x:g.x,y:g.y}),g.dummy==="edge-label"&&(v.x=g.x,v.y=g.y,v.width=g.width,v.height=g.height),d=S,g=f.node(d)})}return normalize}var util,hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;var e=requireLodash();util={longestPath:t,slack:n};function t(s){var u={};function f(d){var g=s.node(d);if(e.has(u,d))return g.rank;u[d]=!0;var v=e.min(e.map(s.outEdges(d),function(S){return f(S.w)-s.edge(S).minlen}));return(v===Number.POSITIVE_INFINITY||v===void 0||v===null)&&(v=0),g.rank=v}e.forEach(s.sources(),f)}function n(s,u){return s.node(u.w).rank-s.node(u.v).rank-s.edge(u).minlen}return util}var feasibleTree_1,hasRequiredFeasibleTree;function requireFeasibleTree(){if(hasRequiredFeasibleTree)return feasibleTree_1;hasRequiredFeasibleTree=1;var e=requireLodash(),t=requireGraphlib().Graph,n=requireUtil().slack;feasibleTree_1=s;function s(g){var v=new t({directed:!1}),S=g.nodes()[0],M=g.nodeCount();v.setNode(S,{});for(var I,P;u(v,g)<M;)I=f(v,g),P=v.hasNode(I.v)?n(g,I):-n(g,I),d(v,g,P);return v}function u(g,v){function S(M){e.forEach(v.nodeEdges(M),function(I){var P=I.v,N=M===P?I.w:P;!g.hasNode(N)&&!n(v,I)&&(g.setNode(N,{}),g.setEdge(M,N,{}),S(N))})}return e.forEach(g.nodes(),S),g.nodeCount()}function f(g,v){return e.minBy(v.edges(),function(S){if(g.hasNode(S.v)!==g.hasNode(S.w))return n(v,S)})}function d(g,v,S){e.forEach(g.nodes(),function(M){v.node(M).rank+=S})}return feasibleTree_1}var networkSimplex_1,hasRequiredNetworkSimplex;function requireNetworkSimplex(){if(hasRequiredNetworkSimplex)return networkSimplex_1;hasRequiredNetworkSimplex=1;var e=requireLodash(),t=requireFeasibleTree(),n=requireUtil().slack,s=requireUtil().longestPath,u=requireGraphlib().alg.preorder,f=requireGraphlib().alg.postorder,d=requireUtil$1().simplify;networkSimplex_1=g,g.initLowLimValues=I,g.initCutValues=v,g.calcCutValue=M,g.leaveEdge=N,g.enterEdge=F,g.exchangeEdges=j;function g(Q){Q=d(Q),s(Q);var J=t(Q);I(J),v(J,Q);for(var te,oe;te=N(J);)oe=F(J,Q,te),j(J,Q,te,oe)}function v(Q,J){var te=f(Q,Q.nodes());te=te.slice(0,te.length-1),e.forEach(te,function(oe){S(Q,J,oe)})}function S(Q,J,te){var oe=Q.node(te),ue=oe.parent;Q.edge(te,ue).cutvalue=M(Q,J,te)}function M(Q,J,te){var oe=Q.node(te),ue=oe.parent,se=!0,le=J.edge(te,ue),de=0;return le||(se=!1,le=J.edge(ue,te)),de=le.weight,e.forEach(J.nodeEdges(te),function(ge){var ve=ge.v===te,me=ve?ge.w:ge.v;if(me!==ue){var ye=ve===se,Ae=J.edge(ge).weight;if(de+=ye?Ae:-Ae,V(Q,te,me)){var Te=Q.edge(te,me).cutvalue;de+=ye?-Te:Te}}}),de}function I(Q,J){arguments.length<2&&(J=Q.nodes()[0]),P(Q,{},1,J)}function P(Q,J,te,oe,ue){var se=te,le=Q.node(oe);return J[oe]=!0,e.forEach(Q.neighbors(oe),function(de){e.has(J,de)||(te=P(Q,J,te,de,oe))}),le.low=se,le.lim=te++,ue?le.parent=ue:delete le.parent,te}function N(Q){return e.find(Q.edges(),function(J){return Q.edge(J).cutvalue<0})}function F(Q,J,te){var oe=te.v,ue=te.w;J.hasEdge(oe,ue)||(oe=te.w,ue=te.v);var se=Q.node(oe),le=Q.node(ue),de=se,ge=!1;se.lim>le.lim&&(de=le,ge=!0);var ve=e.filter(J.edges(),function(me){return ge===Z(Q,Q.node(me.v),de)&&ge!==Z(Q,Q.node(me.w),de)});return e.minBy(ve,function(me){return n(J,me)})}function j(Q,J,te,oe){var ue=te.v,se=te.w;Q.removeEdge(ue,se),Q.setEdge(oe.v,oe.w,{}),I(Q),v(Q,J),U(Q,J)}function U(Q,J){var te=e.find(Q.nodes(),function(ue){return!J.node(ue).parent}),oe=u(Q,te);oe=oe.slice(1),e.forEach(oe,function(ue){var se=Q.node(ue).parent,le=J.edge(ue,se),de=!1;le||(le=J.edge(se,ue),de=!0),J.node(ue).rank=J.node(se).rank+(de?le.minlen:-le.minlen)})}function V(Q,J,te){return Q.hasEdge(J,te)}function Z(Q,J,te){return te.low<=J.lim&&J.lim<=te.lim}return networkSimplex_1}var rank_1,hasRequiredRank;function requireRank(){if(hasRequiredRank)return rank_1;hasRequiredRank=1;var e=requireUtil(),t=e.longestPath,n=requireFeasibleTree(),s=requireNetworkSimplex();rank_1=u;function u(v){switch(v.graph().ranker){case"network-simplex":g(v);break;case"tight-tree":d(v);break;case"longest-path":f(v);break;default:g(v)}}var f=t;function d(v){t(v),n(v)}function g(v){s(v)}return rank_1}var parentDummyChains_1,hasRequiredParentDummyChains;function requireParentDummyChains(){if(hasRequiredParentDummyChains)return parentDummyChains_1;hasRequiredParentDummyChains=1;var e=requireLodash();parentDummyChains_1=t;function t(u){var f=s(u);e.forEach(u.graph().dummyChains,function(d){for(var g=u.node(d),v=g.edgeObj,S=n(u,f,v.v,v.w),M=S.path,I=S.lca,P=0,N=M[P],F=!0;d!==v.w;){if(g=u.node(d),F){for(;(N=M[P])!==I&&u.node(N).maxRank<g.rank;)P++;N===I&&(F=!1)}if(!F){for(;P<M.length-1&&u.node(N=M[P+1]).minRank<=g.rank;)P++;N=M[P]}u.setParent(d,N),d=u.successors(d)[0]}})}function n(u,f,d,g){var v=[],S=[],M=Math.min(f[d].low,f[g].low),I=Math.max(f[d].lim,f[g].lim),P,N;P=d;do P=u.parent(P),v.push(P);while(P&&(f[P].low>M||I>f[P].lim));for(N=P,P=g;(P=u.parent(P))!==N;)S.push(P);return{path:v.concat(S.reverse()),lca:N}}function s(u){var f={},d=0;function g(v){var S=d;e.forEach(u.children(v),g),f[v]={low:S,lim:d++}}return e.forEach(u.children(),g),f}return parentDummyChains_1}var nestingGraph,hasRequiredNestingGraph;function requireNestingGraph(){if(hasRequiredNestingGraph)return nestingGraph;hasRequiredNestingGraph=1;var e=requireLodash(),t=requireUtil$1();nestingGraph={run:n,cleanup:d};function n(g){var v=t.addDummyNode(g,"root",{},"_root"),S=u(g),M=e.max(e.values(S))-1,I=2*M+1;g.graph().nestingRoot=v,e.forEach(g.edges(),function(N){g.edge(N).minlen*=I});var P=f(g)+1;e.forEach(g.children(),function(N){s(g,v,I,P,M,S,N)}),g.graph().nodeRankFactor=I}function s(g,v,S,M,I,P,N){var F=g.children(N);if(!F.length){N!==v&&g.setEdge(v,N,{weight:0,minlen:S});return}var j=t.addBorderNode(g,"_bt"),U=t.addBorderNode(g,"_bb"),V=g.node(N);g.setParent(j,N),V.borderTop=j,g.setParent(U,N),V.borderBottom=U,e.forEach(F,function(Z){s(g,v,S,M,I,P,Z);var Q=g.node(Z),J=Q.borderTop?Q.borderTop:Z,te=Q.borderBottom?Q.borderBottom:Z,oe=Q.borderTop?M:2*M,ue=J!==te?1:I-P[N]+1;g.setEdge(j,J,{weight:oe,minlen:ue,nestingEdge:!0}),g.setEdge(te,U,{weight:oe,minlen:ue,nestingEdge:!0})}),g.parent(N)||g.setEdge(v,j,{weight:0,minlen:I+P[N]})}function u(g){var v={};function S(M,I){var P=g.children(M);P&&P.length&&e.forEach(P,function(N){S(N,I+1)}),v[M]=I}return e.forEach(g.children(),function(M){S(M,1)}),v}function f(g){return e.reduce(g.edges(),function(v,S){return v+g.edge(S).weight},0)}function d(g){var v=g.graph();g.removeNode(v.nestingRoot),delete v.nestingRoot,e.forEach(g.edges(),function(S){var M=g.edge(S);M.nestingEdge&&g.removeEdge(S)})}return nestingGraph}var addBorderSegments_1,hasRequiredAddBorderSegments;function requireAddBorderSegments(){if(hasRequiredAddBorderSegments)return addBorderSegments_1;hasRequiredAddBorderSegments=1;var e=requireLodash(),t=requireUtil$1();addBorderSegments_1=n;function n(u){function f(d){var g=u.children(d),v=u.node(d);if(g.length&&e.forEach(g,f),e.has(v,"minRank")){v.borderLeft=[],v.borderRight=[];for(var S=v.minRank,M=v.maxRank+1;S<M;++S)s(u,"borderLeft","_bl",d,v,S),s(u,"borderRight","_br",d,v,S)}}e.forEach(u.children(),f)}function s(u,f,d,g,v,S){var M={width:0,height:0,rank:S,borderType:f},I=v[f][S-1],P=t.addDummyNode(u,"border",M,d);v[f][S]=P,u.setParent(P,g),I&&u.setEdge(I,P,{weight:1})}return addBorderSegments_1}var coordinateSystem,hasRequiredCoordinateSystem;function requireCoordinateSystem(){if(hasRequiredCoordinateSystem)return coordinateSystem;hasRequiredCoordinateSystem=1;var e=requireLodash();coordinateSystem={adjust:t,undo:n};function t(S){var M=S.graph().rankdir.toLowerCase();(M==="lr"||M==="rl")&&s(S)}function n(S){var M=S.graph().rankdir.toLowerCase();(M==="bt"||M==="rl")&&f(S),(M==="lr"||M==="rl")&&(g(S),s(S))}function s(S){e.forEach(S.nodes(),function(M){u(S.node(M))}),e.forEach(S.edges(),function(M){u(S.edge(M))})}function u(S){var M=S.width;S.width=S.height,S.height=M}function f(S){e.forEach(S.nodes(),function(M){d(S.node(M))}),e.forEach(S.edges(),function(M){var I=S.edge(M);e.forEach(I.points,d),e.has(I,"y")&&d(I)})}function d(S){S.y=-S.y}function g(S){e.forEach(S.nodes(),function(M){v(S.node(M))}),e.forEach(S.edges(),function(M){var I=S.edge(M);e.forEach(I.points,v),e.has(I,"x")&&v(I)})}function v(S){var M=S.x;S.x=S.y,S.y=M}return coordinateSystem}var initOrder_1,hasRequiredInitOrder;function requireInitOrder(){if(hasRequiredInitOrder)return initOrder_1;hasRequiredInitOrder=1;var e=requireLodash();initOrder_1=t;function t(n){var s={},u=e.filter(n.nodes(),function(S){return!n.children(S).length}),f=e.max(e.map(u,function(S){return n.node(S).rank})),d=e.map(e.range(f+1),function(){return[]});function g(S){if(!e.has(s,S)){s[S]=!0;var M=n.node(S);d[M.rank].push(S),e.forEach(n.successors(S),g)}}var v=e.sortBy(u,function(S){return n.node(S).rank});return e.forEach(v,g),d}return initOrder_1}var crossCount_1,hasRequiredCrossCount;function requireCrossCount(){if(hasRequiredCrossCount)return crossCount_1;hasRequiredCrossCount=1;var e=requireLodash();crossCount_1=t;function t(s,u){for(var f=0,d=1;d<u.length;++d)f+=n(s,u[d-1],u[d]);return f}function n(s,u,f){for(var d=e.zipObject(f,e.map(f,function(P,N){return N})),g=e.flatten(e.map(u,function(P){return e.sortBy(e.map(s.outEdges(P),function(N){return{pos:d[N.w],weight:s.edge(N).weight}}),"pos")}),!0),v=1;v<f.length;)v<<=1;var S=2*v-1;v-=1;var M=e.map(new Array(S),function(){return 0}),I=0;return e.forEach(g.forEach(function(P){var N=P.pos+v;M[N]+=P.weight;for(var F=0;N>0;)N%2&&(F+=M[N+1]),N=N-1>>1,M[N]+=P.weight;I+=P.weight*F})),I}return crossCount_1}var barycenter_1,hasRequiredBarycenter;function requireBarycenter(){if(hasRequiredBarycenter)return barycenter_1;hasRequiredBarycenter=1;var e=requireLodash();barycenter_1=t;function t(n,s){return e.map(s,function(u){var f=n.inEdges(u);if(f.length){var d=e.reduce(f,function(g,v){var S=n.edge(v),M=n.node(v.v);return{sum:g.sum+S.weight*M.order,weight:g.weight+S.weight}},{sum:0,weight:0});return{v:u,barycenter:d.sum/d.weight,weight:d.weight}}else return{v:u}})}return barycenter_1}var resolveConflicts_1,hasRequiredResolveConflicts;function requireResolveConflicts(){if(hasRequiredResolveConflicts)return resolveConflicts_1;hasRequiredResolveConflicts=1;var e=requireLodash();resolveConflicts_1=t;function t(u,f){var d={};e.forEach(u,function(v,S){var M=d[v.v]={indegree:0,in:[],out:[],vs:[v.v],i:S};e.isUndefined(v.barycenter)||(M.barycenter=v.barycenter,M.weight=v.weight)}),e.forEach(f.edges(),function(v){var S=d[v.v],M=d[v.w];!e.isUndefined(S)&&!e.isUndefined(M)&&(M.indegree++,S.out.push(d[v.w]))});var g=e.filter(d,function(v){return!v.indegree});return n(g)}function n(u){var f=[];function d(S){return function(M){M.merged||(e.isUndefined(M.barycenter)||e.isUndefined(S.barycenter)||M.barycenter>=S.barycenter)&&s(S,M)}}function g(S){return function(M){M.in.push(S),--M.indegree===0&&u.push(M)}}for(;u.length;){var v=u.pop();f.push(v),e.forEach(v.in.reverse(),d(v)),e.forEach(v.out,g(v))}return e.map(e.filter(f,function(S){return!S.merged}),function(S){return e.pick(S,["vs","i","barycenter","weight"])})}function s(u,f){var d=0,g=0;u.weight&&(d+=u.barycenter*u.weight,g+=u.weight),f.weight&&(d+=f.barycenter*f.weight,g+=f.weight),u.vs=f.vs.concat(u.vs),u.barycenter=d/g,u.weight=g,u.i=Math.min(f.i,u.i),f.merged=!0}return resolveConflicts_1}var sort_1,hasRequiredSort;function requireSort(){if(hasRequiredSort)return sort_1;hasRequiredSort=1;var e=requireLodash(),t=requireUtil$1();sort_1=n;function n(f,d){var g=t.partition(f,function(j){return e.has(j,"barycenter")}),v=g.lhs,S=e.sortBy(g.rhs,function(j){return-j.i}),M=[],I=0,P=0,N=0;v.sort(u(!!d)),N=s(M,S,N),e.forEach(v,function(j){N+=j.vs.length,M.push(j.vs),I+=j.barycenter*j.weight,P+=j.weight,N=s(M,S,N)});var F={vs:e.flatten(M,!0)};return P&&(F.barycenter=I/P,F.weight=P),F}function s(f,d,g){for(var v;d.length&&(v=e.last(d)).i<=g;)d.pop(),f.push(v.vs),g++;return g}function u(f){return function(d,g){return d.barycenter<g.barycenter?-1:d.barycenter>g.barycenter?1:f?g.i-d.i:d.i-g.i}}return sort_1}var sortSubgraph_1,hasRequiredSortSubgraph;function requireSortSubgraph(){if(hasRequiredSortSubgraph)return sortSubgraph_1;hasRequiredSortSubgraph=1;var e=requireLodash(),t=requireBarycenter(),n=requireResolveConflicts(),s=requireSort();sortSubgraph_1=u;function u(g,v,S,M){var I=g.children(v),P=g.node(v),N=P?P.borderLeft:void 0,F=P?P.borderRight:void 0,j={};N&&(I=e.filter(I,function(te){return te!==N&&te!==F}));var U=t(g,I);e.forEach(U,function(te){if(g.children(te.v).length){var oe=u(g,te.v,S,M);j[te.v]=oe,e.has(oe,"barycenter")&&d(te,oe)}});var V=n(U,S);f(V,j);var Z=s(V,M);if(N&&(Z.vs=e.flatten([N,Z.vs,F],!0),g.predecessors(N).length)){var Q=g.node(g.predecessors(N)[0]),J=g.node(g.predecessors(F)[0]);e.has(Z,"barycenter")||(Z.barycenter=0,Z.weight=0),Z.barycenter=(Z.barycenter*Z.weight+Q.order+J.order)/(Z.weight+2),Z.weight+=2}return Z}function f(g,v){e.forEach(g,function(S){S.vs=e.flatten(S.vs.map(function(M){return v[M]?v[M].vs:M}),!0)})}function d(g,v){e.isUndefined(g.barycenter)?(g.barycenter=v.barycenter,g.weight=v.weight):(g.barycenter=(g.barycenter*g.weight+v.barycenter*v.weight)/(g.weight+v.weight),g.weight+=v.weight)}return sortSubgraph_1}var buildLayerGraph_1,hasRequiredBuildLayerGraph;function requireBuildLayerGraph(){if(hasRequiredBuildLayerGraph)return buildLayerGraph_1;hasRequiredBuildLayerGraph=1;var e=requireLodash(),t=requireGraphlib().Graph;buildLayerGraph_1=n;function n(u,f,d){var g=s(u),v=new t({compound:!0}).setGraph({root:g}).setDefaultNodeLabel(function(S){return u.node(S)});return e.forEach(u.nodes(),function(S){var M=u.node(S),I=u.parent(S);(M.rank===f||M.minRank<=f&&f<=M.maxRank)&&(v.setNode(S),v.setParent(S,I||g),e.forEach(u[d](S),function(P){var N=P.v===S?P.w:P.v,F=v.edge(N,S),j=e.isUndefined(F)?0:F.weight;v.setEdge(N,S,{weight:u.edge(P).weight+j})}),e.has(M,"minRank")&&v.setNode(S,{borderLeft:M.borderLeft[f],borderRight:M.borderRight[f]}))}),v}function s(u){for(var f;u.hasNode(f=e.uniqueId("_root")););return f}return buildLayerGraph_1}var addSubgraphConstraints_1,hasRequiredAddSubgraphConstraints;function requireAddSubgraphConstraints(){if(hasRequiredAddSubgraphConstraints)return addSubgraphConstraints_1;hasRequiredAddSubgraphConstraints=1;var e=requireLodash();addSubgraphConstraints_1=t;function t(n,s,u){var f={},d;e.forEach(u,function(g){for(var v=n.parent(g),S,M;v;){if(S=n.parent(v),S?(M=f[S],f[S]=v):(M=d,d=v),M&&M!==v){s.setEdge(M,v);return}v=S}})}return addSubgraphConstraints_1}var order_1,hasRequiredOrder;function requireOrder(){if(hasRequiredOrder)return order_1;hasRequiredOrder=1;var e=requireLodash(),t=requireInitOrder(),n=requireCrossCount(),s=requireSortSubgraph(),u=requireBuildLayerGraph(),f=requireAddSubgraphConstraints(),d=requireGraphlib().Graph,g=requireUtil$1();order_1=v;function v(P){var N=g.maxRank(P),F=S(P,e.range(1,N+1),"inEdges"),j=S(P,e.range(N-1,-1,-1),"outEdges"),U=t(P);I(P,U);for(var V=Number.POSITIVE_INFINITY,Z,Q=0,J=0;J<4;++Q,++J){M(Q%2?F:j,Q%4>=2),U=g.buildLayerMatrix(P);var te=n(P,U);te<V&&(J=0,Z=e.cloneDeep(U),V=te)}I(P,Z)}function S(P,N,F){return e.map(N,function(j){return u(P,j,F)})}function M(P,N){var F=new d;e.forEach(P,function(j){var U=j.graph().root,V=s(j,U,F,N);e.forEach(V.vs,function(Z,Q){j.node(Z).order=Q}),f(j,F,V.vs)})}function I(P,N){e.forEach(N,function(F){e.forEach(F,function(j,U){P.node(j).order=U})})}return order_1}var bk,hasRequiredBk;function requireBk(){if(hasRequiredBk)return bk;hasRequiredBk=1;var e=requireLodash(),t=requireGraphlib().Graph,n=requireUtil$1();bk={positionX:F,findType1Conflicts:s,findType2Conflicts:u,addConflict:d,hasConflict:g,verticalAlignment:v,horizontalCompaction:S,alignCoordinates:P,findSmallestWidthAlignment:I,balance:N};function s(V,Z){var Q={};function J(te,oe){var ue=0,se=0,le=te.length,de=e.last(oe);return e.forEach(oe,function(ge,ve){var me=f(V,ge),ye=me?V.node(me).order:le;(me||ge===de)&&(e.forEach(oe.slice(se,ve+1),function(Ae){e.forEach(V.predecessors(Ae),function(Te){var Oe=V.node(Te),Ie=Oe.order;(Ie<ue||ye<Ie)&&!(Oe.dummy&&V.node(Ae).dummy)&&d(Q,Te,Ae)})}),se=ve+1,ue=ye)}),oe}return e.reduce(Z,J),Q}function u(V,Z){var Q={};function J(oe,ue,se,le,de){var ge;e.forEach(e.range(ue,se),function(ve){ge=oe[ve],V.node(ge).dummy&&e.forEach(V.predecessors(ge),function(me){var ye=V.node(me);ye.dummy&&(ye.order<le||ye.order>de)&&d(Q,me,ge)})})}function te(oe,ue){var se=-1,le,de=0;return e.forEach(ue,function(ge,ve){if(V.node(ge).dummy==="border"){var me=V.predecessors(ge);me.length&&(le=V.node(me[0]).order,J(ue,de,ve,se,le),de=ve,se=le)}J(ue,de,ue.length,le,oe.length)}),ue}return e.reduce(Z,te),Q}function f(V,Z){if(V.node(Z).dummy)return e.find(V.predecessors(Z),function(Q){return V.node(Q).dummy})}function d(V,Z,Q){if(Z>Q){var J=Z;Z=Q,Q=J}var te=V[Z];te||(V[Z]=te={}),te[Q]=!0}function g(V,Z,Q){if(Z>Q){var J=Z;Z=Q,Q=J}return e.has(V[Z],Q)}function v(V,Z,Q,J){var te={},oe={},ue={};return e.forEach(Z,function(se){e.forEach(se,function(le,de){te[le]=le,oe[le]=le,ue[le]=de})}),e.forEach(Z,function(se){var le=-1;e.forEach(se,function(de){var ge=J(de);if(ge.length){ge=e.sortBy(ge,function(Te){return ue[Te]});for(var ve=(ge.length-1)/2,me=Math.floor(ve),ye=Math.ceil(ve);me<=ye;++me){var Ae=ge[me];oe[de]===de&&le<ue[Ae]&&!g(Q,de,Ae)&&(oe[Ae]=de,oe[de]=te[de]=te[Ae],le=ue[Ae])}}})}),{root:te,align:oe}}function S(V,Z,Q,J,te){var oe={},ue=M(V,Z,Q,te),se=te?"borderLeft":"borderRight";function le(ve,me){for(var ye=ue.nodes(),Ae=ye.pop(),Te={};Ae;)Te[Ae]?ve(Ae):(Te[Ae]=!0,ye.push(Ae),ye=ye.concat(me(Ae))),Ae=ye.pop()}function de(ve){oe[ve]=ue.inEdges(ve).reduce(function(me,ye){return Math.max(me,oe[ye.v]+ue.edge(ye))},0)}function ge(ve){var me=ue.outEdges(ve).reduce(function(Ae,Te){return Math.min(Ae,oe[Te.w]-ue.edge(Te))},Number.POSITIVE_INFINITY),ye=V.node(ve);me!==Number.POSITIVE_INFINITY&&ye.borderType!==se&&(oe[ve]=Math.max(oe[ve],me))}return le(de,ue.predecessors.bind(ue)),le(ge,ue.successors.bind(ue)),e.forEach(J,function(ve){oe[ve]=oe[Q[ve]]}),oe}function M(V,Z,Q,J){var te=new t,oe=V.graph(),ue=j(oe.nodesep,oe.edgesep,J);return e.forEach(Z,function(se){var le;e.forEach(se,function(de){var ge=Q[de];if(te.setNode(ge),le){var ve=Q[le],me=te.edge(ve,ge);te.setEdge(ve,ge,Math.max(ue(V,de,le),me||0))}le=de})}),te}function I(V,Z){return e.minBy(e.values(Z),function(Q){var J=Number.NEGATIVE_INFINITY,te=Number.POSITIVE_INFINITY;return e.forIn(Q,function(oe,ue){var se=U(V,ue)/2;J=Math.max(oe+se,J),te=Math.min(oe-se,te)}),J-te})}function P(V,Z){var Q=e.values(Z),J=e.min(Q),te=e.max(Q);e.forEach(["u","d"],function(oe){e.forEach(["l","r"],function(ue){var se=oe+ue,le=V[se],de;if(le!==Z){var ge=e.values(le);de=ue==="l"?J-e.min(ge):te-e.max(ge),de&&(V[se]=e.mapValues(le,function(ve){return ve+de}))}})})}function N(V,Z){return e.mapValues(V.ul,function(Q,J){if(Z)return V[Z.toLowerCase()][J];var te=e.sortBy(e.map(V,J));return(te[1]+te[2])/2})}function F(V){var Z=n.buildLayerMatrix(V),Q=e.merge(s(V,Z),u(V,Z)),J={},te;e.forEach(["u","d"],function(ue){te=ue==="u"?Z:e.values(Z).reverse(),e.forEach(["l","r"],function(se){se==="r"&&(te=e.map(te,function(ve){return e.values(ve).reverse()}));var le=(ue==="u"?V.predecessors:V.successors).bind(V),de=v(V,te,Q,le),ge=S(V,te,de.root,de.align,se==="r");se==="r"&&(ge=e.mapValues(ge,function(ve){return-ve})),J[ue+se]=ge})});var oe=I(V,J);return P(J,oe),N(J,V.graph().align)}function j(V,Z,Q){return function(J,te,oe){var ue=J.node(te),se=J.node(oe),le=0,de;if(le+=ue.width/2,e.has(ue,"labelpos"))switch(ue.labelpos.toLowerCase()){case"l":de=-ue.width/2;break;case"r":de=ue.width/2;break}if(de&&(le+=Q?de:-de),de=0,le+=(ue.dummy?Z:V)/2,le+=(se.dummy?Z:V)/2,le+=se.width/2,e.has(se,"labelpos"))switch(se.labelpos.toLowerCase()){case"l":de=se.width/2;break;case"r":de=-se.width/2;break}return de&&(le+=Q?de:-de),de=0,le}}function U(V,Z){return V.node(Z).width}return bk}var position_1,hasRequiredPosition;function requirePosition(){if(hasRequiredPosition)return position_1;hasRequiredPosition=1;var e=requireLodash(),t=requireUtil$1(),n=requireBk().positionX;position_1=s;function s(f){f=t.asNonCompoundGraph(f),u(f),e.forEach(n(f),function(d,g){f.node(g).x=d})}function u(f){var d=t.buildLayerMatrix(f),g=f.graph().ranksep,v=0;e.forEach(d,function(S){var M=e.max(e.map(S,function(I){return f.node(I).height}));e.forEach(S,function(I){f.node(I).y=v+M/2}),v+=M+g})}return position_1}var layout_1,hasRequiredLayout;function requireLayout(){if(hasRequiredLayout)return layout_1;hasRequiredLayout=1;var e=requireLodash(),t=requireAcyclic(),n=requireNormalize(),s=requireRank(),u=requireUtil$1().normalizeRanks,f=requireParentDummyChains(),d=requireUtil$1().removeEmptyRanks,g=requireNestingGraph(),v=requireAddBorderSegments(),S=requireCoordinateSystem(),M=requireOrder(),I=requirePosition(),P=requireUtil$1(),N=requireGraphlib().Graph;layout_1=F;function F(je,ze){var Ve=ze&&ze.debugTiming?P.time:P.notime;Ve("layout",function(){var Ye=Ve("  buildLayoutGraph",function(){return le(je)});Ve("  runLayout",function(){j(Ye,Ve)}),Ve("  updateInputGraph",function(){U(je,Ye)})})}function j(je,ze){ze("    makeSpaceForEdgeLabels",function(){de(je)}),ze("    removeSelfEdges",function(){Be(je)}),ze("    acyclic",function(){t.run(je)}),ze("    nestingGraph.run",function(){g.run(je)}),ze("    rank",function(){s(P.asNonCompoundGraph(je))}),ze("    injectEdgeLabelProxies",function(){ge(je)}),ze("    removeEmptyRanks",function(){d(je)}),ze("    nestingGraph.cleanup",function(){g.cleanup(je)}),ze("    normalizeRanks",function(){u(je)}),ze("    assignRankMinMax",function(){ve(je)}),ze("    removeEdgeLabelProxies",function(){me(je)}),ze("    normalize.run",function(){n.run(je)}),ze("    parentDummyChains",function(){f(je)}),ze("    addBorderSegments",function(){v(je)}),ze("    order",function(){M(je)}),ze("    insertSelfEdges",function(){De(je)}),ze("    adjustCoordinateSystem",function(){S.adjust(je)}),ze("    position",function(){I(je)}),ze("    positionSelfEdges",function(){Pe(je)}),ze("    removeBorderNodes",function(){Ie(je)}),ze("    normalize.undo",function(){n.undo(je)}),ze("    fixupEdgeLabelCoords",function(){Te(je)}),ze("    undoCoordinateSystem",function(){S.undo(je)}),ze("    translateGraph",function(){ye(je)}),ze("    assignNodeIntersects",function(){Ae(je)}),ze("    reversePoints",function(){Oe(je)}),ze("    acyclic.undo",function(){t.undo(je)})}function U(je,ze){e.forEach(je.nodes(),function(Ve){var Ye=je.node(Ve),nt=ze.node(Ve);Ye&&(Ye.x=nt.x,Ye.y=nt.y,ze.children(Ve).length&&(Ye.width=nt.width,Ye.height=nt.height))}),e.forEach(je.edges(),function(Ve){var Ye=je.edge(Ve),nt=ze.edge(Ve);Ye.points=nt.points,e.has(nt,"x")&&(Ye.x=nt.x,Ye.y=nt.y)}),je.graph().width=ze.graph().width,je.graph().height=ze.graph().height}var V=["nodesep","edgesep","ranksep","marginx","marginy"],Z={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Q=["acyclicer","ranker","rankdir","align"],J=["width","height"],te={width:0,height:0},oe=["minlen","weight","width","height","labeloffset"],ue={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},se=["labelpos"];function le(je){var ze=new N({multigraph:!0,compound:!0}),Ve=He(je.graph());return ze.setGraph(e.merge({},Z,Ne(Ve,V),e.pick(Ve,Q))),e.forEach(je.nodes(),function(Ye){var nt=He(je.node(Ye));ze.setNode(Ye,e.defaults(Ne(nt,J),te)),ze.setParent(Ye,je.parent(Ye))}),e.forEach(je.edges(),function(Ye){var nt=He(je.edge(Ye));ze.setEdge(Ye,e.merge({},ue,Ne(nt,oe),e.pick(nt,se)))}),ze}function de(je){var ze=je.graph();ze.ranksep/=2,e.forEach(je.edges(),function(Ve){var Ye=je.edge(Ve);Ye.minlen*=2,Ye.labelpos.toLowerCase()!=="c"&&(ze.rankdir==="TB"||ze.rankdir==="BT"?Ye.width+=Ye.labeloffset:Ye.height+=Ye.labeloffset)})}function ge(je){e.forEach(je.edges(),function(ze){var Ve=je.edge(ze);if(Ve.width&&Ve.height){var Ye=je.node(ze.v),nt=je.node(ze.w),Fe={rank:(nt.rank-Ye.rank)/2+Ye.rank,e:ze};P.addDummyNode(je,"edge-proxy",Fe,"_ep")}})}function ve(je){var ze=0;e.forEach(je.nodes(),function(Ve){var Ye=je.node(Ve);Ye.borderTop&&(Ye.minRank=je.node(Ye.borderTop).rank,Ye.maxRank=je.node(Ye.borderBottom).rank,ze=e.max(ze,Ye.maxRank))}),je.graph().maxRank=ze}function me(je){e.forEach(je.nodes(),function(ze){var Ve=je.node(ze);Ve.dummy==="edge-proxy"&&(je.edge(Ve.e).labelRank=Ve.rank,je.removeNode(ze))})}function ye(je){var ze=Number.POSITIVE_INFINITY,Ve=0,Ye=Number.POSITIVE_INFINITY,nt=0,Fe=je.graph(),Qe=Fe.marginx||0,it=Fe.marginy||0;function at(wt){var st=wt.x,ft=wt.y,Dt=wt.width,ut=wt.height;ze=Math.min(ze,st-Dt/2),Ve=Math.max(Ve,st+Dt/2),Ye=Math.min(Ye,ft-ut/2),nt=Math.max(nt,ft+ut/2)}e.forEach(je.nodes(),function(wt){at(je.node(wt))}),e.forEach(je.edges(),function(wt){var st=je.edge(wt);e.has(st,"x")&&at(st)}),ze-=Qe,Ye-=it,e.forEach(je.nodes(),function(wt){var st=je.node(wt);st.x-=ze,st.y-=Ye}),e.forEach(je.edges(),function(wt){var st=je.edge(wt);e.forEach(st.points,function(ft){ft.x-=ze,ft.y-=Ye}),e.has(st,"x")&&(st.x-=ze),e.has(st,"y")&&(st.y-=Ye)}),Fe.width=Ve-ze+Qe,Fe.height=nt-Ye+it}function Ae(je){e.forEach(je.edges(),function(ze){var Ve=je.edge(ze),Ye=je.node(ze.v),nt=je.node(ze.w),Fe,Qe;Ve.points?(Fe=Ve.points[0],Qe=Ve.points[Ve.points.length-1]):(Ve.points=[],Fe=nt,Qe=Ye),Ve.points.unshift(P.intersectRect(Ye,Fe)),Ve.points.push(P.intersectRect(nt,Qe))})}function Te(je){e.forEach(je.edges(),function(ze){var Ve=je.edge(ze);if(e.has(Ve,"x"))switch((Ve.labelpos==="l"||Ve.labelpos==="r")&&(Ve.width-=Ve.labeloffset),Ve.labelpos){case"l":Ve.x-=Ve.width/2+Ve.labeloffset;break;case"r":Ve.x+=Ve.width/2+Ve.labeloffset;break}})}function Oe(je){e.forEach(je.edges(),function(ze){var Ve=je.edge(ze);Ve.reversed&&Ve.points.reverse()})}function Ie(je){e.forEach(je.nodes(),function(ze){if(je.children(ze).length){var Ve=je.node(ze),Ye=je.node(Ve.borderTop),nt=je.node(Ve.borderBottom),Fe=je.node(e.last(Ve.borderLeft)),Qe=je.node(e.last(Ve.borderRight));Ve.width=Math.abs(Qe.x-Fe.x),Ve.height=Math.abs(nt.y-Ye.y),Ve.x=Fe.x+Ve.width/2,Ve.y=Ye.y+Ve.height/2}}),e.forEach(je.nodes(),function(ze){je.node(ze).dummy==="border"&&je.removeNode(ze)})}function Be(je){e.forEach(je.edges(),function(ze){if(ze.v===ze.w){var Ve=je.node(ze.v);Ve.selfEdges||(Ve.selfEdges=[]),Ve.selfEdges.push({e:ze,label:je.edge(ze)}),je.removeEdge(ze)}})}function De(je){var ze=P.buildLayerMatrix(je);e.forEach(ze,function(Ve){var Ye=0;e.forEach(Ve,function(nt,Fe){var Qe=je.node(nt);Qe.order=Fe+Ye,e.forEach(Qe.selfEdges,function(it){P.addDummyNode(je,"selfedge",{width:it.label.width,height:it.label.height,rank:Qe.rank,order:Fe+ ++Ye,e:it.e,label:it.label},"_se")}),delete Qe.selfEdges})})}function Pe(je){e.forEach(je.nodes(),function(ze){var Ve=je.node(ze);if(Ve.dummy==="selfedge"){var Ye=je.node(Ve.e.v),nt=Ye.x+Ye.width/2,Fe=Ye.y,Qe=Ve.x-nt,it=Ye.height/2;je.setEdge(Ve.e,Ve.label),je.removeNode(ze),Ve.label.points=[{x:nt+2*Qe/3,y:Fe-it},{x:nt+5*Qe/6,y:Fe-it},{x:nt+Qe,y:Fe},{x:nt+5*Qe/6,y:Fe+it},{x:nt+2*Qe/3,y:Fe+it}],Ve.label.x=Ve.x,Ve.label.y=Ve.y}})}function Ne(je,ze){return e.mapValues(e.pick(je,ze),Number)}function He(je){var ze={};return e.forEach(je,function(Ve,Ye){ze[Ye.toLowerCase()]=Ve}),ze}return layout_1}var debug,hasRequiredDebug;function requireDebug(){if(hasRequiredDebug)return debug;hasRequiredDebug=1;var e=requireLodash(),t=requireUtil$1(),n=requireGraphlib().Graph;debug={debugOrdering:s};function s(u){var f=t.buildLayerMatrix(u),d=new n({compound:!0,multigraph:!0}).setGraph({});return e.forEach(u.nodes(),function(g){d.setNode(g,{label:g}),d.setParent(g,"layer"+u.node(g).rank)}),e.forEach(u.edges(),function(g){d.setEdge(g.v,g.w,{},g.name)}),e.forEach(f,function(g,v){var S="layer"+v;d.setNode(S,{rank:"same"}),e.reduce(g,function(M,I){return d.setEdge(M,I,{style:"invis"}),I})}),d}return debug}var version,hasRequiredVersion;function requireVersion(){return hasRequiredVersion||(hasRequiredVersion=1,version="0.8.5"),version}var dagre$1,hasRequiredDagre;function requireDagre(){return hasRequiredDagre||(hasRequiredDagre=1,dagre$1={graphlib:requireGraphlib(),layout:requireLayout(),debug:requireDebug(),util:{time:requireUtil$1().time,notime:requireUtil$1().notime},version:requireVersion()}),dagre$1}(function(e,t){(function(s,u){e.exports=u(requireDagre())})(commonjsGlobal,function(n){return function(s){var u={};function f(d){if(u[d])return u[d].exports;var g=u[d]={i:d,l:!1,exports:{}};return s[d].call(g.exports,g,g.exports,f),g.l=!0,g.exports}return f.m=s,f.c=u,f.d=function(d,g,v){f.o(d,g)||Object.defineProperty(d,g,{enumerable:!0,get:v})},f.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},f.t=function(d,g){if(g&1&&(d=f(d)),g&8||g&4&&typeof d=="object"&&d&&d.__esModule)return d;var v=Object.create(null);if(f.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:d}),g&2&&typeof d!="string")for(var S in d)f.d(v,S,function(M){return d[M]}.bind(null,S));return v},f.n=function(d){var g=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(g,"a",g),g},f.o=function(d,g){return Object.prototype.hasOwnProperty.call(d,g)},f.p="",f(f.s=0)}([function(s,u,f){var d=f(1),g=function(S){S&&S("layout","dagre",d)};typeof cytoscape<"u"&&g(cytoscape),s.exports=g},function(s,u,f){function d(P){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(F){return typeof F}:d=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},d(P)}var g=function(N){return typeof N=="function"},v=f(2),S=f(3),M=f(4);function I(P){this.options=S({},v,P)}I.prototype.run=function(){var P=this.options,N=this,F=P.cy,j=P.eles,U=function(Pe,Ne){return g(Ne)?Ne.apply(Pe,[Pe]):Ne},V=P.boundingBox||{x1:0,y1:0,w:F.width(),h:F.height()};V.x2===void 0&&(V.x2=V.x1+V.w),V.w===void 0&&(V.w=V.x2-V.x1),V.y2===void 0&&(V.y2=V.y1+V.h),V.h===void 0&&(V.h=V.y2-V.y1);var Z=new M.graphlib.Graph({multigraph:!0,compound:!0}),Q={},J=function(Pe,Ne){Ne!=null&&(Q[Pe]=Ne)};J("nodesep",P.nodeSep),J("edgesep",P.edgeSep),J("ranksep",P.rankSep),J("rankdir",P.rankDir),J("align",P.align),J("ranker",P.ranker),J("acyclicer",P.acyclicer),Z.setGraph(Q),Z.setDefaultEdgeLabel(function(){return{}}),Z.setDefaultNodeLabel(function(){return{}});var te=j.nodes();g(P.sort)&&(te=te.sort(P.sort));for(var oe=0;oe<te.length;oe++){var ue=te[oe],se=ue.layoutDimensions(P);Z.setNode(ue.id(),{width:se.w,height:se.h,name:ue.id()})}for(var le=0;le<te.length;le++){var de=te[le];de.isChild()&&Z.setParent(de.id(),de.parent().id())}var ge=j.edges().stdFilter(function(De){return!De.source().isParent()&&!De.target().isParent()});g(P.sort)&&(ge=ge.sort(P.sort));for(var ve=0;ve<ge.length;ve++){var me=ge[ve];Z.setEdge(me.source().id(),me.target().id(),{minlen:U(me,P.minLen),weight:U(me,P.edgeWeight),name:me.id()},me.id())}M.layout(Z);for(var ye=Z.nodes(),Ae=0;Ae<ye.length;Ae++){var Te=ye[Ae],Oe=Z.node(Te);F.getElementById(Te).scratch().dagre=Oe}var Ie;P.boundingBox?(Ie={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},te.forEach(function(De){var Pe=De.scratch().dagre;Ie.x1=Math.min(Ie.x1,Pe.x),Ie.x2=Math.max(Ie.x2,Pe.x),Ie.y1=Math.min(Ie.y1,Pe.y),Ie.y2=Math.max(Ie.y2,Pe.y)}),Ie.w=Ie.x2-Ie.x1,Ie.h=Ie.y2-Ie.y1):Ie=V;var Be=function(Pe){if(P.boundingBox){var Ne=Ie.w===0?0:(Pe.x-Ie.x1)/Ie.w,He=Ie.h===0?0:(Pe.y-Ie.y1)/Ie.h;return{x:V.x1+Ne*V.w,y:V.y1+He*V.h}}else return Pe};return te.layoutPositions(N,P,function(De){De=d(De)==="object"?De:this;var Pe=De.scratch().dagre;return Be({x:Pe.x,y:Pe.y})}),this},s.exports=I},function(s,u){var f={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(g){return 1},edgeWeight:function(g){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(g,v){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(g,v){return v},ready:function(){},sort:void 0,stop:function(){}};s.exports=f},function(s,u){s.exports=Object.assign!=null?Object.assign.bind(Object):function(f){for(var d=arguments.length,g=new Array(d>1?d-1:0),v=1;v<d;v++)g[v-1]=arguments[v];return g.forEach(function(S){Object.keys(S).forEach(function(M){return f[M]=S[M]})}),f}},function(s,u){s.exports=n}])})})(cytoscapeDagre);const dagre=getDefaultExportFromCjs(cytoscapeDagreExports);var cytoscapeKlayExports={},cytoscapeKlay={get exports(){return cytoscapeKlayExports},set exports(e){cytoscapeKlayExports=e}},klayExports={},klay$1={get exports(){return klayExports},set exports(e){klayExports=e}},hasRequiredKlay;function requireKlay(){return hasRequiredKlay||(hasRequiredKlay=1,function(e){(function(){var t;typeof window<"u"?(t=window,t.document):t={Array:function(){}};function n(){}function s(){}function u(){}function f(){}function d(){}function g(){}function v(){}function S(){}function M(){}function I(){}function P(){}function N(){}function F(){}function j(){}function U(){}function V(){}function Z(){}function Q(){}function J(){}function te(){}function oe(){}function ue(){}function se(){}function le(){}function de(){}function ge(){}function ve(){}function me(){}function ye(){}function Ae(){}function Te(){}function Oe(){}function Ie(){}function Be(){}function De(){}function Pe(){}function Ne(){}function He(){}function je(){}function ze(){}function Ve(){}function Ye(){}function nt(){}function Fe(){}function Qe(){}function it(){}function at(){}function wt(){}function st(){}function ft(){}function Dt(){}function ut(){}function _t(){}function Bt(){}function mn(){}function dn(){}function Zt(){}function Mt(){}function We(){}function bt(){}function Nt(){}function It(){}function Lt(){}function Pn(){}function qt(){}function ln(){}function fr(){}function ar(){}function Rn(){}function Cr(){}function gn(){}function Tn(){}function Sr(){}function Yr(){}function Oa(){}function Ei(){}function si(){}function ca(){}function ta(){}function Ks(){}function bu(){}function kc(){}function zu(){}function wu(){}function Tf(){}function Gu(){}function po(){}function Za(){}function Di(){}function En(){}function es(){}function Ih(){}function tg(){}function ng(){}function Rh(){}function rg(){}function Cc(){}function ig(){}function Ip(){}function wl(){}function Ph(){}function Af(){}function Dh(){}function ag(){}function Lf(){}function ns(){}function Sc(){}function og(){}function _l(){}function ws(){}function Oh(){}function $h(){}function i1(){}function a1(){}function Mf(){}function Qr(){}function Ui(){}function sg(){}function If(){}function Rf(){}function Rp(){}function vr(){}function Yi(){}function Pp(){zP()}function Dp(){nY()}function _s(){lN()}function Cb(){oD()}function ug(){RC()}function xl(){uI()}function _a(){cI()}function El(){RI()}function Nh(){ND()}function Fh(){BP()}function Op(){WN()}function Bh(){qP()}function $p(){jP()}function Np(){j3()}function cg(){QS()}function Qs(){Hw(this)}function Fp(){}function dt(){$w(this)}function lg(){}function Bp(r){this.a=r}function Sb(r){this.a=r}function sr(r){this.a=r}function _u(r){this.a=r}function ki(r){this.a=r}function o1(r){this.a=r}function jp(r){this.a=r}function qh(r){this.a=r}function zp(r){this.a=r}function Hu(r){this.b=r}function fg(r){this.a=r}function jh(r){this.a=r}function no(r){this.a=r}function kl(r){this.a=r}function s1(r){this.a=r}function u1(r){this.a=r}function Tb(r){this.a=r}function c1(r){this.a=r}function hg(r){this.a=r}function Gp(r){this.a=r}function dg(r){this.a=r}function Ur(r){this.a=r}function Ab(r){this.a=r}function xs(r){this.a=r}function Tc(r){this.a=r}function gg(r){this.e=r}function Pf(r){this.a=r}function Hp(r){this.a=r}function Cl(r){this.a=r}function Up(r){this.a=r}function Lb(r){this.a=r}function Mb(r){this.a=r}function zh(r){this.a=r}function Ib(r){this.a=r}function xu(r){this.a=r}function Rb(r){this.a=r}function l1(r){this.a=r}function Ac(r){this.a=r}function f1(r){this.a=r}function Sl(r){this.a=r}function Pb(r){this.a=r}function Db(r){this.a=r}function Yp(r){this.a=r}function Ob(r){this.a=r}function h1(r){this.a=r}function d1(r){this.a=r}function pg(r){this.a=r}function Tl(r){this.c=r}function g1(r){this.a=r}function Gh(r){this.a=r}function Es(r){this.a=r}function p1(r){this.a=r}function v1(r){this.a=r}function $b(r){this.a=r}function Vp(r){this.a=r}function m1(r){this.a=r}function Nn(r){this.a=r}function rs(r){this.a=r}function Uu(r){this.d=r}function Dn(r){this.a=r}function Fn(r){this.a=r}function Df(r){this.a=r}function Hh(r){this.a=r}function ks(r){this.b=r}function Yu(r){this.a=r}function vg(r){this.a=r}function xe(r){this.c=r}function vo(r){this.a=r}function Of(r){this.a=r}function Nb(r){this.a=r}function Vu(r){this.b=r}function Al(r){this.b=r}function Uh(r){this.c=r}function y1(r){this.a=r}function Wu(r){this.a=r}function Ll(r){this.a=r}function b1(){this.a=[]}function mg(r){this.a=r}function Wp(r){this.a=r}function Xu(r){r.b=r.a}function Fb(r){r.c=r.d.d}function na(r,l){r.g=l}function w1(r,l){r.k=l}function Lc(r,l){r.a=l}function Xp(r,l){r.b=l}function Bb(r,l){r.e.k=l}function _1(r){return r.a}function Zp(r){return r.a}function x1(r){return r.a}function Kp(r){return r.a}function Yh(r){return r.a}function Qp(){return null}function E1(){return null}function yg(){this.c=this}function k1(){Hw(this)}function kn(){Wo(this)}function qb(r){jH(this,r)}function jb(r){MR(),AV(r)}function zb(r){r.a=new qi}function $f(r,l){r.a=l-r.a}function Vh(r,l){r.b=l-r.b}function mo(){mo=s}function Nf(){Nf=s}function JE(){throw new Tr}function Jp(){throw new Tr}function ek(){throw new Tr}function Gb(){throw new Tr}function tk(){throw new Tr}function bg(){throw new Tr}function nk(){throw new Tr}function Wh(){throw new Tr}function Hb(){throw new Tr}function C1(){this.a=new dt}function Ub(){this.a=new dt}function Zu(){this.a=new dt}function S1(){this.a=new dt}function wg(){this.a=new dt}function Cs(){this.a=new Sc}function Ff(){this.a=new mO}function _g(){this.b=new dt}function Ci(){qi.call(this)}function T1(){Cw.call(this)}function ev(){Fp.call(this)}function xg(){Fp.call(this)}function tv(){dt.call(this)}function A1(){Qs.call(this)}function Ml(){Qs.call(this)}function nv(){Qs.call(this)}function L1(){Qs.call(this)}function Xh(){Qs.call(this)}function Il(){Qs.call(this)}function Tr(){Qs.call(this)}function M1(){this.f=new dt}function G(){this.d=new dt}function ne(){this.a=new $i}function he(){throw new Tr}function we(){throw new Tr}function Me(){throw new Tr}function Ue(){throw new Tr}function rt(){throw new Tr}function vt(){this.a=new dt}function Ct(){Ct=s,Oy=new u}function Et(){Et=s}function un(){un=s,sx=new f}function er(){er=s,yF=new S}function Dr(){Dr=s,bF=new CD}function as(){as=s,IA=new g}function Rl(){Rl=s,EF=new F}function Zh(){Zh=s,LB=new le}function Mc(){Mc=s,MB=new me}function Eg(r){return Su(r),r}function I1(r){ai(),this.a=r}function R1(r){wo(),this.a=r}function Yb(r){wo(),this.a=r}function P1(r){wo(),this.a=r}function Vb(r,l){r.i=l,l.f=r}function Wb(r,l){lr(r.b,l)}function Oi(){Qs.call(this)}function kg(){Qs.call(this)}function $a(){Qs.call(this)}function Xb(){$D.call(this)}function Zb(){$D.call(this)}function rv(){nv.call(this)}function D1(){Ml.call(this)}function Ss(r){yI.call(this,r)}function Bq(r){gP.call(this,r)}function qq(r){gP.call(this,r)}function rk(r){nP.call(this,r)}function nI(r){RP.call(this,r)}function ik(r){HD.call(this,r)}function ak(r){vk.call(this,r)}function iv(r){Ag.call(this,r)}function ok(r){nP.call(this,r)}function jq(r,l){r.a.W().nb(l)}function Ts(r,l){return r===l}function Kb(r){return r?r.a:0}function Js(r){return r?r.d:0}function Qb(r){return r?r.j:0}function rI(r){Ss.call(this,r)}function O1(r){Ss.call(this,r)}function os(r){Ss.call(this,r)}function Jb(r){os.call(this,r)}function Bf(){dg.call(this,{})}function iI(r){qb.call(this,r)}function aI(r){qb.call(this,r)}function zq(r,l,_){Dj(r,l.b,_)}function Gq(r,l,_){s8(r.c,l,_)}function Hq(r,l,_){r.b.Fc(l,_)}function sk(r){Ob.call(this,r)}function ew(r){Ob.call(this,r)}function oI(){this.a=(Fr(),ps)}function sI(){this.a=(Fr(),ps)}function $i(){this.a=new kn}function uk(){this.a=new iR}function ck(){ck=s,hL=new ye}function uI(){uI=s,BB=new He}function cI(){cI=s,GB=new Rn}function bn(r){return dr(),r}function ct(r){return ti(r),r}function Uq(r){yI.call(this,r)}function As(r){Ss.call(this,r)}function Gn(r){Ss.call(this,r)}function $1(r){this.c=dd(tn(r))}function Ni(){this.a=0,this.b=0}function qi(){UR(this),ku(this)}function lI(){ix==null&&(ix=[])}function N1(r){r.b=null,r.c=0}function Yq(r,l){return r.b=l,r}function fI(r,l){return r.c=l,r}function tw(r,l){return r.f=l,r}function hI(r,l){return r.g=l,r}function dI(r,l){return r.a=l,r}function gI(r,l){return r.f=l,r}function Vq(r,l){return r.k=l,r}function Wq(r,l){return r.e-l.e}function Xq(r,l){return r.d-l.d}function Zq(r){return r<0?-r:r}function pI(r){return isNaN(r)}function Kq(r){return new Gp(r)}function Qq(r){return new jl(r)}function vI(r){Ss.call(this,r)}function Ic(r){Ss.call(this,r)}function mI(r){Ss.call(this,r)}function av(r){Ss.call(this,r)}function Kh(r){Ss.call(this,r)}function yI(r){this.f=r,Hw(this)}function bI(){this.b=0,this.a=0}function Cg(){Cg=s}function wI(){wI=s,Rq=gH()}function Jq(r,l,_){r.set(l,_)}function e7(r,l,_){r.set(l,_)}function _I(r,l){Yg(),_A.dc(r,l)}function Ke(r,l){return XD(r,l)}function xI(r,l){return r.a.B(l)}function Qh(r,l){return r.g[l.e]}function nw(r,l){return r.i[l.e]}function rw(r,l){return r.j[l.e]}function Jh(r,l){return r.n[l.e]}function ed(r,l){return r.o[l.e]}function t7(r,l){return l in r.a}function n7(r,l){return r.b-l.b}function r7(r,l){return r.d-l.d}function i7(r,l){return r.i-l.i}function St(r,l){return r>l?r:l}function EI(r,l){return r>l?r:l}function Vi(r,l){return r>l?r:l}function qn(r,l){return r<l?r:l}function a7(r,l){return r<l?r:l}function Rc(r,l){return r<l?r:l}function Pc(r){return!!r&&r.b}function kI(r){v9(r,r.length)}function o7(r){S9(r,r.length)}function ov(r){T9(r,r.length)}function s7(r){As.call(this,r)}function Sg(r){Vp.call(this,r)}function u7(r){Gh.call(this,r)}function F1(r){Gn.call(this,r)}function qf(r){Vu.call(this,r)}function CI(r){qf.call(this,r)}function lk(r){fm.call(this,r)}function Tg(){Vp.call(this,"")}function iw(){Vp.call(this,"")}function B1(r){return Uf(r),r.n}function SI(r){return Uf(r),r.j}function Na(r){return r.e&&r.e()}function TI(r,l){return r.a.sb(l)}function c7(r,l){return r||tn(l)}function AI(r,l){return Se(r.a,l)}function LI(r,l){return g9(r.a,l)}function l7(r,l){return V_(r,l)<0}function q1(r){return Et(),""+r}function MI(r){return r?r.d:null}function Dc(r){wo(),this.a=tn(r)}function II(){DO(),this.g=new Sk}function RI(){RI=s,HB=(Ba(),Ou)}function f7(){Fy!=0&&(Fy=0),By=-1}function sv(r){return nU(r,r.d),r}function td(r,l){return r.a.d=l,r}function nd(r,l){return r.a.a=l,r}function rd(r,l){return r.a.c=l,r}function ad(r,l){return r.a.f=l,r}function PI(r,l){return r.a.f=l,r}function fk(r,l){return r.a.b=l,r}function hk(r,l,_){r.splice(l,_)}function h7(r,l){return vS(l,r)}function DI(r,l){return r.b.t(l)}function OI(r,l){return r.c.t(l)}function Pl(r,l){return r.a.R(l)}function dk(r,l){return r.get(l)}function aw(r,l){return r.get(l)}function d7(r,l){return r.test(l)}function Wi(r){return r<=0?0-r:r}function $I(r){return Et(),""+r}function g7(r){return Et(),""+r}function ow(r){this.a=new _w(r)}function NI(r){this.a=new BC(r)}function FI(r){this.a=z(tn(r),19)}function sw(r){this.b=z(tn(r),57)}function BI(r){this.d=z(tn(r),56)}function Wn(r,l){this.d=r,this.e=l}function uw(r,l){this.b=r,this.a=l}function qI(r,l){this.b=r,this.a=l}function gk(r,l){this.b=r,this.c=l}function pk(r,l){this.a=r,this.b=l}function cw(r,l){this.a=r,this.b=l}function jI(r,l){this.a=r,this.f=l}function lw(r,l){Wn.call(this,r,l)}function zI(r,l){Wn.call(this,r,l)}function GI(r,l){Wn.call(this,r,l)}function HI(r,l){this.b=r,this.c=l}function UI(r,l){this.e=r,this.c=l}function p7(r,l){this.a=r,this.b=l}function YI(r,l){this.a=r,this.b=l}function VI(r,l){Wn.call(this,r,l)}function WI(r,l){this.a=r,this.b=l}function XI(r){this.a=z(tn(r),20)}function Ag(r){this.a=z(tn(r),20)}function ZI(r){this.a=z(tn(r),57)}function vk(r){this.b=z(tn(r),35)}function Wt(r,l){this.a=r,this.b=l}function ui(r,l){this.a=r,this.b=l}function Lg(r,l){Wn.call(this,r,l)}function mk(r,l){return _d(r.b,l)}function v7(r){return pD(),r?xF:_F}function jf(r){return r==Ao||r==za}function fw(r){return r==Du||r==du}function KI(r,l){ci(r,l,r.a,r.a.a)}function hw(r,l){ci(r,l,r.c.b,r.c)}function uv(r,l){Wn.call(this,r,l)}function j1(r,l){Wn.call(this,r,l)}function z1(r,l){Wn.call(this,r,l)}function Mg(r,l){Wn.call(this,r,l)}function dw(r,l){Wn.call(this,r,l)}function Dl(r,l){Wn.call(this,r,l)}function cv(r,l){Wn.call(this,r,l)}function Ig(r,l){Wn.call(this,r,l)}function gw(r,l){Wn.call(this,r,l)}function lv(r,l){Wn.call(this,r,l)}function G1(r,l){Wn.call(this,r,l)}function H1(r,l){Wn.call(this,r,l)}function pw(r,l){Wn.call(this,r,l)}function vw(r,l){Wn.call(this,r,l)}function yk(r,l){this.b=r,this.a=l}function od(r,l){this.c=r,this.d=l}function wk(r,l){this.a=r,this.c=l}function QI(r,l){this.e=r,this.c=l}function JI(r,l){this.e=r,this.d=l}function U1(r,l){Wn.call(this,r,l)}function Rg(r,l){Wn.call(this,r,l)}function eR(r,l){this.a=r,this.b=l}function tR(r,l){this.a=r,this.b=l}function mw(r,l){Wn.call(this,r,l)}function Hn(r,l){Wn.call(this,r,l)}function zf(r,l){Wn.call(this,r,l)}function _k(r,l){Wn.call(this,r,l)}function Pg(r,l){Wn.call(this,r,l)}function xk(r,l){Wn.call(this,r,l)}function yw(r,l){Wn.call(this,r,l)}function Ek(r,l){Wn.call(this,r,l)}function m7(r,l){return Ps(r.c,l)}function bw(r){return r.b<r.d.Y()}function V1(r){return r.d.c+r.e.c}function nR(r,l){return r.c.ab(l)}function y7(r,l){return r.b.kb(l)}function b7(r,l){return r.b.lb(l)}function w7(r,l){return r.b.pb(l)}function kk(r,l){return r.b.kb(l)}function rR(r,l){return r.b.lb(l)}function _7(r){return r==ol||r==bf}function x7(r){return r==ol||r==yf}function eu(r){return r!=ys&&r!=rl}function E7(r){return Co(r),r.d.Y()}function sd(r){this.c=r,r$(this)}function _w(r){Q$.call(this,r,0)}function iR(){BC.call(this,null)}function fv(){qq.call(this,new kn)}function aR(){GI.call(this,"KEY",0)}function Ew(r){yd(),RP.call(this,r)}function k7(r){t.clearTimeout(r)}function oR(r){return r.Vb(r.b.H())}function Ck(r){this.a=z(tn(r),144)}function Sk(){this.b=(Ar(),new kn)}function Gf(){Gf=s,Ah=new Rp}function kw(){kw=s,ZE=new Ui}function sR(){sR=s,Iq=new Rf}function K1(){K1=s,hF=new $1(",")}function uR(){uR=s}function Cw(){Do.call(this,0,0,0,0)}function Tk(r,l){Wn.call(this,r,l)}function hv(r,l){Wn.call(this,r,l)}function Ak(r,l){Wn.call(this,r,l)}function Lk(r,l){Wn.call(this,r,l)}function cR(r){ld(),Vr.call(this,r)}function Mk(r,l){Wn.call(this,r,l)}function lR(r,l){this.c=r,this.b=l}function fR(r,l){this.a=r,this.b=l}function hR(r,l){this.b=r,this.d=l}function Ik(r,l){Wn.call(this,r,l)}function Dg(r,l){Wn.call(this,r,l)}function Sw(r,l){Wn.call(this,r,l)}function dv(r,l){Wn.call(this,r,l)}function Og(r,l){Wn.call(this,r,l)}function Oc(r,l){Wn.call(this,r,l)}function Tw(r,l){Wn.call(this,r,l)}function Rk(r,l){Wn.call(this,r,l)}function gv(r,l){Wn.call(this,r,l)}function Aw(r,l){Wn.call(this,r,l)}function Lw(r,l){Wn.call(this,r,l)}function Mw(r,l){Wn.call(this,r,l)}function pv(r,l,_){r.splice(l,0,_)}function vv(r,l,_){r.g[l.e][l.e]=_}function dR(r,l){r.a=l,r.g=0,r.f=0}function Eu(r){return r.a=0,r.b=0,r}function Ka(r){return Sa(r.b.c,r,0)}function Q1(r){return Math.ceil(r)}function gR(r){return Math.sqrt(r)}function pR(r,l){return aw(r.a,l)}function Iw(r,l){return!!AS(r,l)}function Rw(r,l){x9(r,r.length,l)}function J1(r,l){Wn.call(this,r,l)}function em(r,l){this.b=r,this.a=l}function tm(r,l){this.d=r,this.e=l}function vR(){Kw(),this.c=new $i}function mR(){sy(),this.a=new $i}function yR(){return wI(),new Rq}function ud(r){if(!r)throw new Ml}function nm(r){if(!r)throw new Xh}function rm(r){if(!r)throw new $a}function bR(){this.b=(Ar(),new kn)}function wR(){this.b=(Ar(),new kn)}function qr(r){this.a=r.a,this.b=r.b}function Ot(r){return r??null}function ra(r){return r?r.zb():null}function _R(r,l){return r.Nb().sb(l)}function xR(r,l){return r.a.a.a.U(l)}function Pw(r,l){return pz(r.mb(),l)}function C7(r,l){return li(l.b,r.b)}function S7(r,l){return li(l.k,r.k)}function Pk(r){return Math.floor(r)}function Ol(r,l){return r.a+=""+l,r}function $c(r,l){return r.a+=""+l,r}function Uo(r,l){return r.a+=""+l,r}function im(r){return yv(r==null),r}function Dk(r){return r.d&&w2(r),r.a}function Dw(r){return r.d&&w2(r),r.b}function Ow(r){return r.d&&w2(r),r.c}function ER(r,l){return xt(r.a,l),l}function kR(r){Wo(this),C$(this,r)}function SR(r){this.c=r,this.e=!1}function TR(){zI.call(this,"OPEN",0)}function AR(){VI.call(this,"SIZE",0)}function T7(){Gh.call(this,"UTF-8")}function LR(){LR=s,eI={},xb={}}function MR(){MR=s,bh=new Ut(F4,0)}function yo(r){return tn(r),new cd(r)}function mv(r){return Et(),r.length}function A7(r,l){return nj(r.a,l.a)}function L7(r,l){return qR(r.a,l.a)}function IR(r,l){return r==l?0:r?1:-1}function RR(r){return Js(r.e)-Js(r.g)}function Ro(r){return new Wt(r.a,r.b)}function M7(r){return new Wt(r.d,r.e)}function $w(r){r.c=ot(zt,At,1,0,4,1)}function PR(){GI.call(this,"VALUE",1)}function Ok(r){Vk.call(this),this.a=r}function DR(r){this.a=new E5,this.b=r}function cd(r){this.a=r,yg.call(this)}function OR(r){this.a=r,yg.call(this)}function $R(){fN(),this.d=(nc(),_b)}function I7(r){if(!r)throw new L1}function Hf(r){if(!r)throw new Xh}function NR(r){if(!r)throw new Ml}function yv(r){if(!r)throw new A1}function Kt(r){if(!r)throw new $a}function Fa(){mg.call(this,new zg)}function FR(){zI.call(this,"CLOSED",1)}function Ls(r){HD.call(this,new ik(r))}function $k(r,l){return++r.d,gi(r,l)}function R7(r,l){return Jw(r.a,0,l)}function P7(r,l){return li(r.a,l.a)}function $g(r){return Wf(r.b.mb(),r.a)}function Ms(r){return Zw(r.a.mb(),r.b)}function Nw(r,l){return l==r.c?r.d:r.c}function D7(r,l){return r<l?-1:r>l?1:0}function qR(r,l){return r<l?-1:r>l?1:0}function Fw(r){return r!=null?Ns(r):0}function jR(r){this.a=yR(),this.b=r}function zR(r){this.a=yR(),this.b=r}function GR(r){this.a=r,cC.call(this,r)}function HR(){Fk(),this.b=new Pb(this)}function Is(){Is=s,CA=j7(new $1(", "))}function ss(){ss=s,Bo=new TR,Ny=new FR}function $r(){$r=s,vF=new P,SA=new N}function am(){am=s,ux=new aR,TA=new PR}function om(){om=s,cx=new AR,LA=new eP}function ld(){ld=s,SF=new U,TF=new V}function Nk(r){r.g=new dt,r.b=new dt}function UR(r){r.a=new vr,r.c=new vr}function Fk(){Fk=s,QB=new wl,KB=new VP}function YR(){lw.call(this,"IS_NULL",2)}function VR(){J1.call(this,"Head",1)}function WR(){J1.call(this,"Tail",3)}function Bk(r,l){hS.call(this,r,l,null)}function qk(r,l){Ad(r,0,r.length,l)}function bv(r,l){return xt(l.a,r.a),r.a}function Rs(r,l){return r.a*=l,r.b*=l,r}function XR(r,l){ai(),this.a=r,this.b=l}function O7(r,l){return r.a[l.d.k][l.k]}function bo(r,l){return r.a[l.d.k][l.k]}function $7(r,l){return v_(r.b,l.mc())}function ZR(r,l){return MI(Az(r.a,l))}function KR(r,l){return MI(Lz(r.a,l))}function Si(r,l){return z(So(r.a,l),20)}function yt(r,l){return r!=null&&f2(r,l)}function $l(r){return r.a<r.c.c.length}function sm(r){return r.a<r.c.a.length}function N7(r,l){return li(r.i.a,l.i.a)}function F7(r,l){return r.i.b=(ti(l),l)}function B7(r,l){return r.i.b=(ti(l),l)}function Bw(r,l){return r.a.eb(l)!=null}function qw(r,l,_){return r.g[l.e][_.e]}function QR(r){return dr(),Et(),""+r}function JR(){J1.call(this,"Range",2)}function eP(){VI.call(this,"DISTINCT",1)}function tP(){lw.call(this,"NOT_NULL",3)}function Ar(){Ar=s,mF=new fP((Is(),CA))}function nP(r){this.d=(jn(),new Uh(r))}function jk(r,l){return gN(r,new Tg,l).a}function um(r,l){return l==null?r.b:mD(l)}function q7(r){return r==null?null:r.name}function fd(r){return typeof r=="number"}function us(r){return typeof r=="string"}function zk(r,l){return new bD(r,r.Y(),l)}function Gk(r,l){return new P3(r.a,r.b,l)}function j7(r){return tn(Lu),new UP(r,r)}function Nl(r){return aa(r,uf),new Ta(r)}function rP(r,l){this.a=l,vk.call(this,r)}function iP(r,l){this.a=l,vk.call(this,r)}function aP(r,l){this.a=r,sw.call(this,l)}function oP(r){this.c=r,this.a=NH(this.c)}function Yo(r){var l;l=r.a,r.a=r.b,r.b=l}function z7(r,l){r.e.j.a=l.a,r.e.j.b=l.b}function G7(r,l,_){r.a=l^1502,r.b=_^nx}function ro(r,l,_){return r.a+=l,r.b+=_,r}function H7(r,l,_){return r.a-=l,r.b-=_,r}function jw(r){return r.a=-r.a,r.b=-r.b,r}function zw(r){return Kt(r.b!=0),r.a.a.c}function cm(r){return Kt(r.b!=0),r.c.b.c}function sP(r,l){r.a&&(gC(l),VD(l))}function lm(r,l,_){var R;R=r.ub(l),R.J(_)}function U7(r,l){return D7(l.Yb(),r.Yb())}function Gw(r){return z($t(r.a,r.b),128)}function uP(r){return u_(r.c,r.c.length)}function Y7(r){return r.l+r.m*ch+r.h*Qc}function la(r){return r==Gd||r==Gs||r==Zi}function Qa(r){return typeof r=="number"}function Ps(r,l){return!!l&&r.b[l.e]==l}function Hk(r,l){var _;_=r[hf],l[hf]=_}function wv(r,l){os.call(this,r),this.b=l}function fm(r){Vu.call(this,r),this.a=r}function Uk(r){Al.call(this,r),this.a=r}function Yk(r){qf.call(this,r),this.a=r}function cP(r){mg.call(this,new VO(r))}function _v(r){this.a=r,ks.call(this,r)}function lP(r){this.c=r,this.a=1,this.b=1}function fP(r){this.a=r,this.b=dd(tn("="))}function hP(){this.a=new qi,this.e=new qi}function dP(){this.a=new Ub,this.c=new Pe}function Vk(){this.i=new Ni,this.j=new Ni}function gP(r){ud(r.d.c+r.e.c==0),this.b=r}function Hw(r){return r.g=null,_I(r,r.f),r}function Wk(r){return $r(),tn(r),new IP(r)}function pP(r){return Yg(),parseInt(r)||-1}function vP(r,l){return Tv(r.a,l)!=null}function xv(r,l){return!lz(r,l)&&!M$(r,l)}function Ku(r){return r.$H||(r.$H=++mX)}function V7(r){return r.d!=null?r.d:""+r.e}function hm(r){return r.d!=null?r.d:""+r.e}function Uw(r){return r.b=z(W9(r.a),21)}function hd(r){return typeof r=="boolean"}function mP(r){r.b=new bP(r),r.c=new kn}function yP(){this.a=new dt,this.d=new dt}function bP(r){hC.call(this,r,null,null)}function wP(r,l,_,R){_C.call(this,r,l,_,R)}function _P(r,l,_,R){k_.call(this,r,l,_,R)}function Ds(r,l,_,R){k_.call(this,r,l,_,R)}function Xk(r,l,_){Pv.call(this,r,l,_,null)}function Zk(r,l,_){Pv.call(this,r,l,_,null)}function Kk(r,l,_){r.i=l,l.f=r,l.i=_,_.f=l}function Qk(r,l){zb(this),this.e=r,this.f=l}function W7(r,l){this.d=r,Fb(this),this.b=l}function Yw(r){UR(this),ku(this),Ja(this,r)}function _n(r){return yv(r==null||hd(r)),r}function Cn(r){return yv(r==null||fd(r)),r}function dd(r){return yv(r==null||us(r)),r}function ur(r,l){return r.a+=l.a,r.b+=l.b,r}function Qu(r,l){return r.a-=l.a,r.b-=l.b,r}function X7(r,l){return r.i.a=(ti(l),l+10)}function Z7(r,l){return r.i.a=(ti(l),l+10)}function Fl(r,l){return z(Bn(r.k,l),24).a}function K7(r,l){return SG(r,l),new rO(r,l)}function Jk(r,l){return z(r.b.sb(l),92).a}function xP(r){return z(r,7).b.c.length!=0}function EP(r){return z(r,7).e.c.length!=0}function kP(r){return r.d?Sa(r.d.a,r,0):-1}function Q7(r){return r==null?null:r.message}function Uf(r){r.n==null&&mU(r)}function J7(r,l,_,R){return SO(r,l,_,R),r}function e9(r,l){return Et(),r.indexOf(l)}function An(r,l){if(!l)throw new Il;r.g=l}function eC(r){if(r.e.c!=r.b)throw new Oi}function dm(r){if(r.f.c!=r.b)throw new Oi}function t9(r,l){return tn(r),tn(l),vS(r,l)}function Bl(r,l){this.a=r,this.c=l,this.b=2}function gm(){zb(this),this.e=-1,this.f=!0}function Vw(){Bq.call(this,new kn),this.a=3}function CP(r){k_.call(this,r.d,r.b,r.a,r.c)}function tC(r){k_.call(this,r.d,r.b,r.a,r.c)}function SP(r){OS.call(this,r),this.c=new dt}function TP(){lw.call(this,"ALWAYS_TRUE",0)}function AP(){lw.call(this,"ALWAYS_FALSE",1)}function LP(r){g4(),this.a=new Vw,A$(this,r)}function n9(r){return!r.e&&(r.e=new dt),r.e}function nC(r){var l;return l=new og,l.e=r,l}function Ww(r){var l;l=r[hf]|0,r[hf]=l+1}function Ju(r,l){r.a.rb(r.b,l),++r.b,r.c=-1}function rC(r,l){Hf(r.c!=-1),r.a.wb(r.c,l)}function r9(r,l){return dr(),r==l?0:r?1:-1}function Xw(r,l,_){return r.g[l.e][_.e]*r.d}function i9(r,l,_){return r.apply(l,_)}function iC(r,l,_){return w9(r,z(l,17),_)}function a9(r,l){return l==(ht(),Ft)?r.c:r.d}function MP(r,l){return l!=null&&r.Nb().kb(l)}function o9(r,l){this.e=l,this.f=r,Hw(this)}function IP(r){this.b=r,this.a=($r(),$r(),SA)}function RP(r){wo(),this.a=(jn(),new qf(r))}function wo(){wo=s,new R1((jn(),jn(),gl))}function PP(){PP=s,r6=fa(new Lr,(bi(),eE))}function Ev(r){mz.call(this,r,(aS(),JM))}function Nc(r){$w(this),fC(this.c,0,r.ob())}function DP(r,l,_){this.b=r,this.a=l,this.c=_}function aC(r,l,_){od.call(this,r,l),this.b=_}function pm(r,l,_){this.b=r,this.a=l,this.c=_}function oC(r,l){var _;return _=r.e,r.e=l,_}function OP(r){Wo(r.c),r.b.b=r.b,r.b.a=r.b}function vm(r){r.b?vm(r.b):Kn(r.f.b,r.e,r.d)}function sC(r){return Kt(r.b!=0),Cu(r,r.a.a)}function s9(r){return Kt(r.b!=0),Cu(r,r.c.b)}function Zw(r,l){return $r(),tn(l),new rP(r,l)}function u9(r,l){return Ar(),new iP(r.mb(),l)}function $P(r,l){return Et(),r.charCodeAt(l)}function Ng(r,l,_){return Et(),r.substr(l,_)}function c9(r){return Et(),r==null?Lu:so(r)}function kv(r,l,_){return qw(r,l.g,_.g)*r.d}function Fc(r,l,_){return{l:r,m:l,h:_}}function ec(r,l){return Vg(r,new od(l.a,l.b))}function NP(r,l,_,R,O){r.d=l,r.e=_,r.c=R,r.b=O}function _o(r,l,_,R,O){r.b=l,r.c=_,r.d=R,r.a=O}function Un(r,l){return ci(r,l,r.c.b,r.c),!0}function xt(r,l){return r.c[r.c.length]=l,!0}function Ut(r,l){ld(),Vr.call(this,r),this.a=l}function FP(){PP(),this.e=new qi,this.d=new qi}function Yf(){Yf=s,Mq=new Mf,XM=new Mf}function BP(){BP=s,w6=Cv(new Lr,(bi(),gp))}function qP(){qP=s,E6=Cv(new Lr,(bi(),gp))}function jP(){jP=s,S6=Cv(new Lr,(bi(),gp))}function Kw(){Kw=s,T6=Cv(new Lr,(bi(),gp))}function zP(){zP=s,Error.stackTraceLimit=64}function uC(){_o(this,!1,!1,!1,!1)}function mm(r){var l;return l=new dt,N_(l,r),l}function io(r){var l;return l=new qi,wS(l,r),l}function ym(r){var l;return l=new Lr,vi(l,r),l}function l9(r){var l;return l=new i1,l.a=r,l}function z(r,l){return yv(r==null||f2(r,l)),r}function bm(r,l){if(r<0||r>=l)throw new rv}function cs(r,l){return tn(r),tn(l),new ZP(r,l)}function tu(r,l){return tn(r),tn(l),new KP(r,l)}function f9(r,l){return Et(),r.lastIndexOf(l)}function Qw(r,l,_){return r<l?_<=r:r<=_||r==l}function GP(r,l,_){this.d=r,this.b=_,this.a=l}function Xi(r,l,_){this.a=r,this.b=l,this.c=_}function HP(r,l,_){this.a=r,this.b=l,this.c=_}function UP(r,l){this.a=r,this.b=Lu,this.c=l.c}function YP(r){this.c=r.c,this.a=r.e,this.b=r.b}function cC(r){this.d=r,Fb(this),this.b=k9(r.d)}function VP(){lC.call(this),this.a=new Db(this)}function lC(){this.c=new Z,this.d=new PD(this)}function h9(r){var l;return l=new $i,N_(l,r),l}function WP(r){ls(r.a),HO(r.c,r.b),r.b=null}function XP(r){return r.c-z($t(r.a,r.b),128).b}function d9(r,l){return r.c<l.c?-1:r.c==l.c?0:1}function g9(r,l){return jf(r.b.d)?l.xc():l.wc()}function Jw(r,l,_){return Et(),r.substr(l,_-l)}function fC(r,l,_){g2(_,0,r,l,_.length,!1)}function hC(r,l,_){this.c=r,tm.call(this,l,_)}function ZP(r,l){this.b=r,this.a=l,yg.call(this)}function KP(r,l){this.a=r,this.b=l,yg.call(this)}function QP(r,l){this.b=r,this.a=l,aa(l,"count")}function e_(r){this.b=r,this.a=zl(this.b.a).Kb()}function Vr(r){ld(),this.c=SF,this.d=TF,this.b=r}function JP(r,l,_){lR.call(this,r,l),this.a=_}function eD(r,l,_){lR.call(this,r,l),this.a=_}function $t(r,l){return mr(l,r.c.length),r.c[l]}function fa(r,l){return z($t(r.a,5),18).ib(l),r}function Bc(r,l){return z($t(r.a,0),18).ib(l),r}function wm(r,l){return z($t(r.a,1),18).ib(l),r}function ha(r,l){return z($t(r.a,2),18).ib(l),r}function xo(r,l){return z($t(r.a,3),18).ib(l),r}function Cv(r,l){return z($t(r.a,4),18).ib(l),r}function p9(r){return lu(r,(Fr(),Ao)),r.e=!0,r}function dC(r){Yg();var l;return l=_A.ec(r),IG(l)}function _m(r,l){var _;return _=f_(r,l),_.g=2,_}function v9(r,l){var _;for(_=0;_<l;++_)r[_]=0}function tD(r,l){r.b=l.b,r.c=l.c,r.d=l.d,r.a=l.a}function gC(r){r.a.b=r.b,r.b.a=r.a,r.a=r.b=null}function nD(r){return r.b.c.length+r.e.c.length}function t_(r){return Array.isArray(r)&&r.ad===n}function rD(r,l){return $r(),W$(new xe(r),l)!=-1}function n_(r,l,_,R,O,q){return s3(r,l,_,R,O,0,q)}function xm(r,l,_){ld(),$m.call(this,r.b,l,_,r.d)}function Em(r,l){ld(),$m.call(this,r.b,l,r.c,r.d)}function ql(r,l,_){Zl(l,r.c.length),pv(r.c,l,_)}function iD(r,l){return mr(l,r.a.length),r.a[l]}function m9(r){r.sort(function(l,_){return l-_})}function tn(r){if(r==null)throw new Il;return r}function jl(r){if(r==null)throw new Il;this.a=r}function km(r,l,_){if(r.a!=l)throw new Oi;r.a=_}function pC(r,l){if(!r)throw new Gn((Et(),l))}function vC(r,l){if(!r)throw new vI((Et(),l))}function ti(r){if(r==null)throw new Il;return r}function r_(r){mg.call(this,new zg),Ja(this,r)}function mC(r){this.a=new _w(r.Y()),Ja(this,r)}function Cm(r){this.c=r,this.a=new sd(this.c.a)}function tc(r){ai(),this.a=(jn(),new Nb(tn(r)))}function dr(){dr=s,Mr=(dr(),!1),Qi=!0}function aD(){aD=s,WM=ot(ax,wi,24,256,0,1)}function oD(){oD=s,i6=fa(Bc(new Lr,(bi(),Wx)),eE)}function i_(){i_=s,IB=new J,PB=new lC,RB=new te}function sD(r){return r!=null&&l_(r)&&r.ad!==n}function a_(r){return!Array.isArray(r)&&r.ad===n}function Vf(r,l){return us(l)?ID(r,l):S2(r.d,l)}function yC(r,l){return yt(l,17)&&Ps(r,z(l,17))}function uD(r,l){return yt(l,17)&&Yj(r,z(l,17))}function y9(r,l){return aw(r.a,l)!==void 0}function On(r,l){var _;return _=ey(r),Bv(_,l),_}function b9(r,l){return!r&&(r=[]),r[r.length]=l,r}function w9(r,l,_){return oa(r.a,l),c_(r,l.e,_)}function _9(r,l,_){return Et(),r.lastIndexOf(l,_)}function cD(r,l,_){if(!r)throw new Gn(oY(l,_))}function x9(r,l,_){var R;for(R=0;R<l;++R)r[R]=_}function gd(r,l){var _;return _=r.a.Y(),S_(l,_),_-l}function o_(r){var l;return l=r.i,l||(r.i=r.T())}function bC(r){var l;return l=r.c,l||(r.c=r.gb())}function lD(r){var l;return l=r.c,l||(r.c=r.Jb())}function zl(r){return r.e?r.e:r.e=r.Ob()}function fD(r){return r.f?r.f:r.f=r.Pb()}function E9(r,l){return Fc(r.l&l.l,r.m&l.m,r.h&l.h)}function hD(r,l){return li((ti(r),r),(ti(l),l))}function k9(r){return yt(r,20)?z(r,20).tb():r.mb()}function Sm(r){for($r(),tn(r);r.G();)r.H(),r.I()}function wC(r){var l;for(l=r;l.g;)l=l.g;return l}function C9(r){return r.b.i.a+=r.a.f*(r.a.a-1),null}function Fg(r){Hf(r.b!=-1),r.c.vb(r.a=r.b),r.b=-1}function dD(r){return Kt(r.b>0),r.a.sb(r.c=--r.b)}function Tm(r){r.b?Tm(r.b):r.d.V()&&Vf(r.f.b,r.e)}function pd(r){if(Co(r.d),r.d.d!=r.c)throw new Oi}function s_(r,l){if(l[hf]!=r[hf])throw new Oi}function Wf(r,l){return $r(),tn(r),tn(l),new qI(r,l)}function gD(r,l){ai(),p7.call(this,r,Zm(new vo(l)))}function _C(r,l,_,R){this.a=r,Pv.call(this,r,l,_,R)}function Gl(r){this.a=Math.cos(r),this.b=Math.sin(r)}function nu(r,l,_){os.call(this,r),this.b=l,this.a=_}function xC(r){this.b=new dt,this.a=new dt,this.c=r}function Hl(r){this.c=new Ni,this.a=new dt,this.b=r}function pD(){pD=s,_F=new hg(!1),xF=new hg(!0)}function qc(r,l){return++r.d,r.c[r.c.length]=l,!0}function Sv(r,l){ci(r.d,l,r.b.b,r.b),++r.a,r.c=null}function lr(r,l){var _;return _=r.a.db(l,r),_==null}function u_(r,l){var _;return _=r.slice(0,l),Dv(_,r)}function xa(r,l){var _;return _=new Array(l),Dv(_,r)}function c_(r,l,_){var R;return R=r.b[l],r.b[l]=_,R}function S9(r,l){var _;for(_=0;_<l;++_)r[_]=null}function T9(r,l){var _;for(_=0;_<l;++_)r[_]=!1}function A9(r,l){return dr(),z(l.b,24).a<r?Qi:Mr}function L9(r,l){return dr(),z(l.a,24).a<r?Qi:Mr}function M9(r,l){return z(lD(zl(r.a)).sb(l),21).yb()}function vD(r){return Ar(),Zw(p8(r.a).mb(),(am(),ux))}function wn(r){return $r(),new Ls(Ms(tu(r.a,new I)))}function l_(r){return typeof r===Cy||typeof r===x4}function I9(r){t.setTimeout(function(){throw r},0)}function R9(r,l){return r>0?new Qk(r-1,l):new Qk(r,l)}function mD(r){return tn(r),yt(r,345)?z(r,345):so(r)}function EC(r,l){return X$(r.a,l,(dr(),Mr))==null}function kC(r,l){var _;return _=r.a.Y(),y8(l,_),_-1-l}function yD(r,l,_){var R;return R=jc(r,l),sj(r,l,_),R}function Le(r,l,_){var R;return R=f_(r,l),s$(_,R),R}function f_(r,l){var _;return _=new TS,_.i=r,_.d=l,_}function bD(r,l,_){this.a=r,S_(_,l),this.c=l,this.b=_}function Po(r,l,_){return I7(_==null||oU(r,_)),r[l]=_}function CC(r){r.a=null,r.e=null,Wo(r.b),r.d=0,++r.c}function P9(r){Gn.call(this,(Et(),r??Lu))}function D9(r){Gn.call(this,(Et(),r??Lu))}function Xf(r){var l;return l=r.f,l||(r.f=new Ck(r))}function SC(r){var l;return l=r.k,l||(r.k=new ki(r))}function wD(r){var l;return l=r.e,l||(r.e=new ZI(r))}function vd(r){var l;return l=r.e,!l&&(r.e=l=r.gb()),l}function h_(r){var l,_;return l=r.c.f.d,_=r.d.f.d,l==_}function TC(r,l){var _;return _=new Rv(r),lS(_,l),_}function Bg(r,l){return r.a+=String.fromCharCode(l),r}function Ea(r){return!r.a&&r.d?r.d.b:r.a}function d_(r){return Qa(r)?r|0:r.l|r.m<<22}function O9(r){return aa(r,rA),xd(mi(mi(5,r),r/10|0))}function Bn(r,l){return us(l)?Pm(r,l):ra(ia(r.d,l))}function Zf(r){return yt(r,19)?z(r,19).Y():A_(r.mb())}function AC(r){return r?new mC((Is(),r)):h9(null.mb())}function Kf(r,l){return Ot(r)===Ot(l)||r!=null&&hs(r,l)}function _D(r,l){return ck(),li(ct(Cn(r)),ct(Cn(l)))}function xD(r){return Ar(),Zw(r.a.bb().mb(),(am(),TA))}function ai(){ai=s,wo(),m0=new Xr((jn(),jn(),gl))}function yd(){yd=s,wo(),cp=new Ew((jn(),jn(),XE))}function kD(r,l){if(r==null)throw new av((Et(),l))}function $9(r,l){return QS(),(r-l<=0?0-(r-l):r-l)<.2}function N9(r,l){return r.i.b<l.i.b?-1:r.i.b==l.i.b?0:1}function Os(r,l,_,R){r.g[l.e][_.e]=R,r.g[_.e][l.e]=R}function ls(r){Hf(r.c!=-1),r.d.vb(r.c),r.b=r.c,r.c=-1}function g_(r){this.c=r,this.b=r.a.b.a,Hk(r.a.c,this)}function p_(r){RT.call(this,new vo(r)),this.a=new Ni}function CD(){rk.call(this,new ok(new kn)),this.a=this}function SD(){ZO(),this.b=(Ar(),new kn),this.a=new kn}function F9(){return am(),Ze(Ke(AA,1),kt,188,0,[ux,TA])}function B9(){return ss(),Ze(Ke(kA,1),kt,159,0,[Bo,Ny])}function q9(){return om(),Ze(Ke(MA,1),kt,205,0,[cx,LA])}function TD(r){Lm(r.a),r.b=ot(zt,At,1,r.b.length,4,1)}function AD(r){return!r.b&&(r.b=new qf(r.c.W())),r.b}function Tv(r,l){var _;return _=new Yi,o4(r,l,_),_.d}function Am(r,l){var _;return _=f_("",r),_.k=l,_.g=1,_}function Lm(r){var l;for(l=r.mb();l.G();)l.H(),l.I()}function LC(r,l){return yt(l,79)&&Ts(r.b,z(l,79).mc())}function j9(){return Bm(),Ze(Ke(VB,1),kt,175,0,[KL,tE])}function z9(){return Rm(),Ze(Ke(t6,1),kt,193,0,[nE,iM])}function G9(){return Mv(),Ze(Ke(g6,1),kt,192,0,[aE,iE])}function Kn(r,l,_){return us(l)?Dm(r,l,_):eo(r.d,l,_)}function H9(r,l,_){r.i=0,r.e=0,l!=_&&N$(r,l,_)}function U9(r,l,_){r.i=0,r.e=0,l!=_&&$$(r,l,_)}function MC(r,l,_,R){this.d=r,this.b=l,this.a=_,this.c=R}function Do(r,l,_,R){this.d=r,this.e=l,this.c=_,this.b=R}function Mm(r,l,_,R){this.a=r,this.c=l,this.b=_,this.d=R}function ka(r,l,_,R){Wn.call(this,r,l),this.a=_,this.b=R}function Y9(r,l){var _;return _=dk(r.a,l),_??[]}function v_(r,l){return Et(),r==l?0:r<l?-1:1}function V9(r,l){var _;return _=jj(r.f,l),ur(jw(_),r.f.d)}function bd(r,l){return yC(r.a,l)?r.b[z(l,17).e]:null}function ao(r,l){return Ot(r)===Ot(l)||r!=null&&hs(r,l)}function kr(r,l){if(l==null)throw new Il;return yG(r,l)}function LD(r){return yv(r==null||l_(r)&&r.ad!==n),r}function Eo(r){return!r.a&&(r.a=new CI(r.c.bb())),r.a}function MD(r){return!r.d&&(r.d=new Vu(r.c.fb())),r.d}function ku(r){r.a.a=r.c,r.c.b=r.a,r.a.b=r.c.a=null,r.b=0}function W9(r){return Kt(r.b<r.d.Y()),r.d.sb(r.c=r.b++)}function ID(r,l){return l==null?S2(r.d,null):j$(r.e,l)}function RD(r,l){this.g=r,this.d=Ze(Ke(hi,1),Aa,9,0,[l])}function PD(r){this.c=r,this.b=new NI(z(tn(new oe),56))}function ru(){this.a=new Ci,this.b=(aa(3,uf),new Ta(3))}function DD(r,l){this.a=r,W7.call(this,r,z(r.d,20).ub(l))}function Im(r,l,_,R){this.a=r,this.c=l,this.b=_,this.d=R}function m_(r,l,_){this.a=YT,this.d=r,this.b=l,this.c=_}function OD(){this.d=0,this.b=0,this.a=0,this.c=0}function $D(){this.b=new $i,this.d=new qi,this.e=new vt}function jn(){jn=s,gl=new Qr,ZM=new sg,XE=new If}function IC(){IC=s,gF=new TP,dF=new AP,EA=new YR,pF=new tP}function Rm(){Rm=s,nE=new xk("GREEDY",0),iM=new xk(Q2,1)}function RC(){RC=s,fL=new Em((pt(),YA),(dr(),dr(),Qi))}function ND(){ND=s,v6=fa(xo(ha(new Lr,(bi(),Kx)),Xx),Zx)}function wd(r,l){var _;return _=L_(l),z(Bn(r.c,_),24).a}function X9(r,l){var _;return _=Bw(r.a,l),_&&(l.f=null),_}function FD(r){var l;return l=r.b.ob(),TO(l,l.length),l}function y_(r){return r<0?-1:r>0?1:0}function Z9(){return Ba(),Ze(Ke(QW,1),kt,171,0,[O0,Us,Ou])}function K9(){return Qm(),Ze(Ke(NF,1),kt,166,0,[bx,qA,jA])}function Q9(){return kd(),Ze(Ke(ZF,1),kt,149,0,[I0,Ax,Tx])}function J9(){return T_(),Ze(Ke(KW,1),kt,225,0,[il,Wd,al])}function e8(){return Km(),Ze(Ke(nX,1),kt,221,0,[mL,yL,vL])}function t8(){return Gm(),Ze(Ke(a6,1),kt,173,0,[rE,oM,aM])}function BD(r,l){return Fv(E9(Qa(r)?Uc(r):r,Qa(l)?Uc(l):l))}function n8(r){return r.b==0?null:(Kt(r.b!=0),Cu(r,r.a.a))}function PC(r){r.d=r.d-15,r.b=r.b-15,r.c=r.c+15,r.a=r.a+15}function DC(r){this.b=r,this.c=r,r.e=null,r.c=null,this.a=1}function qD(r,l,_){this.d=r,this.b=new dt,this.c=l,this.a=_}function b_(r,l){Lc(this,new Wt(r.a,r.b)),Xp(this,io(l))}function r8(r,l){return l===r?!0:(Co(r),r.d.t(l))}function i8(r){return r==bs||r==Ys}function a8(r){$l(new xe(Uv(r.e)))&&(OW(r),$U(r))}function jD(r,l){var _;_=z(iS(r.e,l),116),_&&(r.d=!0)}function OC(r,l){var _;return _=r.b.pb(l),TO(_,r.b.Y()),_}function o8(r){var l;return l=s5(r,(ht(),Ft)),l+=s5(r,Pt),l}function s8(r,l,_){Qv(r,l,_,(ht(),Pt),r.f),Qv(r,l,_,Ft,r.n)}function Qn(r,l){r.f&&gi(r.f.f,r),r.f=l,r.f&&xt(r.f.f,r)}function Ti(r,l){r.d&&gi(r.d.a,r),r.d=l,r.d&&xt(r.d.a,r)}function gr(r,l){r.d&&gi(r.d.b,r),r.d=l,r.d&&xt(r.d.b,r)}function Ir(r,l){r.c&&gi(r.c.e,r),r.c=l,r.c&&xt(r.c.e,r)}function w_(r){var l;return l=io(r.b),Ja(l,r.c),Ja(l,r.i),l}function u8(){tI==256&&(eI=xb,xb={},tI=0),++tI}function fs(){fs=s,sl=new Ak(rp,0),pu=new Ak(np,1)}function Ul(){Ul=s,$u=new Ik(np,0),xh=new Ik(rp,1)}function c8(){return Ul(),Ze(Ke(cX,1),kt,223,0,[$u,xh])}function l8(){return Fm(),Ze(Ke(oX,1),kt,242,0,[G0,j0])}function f8(){return fs(),Ze(Ke(sX,1),kt,248,0,[sl,pu])}function h8(){return Vo(),Ze(Ke(uX,1),kt,247,0,[dc,zo])}function d8(){return Ov(),Ze(Ke(A6,1),kt,194,0,[sE,uE])}function g8(){return Nm(),Ze(Ke(vq,1),kt,174,0,[SE,CM])}function $C(r){return jn(),yt(r,63)?new lk(r):new fm(r)}function p8(r){var l;return l=r.g,z(l||(r.g=new fg(r)),20)}function ia(r,l){return eN(r,l,Y9(r,l==null?0:r.b.Vc(l)))}function zD(r){var l;return l=qm(r),"n_"+(l??q1(r.k))}function GD(r){return B1(Gg(r))+"@"+(Ns(r)>>>0).toString(16)}function v8(r,l){return r9(bn((ti(r),r)),bn((ti(l),l)))}function Pm(r,l){return l==null?ra(ia(r.d,null)):pR(r.e,l)}function m8(r,l,_){return new jC(r.c,G5(r.b,D8(r.d,l,_)),r.a)}function Wr(r){return Math.max(Math.min(r,fi),-2147483648)|0}function NC(r){this.e=r,this.b=this.e.a.entries(),this.a=[]}function FC(r){this.c=r,this.b=new ih(new rs(this.c.a).a)}function HD(r){this.b=($r(),$r(),$r(),vF),this.a=z(tn(r),35)}function Qf(r,l,_){ld(),Ut.call(this,r,l),_!=null&&(this.c=_)}function UD(r,l,_){if(r<0||l<r||l>_)throw new As(GH(r,l,_))}function y8(r,l){if(r<0||r>=l)throw new As(UH(r,l));return r}function __(r,l){if(r==null)throw new av((Et(),l));return r}function cn(r){if(!vn(r))throw new $a;return r.c=r.b,r.b.H()}function b8(r){function l(){}return l.prototype=r||{},new l}function YD(r){var l;return l=new ow(j_(r.length)),Bv(l,r),l}function VD(r){var l;l=r.c.b.b,r.b=l,r.a=r.c.b,l.a=r.c.b.b=r}function BC(r){this.b=null,!r&&(r=(Gf(),Gf(),Ah)),this.a=r}function qC(r){this.b=r,this.a=new nr(this.b,this.b.c.length)}function WD(r){return ai(),tn(r),HN(r||mm(new xe(null)))}function w8(r,l){var _=fx[r.charCodeAt(0)];return _??r}function XD(r,l){var _=r.a=r.a||[];return _[l]||(_[l]=r.Oc(l))}function ZD(r,l,_){var R;VS(l,_,r.c.length),R=_-l,hk(r.c,l,R)}function jC(r,l,_){BI.call(this,l.a),this.c=r,this.b=l,this.a=_}function x_(r){return rm(r.c),r.e=r.a=r.c,r.c=r.c.c,++r.d,r.a.f}function KD(r){return rm(r.e),r.c=r.a=r.e,r.e=r.e.e,--r.d,r.a.f}function Ca(r){return Jn(Ze(Ke(In,1),Mn,10,0,[r.f.i,r.i,r.a]))}function _8(){return su(),Ze(Ke(IF,1),kt,107,0,[gx,w0,df,qd])}function x8(){return rc(),Ze(Ke(PF,1),kt,122,0,[mx,DA,gh,vx])}function E8(){return Md(),Ze(Ke(Dx,1),kt,139,0,[D0,Px,Rx,Ix])}function k8(){return ac(),Ze(Ke(dp,1),kt,150,0,[Mx,P0,Lx,R0])}function C8(){return IC(),Ze(Ke($y,1),kt,136,0,[gF,dF,EA,pF])}function S8(){return Nv(),Ze(Ke(eX,1),kt,201,0,[ol,bf,yf,wh])}function T8(){return ht(),Ze(Ke(xi,1),kt,32,0,[ii,Yt,Pt,Qt,Ft])}function A8(){return Fr(),Ze(Ke(b0,1),kt,59,0,[ps,za,Ao,du,Du])}function QD(){QD=s,n6=Ai((Rm(),Ze(Ke(t6,1),kt,193,0,[nE,iM])))}function JD(){JD=s,WB=Ai((Bm(),Ze(Ke(VB,1),kt,175,0,[KL,tE])))}function eO(){eO=s,p6=Ai((Mv(),Ze(Ke(g6,1),kt,192,0,[aE,iE])))}function L8(){return ou(),Ze(Ke(fX,1),kt,140,0,[hb,Ch,Zd])}function M8(){return Cd(),Ze(Ke(lX,1),kt,218,0,[hM,sb,H0])}function I8(){return ni(),Ze(Ke(hX,1),kt,219,0,[DE,Ra,Ki])}function R8(){return ty(),Ze(Ke(kq,1),kt,153,0,[YM,WE,VM])}function P8(){return nc(),Ze(Ke(Sq,1),kt,172,0,[Tp,J0,_b])}function Dm(r,l,_){return l==null?eo(r.d,null,_):J_(r.e,l,_)}function D8(r,l,_){return new my(r,!1,null,(ss(),Bo),!0,l,_)}function zC(r,l){return uD(r.a,l)?c_(r,z(l,17).e,null):null}function Om(r){return tn(r),HS(($r(),new Ls(Ms(tu(r.a,new I)))))}function O8(r){return jn(),r?new Of(r):(sR(),Iq)}function tO(r,l){var _,R;return R=gd(r,l),_=r.a.ub(R),new HI(r,_)}function $8(r,l){var _,R;for(R=r.Y(),_=0;_<R;_++)r.wb(_,l[_])}function nO(r,l,_){var R;R=new Oh,R.b=l,R.a=_,++l.b,xt(r.d,R)}function N8(r,l,_){r.d&&gi(r.d.b,r),r.d=l,r.d&&ql(r.d.b,_,r)}function E_(r,l,_){VS(l,_,r.Y()),this.c=r,this.a=l,this.b=_-l}function k_(r,l,_,R){this.d=r,this.b=l,this.a=_,this.c=R}function rO(r,l){rk.call(this,b$(tn(r),tn(l))),this.b=r,this.c=l}function nr(r,l){this.a=r,Uu.call(this,r),Zl(l,r.Y()),this.b=l}function $m(r,l,_,R){ld(),Qf.call(this,r,l,_),R!=null&&(this.d=R)}function F8(r,l,_){r.i=0,r.e=0,l!=_&&(N$(r,l,_),$$(r,l,_))}function Ee(r){return Kt(r.a<r.c.c.length),r.b=r.a++,r.c.c[r.b]}function Av(r){return Kt(r.b.b!=r.d.a),r.c=r.b=r.b.b,--r.a,r.c.c}function iO(r,l){var _;return _=1-l,r.a[_]=Vm(r.a[_],_),Vm(r,l)}function B8(r){var l;return l=(da(),da(),G6),r.d&&w2(r),JE(),l}function q8(r){var l;return Qa(r)?(l=r,l==-0?0:l):KG(r)}function qg(r){var l;return l=(tn(r),new Nc((Is(),r))),vy(l),Zm(l)}function j8(r){$r();for(var l;;)if(l=r.H(),!r.G())return l}function aO(r){return dm(r),rm(r.c),r.e=r.a=r.c,r.c=r.c.b,++r.d,r.a}function oO(r){return dm(r),rm(r.e),r.c=r.a=r.e,r.e=r.e.d,--r.d,r.a}function z8(r){var l;l=r.Y(),l!=0&&(r.d.Q(),r.f.c-=l,Tm(r))}function G8(r,l,_){var R;R=hG();try{return i9(r,l,_)}finally{fj(R)}}function H8(r){return function(){return G8(r,this,arguments)}}function Lv(r){return yt(r,19)?z(r,19).V():!r.mb().G()}function Xr(r){ai(),this.a=(jn(),yt(r,63)?new lk(r):new fm(r))}function Nm(){Nm=s,SE=new Rk(My,0),CM=new Rk("TOP_LEFT",1)}function Vo(){Vo=s,dc=new Lk("DOWN",0),zo=new Lk("UP",1)}function Mv(){Mv=s,aE=new Ek("LAYER_SWEEP",0),iE=new Ek(Q2,1)}function Fm(){Fm=s,G0=new Tk("UPPER",0),j0=new Tk("LOWER",1)}function U8(r){if(r<0)throw new mI("Negative array size: "+r)}function GC(r,l){return yt(l,21)?d2(r.a,z(l,21)):!1}function sO(r,l){return yt(l,21)?d2(r.a,z(l,21)):!1}function uO(r,l){return yt(l,21)?d2(r.a,z(l,21)):!1}function C_(r){var l;return l=new ru,ic(l,r),et(l,(pt(),Gr),null),l}function cO(r,l){return l===r?"(this Map)":(Et(),l==null?Lu:so(l))}function HC(r,l,_,R){return yt(_,63)?new wP(r,l,_,R):new _C(r,l,_,R)}function Y8(){return Vc(),Ze(Ke(tL,1),kt,100,0,[vh,gu,QA,JA,eL])}function V8(){return Rr(),Ze(Ke(WF,1),kt,28,0,[rl,ys,M0,Gd,Gs,Zi])}function W8(){return Fs(),Ze(Ke(AF,1),kt,103,0,[dx,zy,Gy,Hy,qy,jy])}function X8(){return gy(),Ze(Ke(OF,1),kt,133,0,[yx,NA,BA,OA,FA,$A])}function lO(){lO=s,KF=Ai((kd(),Ze(Ke(ZF,1),kt,149,0,[I0,Ax,Tx])))}function fO(){fO=s,FF=Ai((Qm(),Ze(Ke(NF,1),kt,166,0,[bx,qA,jA])))}function hO(){hO=s,o6=Ai((Gm(),Ze(Ke(a6,1),kt,173,0,[rE,oM,aM])))}function Z8(){return Ht(),Ze(Ke(dL,1),kt,132,0,[Pr,rr,yr,Kr,jo,La])}function K8(){return Qg(),Ze(Ke(XB,1),kt,125,0,[q0,JL,nM,tM,eM,QL])}function Q8(r){return $r(),Bg(gN((Is(),CA),Bg(new Tg,91),r),93).a}function Oo(r,l){jn();var _;_=r.ob(),Ad(_,0,_.length,l),$8(r,_)}function dO(r,l,_,R,O){this.c=r,this.e=l,this.d=_,this.b=R,this.a=O}function iu(r,l,_,R,O){Wn.call(this,r,l),this.a=_,this.b=R,this.c=O}function Jf(r,l,_,R,O){Wn.call(this,r,l),this.a=_,this.b=R,this.c=O}function gO(r,l,_){this.a=l,this.c=r,this.b=(tn(_),new Nc((Is(),_)))}function pO(){$w(this),this.b=new Wt(ya,ya),this.a=new Wt(Ii,Ii)}function Bm(){Bm=s,KL=new _k("QUADRATIC",0),tE=new _k("SCANLINE",1)}function J8(){throw new Kh("Add not supported on this collection")}function vO(r){var l,_;return _=c9(r.Zb()),l=r.Yb(),l==1?_:_+" x "+l}function $n(r){return Kt(r.b!=r.d.c),r.c=r.b,r.b=r.b.a,++r.a,r.c.c}function ej(r){if(r.Tc())return null;var l=r.k,_=Dy[l];return _}function S_(r,l){if(r<0||r>l)throw new As(sT(r,l,"index"));return r}function tj(r,l){var _;return Co(r),_=r.d.nb(l),_&&(--r.f.c,Tm(r)),_}function Iv(r,l,_){var R;R=(tn(r),new Nc((Is(),r))),jG(new gO(R,l,_))}function nj(r,l){return v_((Et(),r.toLowerCase()),l.toLowerCase())}function rj(r,l){return v_((Et(),r.toLowerCase()),l.toLowerCase())}function ij(){return aS(),Ze(Ke(KE,1),kt,138,0,[JM,Pq,Dq,Oq])}function aj(r,l,_,R){Array.prototype.splice.apply(r,[l,_].concat(R))}function ci(r,l,_,R){var O;O=new vr,O.c=l,O.b=_,O.a=R,R.b=_.a=O,++r.b}function UC(r,l){var _;return _=$C(mm(new I_(r,l))),Sm(new I_(r,l)),_}function oj(r,l,_){if(_){var R=_.gc();r.a[l]=R(_)}else delete r.a[l]}function sj(r,l,_){if(_){var R=_.gc();_=R(_)}else _=void 0;r.a[l]=_}function Rv(r){this.d=r.d,this.c=r.c,this.a=r.a,this.b=r.b}function mO(){this.g=new tv,this.c=new tv,this.a=new dt,this.k=new dt}function yO(){this.d=new SD,this.a=new dP,this.c=new bR,this.b=new xl}function YC(){this.i=new dt,this.g=new Ni,this.n=new uC,this.q=new uC}function bO(r,l,_,R){this.e=r,this.b=new dt,this.d=l,this.a=_,this.c=R}function jg(){jg=s,$B=new Ae,NB=new Te,DB=new Oe,OB=new Ie,FB=new Be}function T_(){T_=s,il=new pw(np,0),Wd=new pw(My,1),al=new pw(rp,2)}function wO(){wO=s,RF=Ai((su(),Ze(Ke(IF,1),kt,107,0,[gx,w0,df,qd])))}function _O(){_O=s,DF=Ai((rc(),Ze(Ke(PF,1),kt,122,0,[mx,DA,gh,vx])))}function xO(){xO=s,eB=Ai((Md(),Ze(Ke(Dx,1),kt,139,0,[D0,Px,Rx,Ix])))}function EO(){EO=s,JF=Ai((ac(),Ze(Ke(dp,1),kt,150,0,[Mx,P0,Lx,R0])))}function kO(){kO=s,L6=Ai((Ov(),Ze(Ke(A6,1),kt,194,0,[sE,uE])))}function CO(){CO=s,mq=Ai((Nm(),Ze(Ke(vq,1),kt,174,0,[SE,CM])))}function Yl(r){return tn(r),yt(r,19)?new Nc((Is(),z(r,19))):mm(r.mb())}function uj(r){return bn(ct(_n(Se(r,(tt(),hl)))))&&Se(r,Jt)!=null}function cj(r){return bn(ct(_n(Se(r,(tt(),hl)))))&&Se(r,Jt)!=null}function SO(r,l,_,R){l==null&&(l=Lu),r.a+=""+(Et(),l.substr(_,R-_))}function TO(r,l){var _;for(_=0;_<l;++_)Po(r,_,new Wu(z(r[_],21)))}function lj(r,l){var _,R;_=z(UG(r.b,l),19),_&&(R=_.Y(),_.Q(),r.c-=R)}function Vl(r,l,_){var R;return R=(mr(l,r.c.length),r.c[l]),r.c[l]=_,R}function Wl(r){return Kt(r.a<r.c.a.length),r.b=r.a,r$(r),r.c.b[r.b]}function A_(r){$r();var l;for(l=0;r.G();)r.H(),l=mi(l,1);return xd(l)}function VC(r){this.d=r,this.b=this.d.a.entries(),this.a=this.b.next()}function AO(r){this.g=r,this.f=new dt,this.a=qn(this.g.c.c,this.g.d.c)}function LO(r){Ct(),this.e=null,this.f=null,this.a="",this.b=r,this.a=""}function zg(){kn.call(this),mP(this),this.b.b=this.b,this.b.a=this.b}function fj(r){r&&Nj((as(),IA)),--Fy,r&&By!=-1&&(k7(By),By=-1)}function Xl(r){return!r.c||!r.d?!1:!!r.c.f&&r.c.f==r.d.f}function hj(){return Date.now?Date.now():new Date().getTime()}function qm(r){return r.c.c.length!=0?z($t(r.c,0),33).a:null}function MO(r){return r.c.c.length!=0?z($t(r.c,0),33).a:null}function dj(r){return r.d=3,r.c=Uj(r),r.d!=2?(r.d=0,!0):!1}function jm(r,l,_){this.a=r,this.b=l,this.c=_,xt(r.j,this),xt(l.d,this)}function $o(r,l,_,R){var O;r.c?O=new Gp(Wr(R)):O=new Gp(R),ko(l,_,O)}function zm(r){var l,_;return tn(r),l=O9(r.length),_=new Ta(l),Bv(_,r),_}function WC(r){var l,_,R;return l=r&Fo,_=r>>22&Fo,R=r<0?Kc:0,Fc(l,_,R)}function gj(){return oy(),Ze(Ke(k6,1),kt,141,0,[lM,sM,uM,oE,cM])}function pj(){return uy(),Ze(Ke(lq,1),kt,115,0,[ub,vE,yE,mE,bE])}function vj(){return qa(),Ze(Ke(_q,1),kt,85,0,[Th,K0,dl,Ep,bc])}function IO(){IO=s,MF=Ai((Fr(),Ze(Ke(b0,1),kt,59,0,[ps,za,Ao,du,Du])))}function RO(){RO=s,QF=Ai((ht(),Ze(Ke(xi,1),kt,32,0,[ii,Yt,Pt,Qt,Ft])))}function PO(){PO=s,VF=Ai((Vc(),Ze(Ke(tL,1),kt,100,0,[vh,gu,QA,JA,eL])))}function DO(){DO=s,m6=fa(xo(xo(xo(ha(new Lr,(bi(),Kx)),BL),EL),Xx),Zx)}function OO(r,l){var _,R;for(R=l.mb();R.G();)_=z(R.H(),55),I5(r,_,0,0)}function au(r,l,_){var R,O;for(O=r.mb();O.G();)R=z(O.H(),55),i0(R,l,_)}function XC(r,l,_){var R,O;for(R=0,O=0;O<l.length;O++)R+=r.Hc(l[O],R,_)}function eh(r,l){var _;return _=(mr(l,r.c.length),r.c[l]),hk(r.c,l,1),_}function mj(r){var l;for(tn(r),qj(!0),l=0;l<0&&vn(r);l++)cn(r);return l}function Wo(r){var l;r.d=new jR(r),r.e=new zR(r),l=r[hf]|0,r[hf]=l+1}function $O(r){r.g=new $i,r.o=new $i,r.c=new $i,r.j=new dt,r.d=new dt}function Zl(r,l){if(r<0||r>l)throw new As("Index: "+r+", Size: "+l)}function mr(r,l){if(r<0||r>=l)throw new As("Index: "+r+", Size: "+l)}function NO(r,l){var _,R;return _=l.yb(),R=AS(r,_),!!R&&ao(R.e,l.zb())}function yj(r,l){var _;return _=r.d,l>0?z($t(_.a,l-1),9):null}function ot(r,l,_,R,O,q){var H;return H=e3(O,R),O!=9&&Ze(Ke(r,q),l,_,O,H),H}function th(r){var l;if(!zc(r))throw new $a;return r.d=1,l=r.c,r.c=null,l}function Pv(r,l,_,R){this.f=r,this.e=l,this.d=_,this.b=R,this.c=R?R.d:null}function bj(r,l){if(r&&typeof r==Cy)try{r.__gwt$exception=l}catch{}}function wj(r,l){r.a.$b(l.d,r.b)>0&&(xt(r.c,new aC(l.c,l.d,r.d)),r.b=l.d)}function _j(r,l){var _;return _=li(r.j,l.j),_==0?li(r.k,l.k):_}function ZC(r){var l,_;return _=z($t(r.f,0),7),l=z(Se(_,(tt(),Jt)),7),l}function L_(r){var l,_;return _=z($t(r.f,0),7),l=z(Se(_,(tt(),Jt)),7),l}function xj(r,l){return li(ct(Cn(Se(r,(tt(),yc)))),ct(Cn(Se(l,yc))))}function FO(){FO=s,Cq=Ai((ty(),Ze(Ke(kq,1),kt,153,0,[YM,WE,VM])))}function BO(){BO=s,Tq=Ai((nc(),Ze(Ke(Sq,1),kt,172,0,[Tp,J0,_b])))}function qO(){qO=s,LF=Ai((Fs(),Ze(Ke(AF,1),kt,103,0,[dx,zy,Gy,Hy,qy,jy])))}function jO(){jO=s,$F=Ai((gy(),Ze(Ke(OF,1),kt,133,0,[yx,NA,BA,OA,FA,$A])))}function zO(){zO=s,XF=Ai((Rr(),Ze(Ke(WF,1),kt,28,0,[rl,ys,M0,Gd,Gs,Zi])))}function GO(){GO=s,ZB=Ai((Qg(),Ze(Ke(XB,1),kt,125,0,[q0,JL,nM,tM,eM,QL])))}function Ej(){return nf(),Ze(Ke(UB,1),kt,109,0,[nb,F0,B0,WL,XL,VL,ZL,rb])}function kj(){return sc(),Ze(Ke(xr,1),kt,41,0,[Ga,qo,Ua,fo,lo,co,ba,Ya,Ha])}function Cj(){return Zg(),Ze(Ke(pE,1),kt,123,0,[gE,dE,hE,lE,cE,fE])}function Sj(){return Wv(),Ze(Ke(hq,1),kt,124,0,[_E,gM,vM,dM,pM,wE])}function KC(){KC=s,PA=new Ut("de.cau.cs.kieler.labels.labelManager",null)}function Tj(){return Date.now?Date.now():new Date().getTime()}function Aj(r){var l;return l=z(u_(r.b,r.b.length),11),new Xi(r.a,l,r.c)}function Lj(r,l){var _;return _=(Et(),l.length),Ts(Ng(r,r.length-_,_),l)}function HO(r,l){var _;return _=new Yi,_.c=!0,_.d=l.zb(),o4(r,l.yb(),_)}function Mj(r,l){var _;return _=l.yb(),Ar(),new pk(_,FN(r.b,_,z(l.zb(),19)))}function gi(r,l){var _;return _=Sa(r,l,0),_==-1?!1:(r.vb(_),!0)}function Dv(r,l){return oS(l)!=9&&Ze(Gg(l),l._c,l.__elementTypeId$,oS(l),r),r}function QC(r){return s_(r.c.a.c,r),Kt(r.b!=r.c.a.b),r.a=r.b,r.b=r.b.a,r.a}function JC(r){Hf(!!r.c),s_(r.e,r),r.c.I(),r.c=null,r.b=yS(r),Hk(r.e,r)}function Ij(r,l,_){r.a=l,r.c=_,r.b.a.Q(),ku(r.d),r.e.a.c=ot(zt,At,1,0,4,1)}function UO(r,l,_){rk.call(this,b$(tn(r),tn(l))),this.b=r,this.c=l,this.a=_}function YO(r,l,_,R){this.b=new d1(this),this.a=r,this.c=l,this.e=_,this.d=R}function VO(r){Q$.call(this,r,0),mP(this),this.b.b=this.b,this.b.a=this.b}function M_(r,l){tm.call(this,r,l),this.a=ot(vX,At,183,2,0,1),this.b=!0}function _d(r,l){return us(l)?l==null?!!ia(r.d,null):y9(r.e,l):!!ia(r.d,l)}function eS(r,l){return Cg(),(r-l>0?r-l:-(r-l))<=c0||r==l||isNaN(r)&&isNaN(l)}function WO(r,l){return Cg(),(r-l>0?r-l:-(r-l))<=c0||r==l||isNaN(r)&&isNaN(l)}function tS(r){var l,_;l=!0;do l?_=mN(r):_=EN(r),l=!l;while(_);bS(r,r.d)}function ko(r,l,_){var R;if(l==null)throw new Il;return R=kr(r,l),oj(r,l,_),R}function et(r,l,_){return!r.n&&(r.n=new kn),_==null?Vf(r.n,l):Kn(r.n,l,_),r}function Sa(r,l,_){for(;_<r.c.length;++_)if(ao(l,r.c[_]))return _;return-1}function Rj(r,l){for(;l>=r.a.c.length;)xt(r.a,new qi);return z($t(r.a,l),20)}function Pj(r,l){var _;return _=z(Gv(r.a,l),19),_?FN(r.b,l,_):null}function Dj(r,l,_){var R;R=kr(r,G2),R||(R=new Bf,ko(r,G2,R)),ko(R.kc(),l,_)}function Sn(r,l,_,R,O){var q;return q=f_(r,l),s$(_,q),q.g=O?8:0,q.f=R,q.e=O,q}function I_(r,l){var _;this.f=r,this.b=l,_=z(Bn(r.b,l),126),this.c=_?_.b:null}function nS(r,l){var _,R,O;for(R=0,O=l.length;R<O;++R)_=l[R],ci(r,_,r.c.b,r.c)}function XO(r,l,_,R,O,q){var H;H=C_(R),Ir(H,O),gr(H,q),an(r.a,R,new pm(H,l,_.f))}function rS(r,l,_){var R;return R=0,r.c[_]>0&&(R+=yW(l)),r.b[_]&&(R+=SW(l)),R}function iS(r,l){var _;return _=z(Vf(r.c,l),176),_?(gC(_),_.e):null}function xd(r){return V_(r,fi)>0?fi:V_(r,Mu)<0?Mu:d_(r)}function Oj(r){return Is(),aa(r,"size"),d_(l7(cN(r,8),tA)?cN(r,8):tA),new iw}function R_(r){o9.call(this,(Et(),r==null?Lu:so(r)),yt(r,46)?z(r,46):null)}function Ta(r){$w(this),pC(r>=0,"Initial capacity must not be negative")}function ZO(){ZO=s,TB=Cv(xo(xo(new Lr,(bi(),OL)),ML),RL),AB=ha(new Lr,IL)}function oo(){oo=s,pL=new ze,gL=new Ve,jx=new Ye,qx=new nt,zx=new Fe,Gx=new Qe}function aS(){aS=s,JM=new J1("All",0),Pq=new VR,Dq=new JR,Oq=new WR}function Gm(){Gm=s,rE=new yw(eF,0),oM=new yw("LONGEST_PATH",1),aM=new yw(Q2,2)}function Hm(){Hm=s,kF=Fc(Fo,Fo,524287),CF=Fc(0,0,524288),WC(1),WC(2),RA=WC(0)}function KO(){KO=s,YB=Ai((nf(),Ze(Ke(UB,1),kt,109,0,[nb,F0,B0,WL,XL,VL,ZL,rb])))}function QO(){QO=s,C6=Ai((oy(),Ze(Ke(k6,1),kt,141,0,[lM,sM,uM,oE,cM])))}function JO(){JO=s,fq=Ai((uy(),Ze(Ke(lq,1),kt,115,0,[ub,vE,yE,mE,bE])))}function e$(){e$=s,xq=Ai((qa(),Ze(Ke(_q,1),kt,85,0,[Th,K0,dl,Ep,bc])))}function t$(r){tT(),G7(this,d_(BD(Fv(sU(Qa(r)?Uc(r):r,24)),wA)),d_(BD(r,wA)))}function Gg(r){return us(r)?ox:fd(r)?e1:hd(r)?dX:a_(r)||t_(r)?r.$c:r.$c||ZW}function oS(r){return r.__elementTypeCategory$==null?9:r.__elementTypeCategory$}function $j(r){var l,_;if(r.a){_=null;do l=r.a,r.a=null,_=S3(l,_);while(r.a);r.a=_}}function Nj(r){var l,_;if(r.b){_=null;do l=r.b,r.b=null,_=S3(l,_);while(r.b);r.b=_}}function Ed(r){uR();var l,_;for(_=sA,l=0;l<r.length;l++)r[l]>_&&(_=r[l]);return _}function Um(r,l){var _;return _=z(Bn(r.b,l),106),_||(_=l.rc(),Kn(r.b,l,_)),_}function P_(r,l){var _;return _=z(Bn(r.c,l),176),_?(sP(r,_),_.e):null}function n$(r,l,_,R){var O;O=z(P_(r.e,l),116),O.b+=_,O.a+=R,Hv(r.e,l,O),r.d=!0}function r$(r){var l;for(++r.a,l=r.c.a.length;r.a<l;++r.a)if(r.c.b[r.a])return}function Fj(r){var l,_,R;for(l=(r.g==null&&(r.g=dC(r)),r.g),_=0,R=l.length;_<R;++_);}function Bj(r,l){var _,R;return Co(r),R=r.d.V(),_=r.d.ib(l),_&&(++r.f.c,R&&vm(r)),_}function aa(r,l){if(r<0)throw new Gn(l+" cannot be negative but was: "+r);return r}function qj(r){if(!r)throw new Gn((Et(),"numberToAdvance must be nonnegative"))}function sS(r){if(!r.a.G()&&(r.a=r.b.mb(),!r.a.G()))throw new $a;return r.a.H()}function Hg(r){$r();var l;return tn(r),yt(r,108)?(l=z(r,108),l):new zp(r)}function jc(r,l){var _=r.a[l],R=(z_(),hx)[typeof _];return R?R(_):MS(typeof _)}function D_(r,l){var _,R;for(R=new xe(r);R.a<R.c.c.length;)_=z(Ee(R),7),by(_,l)}function O_(r,l){var _,R,O,q;for(R=r.d,O=0,q=R.length;O<q;++O)_=R[O],bo(r.g,_).a=l}function jj(r,l){var _;return _=Qu(Ro(z(Bn(r.g,l),10)),M7(z(Bn(r.f,l),198).b)),_}function $_(r){var l;return!zc(Wf((l=new Dn(r.b.a).a.bb().mb(),new Fn(l)),r.a))}function uS(r){var l;Hf(!!r.c),l=r.c.a,Cu(r.d,r.c),r.b==r.c?r.b=l:--r.a,r.c=null}function i$(r){return r.c&&r.d?r.c.f+"("+r.c+")->"+r.d.f+"("+r.d+")":"e_"+Ku(r)}function zj(r,l){return Nv(),r==ol&&l==bf||r==bf&&l==ol||r==wh&&l==yf||r==yf&&l==wh}function Gj(r,l){return Nv(),r==ol&&l==yf||r==ol&&l==wh||r==bf&&l==wh||r==bf&&l==yf}function Hj(){return a0(),Ze(Ke(gq,1),kt,110,0,[bM,CE,wM,EM,_M,kM,xM,kE])}function a$(){a$=s,YF=Ai((sc(),Ze(Ke(xr,1),kt,41,0,[Ga,qo,Ua,fo,lo,co,ba,Ya,Ha])))}function kd(){kd=s,I0=new gw("OUTSIDE",0),Ax=new gw("INSIDE",1),Tx=new gw("FIXED",2)}function ou(){ou=s,hb=new Tw(ip,0),Ch=new Tw("TOP",1),Zd=new Tw("BOTTOM",2)}function Ov(){Ov=s,sE=new Mk("CLASSIC",0),uE=new Mk("IMPROVE_STRAIGHTNESS",1)}function cS(){this.e=new Ni,this.a=new OD,this.d=new Ni,this.b=new dt,this.c=new dt}function Ym(r,l,_){this.b=l,this.a=r,this.c=_,xt(this.a.e,this),xt(this.b.b,this)}function lS(r,l){r.d=qn(r.d,l.d),r.c=St(r.c,l.c),r.a=St(r.a,l.a),r.b=qn(r.b,l.b)}function Cu(r,l){var _;return _=l.c,l.a.b=l.b,l.b.a=l.a,l.a=l.b=null,l.c=null,--r.b,_}function N_(r,l){$r();var _;for(tn(r),tn(l),_=!1;l.G();)_=_|r.ib(l.H());return _}function Ug(r){var l;return s_(r.e,r),Kt(r.b),r.c=r.a,l=z(r.a.H(),21),r.b=yS(r),l}function Uj(r){for(var l;r.b.G();)if(l=r.b.H(),r.a.D(l))return l;return r.d=2,null}function Yj(r,l){return l&&r.b[l.e]==l?(Po(r.b,l.e,null),--r.c,!0):!1}function Vj(r){return j2<r&&r<Qc?r<0?Math.ceil(r):Math.floor(r):Fv(TY(r))}function o$(r){if(r){if(r.V())throw new $a;return r.sb(r.Y()-1)}return j8(null.mb())}function Wj(r,l){var _;return _=r.d,l<_.a.c.length-1?z($t(_.a,l+1),9):null}function s$(r,l){if(r){l.k=r;var _=ej(l);if(!_){Dy[r]=[l];return}_.$c=l}}function u$(r,l){var _,R;R=!1;do r.i?_=wz(r,l):_=bz(r,l),R=R|_;while(_);return R}function c$(r,l,_){var R,O;R=l;do O=ct(r.n[R.k])+_,r.n[R.k]=O,R=r.a[R.k];while(R!=l)}function Xj(r){var l,_;for(_=new xe(r.a.b);_.a<_.c.c.length;)l=z(Ee(_),25),l.vc()}function Zj(){lI();for(var r=ix,l=0;l<arguments.length;l++)r.push(arguments[l])}function Kj(r,l){var _,R;for(_=0,R=r.Y();_<R;++_)if(ao(l,r.sb(_)))return _;return-1}function fS(r,l){var _;return __(r,"set1"),__(l,"set2"),_=(K1(),new FI(l)),new DP(r,_,l)}function Qj(r){var l=/function(?:\s+([\w$]+))?\s*\(/,_=l.exec(r);return _&&_[1]||N2}function Jj(r,l,_){xn(_,H4,3),$N(r.c,l,nh(_,1)),X3(r,l,nh(_,1)),w4(l,nh(_,1)),pn(_)}function l$(){l$=s,cq=Ai((Zg(),Ze(Ke(pE,1),kt,123,0,[gE,dE,hE,lE,cE,fE])))}function f$(){f$=s,dq=Ai((Wv(),Ze(Ke(hq,1),kt,124,0,[_E,gM,vM,dM,pM,wE])))}function h$(){h$=s,Aq=Ze(Ke(Hr,1),zr,26,12,[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15])}function ni(){ni=s,DE=new Aw(lh,0),Ra=new Aw("INPUT",1),Ki=new Aw("OUTPUT",2)}function d$(r){this.c=r,this.b=new ih(new rs(r.b).a),this.a=null,this.d=($r(),$r(),SA)}function g$(r){this.e=r,this.d=new ow(j_(o_(this.e).Y())),this.c=this.e.a,this.b=this.e.c}function hS(r,l,_){this.c=r,YC.call(this),this.b=l,this.j=new Do(l.d,l.e,l.c,l.b),this.a=_}function p$(r,l){r.j>0&&r.c<r.j&&(r.c+=l,r.g&&r.g.d>0&&r.e!=0&&p$(r.g,l/r.j*r.g.d))}function v$(r){return r.b.d.f.g==(Ht(),yr)?z(Se(r.b.d.f,(tt(),Jt)),7):r.b.d}function ez(r){return r.b.c.f.g==(Ht(),yr)?z(Se(r.b.c.f,(tt(),Jt)),7):r.b.c}function zc(r){switch(nm(r.d!=3),r.d){case 2:return!1;case 0:return!0}return dj(r)}function m$(r){switch(r.e){case 2:return ht(),Ft;case 4:return ht(),Pt;default:return r}}function y$(r){switch(r.e){case 1:return ht(),Qt;case 3:return ht(),Yt;default:return r}}function tz(r){var l;return yt(r,90)?(l=z(r,90),new ik(l.a)):($r(),new Hu(r))}function b$(r,l){jn();var _;return _=new _w(1),us(r)?Dm(_,r,l):eo(_.d,r,l),new Uh(_)}function w$(r,l){return r.g?(r.g=w$(r.g,l),--r.a,r.j=Yc(r.j,l.c),oc(r)):r.e}function _$(r,l){return r.e?(r.e=_$(r.e,l),--r.a,r.j=Yc(r.j,l.c),oc(r)):r.g}function Ja(r,l){var _,R,O;for(ti(l),_=!1,O=l.mb();O.G();)R=O.H(),_=_|r.ib(R);return _}function nz(r){var l,_,R;for(l=0,R=r.mb();R.G();)_=R.H(),l+=_!=null?Ns(_):0,l=~~l;return l}function rz(r){var l,_,R,O;for(_=r.a,R=0,O=_.length;R<O;++R)l=_[R],l.B(null);return null}function F_(r){var l,_,R;for(R=new Ci,_=r.b.mb();_.G();)l=z(_.H(),92),Un(R,l.a);return R}function $v(r){var l,_,R;for(l=0,R=r.mb();R.G();)_=Cn(R.H()),l+=(ti(_),_);return l/r.Y()}function x$(r,l){var _;return _=z(Bn(r.c,l),200),_||(_=new G,_.c=l,Kn(r.c,_.c,_)),_}function oa(r,l){var _;return ti(l),_=l.e,r.b[_]?!1:(Po(r.b,_,l),++r.c,!0)}function Vm(r,l){var _,R;return _=1-l,R=r.a[_],r.a[_]=R.a[l],R.a[l]=r,r.b=!0,R.b=!1,R}function E$(r,l){var _;return yt(l,10)?(_=z(l,10),r.a==_.a&&r.b==_.b):!1}function dS(r,l,_){return r.g=new Wm(l,_),Kk(r,r.g,r.i),r.d=Vi(2,r.d),++r.a,r.j=mi(r.j,_),r}function gS(r,l,_){return r.e=new Wm(l,_),Kk(r.f,r.e,r),r.d=Vi(2,r.d),++r.a,r.j=mi(r.j,_),r}function k$(r,l){var _=r.a,R=0;for(var O in _)_.hasOwnProperty(O)&&(l[R++]=O);return l}function C$(r,l){var _,R;for(ti(l),R=l.bb().mb();R.G();)_=z(R.H(),21),r.db(_.yb(),_.zb())}function iz(r,l,_){var R;return R=r.a.e[z(l.a,9).k]-r.a.e[z(_.a,9).k],Wr(R>0?1:R<0?-1:0)}function S$(r,l,_){this.g=r,this.d=l,this.e=_,this.a=new dt,VH(this),jn(),Oo(this.a,null)}function Wm(r,l){ud(l>0),this.b=r,this.c=l,this.j=l,this.a=1,this.d=1,this.e=null,this.g=null}function az(r){r.a=null,r.e=null,r.b.c=ot(zt,At,1,0,4,1),r.f.c=ot(zt,At,1,0,4,1),r.c=null}function oz(){return oi(),Ze(Ke(yM,1),kt,113,0,[xE,Ws,lb,EE,Eh,kh,fb,vp,mp,mM])}function uz(r){return sh(r,26)*14901161193847656e-24+sh(r,27)*11102230246251565e-32}function B_(r){return yt(r,87)?qg(z(r,87)):yt(r,88)?z(r,88).a:yt(r,63)?new iv(r):new Ag(r)}function T$(r){var l;return l=z(Se(r,(tt(),Ri)),32),r.g==(Ht(),yr)&&(l==(ht(),Ft)||l==Pt)}function A$(r,l){return JG(r,l)?(an(r.a,z(Se(l,(tt(),Sh)),18),l),!0):!1}function vi(r,l){var _;if(l)for(_=0;_<6;_++)z($t(r.a,_),18).jb(z($t(l.a,_),19));return r}function nh(r,l){var _;return r.b?null:(_=R9(r.e,r.f),Un(r.a,_),_.g=r,r.d=l,_)}function Gc(r,l){var _,R;for(R=zn(r,0);R.b!=R.d.c;)_=z($n(R),10),_.a+=l.a,_.b+=l.b;return r}function pS(r,l){var _,R;for(_=0;_<l.length;_++)for(R=0;R<l[_].length;R++)l[_][R]=r[_][R]}function cz(r){var l,_;for(_=new xe(r.b.f);_.a<_.c.c.length;)l=z(Ee(_),7),jD(r.a,a2(l.g))}function Nv(){Nv=s,ol=new U1("Q1",0),bf=new U1("Q4",1),yf=new U1("Q2",2),wh=new U1("Q3",3)}function su(){su=s,gx=new j1(lh,0),w0=new j1(My,1),df=new j1("HEAD",2),qd=new j1("TAIL",3)}function nc(){nc=s,Tp=new Mw("AGGRESSIVE",0),J0=new Mw("CAREFUL",1),_b=new Mw("OFF",2)}function L$(){L$=s,pq=Ai((a0(),Ze(Ke(gq,1),kt,110,0,[bM,CE,wM,EM,_M,kM,xM,kE])))}function vS(r,l){return dr(),us(r)?v_(r,dd(l)):fd(r)?hD(r,Cn(l)):hd(r)?v8(r,_n(l)):r.F(l)}function mS(r,l,_){var R;return R=l.$b(_,r.b),R<0?r.e?mS(r.e,l,_):0:R>0?r.g?mS(r.g,l,_):0:r.c}function lz(r,l){var _,R;return r.b?(R=r.e,_=r.a.$b(l,R),_<0|_==0&r.d==(ss(),Bo)):!1}function M$(r,l){var _,R;return r.c?(R=r.g,_=r.a.$b(l,R),_>0|_==0&r.f==(ss(),Bo)):!1}function Fv(r){var l;return l=r.h,l==0?r.l+r.m*ch:l==Kc?r.l+r.m*ch-Qc:r}function Jn(r){var l,_,R,O;for(l=new Ni,R=0,O=r.length;R<O;++R)_=r[R],l.a+=_.a,l.b+=_.b;return l}function fz(r){var l,_,R,O;for(_=r.a,R=0,O=_.length;R<O;++R)l=_[R],H$(r,l,(ht(),Qt)),H$(r,l,Yt)}function hz(r){var l,_,R;for(l=1,R=r.mb();R.G();)_=R.H(),l=31*l+(_==null?0:Ns(_)),l=~~l;return l}function dz(r){var l,_;return l=z(r.e&&r.e(),11),_=z(u_(l,l.length),11),new Xi(l,_,l.length)}function I$(r){this.e=Ot(Se(Ea(r[0]),(pt(),ph)))===Ot((rc(),gh)),this.a=r,this.c=new kn,fz(this)}function R$(r){Zh(),this.g=(Ar(),new kn),this.f=new kn,this.b=new kn,this.c=new fv,this.i=r}function P$(r){this.o=r,this.g=new dt,this.j=new qi,this.n=new qi,this.e=new dt,this.b=new dt}function Xm(r,l){if(lr(r.a,l),l.f)throw new Ss("CNode belongs to another CGroup.");l.f=r}function gz(r,l){typeof window===Cy&&typeof window.$gwt===Cy&&(window.$gwt[r]=l)}function D$(r,l,_,R){var O,q;for(O=aG(r,l,_,R),O<0&&(O=-O-1),q=_-1;q>=O;q--)r[q+1]=r[q];r[O]=R}function O$(r,l,_,R){var O,q;for(O=vG(r,l,_,R),O<0&&(O=-O-1),q=_-1;q>=O;q--)r[q+1]=r[q];r[O]=R}function Hc(r,l){var _,R;for(ti(l),R=l.mb();R.G();)if(_=R.H(),!r.kb(_))return!1;return!0}function pz(r,l){$r();var _;for(tn(l);r.G();)if(_=r.H(),!T$(z(_,9)))return!1;return!0}function vz(r,l){var _,R,O;return _=l.k-r.k,_==0?(R=r.e.a*r.e.b,O=l.e.a*l.e.b,li(R,O)):_}function Uc(r){var l,_,R,O;return O=r,R=0,O<0&&(O+=Qc,R=Kc),_=Wr(O/ch),l=Wr(O-_*ch),Fc(l,_,R)}function q_(r,l){return r.c.c=ot(zt,At,1,0,4,1),w3(r,r.e,l),w3(r,r.a,l),jn(),Oo(r.c,null),Sz(r)}function $$(r,l,_){r.g=b2(r,l,(ht(),Pt),r.b),r.d=b2(r,_,Pt,r.b),!(r.g.c==0||r.d.c==0)&&g3(r)}function N$(r,l,_){r.g=b2(r,l,(ht(),Ft),r.j),r.d=b2(r,_,Ft,r.j),!(r.g.c==0||r.d.c==0)&&g3(r)}function F$(r,l,_){return new Do(qn(r.a,l.a)-_/2,qn(r.b,l.b)-_/2,Wi(r.a-l.a)+_,Wi(r.b-l.b)+_)}function yS(r){return r.a.G()?!0:r.a!=r.d?!1:(r.a=new NC(r.e.d),r.a.G())}function _r(r,l){var _,R;return _=l.ob(),R=_.length,R==0?!1:(fC(r.c,r.c.length,_),!0)}function bS(r,l){var _,R;for(_=0;_<r.a.length;_++)for(R=0;R<r.a[_].length;R++)r.a[_][R]=l[_][R]}function Bv(r,l){jn();var _,R,O,q;for(q=!1,R=0,O=l.length;R<O;++R)_=l[R],q=q|r.ib(_);return q}function j_(r){return Ar(),r<3?(aa(r,"expectedSize"),r+1):r<tA?Wr(r/.75+1):fi}function wS(r,l){var _;return yt(l,19)?(_=(Is(),z(l,19)),r.jb(_)):N_(r,z(tn(l),22).mb())}function B$(r,l){var _,R;R=r.d.f,R.g!=(Ht(),Pr)&&(_=wn(pr(R)),vn(_)&&Kn(l,r,z(cn(_),12)))}function _S(r,l){var _,R;return U8(l),_=_N(r,0,l),R=ot(Hr,zr,26,l,12,1),g2(r,0,R,0,_,!0),R}function mz(r,l){var _;this.c=r,_=new dt,YS(r,_,l,r.b,null,!1,null,!1),this.a=new nr(_,0)}function q$(r){return r.a?M$(r.c.b,r.a.b)?(r.a=null,!1):!0:!1}function rh(r){if(!r)throw new Ic((Et(),"no calls to next() since the last call to remove()"))}function z_(){z_=s,hx={boolean:v7,number:Kq,string:Qq,object:$3,function:$3,undefined:Qp}}function G_(){G_=s,Nx=YD(Ze(Ke(b0,1),kt,59,0,[(Fr(),Ao),za])),Fx=YD(Ze(Ke(b0,1),kt,59,0,[Du,du]))}function xS(r){jn();var l,_,R;for(R=0,_=r.mb();_.G();)l=_.H(),R=R+(l!=null?Ns(l):0),R=R|0;return R}function yz(r){mo();var l,_,R;for(R=0,_=vd(r).mb();_.G();)l=z(_.H(),83),R=mi(R,l.Yb());return xd(R)}function Su(r){var l,_;for(_=new xe(r.a.b);_.a<_.c.c.length;)l=z(Ee(_),25),l.i.Q();r.c.Dc(r),C5(r)}function j$(r,l){var _;return _=aw(r.a,l),_===void 0?++r.d:(r.a[tx](l),--r.c,Ww(r.b)),_}function bz(r,l){var _,R,O,q;for(_=!1,R=r.d[l].length,O=R-1;O>0;O--)q=O-1,_=_|LN(r,l,q,O);return _}function wz(r,l){var _,R,O,q;for(_=!1,R=r.d[l].length,q=0;q<R-1;q++)O=q+1,_=_|LN(r,l,q,O);return _}function _z(r,l){var _,R,O;return _=r.l+l.l,R=r.m+l.m+(_>>22),O=r.h+l.h+(R>>22),Fc(_&Fo,R&Fo,O&Kc)}function xz(r,l){var _,R,O;return _=r.l-l.l,R=r.m-l.m+(_>>22),O=r.h-l.h+(R>>22),Fc(_&Fo,R&Fo,O&Kc)}function z$(r,l){var _;for(_=0;_<(Et(),l.length);_++)if(r==l.charCodeAt(_))return!0;return!1}function G$(r,l){var _;for(_=0;_<(Et(),l.length);_++)if(r==l.charCodeAt(_))return!0;return!1}function Se(r,l){var _,R;return r.n&&(R=Bn(r.n,l),R!=null)?R:(_=yV(l),yt(_,5)&&et(r,l,_),_)}function H_(r){var l,_,R;for(l=new Ci,R=zn(r,0);R.b!=R.d.c;)_=z($n(R),10),lm(l,0,new qr(_));return l}function H$(r,l,_){var R,O,q,H;for(H=new Bl(l,_),q=0,O=rf(H);O.G();)R=z(O.H(),7),Kn(r.c,R,nn(q++))}function Ez(r,l,_){if(tn(l),_.G())for(Ol(l,r.C(_.H()));_.G();)Ol(l,r.c),Ol(l,r.C(_.H()));return l}function kz(r,l,_,R,O){R?nH(r,l):(rH(r,l,O),YV(r,l,_)),l.c.length>1&&(Oo(l,r.b),dY(r.c,l))}function Ze(r,l,_,R,O){return O.$c=r,O._c=l,O.ad=n,O.__elementTypeId$=_,O.__elementTypeCategory$=R,O}function qv(r,l,_){switch(_.e){case 2:r.b=l;break;case 1:r.c=l;break;case 4:r.d=l;break;case 3:r.a=l}}function U$(r,l,_){var R,O;return O=ZC(_).g,R=rN(r,l,O).a,R-Zq(z(Bn(r.c,l),24).a-z(Bn(r.c,_),24).a)}function li(r,l){return r<l?-1:r>l?1:r==l?0:isNaN(r)?isNaN(l)?0:1:-1}function Zm(r){switch(r.Y()){case 0:return m0;case 1:return new tc(r.mb().H());default:return new Xr(r)}}function Yg(){Yg=s;var r,l;l=!(Error.stackTraceLimit||"stack"in new Error),r=new Pp,_A=l?new d:r}function ES(){ES=s,nL=new Ut("intCoordinates",(dr(),dr(),Mr)),rL=new Vr("jsonObject"),$x=new Wt(0,0)}function Km(){Km=s,mL=new mw("MIRROR_X",0),yL=new mw("TRANSPOSE",1),vL=new mw("MIRROR_AND_TRANSPOSE",2)}function Cd(){Cd=s,hM=new Sw(ip,0),sb=new Sw("INCOMING_ONLY",1),H0=new Sw("OUTGOING_ONLY",2)}function kS(){return da(),Ze(Ke(pp,1),kt,60,0,[vu,ul,gc,pc,Vs,fl,ll,bs,Ys,cl,vc,_f,_h])}function Y$(){Y$=s;var r,l,_,R;for(wf=new $S(pp),l=kS(),_=0,R=l.length;_<R;++_)r=l[_],iC(wf,r,null)}function V$(r){jn();var l,_,R;for(R=1,_=r.mb();_.G();)l=_.H(),R=31*R+(l!=null?Ns(l):0),R=R|0;return R}function W$(r,l){$r();var _,R;for(__(l,"predicate"),R=0;r.G();R++)if(_=r.H(),l.D(_))return R;return-1}function CS(r,l){var _,R;return _=r.c.a,R=l.ac(_),r.b.b&&(R=Yc(R,yT(r,l,_))),r.b.c&&(R=Yc(R,mT(r,l,_))),R}function X$(r,l,_){var R,O;return R=new M_(l,_),O=new Yi,r.b=w5(r,r.b,R,O),O.b||++r.c,r.b.b=!1,O.d}function U_(r,l,_){var R,O,q;for(R=new qi,q=zn(_,0);q.b!=q.d.c;)O=z($n(q),10),Un(R,new qr(O));jz(r,l,R)}function SS(r,l){var _;return l===r?!0:yt(l,144)?(_=z(l,144),r.P().t(_.P())):!1}function Z$(r){var l;if(l=r.a.c.length,l>0)return bm(l-1,r.a.c.length),eh(r.a,l-1);throw new kg}function K$(r){r.b.c.length-r.e.c.length<0?(An(r,(ht(),Pt)),r.a.a=r.j.a):(An(r,(ht(),Ft)),r.a.a=0)}function Q$(r,l){pC(r>=0,"Negative initial capacity"),pC(l>=0,"Non-positive load factor"),Wo(this)}function ih(r){var l;this.e=r,this.d=new VC(this.e.e),this.a=this.d,this.b=yS(this),l=r[hf],this[hf]=l}function TS(){this.n=null,this.j=null,this.i=null,this.d=null,this.b=null,this.k=null,this.a=null}function Y_(r){var l,_,R,O;for(O=1,_=0,R=r.length;_<R;++_)l=r[_],O=31*O+(l!=null?Ns(l):0),O=O|0;return O}function Ai(r){var l,_,R,O;for(l={},R=0,O=r.length;R<O;++R)_=r[R],l[":"+(_.d!=null?_.d:""+_.e)]=_;return l}function J$(r){$2();var l,_,R,O;for(_=NS(),R=0,O=_.length;R<O;++R)if(l=_[R],MP(l.a,r))return l;return Ox}function eN(r,l,_){var R,O,q;for(O=0,q=_.length;O<q;++O)if(R=_[O],r.b.Uc(l,R.yb()))return R;return null}function tN(r,l,_){var R,O;for(O=_.mb();O.G();)if(R=z(O.H(),21),r.Uc(l,R.zb()))return!0;return!1}function AS(r,l){var _,R,O;for(O=r.b;O;){if(_=r.a.$b(l,O.d),_==0)return O;R=_<0?0:1,O=O.a[R]}return null}function Cz(r,l){var _,R;return _=z(Vf(r.a,l),19),_?(R=r.b.Z(),R.jb(_),r.b.c-=_.Y(),_.Q(),R):null}function nN(r,l,_){var R;for(R=z(l.B(r),9);R.g==(Ht(),rr);)!R.n&&(R.n=new kn),Vf(R.n,_),R=z(l.B(R),9)}function V_(r,l){var _;return Qa(r)&&Qa(l)&&(_=r-l,!isNaN(_))?_:r3(Qa(r)?Uc(r):r,Qa(l)?Uc(l):l)}function ji(r){var l;return yt(r,46)?r:(l=r&&r.__gwt$exception,l||(l=new LO(r),_I(l,r),bj(r,l)),l)}function Sz(r){var l,_,R;for(l=0,R=new xe(r.c);R.a<R.c.c.length;)_=z(Ee(R),226),l+=d5(r,_.a,_.b);return l}function Tz(r){var l;return l=new AO(r),Iv(r.a,FB,new vo(Ze(Ke($0,1),At,160,0,[l]))),l.d&&xt(l.f,l.d),l.f}function rN(r,l,_){switch(_.e){case 1:return z(Bn(r.d,l),24);case 3:return z(Bn(r.j,l),24)}return nn(0)}function iN(r,l,_){return r.d[l.k][_.k]||(LG(r,l,_),r.d[l.k][_.k]=!0,r.d[_.k][l.k]=!0),r.a[l.k][_.k]}function LS(r,l,_){var R;return R=l.$b(_,r.b),R<0?r.e?z(c7(LS(r.e,l,_),r),206):r:R==0?r:r.g?LS(r.g,l,_):null}function hs(r,l){return us(r)?Ts(r,l):fd(r)||hd(r)?(ti(r),r===l):a_(r)?r.t(l):(t_(r),r===l)}function Nr(r,l){return Ts(r.b,l)||Lj(r.b,l)&&(Et(),l.length==mv(r.b)||$P(r.b,mv(r.b)-l.length-1)==46)}function W_(r,l){var _,R,O;for(_=0,O=Zr(r,l).mb();O.G();)R=z(O.H(),7),_+=Se(R,(tt(),mu))!=null?1:0;return _}function Az(r,l){var _,R,O;for(R=null,O=r.b;O;)_=r.a.$b(l,O.d),_>=0?O=O.a[1]:(R=O,O=O.a[0]);return R}function Lz(r,l){var _,R,O;for(R=null,O=r.b;O;)_=r.a.$b(l,O.d),_<=0?O=O.a[0]:(R=O,O=O.a[1]);return R}function Mz(r,l,_,R){var O,q;for(q=r.mb();q.G();)O=z(q.H(),33),O.i.a=l.a+(R.a-O.j.a)/2,O.i.b=l.b,l.b+=O.j.b+_}function aN(r,l){var _;r.c.length!=0&&(_=z(jr(r,ot(hi,Aa,9,r.c.length,0,1)),51),qk(_,new Mt),h3(_,l))}function oN(r,l){var _;r.c.length!=0&&(_=z(jr(r,ot(hi,Aa,9,r.c.length,0,1)),51),qk(_,new We),h3(_,l))}function sN(r){var l,_;return l=r.g,l==(Ht(),yr)?(_=z(Se(r,(tt(),Ri)),32),_==(ht(),Yt)||_==Qt):!1}function Li(r,l){var _;return ti(l),_=r[":"+l],cD(!!_,"Enum constant undefined: %s",Ze(Ke(zt,1),At,1,4,[l])),_}function Iz(r,l,_){if(!r)throw new Gn(n0("lowerEndpoint (%s) > upperEndpoint (%s)",Ze(Ke(zt,1),At,1,4,[l,_])))}function MS(r){throw z_(),new rI("Unexpected typeof result '"+r+"'; please report this bug to the GWT team")}function X_(r){switch(r.e){case 1:return Qt;case 2:return Ft;case 3:return Yt;case 4:return Pt;default:return ii}}function uN(r){switch(r.e){case 2:return za;case 1:return Ao;case 4:return du;case 3:return Du;default:return ps}}function Rz(r){return r>=48&&r<58?r-48:r>=97&&r<97?r-97+10:r>=65&&r<65?r-65+10:-1}function Pz(r,l){var _,R;for(R=xD(wD(r.P()));R.b.G();)if(_=z(xI(R,R.b.H()),19),_.kb(l))return!0;return!1}function Dz(r){var l;if(!q$(r))throw new $a;return l=new YI(r.c,r.a),r.b=l,r.a.i==r.c.a?r.a=null:r.a=r.a.i,l}function Oz(r,l){Ar();var _;return r===l?!0:yt(l,57)?(_=z(l,57),M3(zl(r),_.bb())):!1}function $z(r,l,_,R){return mo(),aa(_,"oldCount"),aa(R,"newCount"),r.Cb(l)==_?(r.Gb(l,R),!0):!1}function Nz(r,l,_,R,O){return tn(_),tn(O),m8(new jC(r.c,G5(r.b,new my(r.d,!0,l,_,!1,null,(ss(),Bo))),r.a),R,O)}function IS(r){switch(wo(),r.Y()){case 0:return yd(),cp;case 1:return new Dc(r.mb().H());default:return new Ew(r)}}function mi(r,l){var _;return Qa(r)&&Qa(l)&&(_=r+l,j2<_&&_<Qc)?_:Fv(_z(Qa(r)?Uc(r):r,Qa(l)?Uc(l):l))}function cN(r,l){var _;return Qa(r)&&Qa(l)&&(_=r*l,j2<_&&_<Qc)?_:Fv(_V(Qa(r)?Uc(r):r,Qa(l)?Uc(l):l))}function Yc(r,l){var _;return Qa(r)&&Qa(l)&&(_=r-l,j2<_&&_<Qc)?_:Fv(xz(Qa(r)?Uc(r):r,Qa(l)?Uc(l):l))}function Fr(){Fr=s,ps=new uv(lh,0),za=new uv(rp,1),Ao=new uv(np,2),du=new uv("DOWN",3),Du=new uv("UP",4)}function rc(){rc=s,mx=new z1(lh,0),DA=new z1("POLYLINE",1),gh=new z1("ORTHOGONAL",2),vx=new z1("SPLINES",3)}function Qm(){Qm=s,bx=new dw("INHERIT",0),qA=new dw("INCLUDE_CHILDREN",1),jA=new dw("SEPARATE_CHILDREN",2)}function lN(){lN=s,s6=ha(Bc(new Lr,(bi(),Vx)),Jy),u6=fa(ha(wm(new Lr,Ux),Hx),N0),c6=fa(xo(new Lr,Yx),N0)}function fN(){fN=s,l6=ha(Bc(new Lr,(bi(),Vx)),Jy),f6=fa(ha(wm(new Lr,Ux),Hx),N0),h6=fa(xo(new Lr,Yx),N0)}function hN(r){this.a=new Fa,this.d=new Fa,this.b=new Fa,this.c=new Fa,this.g=new Fa,this.i=new Fa,this.f=r}function dN(r,l,_,R,O,q){this.e=new dt,this.f=(ni(),DE),xt(this.e,r),this.d=l,this.a=_,this.b=R,this.f=O,this.c=q}function Fz(r,l,_,R,O,q,H,W){var ee;for(ee=_;q<H;)ee>=R||l<_&&W.$b(r[l],r[ee])<=0?Po(O,q++,r[l++]):Po(O,q++,r[ee++])}function Bz(r,l,_,R,O){var q,H;for(H=r.mb();H.G();)q=z(H.H(),33),q.i.a=l.a,q.i.b=O?l.b:l.b+R.b-q.j.b,l.a+=q.j.a+_}function qz(r,l){Kw();var _,R;for(R=wn(Xv(r));vn(R);)if(_=z(cn(R),12),_.d.f==l||_.c.f==l)return _;return null}function Z_(r,l,_){var R,O,q;for(R=0,q=zn(r,0);q.b!=q.d.c&&(O=ct(Cn($n(q))),!(O>_));)O>=l&&++R;return R}function jz(r,l,_){var R,O,q,H;for(ti(_),H=!1,q=zn(r,l),O=zn(_,0);O.b!=O.d.c;)R=$n(O),Sv(q,R),H=!0;return H}function zz(r,l){var _,R,O;return l.V()?!1:(O=r.Y(),_=r.d.jb(l),_&&(R=r.d.Y(),r.f.c+=R-O,O==0&&vm(r)),_)}function ic(r,l){var _;return l&&(_=l.n?l.n:(jn(),jn(),ZM),_.V()||(r.n?C$(r.n,_):r.n=new kR(_))),r}function gN(r,l,_){var R;try{Ez(r,l,_)}catch(O){throw O=ji(O),yt(O,181)?(R=O,new R_(R)):zi(O)}return l}function Gz(r,l,_){var R;try{XH(r,l,_)}catch(O){throw O=ji(O),yt(O,181)?(R=O,new R_(R)):zi(O)}return l}function zi(r){var l;return yt(r,164)&&(l=z(r,164),Ot(l.b)!==Ot((Ct(),Oy)))?Ot(l.b)===Ot(Oy)?null:l.b:r}function Sd(r,l){var _;for(_=z(Se(Ea(r),(tt(),kf)),9);_;){if(_==l)return!0;_=z(Se(Ea(_),kf),9)}return!1}function Hz(r){switch(z(Se(r,(tt(),Nu)),140).e){case 1:et(r,Nu,(ou(),Zd));break;case 2:et(r,Nu,(ou(),Ch))}}function $s(r){switch(wo(),r.c){case 0:return yd(),cp;case 1:return new Dc(L3(new sd(r)));default:return new nI(r)}}function ri(r){ai();var l,_;for(l=0,_=r.length;l<_;l++)if(r[l]==null)throw new av("at index "+l);return new vo(r)}function Uz(r,l,_){return l.length==0||_.length==0?0:(r.e?r.b=new iI(r.c):r.b=new aI(r.c),r.b.Gc(l,_))}function pn(r){if(r.i==null)throw new Ic("The task has not begun yet.");r.b||(r.c<r.j&&p$(r,r.j-r.c),r.b=!0)}function K_(r,l){var _,R;for(R=new xe(l);R.a<R.c.c.length;)_=z(Ee(R),27),gi(r.b.b,_.b),X9(z(_.a,78),z(_.b,25))}function Yz(r,l){var _,R;for(R=new xe(r.a);R.a<R.c.c.length;)if(_=z(Ee(R),222),A$(_,l))return;xt(r.a,new LP(l))}function Vz(r){var l,_,R;for(l=new dt,R=new xe(r.b);R.a<R.c.c.length;)_=z(Ee(R),251),_r(l,z(_.Ac(),19));return l}function Wz(r,l){var _,R,O;for(O=new dt,R=Zr(r,l).mb();R.G();)_=z(R.H(),7),O.c[O.c.length]=_;return Oo(O,new Oa),O}function yi(r){var l,_,R;for(l=new dt,R=new xe(r.f);R.a<R.c.c.length;)_=z(Ee(R),7),xt(l,_.b);return tn(l),new cd(l)}function pr(r){var l,_,R;for(l=new dt,R=new xe(r.f);R.a<R.c.c.length;)_=z(Ee(R),7),xt(l,_.e);return tn(l),new cd(l)}function nn(r){var l,_;return r>-129&&r<128?(l=r+128,_=(aD(),WM)[l],!_&&(_=WM[l]=new g1(r)),_):new g1(r)}function RS(r){var l,_;for(l=p2(r.b,r.d),_=fi;_>l;){if(bS(r,r.d),l==0){_=0;break}mN(r),EN(r),_=l,l=p2(r.b,r.d)}r.c=_}function pN(){tT();var r,l,_;_=pX+++Tj(),r=Wr(Math.floor(_*J2))&wA,l=Wr(_-r*bA),this.a=r^1502,this.b=l^nx}function Ns(r){return us(r)?l2(r):fd(r)?Wr((ti(r),r)):hd(r)?bn((ti(r),r))?1231:1237:a_(r)?r.v():(t_(r),Ku(r))}function Xz(r,l,_){var R,O,q;O=new XN,O.d=_,R=bH(O,l),q=new yO,bn(ct(_n(Se(R,fL))))?Jj(q,R,new gm):q5(r,q,R),y4(O,R)}function vN(r,l,_,R){var O,q,H,W;for(W=new Bl(l,R),H=0,q=rf(W);q.G();)O=z(q.H(),7),Kn(r.i,O,nn(H++));Kn(_,l,nn(H))}function Zz(r,l){var _,R,O,q,H;for(_=0,H=0,O=0,q=l.length;O<q;++O)R=l[O],_=l5(r,_,R,(ht(),Pt),r.f),H=l5(r,H,R,Ft,r.n)}function Kz(r,l){var _,R,O,q;if(r.n)for(R=0,O=l.length;R<O;++R)_=l[R],q=Bn(r.n,_),q!=null&&(_.nc(),_.oc())}function Qz(r,l){var _,R,O;for(R=new xe(l);R.a<R.c.c.length;)_=z(Ee(R),75),O=JU(r.a),n$(r.a,O,_.k,_.j),Kg(_,O,!0)}function Jz(r,l){var _,R,O;for(R=new xe(l);R.a<R.c.c.length;)_=z(Ee(R),75),O=DU(r.a),n$(r.a,O,_.k,_.j),Kg(_,O,!0)}function Q_(r){var l,_;return _=z(Se(r,(pt(),vs)),59),_==(Fr(),ps)?(l=z(Se(r,(tt(),Kd)),15).a,l>=1?za:du):_}function vn(r){if(tn(r.b),r.b.G())return!0;for(;r.a.G();)if(tn(r.b=r.Wb(r.a.H())),r.b.G())return!0;return!1}function ah(r){return(r.d!=r.c.d||r.i!=r.g.d)&&(r.a.c=ot(zt,At,1,0,4,1),_r(r.a,r.c),_r(r.a,r.g),r.d=r.c.d,r.i=r.g.d),r.a}function Co(r){var l;if(r.b){if(Co(r.b),r.b.d!=r.c)throw new Oi}else r.d.V()&&(l=z(Bn(r.f.b,r.e),19),l&&(r.d=l))}function PS(r,l,_,R,O){var q,H,W,ee;for(ee=zm(r),kz(l,ee,R,O,_),q=0,W=new xe(ee);W.a<W.c.c.length;)H=z(Ee(W),9),r[q++]=H}function eG(r){var l,_,R;for(R=z(AI(r.a,(pt(),jd)),15).a,_=new xe(x3(r.a));_.a<_.c.c.length;)l=z(Ee(_),626),xW(r,l,R)}function Lr(){var r,l;for(this.a=new Ta(6),l=0;l<6;l++)xt(this.a,(r=z(Na(zB),11),new Xi(r,z(xa(r,r.length),11),0)))}function mN(r){var l,_,R;for(R=!1,_=0;_<r.d.length;_++)r.j=(l=new rT(r.e,r.d,_,0),new JS(_,r.d,l)),R=R|u$(r,_);return R}function tG(r,l,_){var R,O;for(O=r.a.c,R=O.c.length;R<_;R++)ql(O,0,new Hl(r.a));Ti(l,z($t(O,O.c.length-_),16)),r.b[l.k]=_}function yN(r,l){var _,R;for(_=zn(r,0);_.b!=_.d.c;){if(R=ct(Cn($n(_))),R==l)return;if(R>l){Av(_);break}}Sv(_,l)}function J_(r,l,_){var R;return R=aw(r.a,l),e7(r.a,l,_===void 0?null:_),R===void 0?(++r.c,Ww(r.b)):++r.d,R}function n2(r,l,_){return(l-r<=0?0-(l-r):l-r)<Jc||(_-r<=0?0-(_-r):_-r)<Jc?!0:l-r>Jc?r-_>Jc:_-r>Jc}function bN(r){switch(r.e){case 0:return vE;case 1:return ub;case 2:return mE;case 3:return yE;default:return bE}}function DS(r,l){switch(l.e){case 2:return r.b;case 1:return r.c;case 4:return r.d;case 3:return r.a;default:return!1}}function Jm(r){switch(ht(),r.e){case 4:return Yt;case 1:return Pt;case 3:return Qt;case 2:return Ft;default:return ii}}function r2(r,l){if(l==r.c)return r.d;if(l==r.d)return r.c;throw new Gn("Node "+l+" not part of edge "+r)}function nG(r,l){var _;return Ps(r.a,l)?z(Ps(r.a,l)?r.b[l.e]:null,62):(_=new T1,oa(r.a,l),c_(r,l.e,_),_)}function wN(r,l){var _,R,O,q;for(q=r.g.tb(),_=0;q.G();){if(R=ct(Cn(q.H())),O=R-l,O>ff)return _;O>Py&&++_}return _}function ey(r){var l,_,R,O;return _=(l=z(Na((R=r.$c,O=R.f,O==Vn?R:O)),11),new Xi(l,z(xa(l,l.length),11),0)),oa(_,r),_}function i2(r,l){var _,R;for(R=new xe(l);R.a<R.c.c.length;)_=z(Ee(R),27),xt(r.b.b,z(_.b,25)),Xm(z(_.a,78),z(_.b,25))}function rG(r,l,_,R){var O,q,H;for(O=l+1;O<_;++O)for(q=O;q>l&&R.$b(r[q-1],r[q])>0;--q)H=r[q],Po(r,q,r[q-1]),Po(r,q-1,H)}function iG(r){var l,_;if(!eu(z(Se(r,(pt(),en)),28)))for(_=new xe(r.f);_.a<_.c.c.length;)l=z(Ee(_),7),An(l,(ht(),ii))}function uu(r,l){switch(l.e){case 1:return cs(r.f,(oo(),gL));case 2:return cs(r.f,(oo(),pL));default:return jn(),jn(),gl}}function Jr(r,l){return LC(l,(pt(),KA))?Se(r.e,(tt(),Ia)):LC(l,gf)?Se(r.e,(tt(),wp)):Se(r.e,l)}function aG(r,l,_,R){var O,q,H;for(q=l,O=_-1;q<=O;){if(H=(q+O)/2|0,r[H]==R)return H;r[H]<R?q=H+1:O=H-1}return-q-1}function jv(r,l,_){var R,O;for(O=r.mb();O.G();)if(R=O.H(),Ot(l)===Ot(R)||l!=null&&hs(l,R))return _&&O.I(),!0;return!1}function _N(r,l,_){var R;return cD(l<=_,"%s > %s",Ze(Ke(zt,1),At,1,4,[nn(l),nn(_)])),R=r.length,_=_<R?_:R,VS(l,_,R),_-l}function xN(r,l){var _,R,O;_=r,O=0;do{if(_==l)return O;if(R=z(Se(_,(tt(),kf)),9),!R)throw new Ml;_=Ea(R),++O}while(!0)}function EN(r){var l,_,R;for(R=!1,_=r.d.length-1;_>=0;_--)r.j=(l=new rT(r.e,r.d,_,1),new JS(_,r.d,l)),R=R|u$(r,_);return R}function OS(r){this.f=(Ar(),new kn),this.n=new kn,this.k=new kn,this.g=new $i,this.i=new qN((er(),yF)),this.j=r,Zz(this,r)}function $S(r){var l;this.a=(l=z(r.e&&r.e(),11),new Xi(l,z(xa(l,l.length),11),0)),this.b=ot(zt,At,1,this.a.a.length,4,1)}function kN(r,l){var _;return l===r?!0:!yt(l,18)||(_=z(l,18),_.Y()!=r.Y())?!1:r.lb(_)}function a2(r){switch(da(),r.e){case 1:return vu;case 2:return gc;case 3:return Vs;case 4:return ll;default:return _h}}function CN(r,l){switch(l.e){case 1:return r.e.d;case 2:return r.e.c;case 3:return r.e.a;case 4:return r.e.b;default:return 0}}function NS(){return $2(),Ze(Ke(xB,1),kt,67,0,[wB,bB,_B,fB,lB,hB,pB,gB,dB,yB,mB,vB,uB,sB,cB,aB,iB,oB,nB,tB,rB,Ox])}function Vc(){Vc=s,vh=new cv(lh,0),gu=new cv("JUSTIFIED",1),QA=new cv("BEGIN",2),JA=new cv(My,3),eL=new cv("END",4)}function ac(){ac=s,Mx=new G1("PORTS",0),P0=new G1("PORT_LABELS",1),Lx=new G1("NODE_LABELS",2),R0=new G1("MINIMUM_SIZE",3)}function Ba(){Ba=s,O0=new vw("UNKNOWN",0),Us=new vw("ABOVE",1),Ou=new vw("BELOW",2),kB=new Ut("de.cau.cs.kieler.labelSide",O0)}function ty(){ty=s,YM=new Lw("EQUALLY_DISTRIBUTED",0),WE=new Lw("NORTH_STACKED",1),VM=new Lw("NORTH_SEQUENCE",2)}function oG(){Dy={},!Array.isArray&&(Array.isArray=function(r){return Object.prototype.toString.call(r)==="[object Array]"})}function sG(r,l){return Cg(),Cg(),((r-l>0?r-l:-(r-l))<=c0||r==l||isNaN(r)&&isNaN(l)?0:r<l?-1:r>l?1:IR(isNaN(r),isNaN(l)))>0}function FS(r,l){return Cg(),Cg(),((r-l>0?r-l:-(r-l))<=c0||r==l||isNaN(r)&&isNaN(l)?0:r<l?-1:r>l?1:IR(isNaN(r),isNaN(l)))<0}function o2(r){var l,_;for(r.d||cY(r),_=new Ci,l=r.b.mb(),l.H();l.G();)Un(_,z(l.H(),92).a);return Kt(_.b!=0),Cu(_,_.c.b),_}function SN(r){var l,_,R,O;for(O=new Fa,l=new Nc(r.c),vy(l),R=new xe(l);R.a<R.c.c.length;)_=z(Ee(R),7),O.a.db(_,O);return O}function uG(r,l){var _,R,O;for(tn(l),R=(O=r.g,z(O||(r.g=new fg(r)),20)).mb();R.G();)_=z(R.H(),21),an(l,_.zb(),_.yb());return l}function TN(r,l){var _,R,O;return yt(l,21)?(_=z(l,21),R=_.yb(),O=Gv(r.qb(),R),Kf(O,_.zb())&&(O!=null||r.qb().R(R))):!1}function BS(r,l){var _,R,O;for(O=r.g.tb();O.G();)if(_=ct(Cn(O.H())),R=_-l<=0?0-(_-l):_-l,R<ff)return O.L()-1;return r.g.Y()}function AN(r){var l,_;for(_=new xe(r.a);_.a<_.c.c.length;)if(l=z(Ee(_),9),l.g==(Ht(),Pr)||l.g==La)return!1;return!0}function xn(r,l,_){if(r.b)throw new Ic("The task is already done.");return r.i!=null?!1:(r.i=l,r.j=_,!0)}function cG(r,l){return r.f<l.f?-1:r.f>l.f?1:r.g<l.g?-1:r.g>l.g?1:r.b-l.b}function lG(r,l){if(l.c==r)return l.d;if(l.d==r)return l.c;throw new Gn("Input edge is not connected to the input port.")}function s2(r){var l;r.c!=0&&(l=z($t(r.a,r.b),128),l.b==1?(++r.b,r.b<r.a.c.length&&Xu(z($t(r.a,r.b),128))):--l.b,--r.c)}function Vg(r,l){return r.b.a=qn(r.b.a,l.c),r.b.b=qn(r.b.b,l.d),r.a.a=St(r.a.a,l.c),r.a.b=St(r.a.b,l.d),r.c[r.c.length]=l,!0}function fG(r,l,_){var R,O;return R=ct(r.n[l.f.k])+ct(r.d[l.f.k])+l.i.b+l.a.b,O=ct(r.n[_.f.k])+ct(r.d[_.f.k])+_.i.b+_.a.b,O-R}function LN(r,l,_,R){var O,q,H;return O=!1,UY(r.j,_,R)&&(Gq(r.j,r.d[l][_],r.d[l][R]),q=r.d[l],H=q[R],q[R]=q[_],q[_]=H,O=!0),O}function ny(r,l,_){var R,O,q,H,W;W=Ea(r),O=W.a,R=z(Se(W,(tt(),Xs)),15).a,q=W.d,H=r.i,l&&(H.a=H.a-O.b-R-q.a),_&&(H.b=H.b-O.d-R-q.b)}function MN(r,l){var _,R,O;for(R=wn(Xv(r));vn(R);)return _=z(cn(R),12),O=z(l.B(_),9),new sr(tn(O.i.b+O.j.b/2));return un(),un(),sx}function IN(r){var l,_,R,O,q;for(R=P2(r),l=Bs,q=0,O=0;l>.5&&q<50;)O=h5(R),_=oh(R,O,!0),l=Wi(_.b),++q;return oh(r,O,!1)}function RN(r){var l,_,R,O,q;for(R=P2(r),l=Bs,q=0,O=0;l>.5&&q<50;)O=f5(R),_=oh(R,O,!0),l=Wi(_.a),++q;return oh(r,O,!1)}function ry(r){var l,_,R;for(this.a=new Fa,this.e=new $i,this.f=0,_=0,R=r.length;_<R;++_)l=r[_],!this.g&&(this.g=l),Xm(this,l)}function PN(r){Nk(this),this.c=r.c,this.f=r.f,this.e=r.e,this.k=r.k,this.d=r.d,this.g=io(r.g),this.j=r.j,this.i=r.i,this.b=io(r.b)}function u2(r){switch(r.e){case 1:return Fr(),Du;case 4:return Fr(),Ao;case 2:return Fr(),za;case 3:return Fr(),du}return Fr(),ps}function DN(r,l){return HH(r,l)?(lr(r.g,l),!0):(l.g!=(ht(),ii)&&lr(r.i,l),l.e.c.length==0?lr(r.c,l):lr(r.b,l),!1)}function ON(r,l){var _,R;return Zl(0,r.c.length),_=h2(l,ot(zt,At,1,l.a.Y(),4,1)),R=_.length,R==0?!1:(fC(r.c,0,_),!0)}function c2(r,l){for(var _=0;!l[_]||l[_]=="";)_++;for(var R=l[_++];_<l.length;_++)!l[_]||l[_]==""||(R+=r+l[_]);return R}function hG(){var r;return Fy!=0&&(r=hj(),r-wF>2e3&&(wF=r,By=t.setTimeout(f7,10))),Fy++==0?($j((as(),IA)),!0):!1}function cu(r){var l,_;for(_=new xe(r.a.b);_.a<_.c.c.length;)l=z(Ee(_),25),l.j.d=-l.j.d-l.j.c,l.o&&(l.g.a=-l.g.a+l.o.j.c);xy(r)}function zv(r,l){var _;for(_=r;l.b<l.d.Y()&&_==r;)_=(Kt(l.b<l.d.Y()),z(l.d.sb(l.c=l.b++),7)).g;_==r||(Kt(l.b>0),l.a.sb(l.c=--l.b))}function dG(r){var l;la(z(Se(r,(pt(),en)),28))&&(l=r.c,a5((mr(0,l.c.length),z(l.c[0],16))),a5(z($t(l,l.c.length-1),16)))}function $N(r,l,_){xn(_,"Compound graph preprocessor",1),r.a=new fv,U5(r,l,null),fV(r,l),et(l,(tt(),LM),r.a),r.a=null,Wo(r.b),pn(_)}function NN(r){var l,_;return l=z(cn(wn(yi(r))),12),_=z(cn(wn(pr(r))),12),!bn(ct(_n(Se(l,(tt(),Fu)))))||!bn(ct(_n(Se(_,Fu))))}function gG(r,l,_){l.g==(Ht(),Pr)&&_.g==rr&&(r.d=W_(l,(ht(),Qt)),r.b=W_(l,Yt)),_.g==Pr&&l.g==rr&&(r.d=W_(_,(ht(),Yt)),r.b=W_(_,Qt))}function pG(r,l,_){var R,O,q,H;return q=l.g,H=_.g,q!=H?q.e-H.e:(R=r.a[l.k],O=r.a[_.k],!R&&!O?0:R?O?li(R.a,O.a):1:-1)}function vG(r,l,_,R){var O,q,H,W;for(q=l,O=_-1;q<=O;)if(H=q+O>>>1,W=r[H],W<R)q=H+1;else if(W>R)O=H-1;else return H;return-(q+1)}function mG(r){return yt(r,137)?(jn(),new Yk(z(r,137))):yt(r,18)?(jn(),new qf(z(r,18))):yt(r,20)?$C(z(r,20)):(jn(),new Vu(r))}function FN(r,l,_){return yt(_,137)?new Zk(r,l,z(_,137)):yt(_,18)?new Xk(r,l,z(_,18)):yt(_,20)?HC(r,l,z(_,20),null):new Pv(r,l,_,null)}function Wg(r,l){var _;_=r.ub(l);try{return _.H()}catch(R){throw R=ji(R),yt(R,74)?new As("Can't get element "+l):zi(R)}}function Gv(r,l){Ar(),tn(r);try{return r.cb(l)}catch(_){if(_=ji(_),yt(_,119))return null;if(yt(_,76))return null;throw zi(_)}}function yG(r,l){var _=r.a,R;l=String(l),_.hasOwnProperty(l)&&(R=_[l]);var O=(z_(),hx)[typeof R],q=O?O(R):MS(typeof R);return q}function BN(r,l,_,R){l<_?(r.b=.5*(l+_),r.p=ex*r.b+.9*l,r.a=ex*r.b+.9*_):(r.b=.5*(l+R),r.p=ex*r.b+.9*R,r.a=ex*r.b+.9*l)}function qN(r){BI.call(this,r),this.b=new my(r,!1,null,(ss(),Bo),!1,null,Bo),this.a=new Wm(null,1),Vb(this.a,this.a),this.c=new M}function iy(r){switch(ck(),this.c=new dt,this.d=r,r.e){case 0:case 2:this.a=O8(hL),this.b=ya;break;case 3:case 1:this.a=hL,this.b=Ii}}function Fs(){Fs=s,dx=new Lg("AUTOMATIC",0),zy=new Lg(np,1),Gy=new Lg(rp,2),Hy=new Lg("TOP",3),qy=new Lg("BOTTOM",4),jy=new Lg(My,5)}function l2(r){LR();var l,_,R;return _=":"+r,R=xb[_],R!==void 0?R:(R=eI[_],l=R===void 0?ZH(r):R,u8(),xb[_]=l,l)}function bG(r,l,_,R,O,q,H){wo();var W,ee;return ee=H.length+6,W=new Ta(ee),Bv(W,Ze(Ke(zt,1),At,1,4,[r,l,_,R,O,q])),Bv(W,H),n3(new xe(W))}function wG(r){var l;l=z(Se(r,(pt(),to)),18),!l.V()&&(l.kb((sc(),Ga))?(l.nb(Ga),l.ib(Ua)):l.kb(Ua)&&(l.nb(Ua),l.ib(Ga)))}function _G(r){var l;l=z(Se(r,(pt(),to)),18),!l.V()&&(l.kb((sc(),fo))?(l.nb(fo),l.ib(co)):l.kb(co)&&(l.nb(co),l.ib(fo)))}function xG(r,l){var _,R,O,q;return O=r.g,_=ct(Cn(Se(r,(tt(),yc)))),q=l.g,R=ct(Cn(Se(l,yc))),q!=(Ht(),yr)?-1:O!=yr?1:_==R?0:_<R?-1:1}function EG(r,l,_){var R,O;return R=Rc(Fl(r,l.d),Fl(r,l.c)),O=Vi(Fl(r,l.d),Fl(r,l.c)),xd(CS(Nz(_,nn(R),(ss(),Bo),nn(O),Bo),(om(),cx)))}function jN(r,l){Ar(),tn(r);try{return r.R(l)}catch(_){if(_=ji(_),yt(_,119))return!1;if(yt(_,76))return!1;throw zi(_)}}function zN(r,l){Is(),tn(r);try{return GC(r,l)}catch(_){if(_=ji(_),yt(_,119))return!1;if(yt(_,76))return!1;throw zi(_)}}function kG(r,l){return r.e<l.e?-1:r.e>l.e?1:r.f<l.f?-1:r.f>l.f?1:Ku(r)-Ku(l)}function GN(r){switch(r.e){case 1:return ht(),Ft;case 4:return ht(),Yt;case 3:return ht(),Pt;case 2:return ht(),Qt;default:return ht(),ii}}function HN(r){var l,_;switch(l=u_(r.c,r.c.length),l.length){case 0:return m0;case 1:return _=new tc(l[0]),_;default:return new Xr(ri(l))}}function CG(r){var l,_,R,O;for(R=ot(VW,At,64,r.c.length,0,1),O=0,_=new xe(r);_.a<_.c.c.length;)l=z(Ee(_),64),R[O++]=l;return new Lb(R)}function UN(r){var l,_;if(!r.b)for(r.b=Nl(r.a.b.c.length),_=new xe(r.a.b);_.a<_.c.c.length;)l=z(Ee(_),33),xt(r.b,new gg(l));return r.b}function Td(r,l){var _,R,O;if(r.e)return 1;for(_=0,O=new xe(l.f);O.a<O.c.c.length;)R=z(Ee(O),7),_+=R.b.c.length+R.e.c.length;return _}function YN(r){var l,_,R,O;for(l=!1,O=!1,R=new xe(r.f);R.a<R.c.c.length;)_=z(Ee(R),7),l=l|_.g==(ht(),Pt),O=O|_.g==Ft;return l&&O}function VN(r){var l,_;for(this.b=new dt,this.c=r,this.a=!1,_=new xe(r.b);_.a<_.c.c.length;)l=z(Ee(_),9),this.a=this.a|l.g==(Ht(),Pr)}function No(r){Vk.call(this),this.g=(Ht(),Pr),this.f=(aa(6,uf),new Ta(6)),this.c=(aa(2,uf),new Ta(2)),this.e=new lg,this.b=new lg,this.a=r}function qS(r,l,_,R,O,q){Nk(this),this.e=r,this.f=l,this.d=_,this.c=R,this.g=O,this.b=q,this.j=ct(Cn(O.mb().H())),this.i=ct(Cn(o$(O)))}function SG(r,l){if(r==null)throw new av("null key in entry: null="+l);if(l==null)throw new av("null value in entry: "+r+"=null")}function WN(){WN=s,_6=Cv(new Lr,(bi(),gp)),ib=new Ut("linearSegments.inputPrio",nn(0)),ab=new Ut("linearSegments.outputPrio",nn(0))}function jS(r){var l,_,R,O;for(_=(O=new Df(r.b).a.bb().mb(),new Hh(O));_.a.G();)l=(R=z(_.a.H(),21),z(R.zb(),19)),l.Q();Wo(r.b),r.c=0}function zn(r,l){var _,R;if(Zl(l,r.b),l>=r.b>>1)for(R=r.c,_=r.b;_>l;--_)R=R.b;else for(R=r.a.a,_=0;_<l;++_)R=R.a;return new GP(r,l,R)}function Kl(r,l){var _,R,O;for(O=new Ni,R=r.mb();R.G();)_=z(R.H(),55),i0(_,O.a,0),O.a+=_.e.a+l,O.b=St(O.b,_.e.b);return O.b>0&&(O.b+=l),O}function ay(r,l){var _,R,O;for(O=new Ni,R=r.mb();R.G();)_=z(R.H(),55),i0(_,0,O.b),O.b+=_.e.b+l,O.a=St(O.a,_.e.a);return O.a>0&&(O.a+=l),O}function Hv(r,l,_){var R,O,q;return O=z(Bn(r.c,l),176),O?(q=oC(O,_),sP(r,O),q):(R=new hC(r,l,_),Kn(r.c,l,R),VD(R),null)}function TG(r,l){return TU(r.b).kb(l.c)?i8(r.b)?!(Qw(l.d,r.c,r.a)&&Qw(l.a,r.c,r.a)):Qw(l.d,r.c,r.a)&&Qw(l.a,r.c,r.a):!1}function AG(r,l){return r.c<l.c||r.c==l.c&&h_(r.a)&&h_(l.a)&&Fl(r.d,Nw(r.a,r.b))>Fl(r.d,Nw(l.a,l.b))?-1:r.c==l.c&&Nw(r.a,r.b)==Nw(r.a,r.b)?0:1}function LG(r,l,_){if(r.e)switch(r.b){case 1:U9(r.c,l,_);break;case 0:H9(r.c,l,_)}else F8(r.c,l,_);r.a[l.k][_.k]=r.c.i,r.a[_.k][l.k]=r.c.e}function MG(r,l,_){switch(_.e){case 1:r.a=l.a/2,r.b=0;break;case 2:r.a=l.a,r.b=l.b/2;break;case 3:r.a=l.a/2,r.b=l.b;break;case 4:r.a=0,r.b=l.b/2}}function zS(r){switch(r.e){case 8:return ht(),Yt;case 9:return ht(),Qt;case 10:return ht(),Pt;case 11:return ht(),Ft;default:return ht(),ii}}function IG(r){var l,_,R;for(l="Ot",R=Rc(r.length,5),_=0;_<R;_++)if(Ts(r[_].d,l)){r.length>=_+1&&r.splice(0,_+1);break}return r}function f2(r,l){return us(r)?!!fF[l]:r._c?!!r._c[l]:fd(r)?!!lF[l]:hd(r)?!!cF[l]:!1}function XN(){ES(),this.i=(Ar(),new kn),this.a=new kn,this.k=new kn,this.j=new kn,this.b=new kn,this.n=new kn,this.f=new kn,this.e=new kn}function RG(r,l){var _,R;l.a.R(r)||(R=z(Se(r,(tt(),Ri)),32),_=z($t(r.f,0),7),R==(ht(),Yt)?An(_,Qt):R==Qt&&An(_,Yt),l.a.db(r,l))}function ZN(r){var l,_;return _=Vi(1,z(Se(r,(tt(),Go)),24).a),r.c.f.g==(Ht(),Pr)&&r.d.f.g==Pr?l=1:r.c.f.g==Pr||r.d.f.g==Pr?l=2:l=8,_*l}function PG(r){var l,_,R,O,q;for(q=z(Se(r,(tt(),Jt)),7),l=z(jr(r.b,ot(Va,ja,12,r.b.c.length,0,1)),47),R=0,O=l.length;R<O;++R)_=l[R],gr(_,q)}function DG(r){var l,_,R,O,q;for(_=z(Se(r,(tt(),Jt)),7),l=z(jr(r.e,ot(Va,ja,12,r.e.c.length,0,1)),47),O=0,q=l.length;O<q;++O)R=l[O],Ir(R,_)}function KN(r){var l,_;_=r.i,l=ur(new Wt(_.a,_.b),r.j),this.d=qn(_.b,l.b),this.a=St(_.b,l.b),this.b=qn(_.a,l.a),this.c=St(_.a,l.a)}function Ad(r,l,_,R){var O,q,H,W;!R&&(R=(Gf(),Gf(),Ah)),O=(q=_N(r,l,_),H=(W=new Array(_-l),Dv(W,r)),g2(r,l,H,0,q,!0),H),uT(O,r,l,_,-l,R)}function jr(r,l){var _,R,O;for(O=r.c.length,l.length<O&&(l=(R=new Array(O),Dv(R,l))),_=0;_<O;++_)Po(l,_,r.c[_]);return l.length>O&&Po(l,O,null),l}function QN(r,l){var _,R,O;for(O=r.a.length,l.length<O&&(l=(R=new Array(O),Dv(R,l))),_=0;_<O;++_)Po(l,_,r.a[_]);return l.length>O&&Po(l,O,null),l}function so(r){return us(r)?r:fd(r)?$I((ti(r),r)):hd(r)?QR(bn((ti(r),r))):a_(r)?r.w():t_(r)?GD(r):r.toString?r.toString():"[JavaScriptObject]"}function OG(r){var l,_,R,O,q;for(q=0,_=r.b,R=0,O=_.length;R<O;++R)l=_[R],l.g==(Ht(),rr)||Kn(r.c,l,nn(q++)),vN(r,l,r.d,(ht(),Yt)),vN(r,l,r.j,Qt)}function oy(){oy=s,lM=new hv("SIMPLE",0),sM=new hv(Q2,1),uM=new hv("LINEAR_SEGMENTS",2),oE=new hv("BRANDES_KOEPF",3),cM=new hv(eF,4)}function qa(){qa=s,Th=new gv(ip,0),K0=new gv("FIRST",1),dl=new gv("FIRST_SEPARATE",2),Ep=new gv("LAST",3),bc=new gv("LAST_SEPARATE",4)}function sy(){sy=s,ob=new a1,B6=ha(new Lr,(bi(),Xy)),q6=fa(ha(new Lr,tb),eb),N6=fa(xo(ha(wm(new Lr,Zy),Qy),Xd),Ky),F6=fa(xo(new Lr,Xd),Wy)}function $G(r){var l,_,R,O;for(_=(O=new Dn(r.d.a).a.bb().mb(),new Fn(O));_.a.G();)l=(R=z(_.a.H(),21),z(R.yb(),12)),xt(l.c.e,l),xt(l.d.b,l)}function GS(r,l){var _,R;if(NR(l>0),(l&-l)==l)return Wr(l*sh(r,31)*4656612873077393e-25);do _=sh(r,31),R=_%l;while(_-R+(l-1)<0);return Wr(R)}function NG(r,l){if(r.c.f==l)return r.d.f;if(r.d.f==l)return r.c.f;throw new Gn("Node "+l+" is neither source nor target of edge "+r)}function FG(r,l,_){return NR(r>=0&&r<=1114111),r>=o0?(l[_++]=55296+(r-o0>>10&1023)&fu,l[_]=56320+(r-o0&1023)&fu,2):(l[_]=r&fu,1)}function BG(r,l){$r();for(var _,R;r.G();)if(!l.G()||(_=r.H(),R=l.H(),!(Ot(_)===Ot(R)||_!=null&&hs(_,R))))return!1;return!l.G()}function qG(r){var l,_,R;for(N1(r.b.a),r.a=ot(Vy,At,25,r.c.b.a.b.c.length,0,1),l=0,R=new xe(r.c.b.a.b);R.a<R.c.c.length;)_=z(Ee(R),25),_.k=l++}function jG(r){var l,_,R,O;for(Oo(r.c,r.a),O=new xe(r.c);O.a<O.c.c.length;)for(R=Ee(O),_=new xe(r.b);_.a<_.c.c.length;)l=z(Ee(_),160),l.Ec(R)}function Uv(r){var l,_;if(!r.a)for(r.a=Nl(z(r.e,9).c.c.length),_=new xe(z(r.e,9).c);_.a<_.c.c.length;)l=z(Ee(_),33),xt(r.a,new gg(l));return r.a}function Yv(r){var l,_;if(!r.b)for(r.b=Nl(z(r.e,7).c.c.length),_=new xe(z(r.e,7).c);_.a<_.c.c.length;)l=z(Ee(_),33),xt(r.b,new gg(l));return r.b}function JN(r){this.b=r,this.c=(Ar(),new kn),this.i=new kn,this.d=new kn,this.j=new kn,this.k=Ot(Se(Ea(r[0]),(pt(),ph)))===Ot((rc(),gh)),OG(this)}function Xg(r){switch(r.e){case 1:return 4.71238898038469;default:case 2:return 0;case 3:return 1.5707963267948966;case 4:return 3.141592653589793}}function HS(r){$r();var l;if(l=mj(r),!vn(r))throw new As("position (0) must be less than the number of elements that remained ("+l+")");return cn(r)}function US(r,l){var _,R;_=r.ub(l);try{return R=_.H(),_.I(),R}catch(O){throw O=ji(O),yt(O,74)?new As("Can't remove element "+l):zi(O)}}function h2(r,l){var _,R,O,q;for(q=r.Y(),l.length<q&&(l=(O=new Array(q),Dv(O,l))),R=r.mb(),_=0;_<q;++_)Po(l,_,R.H());return l.length>q&&Po(l,q,null),l}function Ld(r,l,_){if(_&&(l<0||l>_.a.c.length))throw new Gn("index must be >= 0 and <= layer node count");r.d&&gi(r.d.a,r),r.d=_,_&&ql(_.a,l,r)}function YS(r,l,_,R,O,q,H,W){var ee,ae;R&&(ee=R.a[0],ee&&YS(r,l,_,ee,O,q,H,W),XG(r,_,R.d,O,q,H,W)&&l.ib(R),ae=R.a[1],ae&&YS(r,l,_,ae,O,q,H,W))}function VS(r,l,_){if(r<0)throw new As(C4+r+" < 0");if(l>_)throw new As("toIndex: "+l+" > size "+_);if(r>l)throw new Gn(C4+r+" > toIndex: "+l)}function d2(r,l){var _,R,O;return _=l.yb(),O=l.zb(),R=r.cb(_),!(!(Ot(O)===Ot(R)||O!=null&&hs(O,R))||R==null&&!r.R(_))}function zG(r,l,_){var R;R=l.c.f,R.g==(Ht(),rr)?(et(r,(tt(),Ma),z(Se(R,Ma),7)),et(r,wa,z(Se(R,wa),7))):(et(r,(tt(),Ma),l.c),et(r,wa,_.d))}function GG(r,l,_){var R;R=l.c.f,R.g==(Ht(),rr)?(et(r,(tt(),Ma),z(Se(R,Ma),7)),et(r,wa,z(Se(R,wa),7))):(et(r,(tt(),Ma),l.c),et(r,wa,_.d))}function WS(r,l,_){var R,O,q,H,W;for(Fj(r),O=(r.i==null&&(r.i=ot(YW,wi,46,0,0,1)),r.i),q=0,H=O.length;q<H;++q)R=O[q],WS(R);W=r.e,W&&WS(W)}function e3(r,l){var _=new Array(l),R;switch(r){case 11:case 12:R=0;break;case 13:R=!1;break;default:return _}for(var O=0;O<l;++O)_[O]=R;return _}function HG(r){var l,_,R,O;for(O=ot(hi,wi,51,r.a.length,0,2),_=0;_<O.length;_++)R=r.a[_].length,l=ot(hi,Aa,9,R,0,1),eV(r.a[_],0,l,0,R),O[_]=l;return O}function Wc(r){var l,_;if(!r.b)for(r.b=Nl(z(r.e,9).f.c.length),_=new xe(z(r.e,9).f);_.a<_.c.c.length;)l=z(Ee(_),7),xt(r.b,new JI(l,r.c));return r.b}function UG(r,l){Ar(),tn(r);try{return us(l)?ID(r,l):S2(r.d,l)}catch(_){if(_=ji(_),yt(_,119))return null;if(yt(_,76))return null;throw zi(_)}}function YG(r){var l;return l=(h$(),Aq),l[r>>>28]|l[r>>24&15]<<4|l[r>>20&15]<<8|l[r>>16&15]<<12|l[r>>12&15]<<16|l[r>>8&15]<<20|l[r>>4&15]<<24|l[r&15]<<28}function VG(r,l,_){var R,O;return l.c==(ni(),Ki)&&_.c==Ra?-1:l.c==Ra&&_.c==Ki?1:(R=xN(l.a,r.a),O=xN(_.a,r.a),l.c==Ki?O-R:R-O)}function WG(r){var l,_,R,O,q;for(O=fi,q=null,R=new xe(r.d);R.a<R.c.c.length;)_=z(Ee(R),89),_.c.j^_.d.j&&(l=_.d.e-_.c.e-_.a,l<O&&(O=l,q=_));return q}function XG(r,l,_,R,O,q,H){var W,ee;return!(l.Xc()&&(ee=r.a.$b(_,R),ee<0||!O&&ee==0)||l.Yc()&&(W=r.a.$b(_,q),W>0||!H&&W==0))}function n3(r){wo();var l,_;if(!r.G())return yd(),cp;if(_=r.H(),!r.G())return new Dc(_);l=new Fa,lr(l,tn(_));do lr(l,tn(r.H()));while(r.G());return IS(l)}function ZG(r,l,_){r.e=l,r.a=_,r.d=q_(r,(ht(),Pt)),r.d+=q_(r,Ft),Qv(r,l,_,Pt,r.f),Qv(r,l,_,Ft,r.n),r.b=q_(r,Pt),r.b+=q_(r,Ft),Qv(r,_,l,Pt,r.f),Qv(r,_,l,Ft,r.n)}function Ql(r){var l,_,R;for(_=(Et(),r.length),R=0;R<_&&r.charCodeAt(R)<=32;)++R;for(l=_;l>R&&r.charCodeAt(l-1)<=32;)--l;return R>0||l<_?r.substr(R,l-R):r}function g2(r,l,_,R,O,q){var H,W,ee;for(Ot(r)===Ot(_)&&(r=r.slice(l,l+O),l=0),W=l,ee=l+O;W<ee;)H=W+1e4<ee?W+1e4:ee,O=H-W,aj(_,R,q?O:0,r.slice(W,H)),W=H,R+=O}function KG(r){var l,_,R;return r3(r,(Hm(),RA))<0?-Y7((l=~r.l+1&Fo,_=~r.m+(l==0?1:0)&Fo,R=~r.h+(l==0&&_==0?1:0)&Kc,Fc(l,_,R))):r.l+r.m*ch+r.h*Qc}function QG(r,l){var _;switch(_=r.f,l.e){case 1:return-(r.i.b+r.j.b);case 2:return r.i.a-_.j.a;case 3:return r.i.b-_.j.b;case 4:return-(r.i.a+r.j.a)}return 0}function Rr(){Rr=s,rl=new Ig(lh,0),ys=new Ig("FREE",1),M0=new Ig("FIXED_SIDE",2),Gd=new Ig("FIXED_ORDER",3),Gs=new Ig("FIXED_RATIO",4),Zi=new Ig("FIXED_POS",5)}function JG(r,l){var _,R,O,q;for(_=z(Se(l,(tt(),Sh)),18),q=z(So(hn,_),18),O=q.mb();O.G();)if(R=z(O.H(),18),!z(So(r.a,R),20).V())return!1;return!0}function XS(r,l,_){this.b=new Vw,this.i=new dt,this.d=new Mb(this),this.g=r,this.a=l.c.length,this.c=l,this.e=z($t(this.c,this.c.c.length-1),9),this.f=_,ZY(this)}function uy(){uy=s,ub=new dv("ALWAYS_UP",0),vE=new dv("ALWAYS_DOWN",1),yE=new dv("DIRECTION_UP",2),mE=new dv("DIRECTION_DOWN",3),bE=new dv("SMART",4)}function r3(r,l){var _,R,O,q,H,W,ee,ae;return ee=r.h>>19,ae=l.h>>19,ee!=ae?ae-ee:(O=r.h,W=l.h,O!=W?O-W:(R=r.m,H=l.m,R!=H?R-H:(_=r.l,q=l.l,_-q)))}function i3(r){var l,_,R,O;for(_=(O=new Dn(r.p.a).a.bb().mb(),new Fn(O));_.a.G();)if(l=(R=z(_.a.H(),21),z(R.yb(),89)),l.e&&r.b[l.b]<0)return l;return null}function Vv(r,l){var _,R,O,q,H;R=qn(r.d,l.d),q=qn(r.e,l.e),O=St(r.d+r.c,l.d+l.c),H=St(r.e+r.b,l.e+l.b),O<R&&(_=R,R=O,O=_),H<q&&(_=q,q=H,H=_),NP(r,R,q,O-R,H-q)}function fy(r,l){var _;if(G2 in r.a){if(_=kr(r,G2),!_.kc())throw new nu("The 'properties' property of a graph element must be an object.",_,r);b3(_.kc(),l,!0)}}function eH(r,l){var _,R,O;if(R=r.b.j.e,r.a||(R+=r.b.j.b),O=l.b.j.e,l.a||(O+=l.b.j.b),_=li(R,O),_==0){if(!r.a&&l.a)return-1;if(!l.a&&r.a)return 1}return _}function ZS(r){var l,_;switch(z(Se(Ea(r),(Ln(),zE)),174).e){case 0:return l=r.i,_=r.j,new Wt(l.a+_.a/2,l.b+_.b/2);case 1:return new qr(r.i);default:return null}}function Br(){oo(),Vk.call(this),this.g=(ht(),ii),this.a=new Ni,this.d=new lg,this.c=(aa(2,uf),new Ta(2)),this.b=(aa(4,uf),new Ta(4)),this.e=(aa(4,uf),new Ta(4))}function tH(r,l,_){r.d=0,r.b=0,IU(r,l,_),l.g==(Ht(),Kr)&&_.g==rr?L_(l).g==(ht(),Yt)?r.d=1:r.b=1:_.g==Kr&&l.g==rr&&(L_(_).g==(ht(),Yt)?r.b=1:r.d=1),gG(r,l,_)}function nH(r,l){var _,R;for(R=new xe(l);R.a<R.c.c.length;)_=z(Ee(R),9),r.a[_.d.k][_.k].a=uz(r.e),r.a[_.d.k][_.k].d=ct(r.a[_.d.k][_.k].a),r.a[_.d.k][_.k].b=1}function rH(r,l,_){var R,O,q;for(q=new xe(l);q.a<q.c.c.length;)R=z(Ee(q),9),r.a[R.d.k][R.k].e=!1;for(O=new xe(l);O.a<O.c.c.length;)R=z(Ee(O),9),GT(r,R,_)}function iH(r,l){var _,R,O,q;for(_=0,R=0,q=new xe(l.b);q.a<q.c.c.length;)O=z(Ee(q),33),_=St(_,O.j.a),R+=O.j.b;et(l,(tt(),wq),new Wt(_,R)),r.k<_&&(r.k=_),r.j+=R}function a3(r,l){this.c=(Ar(),new kn),this.a=r,this.b=l,this.d=z(Se(r,(tt(),Cf)),134),Ot(Se(r,(Ln(),$E)))===Ot((Ov(),uE))?this.e=new Zb:this.e=new Xb}function p2(r,l){var _,R,O,q;for(O=0,R=0;R<l.length;R++)_=l[R],R<l.length-1&&(q=l[R+1],O+=Uz(r,_,q)),O+=(r.d=new JN(_),zH(r.d)),O+=(r.a=new OS(_),o8(r.a));return O}function KS(r){switch(r.c.e){case 1:return oo(),jx;case 2:return oo(),qx;case 3:return oo(),zx;case 4:return oo(),Gx}throw new Kh("Can't filter on undefined side")}function hy(r,l){var _;try{return _=r.c.a,!xv(r.b,l)||!_?0:mS(_,r.d,l)}catch(R){if(R=ji(R),yt(R,119))return 0;if(yt(R,76))return 0;throw zi(R)}}function aH(r){var l,_,R,O,q;for(R=new ih(new rs(r.b).a);R.b;)_=Ug(R),l=z(_.yb(),9),q=z(z(_.zb(),27).a,9),O=z(z(_.zb(),27).b,10),ur(Eu(l.i),ur(Ro(q.i),O))}function oH(r,l,_){var R,O,q;if(R=li(r.a[l.k],r.a[_.k]),R==0){if(O=z(Se(l,(tt(),Qd)),20),q=z(Se(_,Qd),20),O.kb(_))return-1;if(q.kb(l))return 1}return R}function sH(r,l){var _,R;switch(R=ur(Ro(r.i),r.a),_=r.f.j,l.e){case 1:return-R.b;case 2:return-R.a+_.a;case 3:return-R.b+_.b;case 4:return-R.a;default:return 0}}function o3(r,l){var _,R,O,q;for(O=0;O<l.length;O++)for(O+1<l.length&&XC(r,l[O+1],(ni(),Ra)),q=l[O],_=0,R=0;R<q.length;R++)zW(r,q[R]),_+=r.Hc(q[R],_,(ni(),Ki))}function QS(){QS=s,uq=xo(xo(Bc(new Lr,(bi(),GL)),zL),HL),iq=fa(xo(ha(wm(new Lr,Zy),Qy),Xd),Ky),oq=ha(new Lr,Xy),sq=fa(ha(new Lr,tb),eb),aq=fa(xo(new Lr,Xd),Wy)}function uH(r,l,_,R){lI();var O=ix;function q(){for(var H=0;H<O.length;H++)O[H]()}if(r)try{kb(q)()}catch(H){r(l,H)}else kb(q)()}function dy(r){if(xA==null&&(xA=/^\s*[+-]?(NaN|Infinity|((\d+\.?\d*)|(\.\d+))([eE][+-]?\d+)?[dDfF]?)\s*$/),!d7(xA,r))throw new F1(F2+r+'"');return parseFloat(r)}function Wv(){Wv=s,_E=new Og(ip,0),gM=new Og("LEFTUP",1),vM=new Og("RIGHTUP",2),dM=new Og("LEFTDOWN",3),pM=new Og("RIGHTDOWN",4),wE=new Og("BALANCED",5)}function Zg(){Zg=s,gE=new Dg("V_TOP",0),dE=new Dg("V_CENTER",1),hE=new Dg("V_BOTTOM",2),lE=new Dg("H_LEFT",3),cE=new Dg("H_CENTER",4),fE=new Dg("H_RIGHT",5)}function gy(){gy=s,yx=new Mg(ip,0),NA=new Mg("DIRECTED",1),BA=new Mg("UNDIRECTED",2),OA=new Mg("ASSOCIATION",3),FA=new Mg("GENERALIZATION",4),$A=new Mg("DEPENDENCY",5)}function Ht(){Ht=s,Pr=new Rg("NORMAL",0),rr=new Rg("LONG_EDGE",1),yr=new Rg("EXTERNAL_PORT",2),Kr=new Rg("NORTH_SOUTH_PORT",3),jo=new Rg("LABEL",4),La=new Rg("BIG_NODE",5)}function s3(r,l,_,R,O,q,H){var W,ee,ae,ce,fe;if(ce=O[q],ae=q==H-1,W=ae?R:0,fe=e3(W,ce),R!=9&&Ze(Ke(r,H-q),l[q],_[q],W,fe),!ae)for(++q,ee=0;ee<ce;++ee)fe[ee]=s3(r,l,_,R,O,q,H);return fe}function Xv(r){var l,_,R;for(l=new dt,R=new xe(r.f);R.a<R.c.c.length;)_=z(Ee(R),7),xt(l,yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[_.b,_.e]))))));return tn(l),new cd(l)}function JS(r,l,_){if(this.a=_,r>=l.length)throw new As("Greedy SwitchDecider: Free layer layer not in graph.");this.b=l[r],this.c=new SP(this.b),this.d=new I$(this.b)}function u3(r,l){var _;if(this.f=r,this.b=this.f.c,_=r.d,S_(l,_),l>=(_/2|0))for(this.e=r.e,this.d=_;l++<_;)oO(this);else for(this.c=r.a;l-- >0;)aO(this);this.a=null}function Jl(r){var l,_,R;for(_=new xe(r.a.b);_.a<_.c.c.length;)l=z(Ee(_),25),R=l.j.d,l.j.d=l.j.e,l.j.e=R,R=l.j.c,l.j.c=l.j.b,l.j.b=R,R=l.g.a,l.g.a=l.g.b,l.g.b=R;xy(r)}function cH(r,l){var _,R,O;for(R=new nr(r.b,0);R.b<R.d.Y();)_=(Kt(R.b<R.d.Y()),z(R.d.sb(R.c=R.b++),33)),O=z(Se(_,(pt(),uo)),107),O==(su(),df)&&(ls(R),xt(l.b,_))}function lH(r,l,_){var R,O,q,H;for(H=Sa(r.f,l,0),q=new M1,q.b=_,R=new nr(r.f,H);R.b<R.d.Y();)O=(Kt(R.b<R.d.Y()),z(R.d.sb(R.c=R.b++),9)),O.k=_,xt(q.f,O),ls(R);return q}function fH(r,l){mo();var _,R,O;if(l.V())return!1;if(yt(l,207))for(O=z(l,207),R=O.bb().mb();R.G();)_=z(R.H(),83),r.Bb(_.Zb(),_.Yb());else N_(r,l.mb());return!0}function Md(){Md=s,D0=new H1("DEFAULT_MINIMUM_SIZE",0),Px=new H1("MINIMUM_SIZE_ACCOUNTS_FOR_INSETS",1),Rx=new H1("COMPUTE_INSETS",2),Ix=new H1("APPLY_ADDITIONAL_INSETS",3)}function c3(r){var l,_,R,O;for(_=r.a.b+2,O=ot(In,Mn,10,_,0,1),O[0]=Ro(Ca(r.c)),R=zn(r.a,0);R.b!=R.d.c;)l=z($n(R),10),O[R.a]=new Wt(l.a,l.b);return O[_-1]=Ro(Ca(r.d)),O}function eT(r,l,_){var R,O,q;for(O=r.bb().mb();O.G();)if(R=z(O.H(),21),q=R.yb(),Ot(l)===Ot(q)||l!=null&&hs(l,q))return _&&(R=new tm(R.yb(),R.zb()),O.I()),R;return null}function hH(r,l,_){var R,O;return R=r.a[l.d.k][l.k],O=r.a[_.d.k][_.k],R.a!=null&&O.a!=null?hD(R.a,O.a):R.a!=null?-1:O.a!=null?1:0}function dH(r,l,_){var R,O,q;return O=l.c,q=l.d,R=_,lr(r.a,l)?(DN(r,O)&&(R=!0),DN(r,q)&&(R=!0),R&&(gi(l.c.e,l),gi(l.d.b,l),lr(r.d,l)),iH(r,l),!0):!1}function oh(r,l,_){var R,O;return O=wN(r,l),O==r.c?Jk(r,BS(r,l)):_?(C3(r,l,r.c-O),Jk(r,BS(r,l))):(R=new PN(r),C3(R,l,r.c-O),Jk(R,BS(R,l)))}function gH(){function r(){try{return new Map().entries().next().done}catch{return!1}}return typeof Map===x4&&Map.prototype.entries&&r()?Map:gW()}function So(r,l){var _;return _=z(Bn(r.b,l),19),!_&&(_=r.Z()),yt(_,137)?new Zk(r,l,z(_,137)):yt(_,18)?new Xk(r,l,z(_,18)):yt(_,20)?HC(r,l,z(_,20),null):new Pv(r,l,_,null)}function oc(r){switch(Js(r.e)-Js(r.g)){case-2:return RR(r.g)>0&&(r.g=m3(r.g)),v3(r);case 2:return RR(r.e)<0&&(r.e=v3(r.e)),m3(r);default:return r.d=1+Vi(Js(r.e),Js(r.g)),r}}function l3(r,l){this.f=(Ar(),new kn),this.b=new kn,this.j=new kn,this.a=r,this.c=l,this.c>0&&N3(this,this.c-1,(ht(),Pt)),this.c<this.a.length-1&&N3(this,this.c+1,(ht(),Ft))}function pH(r){var l;r.c==null&&(l=Ot(r.b)===Ot(Oy)?null:r.b,r.d=l==null?Lu:sD(l)?q7(LD(l)):us(l)?"String":B1(Gg(l)),r.a=r.a+": "+(sD(l)?Q7(LD(l)):l+""),r.c="("+r.d+") "+r.a)}function vH(r){var l,_,R,O;for(_=new xe(r.a.c);_.a<_.c.c.length;)for(l=z(Ee(_),9),O=zn(io(l.c),0);O.b!=O.d.c;)R=z($n(O),33),Se(R,(tt(),Jt))==null&&gi(l.c,R);return null}function ef(r,l){var _,R,O,q,H;for(H=new dt,R=z(bd(wf,r),20).mb();R.G();)_=z(R.H(),75),_r(H,_.b);for(vy(H),D_(H,r.a),q=new xe(H);q.a<q.c.c.length;)O=z(Ee(q),7),Ju(l,O)}function mH(r){for(var l,_,R,O;r.o.a.c.length!=0;)_=z(Z$(r.o),27),R=z(_.a,61),l=z(_.b,89),O=r2(l,R),l.d==R?(qc(O.g,l),R.e=O.e+l.a):(qc(O.c,l),R.e=O.e-l.a),xt(r.e.a,R)}function f3(r,l,_){var R,O,q;return aa(_,"count"),xv(r.b,l)?(q=r.c.a,q?(O=ot(Hr,zr,26,1,12,1),R=LT(q,r.d,l,_,O),km(r.c,q,R),O[0]):(_>0&&yy(r,l,_),0)):(ud(_==0),0)}function h3(r,l){var _,R,O,q,H;for(O=z(Se(l,(tt(),Ia)),15).a*z(Se(l,(Ln(),Bu)),15).a,H=r[0].i.a+r[0].j.a,q=1;q<r.length;q++)_=r[q].i,R=r[q].j,_.a<=H+O&&(_.a=H+O),H=_.a+R.a}function tT(){tT=s;var r,l,_,R;for(KM=ot(Wa,ga,26,25,12,1),QM=ot(Wa,ga,26,33,12,1),R=152587890625e-16,l=32;l>=0;l--)QM[l]=R,R*=.5;for(_=1,r=24;r>=0;r--)KM[r]=_,_*=.5}function g3(r){for(;r.g.c!=0&&r.d.c!=0;)Gw(r.g).c>Gw(r.d).c?(r.i+=r.g.c,s2(r.d)):Gw(r.d).c>Gw(r.g).c?(r.e+=r.d.c,s2(r.g)):(r.i+=XP(r.g),r.e+=XP(r.d),s2(r.g),s2(r.d))}function yH(r){if(!r)throw new Jb("An element is null. The origin of an edge could not be determined, this might be due to an inconsistency within the internal element mappings.")}function bH(r,l){var _,R;return Wo(r.i),Wo(r.a),Wo(r.k),Wo(r.j),Wo(r.b),Wo(r.n),Wo(r.f),Wo(r.e),r.d&&(R=kr(r.d,nL.b),R&&R.ic()&&(r.c=R.ic().a)),_=f4(r,l,null),O5(r,l),_}function wH(r){var l,_,R,O,q,H;for(R=R5(P2(r)),l=Bs,q=0,O=0;l>.5&&q<50;)O=h5(R),_=oh(R,O,!0),l=Wi(_.b),++q;return H=Cn(Wg(io(r.g),io(r.g).b-1)),oh(r,(ti(H),H-O),!1)}function _H(r){var l,_,R,O,q,H;for(R=R5(P2(r)),l=Bs,q=0,O=0;l>.5&&q<50;)O=f5(R),_=oh(R,O,!0),l=Wi(_.a),++q;return H=Cn(Wg(io(r.g),io(r.g).b-1)),oh(r,(ti(H),H-O),!1)}function Xc(r){var l,_,R,O;for(O=new Sg("["),l=!1,R=r.mb();R.G();)_=R.H(),l?O.a+=", ":l=!0,Uo(O,_===r?"(this Collection)":(Et(),_==null?Lu:so(_)));return O.a+="]",O.a}function p3(r){var l,_,R,O;for(O=new Sg("{"),l=!1,R=r.bb().mb();R.G();)_=z(R.H(),21),l?O.a+=", ":l=!0,Uo(O,cO(r,_.yb())),O.a+="=",Uo(O,cO(r,_.zb()));return O.a+="}",O.a}function v3(r){var l;return nm(!!r.g),l=r.g,r.g=l.e,l.e=r,l.j=r.j,l.a=r.a,r.a=1+Kb(r.e)+Kb(r.g),r.j=mi(mi(r.c,Qb(r.e)),Qb(r.g)),r.d=1+Vi(Js(r.e),Js(r.g)),l.d=1+Vi(Js(l.e),Js(l.g)),l}function m3(r){var l;return nm(!!r.e),l=r.e,r.e=l.g,l.g=r,l.j=r.j,l.a=r.a,r.a=1+Kb(r.e)+Kb(r.g),r.j=mi(mi(r.c,Qb(r.e)),Qb(r.g)),r.d=1+Vi(Js(r.e),Js(r.g)),l.d=1+Vi(Js(l.e),Js(l.g)),l}function xH(r){var l;$l(new xe(Wc(r.e)))&&(l=z(Jr(r.e,(pt(),en)),28),l==(Rr(),Zi)?VU(r.e):l==Gs?GV(r.e):bn(ct(_n(Jr(r.e,k0))))||r.e.e.j.a==0&&r.e.e.j.b==0?NU(r.e):$V(r))}function nT(r,l,_){var R,O,q;if(O=new xe(r),O.a<O.c.c.length){for(q=z(Ee(O),33),R=W5(q,l,_);O.a<O.c.c.length;)q=z(Ee(O),33),lS(R,W5(q,l,_));return new Rv(R)}else return null}function EH(r,l){var _,R,O,q,H,W;for(O=0,R=new xe(l.c);R.a<R.c.c.length;)for(_=z(Ee(R),16),H=new xe(_.a);H.a<H.c.c.length;)q=z(Ee(H),9),W=q.j.a+q.e.c+q.e.b+r.b,O=O>W?O:W;return O}function kH(r,l){jg();var _;if(r.c==l.c){if(r.b==l.b||zj(r.b,l.b)){if(_=_7(r.b)?1:-1,r.a&&!l.a)return _;if(!r.a&&l.a)return-_}return qR(r.b.e,l.b.e)}else return li(r.c,l.c)}function y3(r){var l,_;switch(_=Ro(Jn(Ze(Ke(In,1),Mn,10,0,[r.f.i,r.i,r.a]))),l=r.f.e,r.g.e){case 1:_.b-=l.d;break;case 2:_.a+=l.c;break;case 3:_.b+=l.a;break;case 4:_.a-=l.b}return _}function CH(r,l){var _;return _=0,l.g==(Ht(),Kr)?(ZC(l).f!=r.a&&(dR(r,ZC(l).f),r.e=!0),r.e?++r.g:_+=r.f):l.g==rr?r.e?_+=r.g:++r.f:l.g==Pr&&(dR(r,l),r.e=!1),_}function SH(r,l,_,R,O){var q,H,W,ee;for(ee=null,W=new xe(R);W.a<W.c.c.length;)if(H=z(Ee(W),187),H!=_&&Sa(H.e,O,0)!=-1){ee=H;break}q=C_(O),Ir(q,_.b),gr(q,ee.b),an(r.a,O,new pm(q,l,_.f))}function TH(r){switch(z(Se(r,(Ln(),di)),85).e){case 1:et(r,di,(qa(),Ep));break;case 2:et(r,di,(qa(),bc));break;case 3:et(r,di,(qa(),K0));break;case 4:et(r,di,(qa(),dl))}}function b3(r,l,_){var R,O,q,H;if(r)for(O=(q=k$(r,ot(ox,wi,2,0,5,1)),new Uu(new vo(new WI(r,q).b)));O.b<O.d.Y();)R=(Kt(O.b<O.d.Y()),dd(O.d.sb(O.c=O.b++))),H=kr(r,R),UW(l,R,H,_)}function AH(r,l,_){var R,O,q,H,W,ee;for(O=1;O<r;)O*=2;for(ee=2*O-1,O-=1,W=ot(Hr,zr,26,ee,12,1),R=0,H=0;H<l;H++)for(q=_[H]+O,++W[q];q>0;)q%2>0&&(R+=W[q+1]),q=(q-1)/2|0,++W[q];return R}function Kg(r,l,_){var R,O,q,H;if(r.e=l,_)for(O=(H=new Dn(r.a.a).a.bb().mb(),new Fn(H));O.a.G();)R=(q=z(O.a.H(),21),z(q.yb(),12)),et(R,(tt(),V0),r.e),An(R.c,l.a),An(R.d,l.b)}function Qg(){Qg=s,q0=new Pg(ip,0),JL=new Pg(np,1),nM=new Pg(rp,2),tM=new Pg("LEFT_RIGHT_CONSTRAINT_LOCKING",3),eM=new Pg("LEFT_RIGHT_CONNECTION_LOCKING",4),QL=new Pg("EDGE_LENGTH",5)}function rT(r,l,_,R){var O;this.b=R,this.e=r.a,O=l[_],this.d=n_(n1,[wi,d0],[227,26],13,[O.length,O.length],2),this.a=n_(Hr,[wi,zr],[52,26],12,[O.length,O.length],2),this.c=new l3(l,_)}function LH(r,l,_,R){var O,q;for(q=l,O=q.d==null||r.a.$b(_.d,q.d)>0?1:0;q.a[O]!=_;)q=q.a[O],O=r.a.$b(_.d,q.d)>0?1:0;q.a[O]=R,R.b=_.b,R.a[0]=_.a[0],R.a[1]=_.a[1],_.a[0]=null,_.a[1]=null}function MH(r,l,_){var R,O,q,H;if(xn(_,H4,1),u4(r.d,l),H=kV(r.a,l),H.Y()==1)OT(z(H.sb(0),55),_);else for(q=1/H.Y(),O=H.mb();O.G();)R=z(O.H(),55),OT(R,nh(_,q));Hq(r.a,H,l),j5(l),pn(_)}function w3(r,l,_){var R,O,q,H,W;for(W=new Bl(l,_),H=rf(W);H.G();)for(q=z(H.H(),7),O=wn(yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[q.b,q.e]))))));vn(O);)R=z(cn(O),12),Xl(R)||$H(r,l,q,R)}function _3(r,l){var _,R,O;for(O=Zr(r,l),R=O.mb();R.G();)if(_=z(R.H(),7),Se(_,(tt(),mu))!=null||vn(wn(yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[_.b,_.e]))))))))return!0;return!1}function v2(r){var l,_;if(Lv(r))throw new Gn(iF);for(_=zn(r,0);_.b!=_.d.c;)l=z($n(_),10),this.d=qn(this.d,l.b),this.c=St(this.c,l.a),this.a=St(this.a,l.b),this.b=qn(this.b,l.a)}function IH(r,l,_){if(l<0||_<0)throw new Gn("The highx must be bigger then lowx and the highy must be bigger then lowy");return r.a<0?r.a=0:r.a>l&&(r.a=l),r.b<0?r.b=0:r.b>_&&(r.b=_),r}function Zr(r,l){switch(l.e){case 1:return cs(r.f,(oo(),jx));case 2:return cs(r.f,(oo(),qx));case 3:return cs(r.f,(oo(),zx));case 4:return cs(r.f,(oo(),Gx));default:return jn(),jn(),gl}}function RH(r){var l,_,R,O;for(O=($r(),new Ls(Ms(tu(r.a,new I))));vn(O);)for(R=z(cn(O),9),R.g==(Ht(),jo)&&et(R,(tt(),Ko),(Ba(),Ou)),_=wn(pr(R));vn(_);)l=z(cn(_),12),T2(l,(Ba(),Ou))}function PH(r){var l,_,R,O;for(O=($r(),new Ls(Ms(tu(r.a,new I))));vn(O);)for(R=z(cn(O),9),R.g==(Ht(),jo)&&et(R,(tt(),Ko),(Ba(),Us)),_=wn(pr(R));vn(_);)l=z(cn(_),12),T2(l,(Ba(),Us))}function m2(r,l){switch(this.b=new $i,r){case 0:this.d=new $b(this);break;case 1:this.d=new p1(this);break;case 2:this.d=new v1(this);break;default:throw new Ml}this.c=l,this.a=.2*l}function x3(r){var l,_,R,O;if(!r.b)for(r.b=new dt,_=new xe(r.a.c);_.a<_.c.c.length;)for(l=z(Ee(_),16),O=new xe(l.a);O.a<O.c.c.length;)R=z(Ee(O),9),xt(r.b,new QI(R,r.c));return r.b}function DH(r,l){var _,R,O;_=a9(l,r.e),R=z(Bn(r.g.f,_),24).a,O=r.a.c.length-1,r.a.c.length!=0&&z($t(r.a,O),128).c==R?(++z($t(r.a,O),128).a,++z($t(r.a,O),128).b):xt(r.a,new lP(R))}function iT(r){Et();var l,_;return r>=o0?(l=55296+(r-o0>>10&1023)&fu,_=56320+(r-o0&1023)&fu,String.fromCharCode(l)+(""+String.fromCharCode(_))):String.fromCharCode(r&fu)}function OH(r,l,_,R){var O,q,H;switch(O=Ea(_),q=Q_(O),H=new Br,Qn(H,_),R.e){case 1:An(H,X_(Jm(q)));break;case 2:An(H,Jm(q))}return et(H,(tt(),wp),z(Se(l,wp),15)),et(l,Jt,H),Kn(r.b,H,l),H}function $H(r,l,_,R){var O;xt(r.c,new MC(r,_,R,z(Bn(r.k,_),24).a)),h_(R)&&(l==r.e?R.d.f!=r.a&&R.c.f!=r.a:R.d.f!=r.e&&R.c.f!=r.e)&&(O=_==R.c?R.d:R.c,xt(r.c,new MC(r,O,R,z(Bn(r.k,O),24).a)))}function E3(r,l){var _,R,O;if(l===r)return!0;if(!yt(l,57)||(O=z(l,57),r.Y()!=O.Y()))return!1;for(R=O.bb().mb();R.G();)if(_=z(R.H(),21),!r._(_))return!1;return!0}function k3(r,l){var _,R,O;return R=new No(r),ic(R,l),et(R,(tt(),gb),l),et(R,(pt(),en),(Rr(),Zi)),et(R,Zo,(Fs(),jy)),na(R,(Ht(),yr)),_=new Br,Qn(_,R),An(_,(ht(),Ft)),O=new Br,Qn(O,R),An(O,Pt),R}function aT(r,l){var _,R,O;for(O=fi,R=new xe(ah(l));R.a<R.c.c.length;)_=z(Ee(R),89),_.e&&!r.c[_.b]&&(r.c[_.b]=!0,O=Rc(O,aT(r,r2(_,l))));return r.i[l.b]=r.j,r.g[l.b]=Rc(O,r.j++),r.g[l.b]}function C3(r,l,_){var R,O,q,H;if(H=r.g.tb(),r.e)for(O=0;O<r.c;O++)H.H();else for(O=0;O<r.c-1;O++)H.H();for(q=r.b.tb(),R=ct(Cn(H.H()));R-l<ff;)R=ct(Cn(H.H())),q.H();H.M(),x5(r,_,l,q,H)}function S3(r,l){var _,R,O,q;for(R=0,O=r.length;R<O;R++){q=r[R];try{q[1]?q[0].bd()&&(l=b9(l,q)):q[0].bd()}catch(H){if(H=ji(H),yt(H,46))_=H,I9(yt(_,164)?z(_,164).cc():_);else throw zi(H)}}return l}function NH(r){var l,_,R;if(R=r.c.a,!R)return null;if(r.b.b){if(l=r.b.e,_=LS(r.c.a,r.d,l),!_)return null;r.b.d==(ss(),Bo)&&r.d.$b(l,_.b)==0&&(_=_.i)}else _=r.a.i;return _==r.a||!xv(r.b,_.b)?null:_}function FH(r,l){var _,R,O,q,H,W;for(q=0,R=new xe(l.c);R.a<R.c.c.length;){for(_=z(Ee(R),16),O=0,W=new xe(_.a);W.a<W.c.c.length;)H=z(Ee(W),9),O+=H.j.b+H.e.a+H.e.d+r.a;O-=r.a,q=q>O?q:O}return q}function BH(r){var l,_,R,O,q;for(q=fi,O=fi,R=new xe(ah(r));R.a<R.c.c.length;)_=z(Ee(R),89),l=_.d.e-_.c.e,_.d==r&&l<O?O=l:l<q&&(q=l);return O==fi&&(O=-1),q==fi&&(q=-1),new ui(nn(O),nn(q))}function T3(r,l,_){var R,O,q,H,W;for(l.k=-1,W=uu(l,(ni(),Ki)).mb();W.G();)for(H=z(W.H(),7),O=new xe(H.e);O.a<O.c.c.length;)R=z(Ee(O),12),q=R.d.f,l!=q&&(q.k<0?_.ib(R):q.k>0&&T3(r,q,_));l.k=0}function A3(r,l){if(0>l)throw new Gn("Top must be smaller or equal to bottom.");if(0>r)throw new Gn("Left must be smaller or equal to right.");this.d=0,this.c=r,this.a=l,this.b=0}function y2(r){var l,_,R;if(r.length==0)throw new Gn(iF);for(_=0,R=r.length;_<R;++_)l=r[_],this.d=qn(this.d,l.b),this.c=St(this.c,l.a),this.a=St(this.a,l.b),this.b=qn(this.b,l.a)}function qH(){return bi(),Ze(Ke(zB,1),kt,37,0,[DL,xL,YL,wL,Vx,GL,Wx,FL,Ux,Zy,NL,$L,Jy,kL,Hx,Kx,Jx,Qy,IL,Xy,jL,Qx,tb,EL,BL,zL,qL,Xx,AL,Xd,Yx,ML,HL,OL,CL,gp,RL,N0,bL,LL,SL,Zx,eb,Ky,TL,eE,PL,_L,UL,Wy])}function jH(r,l){var _,R,O,q,H,W,ee,ae,ce;for(ce=0,R=0,O=l.length;R<O;++R)for(_=l[R],H=0,W=_.length;H<W;++H)for(q=_[H],ae=new xe(q.f);ae.a<ae.c.c.length;)ee=z(Ee(ae),7),ee.k=ce++;r.a=ot(Hr,zr,26,ce,12,1)}function L3(r){$r();var l,_,R;if(l=r.H(),!r.G())return l;for(R=new Tg,R.a+="expected one element but was: <"+l,_=0;_<4&&r.G();_++)Uo(R,", "+r.H());throw r.G()&&(R.a+=", ..."),R.a+=">",new Gn(R.a)}function zH(r){var l,_,R,O,q;for(l=0,R=r.b,O=0,q=R.length;O<q;++O)_=R[O],l+=CH(r,_),la(z(Se(_,(pt(),en)),28))&&(Zr(_,(ht(),Yt)).mb().G()&&(l+=A5(r,_,Yt)),Zr(_,Qt).mb().G()&&(l+=A5(r,_,Qt)));return l}function b2(r,l,_,R){var O,q,H,W,ee;if(R.d.c+R.e.c==0)for(H=r.a[r.c],W=0,ee=H.length;W<ee;++W)q=H[W],Kn(R,q,new S$(r,q,_));return O=z(ra(ia(R.d,l)),284),O.b=0,O.c=O.f,O.c==0||Xu(z($t(O.a,O.b),128)),O}function vy(r){var l;jn();var _,R,O,q,H,W;if(yt(r,63))for(q=0,O=r.Y()-1;q<O;++q,--O)l=r.sb(q),r.wb(q,r.sb(O)),r.wb(O,l);else for(_=r.tb(),H=r.ub(r.Y());_.L()<H.N();)R=_.H(),W=H.M(),_.O(W),H.O(R)}function GH(r,l,_){return r<0||r>_?sT(r,_,"start index"):l<0||l>_?sT(l,_,"end index"):n0("end index (%s) must not be less than start index (%s)",Ze(Ke(zt,1),At,1,4,[nn(l),nn(r)]))}function oT(r){if(!("id"in r.a))throw new wv("Every graph element must specify an 'id' property.",r);if(!kr(r,"id").lc())throw new wv("Invalid format for 'id'. Must be a string, was "+kr(r,"id").$c,r)}function tf(r,l){var _,R,O,q,H,W,ee;for(ee=r.b,R=z(bd(wf,r),20).mb();R.G();)for(_=z(R.H(),75),W=(q=new Dn(_.c.a).a.bb().mb(),new Fn(q));W.a.G();)H=(O=z(W.a.H(),21),z(O.yb(),7)),Ju(l,H),by(H,ee)}function HH(r,l){var _,R,O;for(O=new xe(l.e);O.a<O.c.c.length;)if(_=z(Ee(O),12),_.d.f!=r.f)return!0;for(R=new xe(l.b);R.a<R.c.c.length;)if(_=z(Ee(R),12),_.c.f!=r.f)return!0;return!1}function w2(r){var l,_,R,O;for(Lm(r.c),Lm(r.b),Lm(r.a),O=(_=new Dn(r.e).a.bb().mb(),new Fn(_));O.a.G();)R=(l=z(O.a.H(),21),z(l.yb(),60)),R.c!=2&&(oa(r.a,R),R.c==0&&oa(r.c,R)),oa(r.b,R);r.d=!1}function M3(r,l){var _;if(r===l)return!0;if(yt(l,18)){_=z(l,18);try{return r.Y()==_.Y()&&r.lb(_)}catch(R){if(R=ji(R),yt(R,76))return!1;if(yt(R,119))return!1;throw zi(R)}}return!1}function eo(r,l,_){var R,O,q,H;if(H=l==null?0:r.b.Vc(l),O=(R=dk(r.a,H),R??[]),O.length==0)Jq(r.a,H,O);else if(q=eN(r,l,O),q)return q.Ab(_);return Po(O,O.length,new tm(l,_)),++r.c,Ww(r.b),null}function sT(r,l,_){if(r<0)return n0(S4,Ze(Ke(zt,1),At,1,4,[_,nn(r)]));if(l<0)throw new Gn(T4+l);return n0("%s (%s) must not be greater than size (%s)",Ze(Ke(zt,1),At,1,4,[_,nn(r),nn(l)]))}function UH(r,l){if(r<0)return n0(S4,Ze(Ke(zt,1),At,1,4,["index",nn(r)]));if(l<0)throw new Gn(T4+l);return n0("%s (%s) must be less than size (%s)",Ze(Ke(zt,1),At,1,4,["index",nn(r),nn(l)]))}function I3(r){var l,_,R,O;for(O=ot(hi,wi,51,r.c.c.length,0,2),R=new nr(r.c,0);R.b<R.d.Y();)l=(Kt(R.b<R.d.Y()),z(R.d.sb(R.c=R.b++),16)),_=R.b-1,O[_]=z(jr(l.a,ot(hi,Aa,9,l.a.c.length,0,1)),51);return O}function Jg(r,l,_,R,O){switch(this.c=O,this.d=l,this.a=_,O.e){case 4:this.b=Wi(r.b);break;case 1:this.b=Wi(r.d);break;case 2:this.b=Wi(r.c-R.j.a);break;case 3:this.b=Wi(r.a-R.j.b);break;default:this.b=0}}function R3(r,l,_,R,O){var q,H,W,ee,ae;if(l)for(W=l.mb();W.G();)for(H=z(W.H(),9),ae=xT(H,(ni(),Ki),_).mb();ae.G();)ee=z(ae.H(),7),q=z(ra(ia(O.d,ee)),80),q||(q=new P$(r),R.c[R.c.length]=q,y5(q,ee,O))}function YH(r,l){var _,R,O;if(_=r.c,_.a.Y()>1)throw new Gn("In straight hyperEdges there may be only one edge.");Un((O=new Dn(_.a).a.bb().mb(),R=z(new Fn(O).a.H(),21),z(R.yb(),12)).a,new Wt(l,r.b))}function P3(r,l,_){var R,O;if(this.f=r,R=z(Bn(r.b,l),126),O=R?R.a:0,S_(_,O),_>=(O/2|0))for(this.e=R?R.c:null,this.d=O;_++<O;)KD(this);else for(this.c=R?R.b:null;_-- >0;)x_(this);this.b=l,this.a=null}function Zv(r,l){(typeof document!==l0||e.exports)&&kb(r(l)),typeof document===l0&&typeof self!==l0&&self.postMessage(l)}function _2(r,l){var _,R,O,q;"x"in r.a&&(O=z(kr(r,"x"),104),l.i.a=O.a),"y"in r.a&&(q=z(kr(r,"y"),104),l.i.b=q.a),U2 in r.a&&(R=z(kr(r,U2),104),l.j.a=R.a),V2 in r.a&&(_=z(kr(r,V2),104),l.j.b=_.a)}function D3(r,l,_){var R,O;$O(this),l==(Ul(),$u)?lr(this.g,r.c):lr(this.o,r.c),_==$u?lr(this.g,r.d):lr(this.o,r.d),lr(this.c,r),R=Ca(r.c).b,O=Ca(r.d).b,BN(this,R,O,O),this.f=$9(Ca(r.c).b,Ca(r.d).b)}function VH(r){var l,_,R,O,q,H;for(H=new Bl(r.d,r.e),q=rf(H);q.G();)for(O=z(q.H(),7),R=r.e==(ht(),Ft)?O.b:O.e,_=new xe(R);_.a<_.c.c.length;)l=z(Ee(_),12),!Xl(l)&&l.c.f.d!=l.d.f.d&&(DH(r,l),++r.f,++r.c)}function Kv(r,l,_){var R,O,q,H,W;for(H=(jn(),new qf(z($t(l.a,_),18))),W=new Ta(H.b.Y()),O=new Al(H.b.mb());O.b.G();)R=z(O.b.H(),37),q=z(Bn(r.a,R),31),q||(q=NW(R),Kn(r.a,R,q)),W.c[W.c.length]=q;return W}function WH(r,l){var _,R,O,q;for(R=new nr(r.f.c,0);R.b<R.d.Y();)for(_=(Kt(R.b<R.d.Y()),z(R.d.sb(R.c=R.b++),16)),q=l[R.b-1],O=new nr(_.a,0);O.b<O.d.Y();)Kt(O.b<O.d.Y()),O.d.sb(O.c=O.b++),rC(O,q[O.b-1])}function O3(r){var l,_;if(eu(z(Se(r,(pt(),en)),28)))for(_=new xe(r.f);_.a<_.c.c.length;)l=z(Ee(_),7),l.g==(ht(),ii)&&K$(l);else{for(_=new xe(r.f);_.a<_.c.c.length;)l=z(Ee(_),7),K$(l);et(r,en,(Rr(),M0))}}function uT(r,l,_,R,O,q){var H,W,ee,ae;if(H=R-_,H<7){rG(l,_,R,q);return}if(ee=_+O,W=R+O,ae=ee+(W-ee>>1),uT(l,r,ee,ae,-O,q),uT(l,r,ae,W,-O,q),q.$b(r[ae-1],r[ae])<=0){for(;_<R;)Po(l,_++,r[ee++]);return}Fz(r,ee,ae,W,l,_,R,q)}function $3(r){if(!r)return Rl(),EF;var l=r.valueOf?r.valueOf():r;if(l!==r){var _=hx[typeof l];return _?_(l):MS(typeof l)}else return r instanceof Array||r instanceof t.Array?new c1(r):new dg(r)}function x2(r,l,_){var R,O;return R=_.c,O=_.d,r.g[R.b]<=r.i[l.b]&&r.i[l.b]<=r.i[R.b]&&r.g[O.b]<=r.i[l.b]&&r.i[l.b]<=r.i[O.b]?!(r.i[R.b]<r.i[O.b]):r.i[R.b]<r.i[O.b]}function N3(r,l,_){var R,O,q,H,W,ee,ae,ce;for(ae=0,O=r.a[l],q=0,H=O.length;q<H;++q){for(R=O[q],ce=new Bl(R,_),ee=rf(ce);ee.G();)W=z(ee.H(),7),Kn(r.f,W,nn(ae)),la(z(Se(R,(pt(),en)),28))&&++ae;la(z(Se(R,(pt(),en)),28))||++ae}}function XH(r,l,_){var R,O;if(tn(l),_.G())for(O=z(_.H(),21),Ol(l,um(r.a,O.yb())),Ol(l,r.b),Ol(l,um(r.a,O.zb()));_.G();)Ol(l,r.a.c),R=z(_.H(),21),Ol(l,um(r.a,R.yb())),Ol(l,r.b),Ol(l,um(r.a,R.zb()));return l}function E2(r,l){var _,R;return _=z(Vf(r.b,l),19),_?(R=r.Z(),R.jb(_),r.c-=_.Y(),_.Q(),yt(R,137)?(jn(),new Yk(z(R,137))):yt(R,18)?(jn(),new qf(z(R,18))):yt(R,20)?$C(z(R,20)):(jn(),new Vu(R))):r.$()}function F3(r,l){var _;l.d?l.d.b=l.b:r.a=l.b,l.b?l.b.d=l.d:r.e=l.d,!l.e&&!l.c?(_=z(Vf(r.b,l.a),126),_.a=0,++r.c):(_=z(Bn(r.b,l.a),126),--_.a,l.e?l.e.c=l.c:_.b=l.c,l.c?l.c.e=l.e:_.c=l.e),--r.d}function cT(r,l,_){switch(_.e){case 1:return new Wt(l.a,qn(r.d.b,l.b));case 2:return new Wt(St(r.c.a,l.a),l.b);case 3:return new Wt(l.a,St(r.c.b,l.b));case 4:return new Wt(qn(l.a,r.d.a),l.b)}return new Wt(l.a,l.b)}function ZH(r){var l,_,R,O;for(l=0,R=(Et(),r.length),O=R-4,_=0;_<O;)l=r.charCodeAt(_+3)+31*(r.charCodeAt(_+2)+31*(r.charCodeAt(_+1)+31*(r.charCodeAt(_)+31*l))),l=l|0,_+=4;for(;_<R;)l=l*31+$P(r,_++);return l=l|0,l}function B3(r,l){var _,R,O;for(this.a=r,this.c=l,this.b=ot(y6,wi,673,r.length,0,2),_=0;_<r.length;++_)for(O=r[_].length,this.b[_]=ot(y6,{673:1,3:1,5:1,6:1},102,O,0,1),R=0;R<O;++R)this.b[_][R]=new RD(this,r[_][R].c)}function my(r,l,_,R,O,q,H){var W;this.a=z(tn(r),56),this.b=l,this.c=O,this.e=_,this.d=z(tn(R),159),this.g=q,this.f=z(tn(H),159),l&&r.$b(_,_),O&&r.$b(q,q),l&&O&&(W=r.$b(_,q),Iz(W<=0,_,q),W==0&&ud(R!=(ss(),Bo)|H!=Bo))}function q3(r){if(this.a=r,r.c.f.g==(Ht(),yr))this.c=r.c,this.d=z(Se(r.c.f,(tt(),Ri)),32);else if(r.d.f.g==yr)this.c=r.d,this.d=z(Se(r.d.f,(tt(),Ri)),32);else throw new Gn("Edge "+r+" is not an external edge.")}function j3(){j3=s,P6=xo(new Lr,(bi(),AL)),fM=ha(new Lr,Xy),O6=fa(ha(new Lr,tb),eb),R6=fa(xo(ha(new Lr,kL),CL),SL),$6=ha(new Lr,jL),D6=fa(new Lr,LL),M6=fa(xo(ha(wm(new Lr,Zy),Qy),Xd),Ky),I6=fa(xo(new Lr,Xd),Wy)}function yy(r,l,_){var R,O,q,H;return aa(_,aA),_==0?hy(r,l):(ud(xv(r.b,l)),H=r.c.a,H?(q=ot(Hr,zr,26,1,12,1),R=ST(H,r.d,l,_,q),km(r.c,H,R),q[0]):(r.d.$b(l,l),O=new Wm(l,_),Kk(r.a,O,r.a),km(r.c,null,O),0))}function z3(r,l,_){var R,O,q,H,W,ee;for(R=0,ee=_,l||(R=_*(r.c.length-1),ee*=-1),q=new xe(r);q.a<q.c.c.length;){for(O=z(Ee(q),9),et(O,(pt(),Zo),(Fs(),jy)),O.j.a=R,W=Zr(O,(ht(),Pt)).mb();W.G();)H=z(W.H(),7),H.i.a=R;R+=ee}}function an(r,l,_){var R;if(R=z(Bn(r.b,l),19),R)return R.ib(_)?(++r.c,!0):!1;if(R=r.Z(),R.ib(_))return++r.c,Kn(r.b,l,R),!0;throw new R_("New Collection violated the Collection spec")}function k2(r,l,_){var R,O,q;for(LU(r,l,_),q=new dt,O=new xe(r.b.a.b);O.a<O.c.c.length;)R=z(Ee(O),25),l.D(R)&&(xt(q,new yk(R,!0)),xt(q,new yk(R,!1)));qG(r.d),Iv(q,r.c,new vo(Ze(Ke($0,1),At,160,0,[r.d]))),CU(r,l,_)}function G3(r,l){var _,R,O,q,H;for(r.c[l.k]=!0,xt(r.a,l),H=new xe(l.f);H.a<H.c.c.length;)for(q=z(Ee(H),7),R=wn(yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[q.b,q.e]))))));vn(R);)_=z(cn(R),12),O=lG(q,_).f,r.c[O.k]||G3(r,O)}function lT(r,l,_,R){var O,q,H;if("labels"in l.a){if(H=kr(l,"labels"),!H.hc())throw new nu("The 'labels' property of a node must be an array.",H,l);for(q=H.hc(),O=0;O<q.a.length;++O)yt(jc(q,O),69)&&wV(r,z(jc(q,O),69),_,R)}}function H3(r,l,_){var R,O,q,H,W,ee;q=z($t(l.b,0),12).c,R=q.f,O=R.g,ee=z($t(_.e,0),12).d,H=ee.f,W=H.g,O==(Ht(),rr)?et(r,(tt(),Ma),z(Se(R,Ma),7)):et(r,(tt(),Ma),q),W==rr?et(r,(tt(),wa),z(Se(H,wa),7)):et(r,(tt(),wa),ee)}function sc(){sc=s,Ga=new Dl("H_LEFT",0),qo=new Dl("H_CENTER",1),Ua=new Dl("H_RIGHT",2),fo=new Dl("V_TOP",3),lo=new Dl("V_CENTER",4),co=new Dl("V_BOTTOM",5),ba=new Dl("INSIDE",6),Ya=new Dl("OUTSIDE",7),Ha=new Dl("H_PRIORITY",8)}function fT(r){i_();var l,_,R;for(this.b=IB,this.c=PB,this.d=(Fr(),ps),this.g=(Mc(),MB),this.a=r,tw(this,new Q),xy(this),R=new xe(r.b);R.a<R.c.c.length;)_=z(Ee(R),25),_.f||(l=new ry(Ze(Ke(Vy,1),At,25,0,[_])),xt(r.a,l))}function hT(r,l){var _,R,O,q;for(O=1,l.j=!0,R=new xe(ah(l));R.a<R.c.c.length;)_=z(Ee(R),89),r.c[_.b]||(r.c[_.b]=!0,q=r2(_,l),_.e?O+=hT(r,q):!q.j&&_.a==_.d.e-_.c.e&&(_.e=!0,lr(r.p,_),O+=hT(r,q)));return O}function C2(r){var l,_,R,O,q,H,W,ee;for(O=ya,R=Ii,_=new xe(r.e.c);_.a<_.c.c.length;)for(l=z(Ee(_),16),H=new xe(l.a);H.a<H.c.c.length;)q=z(Ee(H),9),ee=ct(r.n[q.k]),W=ee+ct(r.b[r.f[q.k].k]),O=O<ee?O:ee,R=R>W?R:W;return R-O}function U3(r){var l;return l=new Bf,ko(l,"type",new jl((Uf(SB),SB.n))),ko(l,z2,new jl(r.f)),r.b&&ko(l,"value",r.b),r.a&&ko(l,"context",r.a),ko(l,j4,new jl(jk(new $1(`
`),new Uu(new vo((r.g==null&&(r.g=dC(r)),r.g)))))),l}function KH(r,l){return r.c<l.c?-1:r.c>l.c?1:r.b<l.b?-1:r.b>l.b?1:r.a!=l.a?r.a.b-l.a.b:r.d==0&&l.d==1?-1:r.d==1&&l.d==0?1:0}function Y3(r,l){var _,R,O,q,H;if(l===r)return!0;if(!yt(l,20)||(H=z(l,20),r.Y()!=H.Y()))return!1;for(q=H.mb(),R=r.mb();R.G();)if(_=R.H(),O=q.H(),!(Ot(_)===Ot(O)||_!=null&&hs(_,O)))return!1;return!0}function V3(r){!fx&&(fx=CW());var l=r.replace(/[\x00-\x1f\xad\u0600-\u0603\u06dd\u070f\u17b4\u17b5\u200b-\u200f\u2028-\u202e\u2060-\u2064\u206a-\u206f\ufeff\ufff9-\ufffb"\\]/g,function(_){return w8(_)});return'"'+l+'"'}function W3(r,l){var _,R,O,q,H,W,ee;for(O=l==1?Fx:Nx,R=(H=new Dn(O.a).a.bb().mb(),new Fn(H));R.a.G();)for(_=(q=z(R.a.H(),21),z(q.yb(),59)),ee=z(So(r.f.c,_),18).mb();ee.G();)W=z(ee.H(),27),gi(r.b.b,W.b),gi(r.b.a,z(W.b,25).f)}function X3(r,l,_){var R,O,q,H;if(xn(_,"Recursive layout",2),l.b.c.length!=0){for(H=1/l.b.c.length,q=new xe(l.b);q.a<q.c.c.length;)O=z(Ee(q),9),R=z(Se(O,(tt(),Ef)),55),R&&(X3(r,R,nh(_,H)),FY(O,R));u4(r.d,l),OT(l,_)}j5(l),pn(_)}function dT(r,l){YC.call(this),this.d=new $i,this.b=z(Se(l,(tt(),Ia)),15).a*z(Se(l,(Ln(),Bu)),15).a,this.e=this.b*z(Se(l,kp),15).a,this.a=new Ci,this.c=new Ci,this.j=new Do(r.j,r.k,0,r.n-r.k),this.o=r.g,this.g.a=r.i,Z5(this,r)}function S2(r,l){var _,R,O,q,H;for(q=l==null?0:r.b.Vc(l),R=(_=dk(r.a,q),_??[]),H=0;H<R.length;H++)if(O=R[H],r.b.Uc(l,O.yb()))return R.length==1?(R.length=0,r.a[tx](q)):R.splice(H,1),--r.c,Ww(r.b),O.zb();return null}function QH(r,l,_){var R;R=null,l&&(R=l.e),Vg(r,new od(l.i.a-R.b+_.a,l.i.b-R.d+_.b)),Vg(r,new od(l.i.a-R.b+_.a,l.i.b+l.j.b+R.a+_.b)),Vg(r,new od(l.i.a+l.j.a+R.c+_.a,l.i.b-R.d+_.b)),Vg(r,new od(l.i.a+l.j.a+R.c+_.a,l.i.b+l.j.b+R.a+_.b))}function by(r,l){switch(l.e){case 2:An(r,(ht(),Pt)),r.a.a=r.j.a,r.a.b=r.j.b/2;break;case 4:An(r,(ht(),Ft)),r.a.a=0,r.a.b=r.j.b/2;break;case 1:An(r,(ht(),Yt)),r.a.a=r.j.a/2,r.a.b=0;break;case 3:An(r,(ht(),Qt)),r.a.a=r.j.a/2,r.a.b=r.j.b}}function JH(r,l){mo();var _,R,O;if(l===r)return!0;if(yt(l,207)){if(O=z(l,207),r.Y()!=O.Y()||vd(r).Y()!=O.bb().Y())return!1;for(R=O.bb().mb();R.G();)if(_=z(R.H(),83),r.Cb(_.Zb())!=_.Yb())return!1;return!0}return!1}function sh(r,l){var _,R,O,q,H,W;return q=r.a*nx+r.b*1502,W=r.b*nx+11,_=Math.floor(W*J2),q+=_,W-=_*bA,q%=bA,r.a=q,r.b=W,l<=24?Pk(r.a*KM[l]):(O=r.a*(1<<l-24),H=Pk(r.b*QM[l]),R=O+H,R>=2147483648&&(R-=4294967296),R)}function gT(r,l,_){var R,O,q;if(l!=_){R=l;do ur(r,R.d),q=z(Se(R,(tt(),kf)),9),q&&(O=R.a,ro(r,O.b,O.d),ur(r,q.i),R=Ea(q));while(q);R=_;do Qu(r,R.d),q=z(Se(R,(tt(),kf)),9),q&&(O=R.a,H7(r,O.b,O.d),Qu(r,q.i),R=Ea(q));while(q)}}function eU(r,l){var _,R,O,q,H,W;for(_=new dt,W=new Sk,O=(H=new Dn(r.a).a.bb().mb(),new Fn(H));O.a.G();)R=(q=z(O.a.H(),21),z(q.yb(),12)),I2(W,R.c,R,null),I2(W,R.d,R,null);for(;W.a;)xt(_,DY(W,l,la(z(Se(l,(pt(),en)),28))));return _}function tU(r,l){var _,R,O,q,H;for(q=new xe(r.e.a);q.a<q.c.c.length;)if(O=z(Ee(q),61),O.c.c.length==O.g.c.length){for(R=O.e,H=BH(O),_=O.e-z(H.a,24).a+1;_<O.e+z(H.b,24).a;_++)l[_]<l[R]&&(R=_);l[R]<l[O.e]&&(--l[O.e],++l[R],O.e=R)}}function Z3(r,l){var _,R,O,q,H,W,ee;for(O=l==1?Fx:Nx,R=(H=new Dn(O.a).a.bb().mb(),new Fn(H));R.a.G();)for(_=(q=z(R.a.H(),21),z(q.yb(),59)),ee=z(So(r.f.c,_),18).mb();ee.G();)W=z(ee.H(),27),xt(r.b.b,z(W.b,25)),xt(r.b.a,z(W.b,25).f)}function K3(r){Kw();var l,_,R,O,q,H,W;for(_=(Ar(),new zg),O=new xe(r.e.c);O.a<O.c.c.length;)for(R=z(Ee(O),16),H=new xe(R.a);H.a<H.c.c.length;)q=z(Ee(H),9),W=r.f[q.k],l=z(P_(_,W),20),l||(l=new dt,Hv(_,W,l)),l.ib(q);return _}function nU(r,l){var _,R,O,q;for(R=new xe(r.a.a);R.a<R.c.c.length;)_=z(Ee(R),78),_.i=!0;for(q=new xe(r.a.b);q.a<q.c.c.length;)O=z(Ee(q),25),O.p=bn(ct(_n(r.f.B(new ui(O,l))))),O.f.i=O.f.i&bn(ct(_n(r.f.B(new ui(O,l)))));return r}function Q3(r,l){var _,R,O,q;for(O=io(pr(l)),R=zn(O,0);R.b!=R.d.c;)return _=z($n(R),12),q=_.d.f,q.g==(Ht(),La)&&!(bn(ct(_n(Se(q,(tt(),hl)))))&&Se(q,Jt)!=null)?(gi(q.d.a,q),Qn(_.c,null),Qn(_.d,null),Q3(r,q)):l;return l}function rU(r,l){var _,R,O,q,H,W,ee;if(!l.e)throw new Gn("The input edge is not a tree edge.");for(q=null,O=fi,R=new xe(r.d);R.a<R.c.c.length;)_=z(Ee(R),89),W=_.c,ee=_.d,x2(r,W,l)&&!x2(r,ee,l)&&(H=ee.e-W.e-_.a,H<O&&(O=H,q=_));return q}function J3(r,l){var _,R,O,q,H;return q=l.a,q.c.f==l.b?H=q.d:H=q.c,q.c.f==l.b?R=q.c:R=q.d,O=fG(r.a,H,R),O>0&&O<Bs?(_=gU(r.a,R.f,O),c$(r.a,R.f,-_),_>0):O<0&&-O<Bs?(_=pU(r.a,R.f,-O),c$(r.a,R.f,_),_>0):!1}function iU(r,l,_,R,O){var q,H;E$(Jn(Ze(Ke(In,1),Mn,10,0,[O.f.i,O.i,O.a])),_)||(l.c==O?lm(l.a,0,new qr(_)):Un(l.a,new qr(_)),R&&!Pl(r.a,_)&&(H=z(Se(l,(pt(),Gr)),44),H||(H=new Ci,et(l,Gr,H)),q=new qr(_),ci(H,q,H.c.b,H.c),lr(r.a,q)))}function t5(r){var l,_,R,O,q,H,W;for(l=0,R=new xe(r.a);R.a<R.c.c.length;)for(_=z(Ee(R),9),q=wn(pr(_));vn(q);)O=z(cn(q),12),r==O.d.f.d&&O.c.g==(ht(),Ft)&&(H=Ca(O.c).b,W=Ca(O.d).b,l=l>(W-H<=0?0-(W-H):W-H)?l:W-H<=0?0-(W-H):W-H);return l}function aU(r,l){var _,R,O;if(Ot(l)===Ot(tn(r)))return!0;if(!yt(l,20)||(R=z(l,20),O=r.Y(),O!=R.Y()))return!1;if(yt(R,63)){for(_=0;_<O;_++)if(!Kf(r.sb(_),R.sb(_)))return!1;return!0}else return BG(r.mb(),R.mb())}function n5(r,l){var _,R,O,q,H,W,ee,ae;if(O=r.b[l.k],O>=0)return O;for(q=1,W=new xe(l.f);W.a<W.c.c.length;)for(H=z(Ee(W),7),R=new xe(H.e);R.a<R.c.c.length;)_=z(Ee(R),12),ae=_.d.f,l!=ae&&(ee=n5(r,ae),q=q>ee+1?q:ee+1);return tG(r,l,q),q}function r5(r,l,_){var R,O,q,H,W,ee;if(R=0,r.b!=0&&l.b!=0){q=zn(r,0),H=zn(l,0),W=ct(Cn($n(q))),ee=ct(Cn($n(H))),O=!0;do W>ee-_&&W<ee+_&&++R,W<=ee&&q.b!=q.d.c?W=ct(Cn($n(q))):ee<=W&&H.b!=H.d.c?ee=ct(Cn($n(H))):O=!1;while(O)}return R}function oU(r,l){switch(oS(r)){case 5:return us(l);case 6:return fd(l);case 7:return hd(l);case 0:return f2(l,r.__elementTypeId$);case 2:return l_(l)&&l.ad!==n;case 1:return l_(l)&&l.ad!==n||f2(l,r.__elementTypeId$);default:return!0}}function sU(r,l){var _,R,O,q,H;return l&=63,_=r.h,R=(_&524288)!=0,R&&(_|=-1048576),l<22?(H=_>>l,q=r.m>>l|_<<22-l,O=r.l>>l|r.m<<22-l):l<44?(H=R?Kc:0,q=_>>l-22,O=r.m>>l-22|_<<44-l):(H=R?Kc:0,q=R?Fo:0,O=_>>l-44),Fc(O&Fo,q&Fo,H&Kc)}function i5(r,l){switch(r.e){case 1:switch(l.e){case 1:return 1;case 4:return 2;case 3:return 3;case 2:return 4}break;case 2:switch(l.e){case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4}break;default:throw new Gn(vA)}return 0}function uU(r,l,_){var R,O,q,H,W,ee;R=new dt,R.c[R.c.length]=l,ee=l,W=0;do ee=lW(r,ee),ee&&(R.c[R.c.length]=ee),++W;while(ee);for(H=(_-(R.c.length-1)*r.d.d)/R.c.length,q=new xe(R);q.a<q.c.c.length;)O=z(Ee(q),9),O.j.a=H;return new ui(nn(W),H)}function cU(r,l,_){var R,O,q,H,W,ee;R=new dt,R.c[R.c.length]=l,ee=l,W=0;do ee=ZV(r,ee),ee&&(R.c[R.c.length]=ee),++W;while(ee);for(H=(_-(R.c.length-1)*r.d.d)/R.c.length,q=new xe(R);q.a<q.c.c.length;)O=z(Ee(q),9),O.j.a=H;return new ui(nn(W),H)}function lU(r){var l,_,R,O,q,H;for(O=z($t(r.f,0),7),H=0,R=wn(yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[new Pf(O),new Cl(O)]))))));vn(R);)_=z(cn(R),7),H+=_.f.i.a+_.i.a+_.a.a;l=z(Se(r,(pt(),lc)),10),q=l?l.a:0,r.i.a=H/(O.b.c.length+O.e.c.length)-q}function fU(r,l){var _,R,O,q;if(l<2*r.c)throw new Gn("The knot vector must have at least two time the dimension elements.");for(r.j=0,r.i=1,R=0;R<r.c;R++)r.g.ib(0);for(q=l+1-2*r.c,O=1;O<q;O++)r.g.ib(O/q);if(r.e)for(_=0;_<r.c;_++)r.g.ib(1)}function pT(r){var l,_;return _=r.c,r.c=0,Vb(r.f,r.i),r.e?r.g?r.e.d>=r.g.d?(l=r.f,l.e=w$(r.e,l),l.g=r.g,l.a=r.a-1,l.j=Yc(r.j,_),oc(l)):(l=r.i,l.g=_$(r.g,l),l.e=r.e,l.a=r.a-1,l.j=Yc(r.j,_),oc(l)):r.e:r.g}function hU(r){var l,_,R,O,q,H;for(O=new xe(r.a);O.a<O.c.c.length;)R=z(Ee(O),9),R.g==(Ht(),Kr)&&(q=z(Se(R,(tt(),xf)),9),_=R.f,l=(mr(0,_.c.length),z(_.c[0],7)),H=z(Se(l,Jt),7),H.g==(ht(),Yt)&&R.k>q.k?An(H,Qt):H.g==Qt&&q.k>R.k&&An(H,Yt))}function dU(r,l,_){var R,O,q,H,W,ee,ae;for(ae=r.b,H=0,q=new xe(r.a.b);q.a<q.c.c.length;)O=z(Ee(q),33),H=St(H,O.j.a);return ee=sW(r.a.c,r.a.d,l,_,H),Ja(r.a.a,o2(ee)),W=nT(r.a.b,ee.a,ae),R=new Rv((!ee.k&&(ee.k=new v2(F_(ee))),ee.k)),PC(R),W?TC(R,W):R}function gU(r,l,_){var R,O,q,H,W,ee,ae;R=_,O=l;do O=r.a[O.k],H=(ae=r.f[O.k],ct(r.n[ae.k])+ct(r.d[O.k])-O.e.d),W=yj(O,O.d?Sa(O.d.a,O,0):-1),W&&(q=(ee=r.f[W.k],ct(r.n[ee.k])+ct(r.d[W.k])+W.j.b+W.e.a),R=qn(R,H-(q+kv(r.j,O,W))));while(l!=O);return R}function pU(r,l,_){var R,O,q,H,W,ee,ae;R=_,O=l;do O=r.a[O.k],q=(ae=r.f[O.k],ct(r.n[ae.k])+ct(r.d[O.k])+O.j.b+O.e.a),W=Wj(O,O.d?Sa(O.d.a,O,0):-1),W&&(H=(ee=r.f[W.k],ct(r.n[ee.k])+ct(r.d[W.k])-W.e.d),R=qn(R,H-(q+kv(r.j,O,W))));while(l!=O);return R}function vT(r,l,_){var R,O,q;if(aa(_,aA),_==0)return hy(r,l);q=r.c.a,O=ot(Hr,zr,26,1,12,1);try{if(!xv(r.b,l)||!q)return 0;R=MT(q,r.d,l,_,O)}catch(H){if(H=ji(H),yt(H,119))return 0;if(yt(H,76))return 0;throw zi(H)}return km(r.c,q,R),O[0]}function vU(r,l){var _,R,O,q,H;return r.b?(R=z(Jr(r.e,(pt(),_0)),65),O=R.b+R.c,_=R.d+R.a):(O=l*2,_=l*2),H=St(r.o[1]>0?O+r.i[1]*l+r.n[1]:0,r.o[3]>0?O+r.i[3]*l+r.n[3]:0),q=St(r.o[4]>0?_+r.i[4]*l+r.n[4]:0,r.o[2]>0?_+r.i[2]*l+r.n[2]:0),new Wt(H,q)}function a5(r){var l,_,R,O,q,H;for(H=z(jr(r.a,ot(hi,Aa,9,r.a.c.length,0,1)),51),qk(H,new mn),_=null,O=0,q=H.length;O<q&&(R=H[O],R.g==(Ht(),yr));++O)l=z(Se(R,(tt(),Ri)),32),!(l!=(ht(),Ft)&&l!=Pt)&&(_&&z(Se(_,Qd),20).ib(R),_=R)}function Qv(r,l,_,R,O){var q,H,W,ee;for(ee=new Bl(l,R),W=rf(ee);W.G();)q=z(W.H(),7),Kn(r.k,q,nn(z(Bn(r.k,q),24).a+z(ra(ia(O.d,_)),24).a));for(ee=new Bl(_,R),H=rf(ee);H.G();)q=z(H.H(),7),Kn(r.k,q,nn(z(Bn(r.k,q),24).a-z(ra(ia(O.d,l)),24).a))}function ke(r,l,_){var R=Dy,O,q=R[r],H=q instanceof Array?q[0]:null;q&&!H?ie=q:(ie=(O=l&&l.prototype,!O&&(O=Dy[l]),b8(O)),ie._c=_,ie.constructor=ie,!l&&(ie.ad=n),R[r]=ie);for(var W=3;W<arguments.length;++W)arguments[W].prototype=ie;H&&(ie.$c=H)}function mU(r){if(r.Sc()){var l=r.c;l.Tc()?r.n="["+l.k:l.Sc()?r.n="["+l.Qc():r.n="[L"+l.Qc()+";",r.b=l.Pc()+"[]",r.j=l.Rc()+"[]";return}var _=r.i,R=r.d;R=R.split("/"),r.n=c2(".",[_,c2("$",R)]),r.b=c2(".",[_,c2(".",R)]),r.j=R[R.length-1]}function mT(r,l,_){var R;if(!_)return 0;if(R=r.d.$b(r.b.g,_.b),R>0)return mT(r,l,_.g);if(R==0)switch(r.b.f.e){case 0:return mi(l._b(_),l.ac(_.g));case 1:return l.ac(_.g);default:throw new k1}else return mi(mi(l.ac(_.g),l._b(_)),mT(r,l,_.e))}function yT(r,l,_){var R;if(!_)return 0;if(R=r.d.$b(r.b.e,_.b),R<0)return yT(r,l,_.e);if(R==0)switch(r.b.d.e){case 0:return mi(l._b(_),l.ac(_.e));case 1:return l.ac(_.e);default:throw new k1}else return mi(mi(l.ac(_.e),l._b(_)),yT(r,l,_.g))}function o5(r,l,_,R){var O,q,H,W;return H=new No(r),na(H,(Ht(),rr)),et(H,(tt(),Jt),l),et(H,(pt(),en),(Rr(),Zi)),et(H,Ma,_),et(H,wa,R),q=new Br,An(q,(ht(),Ft)),Qn(q,H),W=new Br,An(W,Pt),Qn(W,H),gr(l,q),O=new ru,ic(O,l),et(O,Gr,null),Ir(O,W),gr(O,R),H}function s5(r,l){var _,R,O,q,H,W,ee,ae,ce,fe;for(_=0,H=r.j,W=0,ee=H.length;W<ee;++W)for(q=H[W],fe=new Bl(q,l),ce=rf(fe);ce.G();)for(ae=z(ce.H(),7),O=wn(yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[ae.b,ae.e]))))));vn(O);)R=z(cn(O),12),Xl(R)||(_+=d5(r,R,ae));return _}function yU(r,l){return r.c<l.c?-1:r.c>l.c?1:r.b<l.b?-1:r.b>l.b?1:r.a!=l.a?Ku(r.a)-Ku(l.a):r.d==(Fm(),G0)&&l.d==j0?-1:r.d==j0&&l.d==G0?1:0}function bU(r){var l,_,R,O,q,H;for(O=new qi,R=new xe(r.d.a);R.a<R.c.c.length;)_=z(Ee(R),61),_.c.c.length==0&&ci(O,_,O.c.b,O.c);if(O.b>1)for(l=bv(fk(new Ff,r.b++),r.d),H=zn(O,0);H.b!=H.d.c;)q=z($n(H),61),Id(td(rd(ad(nd(new Cs,1),0),l),q))}function wU(r,l,_,R){var O,q,H,W,ee,ae;for(ae=0,H=new xe(r.a.b);H.a<H.c.c.length;)q=z(Ee(H),33),ae=St(ae,q.j.a);return ee=qV(r.a.c,l,r.a.d,R,zS(r.b),_),Ja(r.a.a,o2(ee)),W=nT(r.a.b,ee.a,r.b),O=new Rv((!ee.k&&(ee.k=new v2(F_(ee))),ee.k)),PC(O),W?TC(O,W):O}function T2(r,l){var _,R,O,q,H;for(R=new xe(r.b);R.a<R.c.c.length;)_=z(Ee(R),33),et(_,(tt(),Ko),l);for(H=new xe(r.c.c);H.a<H.c.c.length;)O=z(Ee(H),33),et(O,(tt(),Ko),l);for(q=new xe(r.d.c);q.a<q.c.c.length;)O=z(Ee(q),33),et(O,(tt(),Ko),l)}function nf(){nf=s,nb=new zf(ip,0),F0=new zf("NIKOLOV",1),B0=new zf("NIKOLOV_PIXEL",2),WL=new zf("NIKOLOV_IMPROVED",3),XL=new zf("NIKOLOV_IMPROVED_PIXEL",4),VL=new zf("DUMMYNODE_PERCENTAGE",5),ZL=new zf("NODECOUNT_PERCENTAGE",6),rb=new zf("NO_BOUNDARY",7)}function u5(r,l){var _,R,O,q,H;if(q=0,H=z(ra(ia(l.d,r)),24),!H)return 0;for(O=wn(yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[r.b,r.e]))))));vn(O);)R=z(cn(O),12),R.c==r?_=z(Bn(l,R.d),24):_=z(Bn(l,R.c),24),_&&H.a>_.a&&(q=Vi(q,H.a-_.a-1));return q}function _U(r){var l,_;switch(l=z(Se(r,(pt(),fp)),15).a,_=z(Se(r,hp),15).a,et(r,hp,new Nn(l)),et(r,fp,new Nn(_)),z(Se(r,Zo),103).e){case 1:et(r,Zo,(Fs(),Hy));break;case 2:et(r,Zo,(Fs(),qy));break;case 3:et(r,Zo,(Fs(),zy));break;case 4:et(r,Zo,(Fs(),Gy))}}function xU(r){var l,_,R,O,q;for(O=($r(),new Ls(Ms(tu(r.a,new I))));vn(O);)for(R=z(cn(O),9),R.g==(Ht(),jo)&&(q=NN(R)?(Ba(),Ou):(Ba(),Us),et(R,(tt(),Ko),q)),_=wn(pr(R));vn(_);)l=z(cn(_),12),q=bn(ct(_n(Se(l,(tt(),Fu)))))?(Ba(),Us):(Ba(),Ou),T2(l,q)}function EU(r){var l,_,R,O,q;for(O=($r(),new Ls(Ms(tu(r.a,new I))));vn(O);)for(R=z(cn(O),9),R.g==(Ht(),jo)&&(q=NN(R)?(Ba(),Us):(Ba(),Ou),et(R,(tt(),Ko),q)),_=wn(pr(R));vn(_);)l=z(cn(_),12),q=bn(ct(_n(Se(l,(tt(),Fu)))))?(Ba(),Ou):(Ba(),Us),T2(l,q)}function bT(r,l,_){var R,O,q;for(q=new xe(r.e);q.a<q.c.c.length;)R=z(Ee(q),118),R.b.d<0&&R.c>0&&(R.b.c-=R.c,R.b.c<=0&&R.b.f>0&&Un(l,R.b));for(O=new xe(r.b);O.a<O.c.c.length;)R=z(Ee(O),118),R.a.d<0&&R.c>0&&(R.a.f-=R.c,R.a.f<=0&&R.a.c>0&&Un(_,R.a))}function wT(r,l,_){var R,O,q;for(q=new xe(r.j);q.a<q.c.c.length;)R=z(Ee(q),117),R.b.i<0&&R.c>0&&(R.b.e-=R.c,R.b.e<=0&&R.b.k>0&&Un(l,R.b));for(O=new xe(r.d);O.a<O.c.c.length;)R=z(Ee(O),117),R.a.i<0&&R.c>0&&(R.a.k-=R.c,R.a.k<=0&&R.a.e>0&&Un(_,R.a))}function kU(r){var l,_,R,O,q;switch(q=r.d.c+r.e.c,q){case 0:return Dr(),bF;case 1:return R=z(L3(new ih(new rs(r).a)),21),K7(R.yb(),R.zb());default:for(O=(Ar(),new zg),_=new ih(new rs(r).a);_.b;)l=Ug(_),Hv(O,tn(l.yb()),tn(l.zb()));return new ok(O)}}function CU(r,l,_){var R,O,q;for(O=new xe(r.b.a.b);O.a<O.c.c.length;)R=z(Ee(O),25),l.D(R)&&(q=ct(Cn(_.B(R))),q>0&&(!(jf(r.b.d)&&R.q.d)&&!(fw(r.b.d)&&R.q.b)&&(R.j.e+=0>q/2-.5?0:q/2-.5),!(jf(r.b.d)&&R.q.a)&&!(fw(r.b.d)&&R.q.c)&&(R.j.b-=q-1)))}function SU(r,l){switch(r.e){case 1:switch(l.e){case 1:return mA;case 4:return .5;case 3:return yA;case 2:return tF}break;case 2:switch(l.e){case 1:return mA;case 2:return .5;case 3:return yA;case 4:return tF}break;default:throw new Gn(vA)}return 0}function A2(r,l){var _,R,O,q;for(q=new nr(r,0),_=(Kt(q.b<q.d.Y()),z(q.d.sb(q.c=q.b++),48));q.b<q.d.Y();)R=(Kt(q.b<q.d.Y()),z(q.d.sb(q.c=q.b++),48)),O=new aC(R.c,_.d,l),Kt(q.b>0),q.a.sb(q.c=--q.b),Ju(q,O),Kt(q.b<q.d.Y()),q.d.sb(q.c=q.b++),O.a=!1,_=R}function c5(r){var l,_,R,O,q,H;for(O=z(Se(r,(tt(),db)),7),H=new xe(r.f);H.a<H.c.c.length;){for(q=z(Ee(H),7),R=new xe(q.e);R.a<R.c.c.length;)return l=z(Ee(R),12),gr(l,O),q;for(_=new xe(q.b);_.a<_.c.c.length;)return l=z(Ee(_),12),Ir(l,O),q}return null}function l5(r,l,_,R,O){var q,H,W,ee,ae,ce;for(H=l,q=0,W=!1,ce=new Bl(_,R),ae=rf(ce);ae.G();)ee=z(ae.H(),7),W=!0,Kn(r.k,ee,nn(H)),(la(z(Se(_,(pt(),en)),28))||ee.b.c.length+ee.e.c.length>1)&&(++q,++H);return!la(z(Se(_,(pt(),en)),28))&&W&&(++q,++H),Kn(O,_,nn(q)),H}function f5(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe;for(H=r.b.mb(),W=z(H.H(),92),ce=W.a.a,ae=ce>ff,ee=ce<Py;H.G();){if(_=W,q=ce,O=ae,R=ee,W=z(H.H(),92),ce=W.a.a,ae=ce>ff,ee=ce<Py,!(ae||ee))return $v(W.b);if(O&&ee||R&&ae)return l=q/(q-ce),fe=$v(_.b),pe=$v(W.b),l*fe+(1-l)*pe}return 0}function h5(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe;for(H=r.b.mb(),W=z(H.H(),92),ce=W.a.b,ae=ce>ff,ee=ce<Py;H.G();){if(_=W,q=ce,O=ae,R=ee,W=z(H.H(),92),ce=W.a.b,ae=ce>ff,ee=ce<Py,!(ae||ee))return $v(W.b);if(O&&ee||R&&ae)return l=q/(q-ce),fe=$v(_.b),pe=$v(W.b),l*fe+(1-l)*pe}return 0}function d5(r,l,_){var R,O;return R=0,h_(l)?Pl(r.g,l)?(vT(r.i,nn(Fl(r,l.c)),1)>0,vT(r.i,nn(Fl(r,l.d)),1)>0,Bw(r.g,l),R+=EG(r,l,r.i)):(lr(r.g,l),yy(r.i,nn(Fl(r,l.c)),1),yy(r.i,nn(Fl(r,l.d)),1)):(O=hy(r.i,nn(z(Bn(r.k,_),24).a)),R+=r.g.a.Y()-O),R}function TU(r){switch(r.e){case 0:return W6;case 1:return U6;case 2:return H6;case 3:return K6;case 4:return Z6;case 5:return rq;case 6:return nq;case 7:return X6;case 8:return Y6;case 9:return V6;case 11:return J6;case 10:return Q6;default:return tq}}function wy(r){switch(r.e){case 0:return bs;case 1:return vu;case 2:return ul;case 3:return gc;case 4:return pc;case 5:return Vs;case 6:return fl;case 7:return ll;case 8:return cl;case 9:return Ys;case 10:return _f;case 11:return vc;default:return _h}}function Jv(r){switch(r.e){case 0:return Vs;case 1:return fl;case 2:return ll;case 3:return bs;case 4:return vu;case 5:return ul;case 6:return gc;case 7:return pc;case 8:return cl;case 9:return Ys;case 10:return _f;case 11:return vc;default:return _h}}function _T(r){switch(r.e){case 0:return ul;case 1:return gc;case 2:return pc;case 3:return Vs;case 4:return fl;case 5:return ll;case 6:return bs;case 7:return vu;case 8:return cl;case 9:return Ys;case 10:return _f;case 11:return vc;default:return _h}}function AU(r){var l,_,R,O,q,H,W,ee;for(_=(Ar(),new zg),W=new r_((Is(),new vo(r.f))),H=(O=new Dn(W.a).a.bb().mb(),new Fn(O));H.a.G();){if(q=(R=z(H.a.H(),21),z(R.yb(),9)),!q){Yf();break}ee=r.i[q.k],l=z(P_(_,ee),20),l||(l=new dt,Hv(_,ee,l)),l.ib(q)}return _}function LU(r,l,_){var R,O,q;for(O=new xe(r.b.a.b);O.a<O.c.c.length;)R=z(Ee(O),25),l.D(R)&&(q=ct(Cn(_.B(R))),q>0&&(!(jf(r.b.d)&&R.q.d)&&!(fw(r.b.d)&&R.q.b)&&(R.j.e-=0>q/2-.5?0:q/2-.5),!(jf(r.b.d)&&R.q.a)&&!(fw(r.b.d)&&R.q.c)&&(R.j.b+=0>q-1?0:q-1)))}function rf(r){var l,_,R;switch(R=r.a.f,r.b){case 0:return new xe(r.a.f);case 1:return Wf((_=new qC(R),_),KS(r));case 2:switch(r.c.e){case 2:case 1:return Wf(new xe(R),KS(r));case 3:case 4:return Wf((l=new qC(R),l),KS(r))}}throw new Kh("PortOrder not implemented.")}function MU(r,l){var _;r.d&&(l.c!=r.e.c||Gj(r.e.b,l.b))&&(xt(r.f,r.d),r.a=r.d.d+r.d.c,r.d=null,r.e=null),x7(l.b)?r.c=l:r.b=l,(l.b==(Nv(),ol)&&!l.a||l.b==yf&&l.a||l.b==wh&&l.a||l.b==bf&&!l.a)&&r.c&&r.b&&(_=new Do(r.a,r.c.d,l.c-r.a,r.b.d-r.c.d),r.d=_,r.e=l)}function af(r,l,_,R){this.e=r,this.j=z(Se(r,(tt(),Cf)),134),this.f=ot(hi,Aa,9,l,0,1),this.b=ot(e1,wi,184,l,6,1),this.a=ot(hi,Aa,9,l,0,1),this.d=ot(e1,wi,184,l,6,1),this.i=ot(hi,Aa,9,l,0,1),this.g=ot(e1,wi,184,l,6,1),this.n=ot(e1,wi,184,l,6,1),this.k=_,this.c=R}function IU(r,l,_){var R,O;if(l.g==(Ht(),Kr)&&_.g==Kr){if(!la(z(Se(z(Se(l,(tt(),Jt)),9),(pt(),en)),28))||z(Se(l,Jt),9)!=z(Se(_,Jt),9))return;if(YN(l)||YN(_)){r.d=1,r.b=1;return}O=z($t(l.f,0),7).g,R=z($t(_.f,0),7).g,L_(l).g==(ht(),Yt)?g5(r,l,_,O,R):g5(r,_,l,R,O)}}function Id(r){if(!r.a.c||!r.a.d)throw new Ic((Uf(e6),e6.j+" must have a source and target "+(Uf(rM),rM.j)+" specified."));if(r.a.c==r.a.d)throw new Ic("Network simplex does not support self-loops: "+r.a+" "+r.a.c+" "+r.a.d);return qc(r.a.c.g,r.a),qc(r.a.d.c,r.a),r.a}function g5(r,l,_,R,O){R==(ht(),Pt)&&O==Pt?wd(r,l)>wd(r,_)?r.d=Td(r,_):r.b=Td(r,l):R==Ft&&O==Ft?wd(r,l)<wd(r,_)?r.d=Td(r,_):r.b=Td(r,l):R==Ft&&O==Pt?wd(r,l)>wd(r,_)&&(r.d=Td(r,_),r.b=Td(r,l)):wd(r,l)<wd(r,_)&&(r.d=Td(r,_),r.b=Td(r,l))}function RU(r){var l,_,R,O,q,H,W,ee;for(ee=r.f.c.length,_=0,l=ee,O=2*ee,W=new xe(r.f);W.a<W.c.c.length;)switch(H=z(Ee(W),7),H.g.e){case 2:case 4:H.k=-1;break;case 1:case 3:R=H.b.c.length,q=H.e.c.length,R>0&&q>0?H.k=l++:R>0?H.k=_++:q>0?H.k=O++:H.k=_++}Oo(r.f,new Gu)}function PU(r,l,_,R){var O,q,H,W,ee;_.d.f!=l.f&&(O=new No(r),na(O,(Ht(),rr)),et(O,(tt(),Jt),_),et(O,(pt(),en),(Rr(),Zi)),R.c[R.c.length]=O,H=new Br,Qn(H,O),An(H,(ht(),Ft)),W=new Br,Qn(W,O),An(W,Pt),ee=_.d,gr(_,H),q=new ru,ic(q,_),et(q,Gr,null),Ir(q,W),gr(q,ee),H3(O,H,W))}function DU(r){var l,_,R,O,q,H,W,ee,ae;for(H=Bs,ee=Bs,W=null,_=new g_(new Wp(r.e));_.b!=_.c.a.b;)if(l=QC(_),z(l.d,60).c==1&&(R=z(l.e,116).a,ae=z(l.e,116).b,O=H-R>Jc,q=R-H<Jc&&ee-ae>Jc,(O||q)&&(ee=z(l.e,116).b,H=z(l.e,116).a,W=z(l.d,60),ee==0&&H==0)))return W;return W}function p5(r,l){var _,R,O,q,H,W;return q=r.d,W=z(Se(r,(pt(),zs)),15).a,W<0&&(W=0,et(r,zs,new Nn(W))),l.j.b=W,H=Math.floor(W/2),R=new Br,An(R,(ht(),Ft)),Qn(R,l),R.i.b=H,O=new Br,An(O,Pt),Qn(O,l),O.i.b=H,gr(r,R),_=new ru,ic(_,r),et(_,Gr,null),Ir(_,O),gr(_,q),zG(l,r,_),cH(r,_),_}function OU(r){var l,_;_=z(Se(r,(Ln(),di)),85),l=z(Se(r,(tt(),Nu)),140),_==(qa(),dl)?(et(r,di,Th),et(r,Nu,(ou(),Ch))):_==bc?(et(r,di,Th),et(r,Nu,(ou(),Zd))):l==(ou(),Ch)?(et(r,di,dl),et(r,Nu,hb)):l==Zd&&(et(r,di,bc),et(r,Nu,hb))}function $U(r){var l,_,R,O,q;for(R=new xe(Uv(r.e));R.a<R.c.c.length;)_=z(Ee(R),129),q=new qr(_.e.i),O=NS()[_.e.k],l=z(bd(r.c,O),283),q.b=l.e+l.a,O.b==(T_(),il)?q.a=l.d:O.b==Wd?q.a=l.d+(l.c-_.e.j.a)/2:O.b==al&&(q.a=l.d+l.c-_.e.j.a),_.e.i.a=q.a,_.e.i.b=q.b,l.a+=_.e.j.b+r.d}function NU(r){var l,_,R;for(_=new xe(Wc(r));_.a<_.c.c.length;){switch(l=z(Ee(_),161),R=new qr(l.e.i),z(l.e,7).g.e){case 4:R.a=0,R.b=r.e.j.b/2;break;case 2:R.a=r.e.j.a,R.b=r.e.j.b/2;break;case 1:R.a=r.e.j.a/2,R.b=0;break;case 3:R.a=r.e.j.a/2,R.b=r.e.j.b}l.e.i.a=R.a,l.e.i.b=R.b}}function v5(){this.c=ot(Wa,ga,26,(ht(),Ze(Ke(xi,1),kt,32,0,[ii,Yt,Pt,Qt,Ft])).length,12,1),this.b=ot(Wa,ga,26,Ze(Ke(xi,1),kt,32,0,[ii,Yt,Pt,Qt,Ft]).length,12,1),this.a=ot(Wa,ga,26,Ze(Ke(xi,1),kt,32,0,[ii,Yt,Pt,Qt,Ft]).length,12,1),Rw(this.c,ya),Rw(this.b,Ii),Rw(this.a,Ii)}function m5(r,l,_){var R,O,q,H,W,ee,ae,ce;for(q=ct(Cn(r.b.mb().H())),ae=ct(Cn(o$(l.b))),R=Rs(Ro(r.a),ae-_),O=Rs(Ro(l.a),_-q),ce=ur(R,O),Rs(ce,1/(ae-q)),this.a=ce,this.b=new dt,W=!0,H=r.b.mb(),H.H();H.G();)ee=ct(Cn(H.H())),W&&ee-_>ff&&(this.b.ib(_),W=!1),this.b.ib(ee);W&&this.b.ib(_)}function FU(r){var l,_,R,O;if(hY(r,r.n),r.d.c.length>0){for(ov(r.c);hT(r,z(Ee(new xe(r.e.a)),61))<r.e.a.c.length;){for(l=WG(r),O=l.d.e-l.c.e-l.a,l.d.j&&(O=-O),R=new xe(r.e.a);R.a<R.c.c.length;)_=z(Ee(R),61),_.j&&(_.e+=O);ov(r.c)}ov(r.c),aT(r,z(Ee(new xe(r.e.a)),61)),i4(r)}}function BU(r,l){var _,R,O,q,H,W,ee;for(_=Ii,W=(Ht(),Pr),O=new xe(l.a);O.a<O.c.c.length;)R=z(Ee(O),9),q=R.g,q!=Pr&&(H=Cn(Se(R,(tt(),DM))),H==null?(_=_>0?_:0,R.i.b=_+Xw(r.a,q,W)):R.i.b=(ti(H),H)),ee=Xw(r.a,q,W),R.i.b<_+ee+R.e.d&&(R.i.b=_+ee+R.e.d),_=R.i.b+R.j.b+R.e.a,W=q}function y5(r,l,_){var R,O,q;for(_.db(l,r),xt(r.g,l),q=r.o.d.Lc(l),pI(r.k)?r.k=q:r.k=qn(r.k,q),pI(r.a)?r.a=q:r.a=St(r.a,q),l.g==r.o.d.Mc()?yN(r.j,q):yN(r.n,q),O=wn(yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[new Pf(l),new Cl(l)]))))));vn(O);)R=z(cn(O),7),_.R(R)||y5(r,R,_)}function qU(r){var l,_,R,O,q;for(R=(Et(),r.length),O=R>0&&(r.charCodeAt(0)==45||r.charCodeAt(0)==43)?1:0,l=O;l<R;l++)if(Rz(r.charCodeAt(l))==-1)throw new F1(F2+r+'"');if(q=parseInt(r,10),_=q<Mu,isNaN(q))throw new F1(F2+r+'"');if(_||q>fi)throw new F1(F2+r+'"');return q}function jU(r,l,_,R){var O,q,H,W;for(O=z(Zr(l,(ht(),Ft)).mb().H(),7),q=z(Zr(l,Pt).mb().H(),7),W=new xe(r.f);W.a<W.c.c.length;){for(H=z(Ee(W),7);H.b.c.length!=0;)gr(z($t(H.b,0),12),O);for(;H.e.c.length!=0;)Ir(z($t(H.e,0),12),q)}_||et(l,(tt(),Ma),null),R||et(l,(tt(),wa),null)}function zU(r){var l,_,R,O,q,H,W;for(W=new pO,H=new xe(r.b);H.a<H.c.c.length;)if(q=z(Ee(H),9),q.g!=(Ht(),yr)){for(QH(W,q,new Ni),O=wn(pr(q));vn(O);)if(R=z(cn(O),12),!(R.c.f.g==yr||R.d.f.g==yr))for(_=zn(R.a,0);_.b!=_.d.c;)l=z($n(_),10),Vg(W,new od(l.a,l.b))}return W}function e0(r,l,_,R){var O,q,H;if(this.e=new Ci,this.a=r,this.b=l,r.b<l.b?(this.j=r.a,this.k=r.b,this.n=l.b):(this.j=l.a,this.k=l.b,this.n=r.b),O=z(Se(R,(pt(),Gr)),44),O)for(H=zn(O,0);H.b!=H.d.c;)q=z($n(H),10),eS(q.a,r.a)&&Un(this.e,q);this.g=_,this.g&&(this.i=this.j-_.j.d),this.f=R}function of(r){wo();var l,_,R,O,q,H;for(H=new Fa,Bv(H,r),_=(q=new Dn(H.a).a.bb().mb(),new Fn(q));_.a.G();)l=(R=z(_.a.H(),21),R.yb()),tn(l);switch(H.a.Y()){case 0:return yd(),cp;case 1:return new Dc((O=new Dn(H.a).a.bb().mb(),R=z(new Fn(O).a.H(),21),R.yb()));default:return new Ew(H)}}function _y(r,l,_,R){var O,q,H;$o(r,_,"x",l.i.a+R.a),$o(r,_,"y",l.i.b+R.b),$o(r,_,U2,l.j.a),$o(r,_,V2,l.j.b),yt(l,9)&&z(Se(l,(pt(),L0)),86).kb((Md(),Rx))&&(O=z(l,9).b,H=kr(_,W2),H||(H=new Bf,ko(_,W2,H)),q=H.kc(),$o(r,q,"left",O.b),$o(r,q,"top",O.d),$o(r,q,"right",O.c),$o(r,q,cA,O.a))}function b5(r,l){var _,R,O,q,H,W,ee,ae,ce,fe;for(H=l==1?Fx:Nx,q=(ee=new Dn(H.a).a.bb().mb(),new Fn(ee));q.a.G();)for(O=(W=z(q.a.H(),21),z(W.yb(),59)),ce=z(So(r.f.c,O),18).mb();ce.G();)switch(ae=z(ce.H(),27),R=z(ae.b,25),fe=z(ae.a,78),_=fe.c,O.e){case 2:case 1:R.j.e+=_;break;case 4:case 3:R.j.d+=_}}function GU(r,l){var _,R,O;l.a?(EC(r.b,l.b),r.a[l.b.k]=z(KR(r.b,l.b),25),_=z(ZR(r.b,l.b),25),_&&(r.a[_.k]=l.b)):(R=z(KR(r.b,l.b),25),R&&R==r.a[l.b.k]&&R.f&&R.f!=l.b.f&&R.i.ib(l.b),O=z(ZR(r.b,l.b),25),O&&r.a[O.k]==l.b&&O.f&&O.f!=l.b.f&&l.b.i.ib(O),vP(r.b,l.b))}function HU(r,l){var _,R,O,q,H,W,ee;for(O=new dt,_=0;_<=r.i;_++)R=new Hl(l),R.k=r.i-_,O.c[O.c.length]=R;for(W=new xe(r.o);W.a<W.c.c.length;)H=z(Ee(W),9),Ti(H,z($t(O,r.i-r.f[H.k]),16));for(q=new xe(O);q.a<q.c.c.length;)ee=z(Ee(q),16),ee.a.c.length==0&&Fg(q);l.c.c=ot(zt,At,1,0,4,1),_r(l.c,O)}function UU(r){var l,_,R,O;for(r.a.a.c=ot(zt,At,1,0,4,1),R=new xe(r.a.b);R.a<R.c.c.length;)l=z(Ee(R),25),l.f=null;for(O=new xe(r.a.b);O.a<O.c.c.length;)l=z(Ee(O),25),!l.o&&xt(r.a.a,new ry(Ze(Ke(Vy,1),At,25,0,[l])));for(_=new xe(r.a.b);_.a<_.c.c.length;)l=z(Ee(_),25),l.o&&Xm(l.o.f,l)}function n0(r,l){var _,R,O,q;for(r=(Et(),r??Lu),_=(r.length+16*l.length,new iw),q=0,R=0;R<l.length&&(O=r.indexOf("%s",q),O!=-1);)SO(_,r,q,O),$c(_,l[R++]),q=O+2;if(J7(_,r,q,r.length),R<l.length){for(_.a+=" [",$c(_,l[R++]);R<l.length;)_.a+=", ",$c(_,l[R++]);_.a+="]"}return _.a}function w5(r,l,_,R){var O,q;if(l){if(O=r.a.$b(_.d,l.d),O==0)return R.d=oC(l,_.e),R.b=!0,l;q=O<0?0:1,l.a[q]=w5(r,l.a[q],_,R),Pc(l.a[q])&&(Pc(l.a[1-q])?(l.b=!0,l.a[0].b=!1,l.a[1].b=!1):Pc(l.a[q].a[q])?l=Vm(l,1-q):Pc(l.a[q].a[1-q])&&(l=iO(l,1-q)))}else return _;return l}function YU(r,l){var _,R,O,q,H,W,ee,ae,ce,fe;for(ee=mv(l.a),W=Wr(Q1(ee/r.a)),fe=l.a,H=0,ae=W,q=0;q<r.a;++q)ce=(Et(),fe.substr((0>H?0:H)<ee?0>H?0:H:ee,(0>(ae<ee?ae:ee)?0:ae<ee?ae:ee)-((0>H?0:H)<ee?0>H?0:H:ee))),H=ae,ae+=W,R=z($t(r.c,q),9),_=new Ok(ce),_.j.b=l.j.b,an(r.b,l,_),xt(R.c,_);gi(r.g.c,l),xt(r.i,(O=new tR(r,l),O))}function _5(r,l,_){var R,O,q,H,W,ee,ae,ce,fe;for(l.k=1,q=l.d,fe=uu(l,(ni(),Ki)).mb();fe.G();)for(ce=z(fe.H(),7),O=new xe(ce.e);O.a<O.c.c.length;)R=z(Ee(O),12),ae=R.d.f,l!=ae&&(H=ae.d,H.k<=q.k&&(W=q.k+1,W==_.c.c.length?(ee=new Hl(_),ee.k=W,xt(_.c,ee),Ti(ae,ee)):(ee=z($t(_.c,W),16),Ti(ae,ee)),_5(r,ae,_)))}function VU(r){var l,_,R,O,q;for(l=r.e.j,R=new xe(Wc(r));R.a<R.c.c.length;){switch(_=z(Ee(R),161),O=z(Jr(_,(pt(),gf)),15),!O&&(O=new Nn(0)),q=new qr(_.e.i),z(_.e,7).g.e){case 4:q.a=-_.e.j.a-O.a;break;case 2:q.a=l.a+O.a;break;case 1:q.b=-_.e.j.b-O.a;break;case 3:q.b=l.b+O.a}_.e.i.a=q.a,_.e.i.b=q.b}}function WU(r){var l,_,R;R=z(Se(r,(pt(),to)),18),!R.V()&&(_=(l=z(Na(xr),11),new Xi(l,z(xa(l,l.length),11),0)),R.kb((sc(),ba))?oa(_,ba):oa(_,Ya),R.kb(Ha)||oa(_,Ha),R.kb(Ga)?oa(_,fo):R.kb(qo)?oa(_,lo):R.kb(Ua)&&oa(_,co),R.kb(fo)?oa(_,Ga):R.kb(lo)?oa(_,qo):R.kb(co)&&oa(_,Ua),et(r,to,_))}function x5(r,l,_,R,O){var q,H,W,ee,ae,ce,fe,pe,be,_e;for(pe=wN(r,_),ee=0;ee<l;ee++){for(O.J(_),be=new dt,_e=z(R.H(),92),ce=pe+ee;ce<r.c;ce++)W=_e,_e=z(R.H(),92),xt(be,new m5(W,_e,_));for(fe=pe+ee;fe<r.c;fe++)R.M(),fe>pe+ee&&R.I();for(H=new xe(be);H.a<H.c.c.length;)q=z(Ee(H),92),R.J(q);if(ee<l-1)for(ae=pe+ee;ae<r.c;ae++)R.M()}}function XU(r){var l,_,R,O;if(r.d&&z(r.e,7).f.g==(Ht(),Kr))return jn(),jn(),gl;if(!r.a){for(r.a=new dt,R=new xe(z(r.e,7).b);R.a<R.c.c.length;)l=z(Ee(R),12),xt(r.a,new Tc(l));if(r.d&&(O=z(Se(z(r.e,7),(tt(),mu)),9),O))for(_=wn(yi(O));vn(_);)l=z(cn(_),12),xt(r.a,new Tc(l))}return r.a}function ZU(r){var l,_,R,O;if(r.d&&z(r.e,7).f.g==(Ht(),Kr))return jn(),jn(),gl;if(!r.c){for(r.c=new dt,R=new xe(z(r.e,7).e);R.a<R.c.c.length;)l=z(Ee(R),12),xt(r.c,new Tc(l));if(r.d&&(O=z(Se(z(r.e,7),(tt(),mu)),9),O))for(_=wn(pr(O));vn(_);)l=z(cn(_),12),xt(r.c,new Tc(l))}return r.c}function KU(r,l){var _,R,O,q,H,W,ee,ae;for(W=z(Se(r,(tt(),Jt)),7),ee=Jn(Ze(Ke(In,1),Mn,10,0,[W.f.i,W.i,W.a])).a,ae=r.f.i.b,_=z(jr(r.b,ot(Va,ja,12,r.b.c.length,0,1)),47),O=0,q=_.length;O<q;++O)R=_[O],gr(R,W),hw(R.a,new Wt(ee,ae)),l&&(H=z(Se(R,(pt(),Gr)),44),H||(H=new Ci,et(R,Gr,H)),Un(H,new Wt(ee,ae)))}function QU(r,l){var _,R,O,q,H,W,ee,ae;for(O=z(Se(r,(tt(),Jt)),7),ee=Jn(Ze(Ke(In,1),Mn,10,0,[O.f.i,O.i,O.a])).a,ae=r.f.i.b,_=z(jr(r.e,ot(Va,ja,12,r.e.c.length,0,1)),47),H=0,W=_.length;H<W;++H)q=_[H],Ir(q,O),KI(q.a,new Wt(ee,ae)),l&&(R=z(Se(q,(pt(),Gr)),44),R||(R=new Ci,et(q,Gr,R)),Un(R,new Wt(ee,ae)))}function JU(r){var l,_,R,O,q,H,W,ee,ae;for(H=Bs,ee=Bs,W=null,_=new g_(new Wp(r.e));_.b!=_.c.a.b;)if(l=QC(_),(Ot(l.d)===Ot((da(),Ys))||Ot(l.d)===Ot(cl))&&(R=z(l.e,116).a,ae=z(l.e,116).b,O=H-R>Jc,q=R-H<Jc&&ee-ae>Jc,(O||q)&&(ee=z(l.e,116).b,H=z(l.e,116).a,W=z(l.d,60),ee==0&&H==0)))return W;return W}function eY(r,l){var _,R,O,q,H;r.d=l,Wo(r.b),r.c=!1;e:for(R=new xe(r.d.c);R.a<R.c.c.length;)for(_=z(Ee(R),16),q=new xe(_.a);q.a<q.c.c.length;)if(O=z(Ee(q),9),!Lv(Xv(O))){r.c=!0;break e}return H=On((Fr(),ps),Ze(Ke(b0,1),kt,59,0,[Ao,za])),r.c||(oa(H,Du),oa(H,du)),r.a=new xC(H),GW(r),r.a}function E5(){var r,l,_,R,O;for(this.e=(Ar(),new zg),this.b=(_=z(Na(pp),11),new Xi(_,z(xa(_,_.length),11),0)),this.c=(R=z(Na(pp),11),new Xi(R,z(xa(R,R.length),11),0)),this.a=(O=z(Na(pp),11),new Xi(O,z(xa(O,O.length),11),0)),l=(da(),da(),j6).mb();l.G();)r=z(l.H(),60),Hv(this.e,r,new bI)}function tY(r,l,_){var R,O,q,H,W,ee;Wi(r.k-r.a)<cc||Wi(l.k-l.a)<cc||(R=r5(r.n,l.j,_),O=r5(l.n,r.j,_),q=Z_(r.n,l.k,l.a)+Z_(l.j,r.k,r.a),H=Z_(l.n,r.k,r.a)+Z_(r.j,l.k,l.a),W=16*R+q,ee=16*O+H,W<ee?new Ym(r,l,ee-W):W>ee?new Ym(l,r,W-ee):W>0&&ee>0&&(new Ym(r,l,0),new Ym(l,r,0)))}function sf(r,l){var _,R,O,q,H,W,ee,ae,ce;for(ae=new dt,ce=null,R=z(bd(wf,r),20).mb();R.G();){for(_=z(R.H(),75),ee=(q=new Dn(_.c.a).a.bb().mb(),new Fn(q));ee.a.G();)H=(O=z(ee.a.H(),21),z(O.yb(),7)),Ju(l,H),by(H,r.b);_r(ae,_.b),ce=r.a}for(vy(ae),D_(ae,ce),W=new xe(ae);W.a<W.c.c.length;)H=z(Ee(W),7),Ju(l,H)}function nY(){var r={layout:function(l){kb(UV(l))}};typeof document!==l0&&(t.$klay=r),e.exports&&(e.exports=r),typeof document===l0&&typeof self!==l0&&self.addEventListener("message",function(l){r.layout(l.data)},!1)}function r0(r,l,_,R,O){var q,H,W;W=O?R.b:R.a,(W>_.k&&W<_.a||_.j.b!=0&&_.n.b!=0&&(Wi(W-ct(Cn(zw(_.j))))<cc&&Wi(W-ct(Cn(zw(_.n))))<cc||Wi(W-ct(Cn(cm(_.j))))<cc&&Wi(W-ct(Cn(cm(_.n))))<cc))&&(Pl(r.b,R)||(H=z(Se(l,(pt(),Gr)),44),H||(H=new Ci,et(l,Gr,H)),q=new qr(R),ci(H,q,H.c.b,H.c),lr(r.b,q)))}function rY(r,l,_){var R,O,q,H,W,ee,ae,ce,fe;for(R=_.c,O=_.d,W=Ca(l.c),ee=Ca(l.d),R==l.c?(W=cT(r,W,O),ee=y3(l.d)):(W=y3(l.c),ee=cT(r,ee,O)),ae=new Yw(l.a),ci(ae,W,ae.a,ae.a.a),ci(ae,ee,ae.c.b,ae.c),H=l.c==R,fe=new S1,q=0;q<ae.b-1;++q)ce=new ui(z(Wg(ae,q),10),z(Wg(ae,q+1),10)),H&&q==0||!H&&q==ae.b-2?fe.b=ce:xt(fe.a,ce);return fe}function iY(r,l){var _,R,O,q;if(q=r.g.e-l.g.e,q!=0)return q;if(_=z(Se(r,(pt(),fc)),24),R=z(Se(l,fc),24),_&&R&&(O=_.a-R.a,O!=0))return O;switch(r.g.e){case 1:return li(r.i.a,l.i.a);case 2:return li(r.i.b,l.i.b);case 3:return li(l.i.a,r.i.a);case 4:return li(l.i.b,r.i.b);default:throw new Ic(V4)}}function aY(r,l){var _,R,O,q,H;for(H=new Ni,q=new xe(Wc(r));q.a<q.c.c.length;)switch(O=z(Ee(q),161),z(O.e,7).g.e){case 4:case 2:H.b=St(H.b,O.e.i.b+O.e.j.b+(l?(R=z(O.e,7).d,new Ds(R.d,R.b,R.a,R.c)).a:0));break;case 1:case 3:H.a=St(H.a,O.e.i.a+O.e.j.a+(l?(_=z(O.e,7).d,new Ds(_.d,_.b,_.a,_.c)).c:0))}return H}function L2(r,l){var _,R,O,q,H,W,ee;for(O=new dt,ee=new dt,_=z(bd(wf,r),20).mb();_.G();)R=z(_.H(),75),ON(O,R.b),ON(O,SN(R)),_.G()&&(R=z(_.H(),75),_r(ee,SN(R)),_r(ee,R.b));for(D_(O,r.b),D_(ee,r.a),W=new xe(O);W.a<W.c.c.length;)q=z(Ee(W),7),Ju(l,q);for(H=new xe(ee);H.a<H.c.c.length;)q=z(Ee(H),7),Ju(l,q)}function oi(){oi=s,xE=new Oc("COMMENTS",0),Ws=new Oc("EXTERNAL_PORTS",1),lb=new Oc("HYPEREDGES",2),EE=new Oc("HYPERNODES",3),Eh=new Oc("NON_FREE_PORTS",4),kh=new Oc("NORTH_SOUTH_PORTS",5),fb=new Oc("SELF_LOOPS",6),vp=new Oc("CENTER_LABELS",7),mp=new Oc("END_LABELS",8),mM=new Oc("PARTITIONS",9)}function oY(r,l){var _,R,O,q;for(r=(Et(),r??Lu),_=(r.length+16*l.length,new iw),q=0,R=0;R<l.length&&(O=r.indexOf("%s",q),O!=-1);)Uo(_,r.substr(q,O-q)),$c(_,l[R++]),q=O+2;if(Uo(_,Ng(r,q,r.length-q)),R<l.length){for(_.a+=" [",$c(_,l[R++]);R<l.length;)_.a+=", ",$c(_,l[R++]);_.a+="]"}return _.a}function xT(r,l,_){var R,O;switch(O=null,l.e){case 1:O=(oo(),gL);break;case 2:O=(oo(),pL)}switch(R=null,_.e){case 1:R=(oo(),jx);break;case 2:R=(oo(),qx);break;case 3:R=(oo(),zx);break;case 4:R=(oo(),Gx)}return O&&R?cs(r.f,(K1(),new Bp(new vo(Ze(Ke(WW,1),At,68,0,[z(tn(O),68),z(tn(R),68)]))))):(jn(),jn(),gl)}function ET(r,l,_){var R,O,q,H,W,ee,ae;for(ee=io(pr(l)),O=zn(ee,0);O.b!=O.d.c;)R=z($n(O),12),ae=R.d.f,!(bn(ct(_n(Se(ae,(tt(),hl)))))&&Se(ae,Jt)!=null)&&ae.g==(Ht(),La)&&!bn(ct(_n(Se(R,Fu))))&&R.d.g==(ht(),Ft)&&(q=Ka(ae.d)-Ka(l.d),q>1&&(_?H=Ka(l.d)+1:H=Ka(ae.d)-1,W=z($t(r.a.c,H),16),Ti(ae,W)),ET(r,ae,_));return l}function k5(r,l){var _,R,O,q;for(l.d?O=r.a.c==(fs(),sl)?yi(l.b):pr(l.b):O=r.a.c==(fs(),pu)?yi(l.b):pr(l.b),q=!1,R=($r(),new Ls(Ms(tu(O.a,new I))));vn(R);)if(_=z(cn(R),12),r.c.a[_.c.f.d.k]!==r.c.a[_.d.f.d.k]&&(q=!0,Pl(r.b,r.a.f[NG(_,l.b).k])))return l.c=!0,l.a=_,l;return l.c=q,l.a=null,l}function sY(r,l,_){var R,O,q,H;for(R=z(Se(r.d,(pt(),GA)),15).a,q=new xe(r.a.b);q.a<q.c.c.length;)if(O=z(Ee(q),25),yt(O,93)&&(H=z(O,93).b,H.g==(Ht(),yr)))switch(z(Se(H,(tt(),Ri)),32).e){case 4:H.i.a=l.a-R;break;case 2:H.i.a=_.a+R-(H.j.a+H.e.c);break;case 1:H.i.b=l.b-R;break;case 3:H.i.b=_.b+R-(H.j.b+H.e.a)}}function uY(){if(!Object.create||!Object.getOwnPropertyNames)return!1;var r="__proto__",l=Object.create(null);if(l[r]!==void 0)return!1;var _=Object.getOwnPropertyNames(l);return!(_.length!=0||(l[r]=42,l[r]!==42)||Object.getOwnPropertyNames(l).length==0)}function C5(r){var l,_,R,O,q,H,W,ee,ae;for(H=new xe(r.a.a);H.a<H.c.c.length;)O=z(Ee(H),78),O.f=0,O.e.a.Q();for(q=new xe(r.a.a);q.a<q.c.c.length;)for(O=z(Ee(q),78),_=(ae=new Dn(O.a.a).a.bb().mb(),new Fn(ae));_.a.G();)for(l=(R=z(_.a.H(),21),z(R.yb(),25)),ee=l.i.mb();ee.G();)W=z(ee.H(),25),W.f!=O&&(lr(O.e,W),++W.f.f)}function kT(r,l,_,R){var O,q,H,W;if(l.g==(Ht(),La)){for(q=wn(yi(l));vn(q);)if(O=z(cn(q),12),H=O.c.f,(H.g==La||bn(ct(_n(Se(H,(tt(),hl))))))&&r.d.a[O.c.f.d.k]==R&&r.d.a[l.d.k]==_)return!0}if(l.g==rr){for(q=wn(yi(l));vn(q);)if(O=z(cn(q),12),W=O.c.f.g,W==rr&&r.d.a[O.c.f.d.k]==R&&r.d.a[l.d.k]==_)return!0}return!1}function cY(r){var l,_,R,O,q,H;if(O=r.g.tb(),R=r.b.tb(),r.e)for(_=0;_<r.c;_++)O.H();else for(_=0;_<r.c-1;_++)O.H(),O.I();for(l=ct(Cn(O.H()));r.i-l>ff;){for(q=l,H=0;(l-q<=0?0-(l-q):l-q)<ff;)++H,l=ct(Cn(O.H())),R.H();H<r.c&&(O.M(),x5(r,r.c-H,q,R,O),O.H()),R.M()}if(!r.e)for(_=0;_<r.c-1;_++)O.H(),O.I();r.e=!0,r.d=!0}function lY(r){var l,_,R,O;switch(Ow(r.a).c){case 4:return da(),Vs;case 3:return z(B8(r.a).mb().H(),60);case 2:return R=Ow(r.a),_=new sd(R),l=z(Wl(_),60),O=z(Wl(_),60),Jv(l)==O?Ps(R,(da(),Vs))?gc:Vs:wy(wy(l))==O?wy(l):_T(l);case 1:return R=Ow(r.a),Jv(z(Wl(new sd(R)),60));case 0:return da(),pc;default:return null}}function S5(r,l){var _;YC.call(this),this.a=z(Se(l,(tt(),Ia)),15).a,this.c=this.a*z(Se(l,(Ln(),kp)),15).a,this.b=r,this.j=new Do(r.i.a-r.e.b,r.i.b-r.e.d,r.j.a+r.e.b+r.e.c,r.j.b+r.e.d+r.e.a),Eu(this.g),_=Zf(yi(r))-Zf(pr(r)),_<0?qv(this.n,!0,(Fr(),Ao)):_>0&&qv(this.n,!0,(Fr(),za)),r.g==(Ht(),yr)&&_o(this.n,!1,!1,!1,!1)}function i0(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe;for(q=new Wt(l,_),ce=new xe(r.b);ce.a<ce.c.c.length;)for(ae=z(Ee(ce),9),ur(ae.i,q),pe=new xe(ae.f);pe.a<pe.c.c.length;)for(fe=z(Ee(pe),7),O=new xe(fe.e);O.a<O.c.c.length;)for(R=z(Ee(O),12),Gc(R.a,q),H=z(Se(R,(pt(),Gr)),44),H&&Gc(H,q),ee=new xe(R.b);ee.a<ee.c.c.length;)W=z(Ee(ee),33),ur(W.i,q)}function fY(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe;for(q=new Wt(l,_),ce=new xe(r.b);ce.a<ce.c.c.length;)for(ae=z(Ee(ce),9),ur(ae.i,q),pe=new xe(ae.f);pe.a<pe.c.c.length;)for(fe=z(Ee(pe),7),O=new xe(fe.e);O.a<O.c.c.length;)for(R=z(Ee(O),12),Gc(R.a,q),H=z(Se(R,(pt(),Gr)),44),H&&Gc(H,q),ee=new xe(R.b);ee.a<ee.c.c.length;)W=z(Ee(ee),33),ur(W.i,q)}function T5(r,l){var _,R,O,q,H;for(H=new xe(r.f);H.a<H.c.c.length;)if(q=z(Ee(H),7),l){if(q.b.c.length!=0)throw new O1((O=qm(r),dA+(O??q1(r.k))+K4+Q4+gA))}else for(R=new xe(q.b);R.a<R.c.c.length;)if(_=z(Ee(R),12),Ot(Se(_.c.f,(Ln(),di)))!==Ot((qa(),dl)))throw new O1((O=qm(r),dA+(O??q1(r.k))+K4+Q4+gA))}function A5(r,l,_){var R,O,q,H,W,ee,ae;for(R=0,ae=Zr(l,_),ee=ae.mb();ee.G();)W=z(ee.H(),7),z(Se(W,(tt(),mu)),9)&&(H=z(Se(W,mu),9),Zr(H,(ht(),Pt)).mb().G()&&(R+=(q=r.k?1:nD(z($t(H.f,0),7)),q*Rc(rN(r,l,_).a-1-z(Bn(r.i,W),24).a,U$(r,l,H)))),Zr(H,Ft).mb().G()&&(R+=(O=r.k?1:nD(z($t(H.f,0),7)),O*Rc(z(Bn(r.i,W),24).a,U$(r,l,H)))));return R}function hY(r,l){var _,R,O,q,H,W,ee;for(O=ot(Hr,zr,26,r.e.a.c.length,12,1),H=new xe(r.e.a);H.a<H.c.c.length;)q=z(Ee(H),61),O[q.b]+=q.c.c.length;for(W=io(l);W.b!=0;)for(q=z(W.b==0?null:(Kt(W.b!=0),Cu(W,W.a.a)),61),R=new xe(q.g);R.a<R.c.c.length;)_=z(Ee(R),89),ee=_.d,ee.e=Vi(ee.e,q.e+_.a),--O[ee.b],O[ee.b]==0&&ci(W,ee,W.c.b,W.c)}function L5(r,l,_,R,O,q,H){if(r.d=R.e.i.a,r.e=R.e.i.b,O&&(r.d+=O.e.i.a,r.e+=O.e.i.b),r.c=l.e.j.a,r.b=l.e.j.b,!O)_?r.d-=H+l.e.j.a:r.d+=R.e.j.a+H;else switch(z(O.e,7).g.e){case 0:case 2:r.d+=O.e.j.a+H+q.a+H;break;case 4:r.d-=H+q.a+H+l.e.j.a;break;case 1:r.d+=O.e.j.a+H,r.e-=H+q.b+H+l.e.j.b;break;case 3:r.d+=O.e.j.a+H,r.e+=O.e.j.b+H+q.b+H}}function dY(r,l){var _,R,O,q,H,W,ee,ae,ce;for(O=new dt,ee=new xe(l);ee.a<ee.c.c.length;)q=z(Ee(ee),9),xt(O,r.b[q.d.k][q.k]);for(nV(r,O);ce=WV(O);)GY(r,z(ce.a,102),z(ce.b,102),O);for(l.c=ot(zt,At,1,0,4,1),R=new xe(O);R.a<R.c.c.length;)for(_=z(Ee(R),102),H=_.d,W=0,ae=H.length;W<ae;++W)q=H[W],l.c[l.c.length]=q,r.a[q.d.k][q.k].a=bo(_.g,_.d[0]).a}function M2(r){var l,_,R,O,q,H,W;for(W=(Ar(),new kn),R=new xe(r.a.b);R.a<R.c.c.length;)l=z(Ee(R),25),Kn(W,l,new dt);for(O=new xe(r.a.b);O.a<O.c.c.length;)for(l=z(Ee(O),25),l.r=Ii,H=l.i.mb();H.G();)q=z(H.H(),25),z(ra(ia(W.d,q)),20).ib(l);for(_=new xe(r.a.b);_.a<_.c.c.length;)l=z(Ee(_),25),l.i.Q(),l.i=z(ra(ia(W.d,l)),20);C5(r)}function gY(r){var l,_,R,O,q;switch(O=z($t(r.b,0),9),l=new No(r),xt(r.b,l),l.j.a=St(1,O.j.a),l.j.b=St(1,O.j.b),l.i.a=O.i.a,l.i.b=O.i.b,z(Se(O,(tt(),Ri)),32).e){case 4:l.i.a+=2;break;case 1:l.i.b+=2;break;case 2:l.i.a-=2;break;case 3:l.i.b-=2}return R=new Br,Qn(R,l),_=new ru,q=z($t(O.f,0),7),Ir(_,q),gr(_,R),ur(Eu(R.i),q.i),ur(Eu(R.a),q.a),l}function pY(r){var l,_,R,O,q,H,W,ee,ae;for(ae=(Ar(),new kn),l=0,_=new wg,W=r.mb();W.G();)q=z(W.H(),9),ee=bv(PI(fk(new Ff,l++),q),_),eo(ae.d,q,ee);for(H=r.mb();H.G();)for(q=z(H.H(),9),O=wn(pr(q));vn(O);)R=z(cn(O),12),!Xl(R)&&Id(td(rd(nd(ad(new Cs,Vi(1,z(Se(R,(tt(),Go)),24).a)),1),z(Bn(ae,R.c.f),61)),z(Bn(ae,R.d.f),61)));return _}function vY(r){var l,_;if(!r.V()){for(_=z(r.sb(0),75).f,new AT(r),l=new nr(_.f,0),ef((da(),bs),l),tf(_f,l),zv((ht(),Yt),l),L2(vu,l),tf(vc,l),sf(ul,l),ef(Ys,l),zv(Pt,l),L2(gc,l),ef(cl,l),sf(pc,l),ef(vc,l),zv(Qt,l),L2(Vs,l),ef(_f,l),sf(fl,l),tf(cl,l);l.b<l.d.Y();)Kt(l.b<l.d.Y()),l.d.sb(l.c=l.b++);L2(ll,l),tf(Ys,l),tf(bs,l)}}function mY(r){var l,_;if(!r.V()){for(_=z(r.sb(0),75).f,new AT(r),l=new nr(_.f,0),ef((da(),bs),l),tf(_f,l),zv((ht(),Yt),l),sf(vu,l),tf(vc,l),sf(ul,l),ef(Ys,l),zv(Pt,l),sf(gc,l),ef(cl,l),sf(pc,l),ef(vc,l),zv(Qt,l),sf(Vs,l),ef(_f,l),sf(fl,l),tf(cl,l);l.b<l.d.Y();)Kt(l.b<l.d.Y()),l.d.sb(l.c=l.b++);sf(ll,l),tf(Ys,l),tf(bs,l)}}function M5(r){var l,_,R,O,q,H,W,ee,ae;for(O=Mu,H=fi,ae=new xe(r.e.a);ae.a<ae.c.c.length;)W=z(Ee(ae),61),H=Rc(H,W.e),O=Vi(O,W.e);for(q=0,R=ot(Hr,zr,26,O-H+1,12,1),ee=new xe(r.e.a);ee.a<ee.c.c.length;)W=z(Ee(ee),61),W.e-=H,++R[W.e];if(r.k)for(_=new xe(r.k.c);_.a<_.c.c.length&&(l=z(Ee(_),16),R[q++]+=l.a.c.length,R.length!=q););return R}function yY(r){var l,_,R,O;for(Xj(r),aH(r),O=new Wt(ya,ya),l=new Wt(Ii,Ii),R=new xe(r.a.b);R.a<R.c.c.length;)_=z(Ee(R),25),O.a=qn(O.a,_.j.d),O.b=qn(O.b,_.j.e),l.a=St(l.a,_.j.d+_.j.c),l.b=St(l.b,_.j.e+_.j.b);ur(Eu(r.d.d),jw(new Wt(O.a,O.b))),ur(Eu(r.d.e),Qu(new Wt(l.a,l.b),O)),sY(r,O,l),r.a.a.c=ot(zt,At,1,0,4,1),r.a.b.c=ot(zt,At,1,0,4,1)}function bY(r,l){var _,R,O,q,H,W,ee,ae,ce,fe;if(H=r.e,ce=z(Se(r,(tt(),xp)),20),fe=0,ce){for(ee=0,q=ce.mb();q.G();)O=z(q.H(),9),ee=St(ee,O.j.b),fe+=O.j.a;fe+=l/2*(ce.Y()-1),H.d+=ee+l}if(_=z(Se(r,yp),20),R=0,_){for(ee=0,q=_.mb();q.G();)O=z(q.H(),9),ee=St(ee,O.j.b),R+=O.j.a;R+=l/2*(_.Y()-1),H.a+=ee+l}W=fe>R?fe:R,W>r.j.a&&(ae=(W-r.j.a)/2,H.b=St(H.b,ae),H.c=St(H.c,ae))}function I5(r,l,_,R){var O,q,H,W,ee,ae,ce,fe,pe,be;for(H=ro(l.d,_,R),fe=new xe(l.b);fe.a<fe.c.c.length;){for(ce=z(Ee(fe),9),ur(ce.i,H),be=new xe(ce.f);be.a<be.c.c.length;)for(pe=z(Ee(be),7),q=new xe(pe.e);q.a<q.c.c.length;)for(O=z(Ee(q),12),Gc(O.a,H),W=z(Se(O,(pt(),Gr)),44),W&&Gc(W,H),ae=new xe(O.b);ae.a<ae.c.c.length;)ee=z(Ee(ae),33),ur(ee.i,H);xt(r.b,ce),ce.a=r}}function wY(r,l){var _,R,O,q,H;for(r.c==null||r.c.length<l.c.length?r.c=ot(n1,d0,26,l.c.length,13,1):ov(r.c),r.a=new dt,R=0,H=new xe(l);H.a<H.c.c.length;)O=z(Ee(H),9),O.k=R++;for(_=new qi,q=new xe(l);q.a<q.c.c.length;)O=z(Ee(q),9),r.c[O.k]||(G3(r,O),_.b==0||(Kt(_.b!=0),z(_.a.a.c,20)).Y()<r.a.c.length?KI(_,r.a):hw(_,r.a),r.a=new dt);return _}function _Y(r,l,_){var R,O,q,H,W,ee,ae,ce,fe;return R=Xg(r.g),ae=ur(Ro(r.i),r.a),ce=ur(Ro(l.i),l.a),O=ur(new qr(ae),Rs(new Gl(R),_)),fe=ur(new qr(ce),Rs(new Gl(R),_)),H=Rs(Qu(new qr(O),fe),.5),ee=ur(ur(new qr(fe),H),Rs(new Gl(R),gR(H.a*H.a+H.b*H.b))),W=new p_(Ze(Ke(In,1),Mn,10,0,[ae,O,ee,fe,ce])),q=oh(W,.5,!1),W.a=q,w1(W,new y2(Ze(Ke(In,1),Mn,10,0,[q,ae,ce]))),W}function CT(r,l){var _,R,O,q,H;if(xn(l,"Network simplex",1),r.e.a.c.length<1){pn(l);return}for(q=new xe(r.e.a);q.a<q.c.c.length;)O=z(Ee(q),61),O.e=0;for(H=r.e.a.c.length>=40,H&&$Y(r),hV(r),FU(r),_=i3(r),R=0;_&&R<r.f;)xY(r,_,rU(r,_)),_=i3(r),++R;H&&mH(r),r.a?tU(r,M5(r)):M5(r),r.b=null,r.d=null,r.p=null,r.c=null,r.g=null,r.i=null,r.n=null,r.o=null,pn(l)}function Rd(r){var l,_,R,O,q,H,W,ee,ae,ce;for(ae=new $i,O=(Ar(),new kn),W=0,ee=r.length;W<ee;++W)H=r[W],l=H.mc(),ae.a.db(l,ae),l==null?eo(O.d,null,H):J_(O.e,l,H),ce=Jw(l,(Et(),l.lastIndexOf(".")+1),l.length),Pl(lL,ce)||(ae.a.db(ce,ae),ce==null?eo(O.d,null,H):J_(O.e,ce,H),lr(lL,ce));return R=(wo(),n3((q=new Dn(ae.a).a.bb().mb(),new Fn(q)))),_=kU(O),new ui(R,_)}function xY(r,l,_){var R,O,q;if(!l.e)throw new Gn("Given leave edge is no tree edge.");if(_.e)throw new Gn("Given enter edge is a tree edge already.");for(l.e=!1,Bw(r.p,l),_.e=!0,lr(r.p,_),R=_.d.e-_.c.e-_.a,x2(r,_.d,l)||(R=-R),q=new xe(r.e.a);q.a<q.c.c.length;)O=z(Ee(q),61),x2(r,O,l)||(O.e+=R);r.j=1,ov(r.c),aT(r,z(Ee(new xe(r.e.a)),61)),i4(r)}function EY(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be;if(r.V())return new Ni;for(ae=0,fe=0,O=r.mb();O.G();)R=z(O.H(),55),q=R.e,ae=St(ae,q.a),fe+=q.a*q.b;for(ae=St(ae,Math.sqrt(fe)*z(Se(z(r.mb().H(),55),(tt(),Kd)),15).a),pe=0,be=0,ee=0,_=l,W=r.mb();W.G();)H=z(W.H(),55),ce=H.e,pe+ce.a>ae&&(pe=0,be+=ee+l,ee=0),i0(H,pe,be),_=St(_,pe+ce.a),ee=St(ee,ce.b),pe+=ce.a+l;return new Wt(_+l,be+ee+l)}function I2(r,l,_,R){var O,q,H;return H=new jI(l,_),r.a?R?(O=z(Bn(r.b,l),126),++O.a,H.d=R.d,H.e=R.e,H.b=R,H.c=R,R.e?R.e.c=H:z(Bn(r.b,l),126).b=H,R.d?R.d.b=H:r.a=H,R.d=H,R.e=H):(r.e.b=H,H.d=r.e,r.e=H,O=z(Bn(r.b,l),126),O?(++O.a,q=O.c,q.c=H,H.e=q,O.c=H):(Kn(r.b,l,new DC(H)),++r.c)):(r.a=r.e=H,Kn(r.b,l,new DC(H)),++r.c),++r.d,H}function Tu(r){var l,_,R,O,q,H,W,ee;if(r.e)throw new Ic((Uf(Bx),"The "+Bx.j+U4));for(r.d==(Fr(),ps)&&lu(r,Ao),_=new xe(r.a.a);_.a<_.c.c.length;)l=z(Ee(_),78),l.f=0;for(H=new xe(r.a.b);H.a<H.c.c.length;)for(q=z(Ee(H),25),q.r=Ii,O=q.i.mb();O.G();)R=z(O.H(),25),++R.f.f;for(r.b.Cc(r),ee=new xe(r.a.b);ee.a<ee.c.c.length;)W=z(Ee(ee),25),W.p=!0;return r}function kY(r,l,_,R,O){var q,H,W,ee;q=new No(r),na(q,(Ht(),Kr)),et(q,(pt(),en),(Rr(),Zi)),et(q,(tt(),Jt),l.c.f),H=new Br,et(H,Jt,l.c),An(H,O),Qn(H,q),et(l.c,mu,q),W=new No(r),na(W,Kr),et(W,en,Zi),et(W,Jt,l.d.f),ee=new Br,et(ee,Jt,l.d),An(ee,O),Qn(ee,W),et(l.d,mu,W),Ir(l,H),gr(l,ee),Zl(0,_.c.length),pv(_.c,0,q),R.c[R.c.length]=W,et(q,bp,nn(1)),et(W,bp,nn(1))}function CY(r,l){var _,R,O,q,H;if(H=z(Se(r.f,(pt(),en)),28),q=r.g.e-l.g.e,q!=0||H==(Rr(),M0))return q;if(H==(Rr(),Gd)&&(_=z(Se(r,fc),24),R=z(Se(l,fc),24),_&&R&&(O=_.a-R.a,O!=0)))return O;switch(r.g.e){case 1:return li(r.i.a,l.i.a);case 2:return li(r.i.b,l.i.b);case 3:return li(l.i.a,r.i.a);case 4:return li(l.i.b,r.i.b);default:throw new Ic(V4)}}function R5(r){var l,_,R,O,q,H,W,ee,ae,ce,fe;for(W=new dt,q=ct(Cn(r.g.sb(r.g.Y()-1))),fe=r.g.mb();fe.G();)ce=Cn(fe.H()),ql(W,0,q-(ti(ce),ce));for(H=H_(F_(r)),ae=new dt,O=new xe(W),ee=new dt,l=0;l<r.c-1;l++)xt(ae,Cn(Ee(O)));for(R=zn(H,0);R.b!=R.d.c;)_=z($n(R),10),xt(ae,Cn(Ee(O))),xt(ee,new b_(_,ae)),mr(0,ae.c.length),ae.c.splice(0,1);return new qS(r.e,r.f,r.d,r.c,W,ee)}function ST(r,l,_,R,O){var q,H,W,ee,ae;return q=l.$b(_,r.b),q<0?(W=r.e,W?(H=W.d,r.e=ST(W,l,_,R,O),O[0]==0&&++r.a,r.j=mi(r.j,R),r.e.d==H?r:oc(r)):(O[0]=0,gS(r,_,R))):q>0?(ee=r.g,ee?(H=ee.d,r.g=ST(ee,l,_,R,O),O[0]==0&&++r.a,r.j=mi(r.j,R),r.g.d==H?r:oc(r)):(O[0]=0,dS(r,_,R))):(O[0]=r.c,ae=mi(r.c,R),ud(V_(ae,fi)<=0),r.c+=R,r.j=mi(r.j,R),r)}function SY(r,l){var _,R,O,q,H,W;O=Ey(l,`,|;|\\(|\\)|\\[|\\]|\\{|\\}| |	|
`),ku(r);try{for(R=0,H=0,q=0,W=0;R<O.length;)O[R]!=null&&mv(Ql(O[R]))>0&&(H%2==0?q=dy(O[R]):W=dy(O[R]),H>0&&H%2!=0&&Un(r,new Wt(q,W)),++H),++R}catch(ee){throw ee=ji(ee),yt(ee,130)?(_=ee,new Gn("The given string does not match the expected format for vectors."+_)):zi(ee)}}function P5(r,l,_){var R,O,q,H,W,ee,ae,ce;for(O=!0,H=new xe(l.c);H.a<H.c.c.length;){for(q=z(Ee(H),16),ae=Ii,ee=new xe(q.a);ee.a<ee.c.c.length;)if(W=z(Ee(ee),9),ce=ct(_.n[W.k])+ct(_.d[W.k])-W.e.d,R=ct(_.n[W.k])+ct(_.d[W.k])+W.j.b+W.e.a,ce>ae&&R>ae)ae=ct(_.n[W.k])+ct(_.d[W.k])+W.j.b+W.e.a;else{O=!1,r.a&&Yf();break}if(!O)break}return r.a&&Yf(),O}function TY(r){var l,_,R,O,q,H,W,ee;return isNaN(r)?(Hm(),RA):r<-9223372036854776e3?(Hm(),CF):r>=9223372036854776e3?(Hm(),kF):(O=!1,r<0&&(O=!0,r=-r),R=0,r>=Qc&&(R=Wr(r/Qc),r-=R*Qc),_=0,r>=ch&&(_=Wr(r/ch),r-=_*ch),l=Wr(r),q=Fc(l,_,R),O&&(H=~q.l+1&Fo,W=~q.m+(H==0?1:0)&Fo,ee=~q.h+(H==0&&W==0?1:0)&Kc,q.l=H,q.m=W,q.h=ee),q)}function AY(r){var l,_,R,O,q,H,W;if(O=Yv(r),$l(new xe(O))){for(W=new Do(0,0,r.e.j.a,r.e.j.b),_=new xe(O);_.a<_.c.c.length;)l=z(Ee(_),129),R=new Do(l.e.i.a,l.e.i.b,l.e.j.a,l.e.j.b),Vv(W,R);H=new tC((q=z(r.e,7).d,new Ds(q.d,q.b,q.a,q.c))),H.d=-W.e,H.a=W.e+W.b-r.e.j.b,H.b=-W.d,H.c=W.d+W.c-r.e.j.a,z(r.e,7).d.b=H.b,z(r.e,7).d.d=H.d,z(r.e,7).d.c=H.c,z(r.e,7).d.a=H.a}}function D5(r){var l,_,R,O,q;for(q=new xe(r.f);q.a<q.c.c.length;)for(O=z(Ee(q),7),R=new xe(O.e);R.a<R.c.c.length;)if(_=z(Ee(R),12),Ot(Se(_.d.f,(Ln(),di)))!==Ot((qa(),bc)))throw new O1((l=qm(r),dA+(l??q1(r.k))+"' has its layer constraint set to LAST or LAST_SEPARATE, but has at least one outgoing edge. Connections between nodes with these "+gA))}function LY(r,l,_,R){var O,q,H,W,ee,ae;for(q=new xe(r);q.a<q.c.c.length;){if(O=z(Ee(q),12),H=O.c,l.a.R(H))W=(Ul(),$u);else if(_.a.R(H))W=(Ul(),xh);else throw new Gn("Source port must be in one of the port sets.");if(ee=O.d,l.a.R(ee))ae=(Ul(),$u);else if(_.a.R(ee))ae=(Ul(),xh);else throw new Gn("Target port must be in one of the port sets.");xt(R,new D3(O,W,ae))}}function O5(r,l){var _,R,O,q,H,W;if("edges"in l.a){if(W=kr(l,"edges"),!W.hc())throw new nu("The 'edges' property of a node has to be an array.",W,l);for(q=W.hc(),H=0;H<q.a.length;++H){if(O=jc(q,H),!O.kc())throw new nu("All elements of the 'edges' property must be objects.",O,l);HW(r,O.kc())}}if(op in l.a)for(R=kr(l,op).hc(),H=0;H<R.a.length;++H)_=jc(R,H).kc(),O5(r,_)}function xy(r){var l,_,R,O,q,H,W,ee;for(R=new xe(r.a.a);R.a<R.c.c.length;){for(_=z(Ee(R),78),_.g=null,H=(ee=new Dn(_.a.a).a.bb().mb(),new Fn(ee));H.a.G();)O=(l=z(H.a.H(),21),z(l.yb(),25)),Eu(O.g),(!_.g||O.j.d<_.g.j.d)&&(_.g=O);for(q=(W=new Dn(_.a.a).a.bb().mb(),new Fn(W));q.a.G();)O=(l=z(q.a.H(),21),z(l.yb(),25)),O.g.a=O.j.d-_.g.j.d,O.g.b=O.j.e-_.g.j.e}return r}function MY(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e;for(_=!1,be=c0*r.b.f*r.b.d,O=new xe(l.c);O.a<O.c.c.length;)for(R=z(Ee(O),16),ae=new xe(R.a),q=z(Ee(ae),9),ce=wC(r.a[q.k]);ae.a<ae.c.c.length;)W=z(Ee(ae),9),fe=wC(r.a[W.k]),ce!=fe&&(pe=kv(r.b,q,W),H=q.i.b+q.j.b+q.e.a+ce.a+pe,ee=W.i.b-W.e.d+fe.a,H>ee+be&&(_e=ce.i+fe.i,fe.a=(fe.i*fe.a+ce.i*ce.a)/_e,fe.i=_e,ce.g=fe,_=!0)),q=W,ce=fe;return _}function IY(r){var l,_,R,O,q,H;if(Ot(Se(r,(pt(),en)))===Ot((Rr(),Gs))||Ot(Se(r,en))===Ot(Zi)){for(H=new xe(r.f);H.a<H.c.c.length;)if(q=z(Ee(H),7),q.g==(ht(),Yt)||q.g==Qt)return!1}if(eu(z(Se(r,en),28))){for(O=Zr(r,(ht(),Pt)).mb();O.G();)if(R=z(O.H(),7),R.b.c.length!=0)return!1}for(_=wn(pr(r));vn(_);)if(l=z(cn(_),12),l.c.f==l.d.f)return!1;return!0}function $5(r,l){var _,R,O,q,H,W,ee,ae,ce;if(O=r.f,H=O.j.a,q=O.j.b,H<=0&&q<=0)return ht(),ii;switch(ae=r.i.a,ce=r.i.b,W=r.j.a,_=r.j.b,l.e){case 2:case 1:if(ae<0)return ht(),Ft;if(ae+W>H)return ht(),Pt;break;case 4:case 3:if(ce<0)return ht(),Yt;if(ce+_>q)return ht(),Qt}return ee=(ae+W/2)/H,R=(ce+_/2)/q,ee+R<=1&&ee-R<=0?(ht(),Ft):ee+R>=1&&ee-R>=0?(ht(),Pt):R<.5?(ht(),Yt):(ht(),Qt)}function N5(r,l,_,R,O,q,H){var W,ee,ae,ce,fe,pe;for(pe=new Cw,ae=l.mb();ae.G();)for(W=z(ae.H(),627),fe=new xe(UN(W));fe.a<fe.c.c.length;)ce=z(Ee(fe),129),Ot(Jr(ce,(pt(),uo)))===Ot((su(),qd))&&(L5(pe,ce,!1,R,O,q,H),Vv(r,pe));for(ee=_.mb();ee.G();)for(W=z(ee.H(),627),fe=new xe(UN(W));fe.a<fe.c.c.length;)ce=z(Ee(fe),129),Ot(Jr(ce,(pt(),uo)))===Ot((su(),df))&&(L5(pe,ce,!0,R,O,q,H),Vv(r,pe))}function TT(r,l){var _,R,O,q,H,W,ee,ae;for(ee=new xe(l.f);ee.a<ee.c.c.length;)for(W=z(Ee(ee),7),O=wn(yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[W.b,W.e]))))));vn(O);)R=z(cn(O),12),_=R.c==W?R.d:R.c,q=_.f,l!=q&&(ae=z(Se(R,(tt(),Go)),24).a,ae<0&&(ae=0),H=q.k,r.b[H]==0&&(R.d==_?(r.a[H]-=ae+1,r.a[H]<=0&&r.c[H]>0&&Un(r.e,q)):(r.c[H]-=ae+1,r.c[H]<=0&&r.a[H]>0&&Un(r.d,q))))}function RY(r,l){var _,R,O,q,H,W,ee,ae,ce;for(H=new xe(l.c);H.a<H.c.c.length;)for(q=z(Ee(H),16),ae=new xe(q.a);ae.a<ae.c.c.length;){for(ee=z(Ee(ae),9),ce=new dt,W=0,O=wn(yi(ee));vn(O);)_=z(cn(O),12),z(Se(_,(tt(),Go)),24).a>W&&(W=z(Se(_,Go),24).a);for(R=wn(yi(ee));vn(R);)_=z(cn(R),12),ee.d!=_.c.f.d&&z(Se(_,(tt(),Go)),24).a==W&&xt(ce,new ui(_.c.f,_));Oo(ce,r.c),ql(r.b,ee.k,ce)}}function PY(r,l){var _,R,O,q,H,W,ee,ae,ce;for(H=new xe(l.c);H.a<H.c.c.length;)for(q=z(Ee(H),16),ae=new xe(q.a);ae.a<ae.c.c.length;){for(ee=z(Ee(ae),9),ce=new dt,W=0,O=wn(pr(ee));vn(O);)_=z(cn(O),12),z(Se(_,(tt(),Go)),24).a>W&&(W=z(Se(_,Go),24).a);for(R=wn(pr(ee));vn(R);)_=z(cn(R),12),ee.d!=_.d.f.d&&z(Se(_,(tt(),Go)),24).a==W&&xt(ce,new ui(_.d.f,_));Oo(ce,r.c),ql(r.f,ee.k,ce)}}function AT(r){Y$();var l,_,R,O,q,H,W,ee,ae,ce;for(this.b=new Ph,this.c=new dt,this.a=new dt,ee=kS(),ae=0,ce=ee.length;ae<ce;++ae)W=ee[ae],iC(wf,W,new dt);for(_=r.mb();_.G();)l=z(_.H(),75),_r(this.a,w_(l)),l.g.a.Y()==0?z(bd(wf,l.e),20).ib(l):xt(this.c,l);for(q=(H=new Df(wf).a.bb().mb(),new Hh(H));q.a.G();)O=(R=z(q.a.H(),21),z(R.zb(),20)),Oo(O,this.b);vy(z(bd(wf,(da(),bs)),20))}function F5(r,l){var _,R,O,q,H,W,ee;if(ee=z(Se(l,(pt(),en)),28),ee==(Rr(),Gs)||ee==Zi)for(q=(_=z(Se(l,(tt(),Xs)),15).a,new Wt(l.e.a+l.a.b+l.a.c+2*_,l.e.b+l.a.d+l.a.a+2*_)).b,W=new xe(r.a);W.a<W.c.c.length;)H=z(Ee(W),9),H.g==(Ht(),yr)&&(R=z(Se(H,Ri),32),!(R!=(ht(),Pt)&&R!=Ft)&&(O=ct(Cn(Se(H,yc))),ee==Gs&&(O*=q),H.i.b=O-z(Se(H,lc),10).b,ny(H,!1,!0)))}function B5(r,l){var _,R,O,q,H,W,ee,ae;for(_=new No(r.d.c),na(_,(Ht(),La)),et(_,(pt(),en),z(Se(l,en),28)),et(_,to,z(Se(l,to),86)),_.k=r.d.b++,xt(r.b,_),_.j.b=l.j.b,_.j.a=0,ae=(ht(),Pt),q=Yl(Zr(l,ae)),ee=new xe(q);ee.a<ee.c.c.length;)W=z(Ee(ee),7),Qn(W,_);return H=new Br,An(H,ae),Qn(H,l),H.i.a=_.j.a,H.i.b=_.j.b/2,O=new Br,An(O,X_(ae)),Qn(O,_),O.i.b=_.j.b/2,O.i.a=-O.j.a,R=new ru,Ir(R,H),gr(R,O),_}function DY(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e;for(ee=new Vw,uG(r,ee),O=new hN(l),be=new dt,xt(be,(_e=r.j,z(oR(vD(_e||(r.j=new s1(r)))),7))),pe=new dt;be.c.length!=0;){for(W=z(Ee(new xe(be)),7),pe.c[pe.c.length]=W,R=UC(r,W),H=new Al(R.b.mb());H.b.G();)if(q=z(H.b.H(),12),dH(O,q,_))for(fe=z(E2(ee,q),20),ce=fe.mb();ce.G();)ae=z(ce.H(),7),Sa(pe,ae,0)!=-1||(be.c[be.c.length]=ae);gi(be,W)}return O}function Ey(r,l){var _,R,O,q,H,W,ee;for(_=RegExp(l,"g"),W=ot(ox,wi,2,0,5,1),R=0,ee=r,q=null;;)if(H=_.exec(ee),H==null||ee==""){W[R]=ee;break}else W[R]=Jw(ee,0,H.index),ee=Jw(ee,H.index+H[0].length,(Et(),ee.length)),_.lastIndex=0,q==ee&&(W[R]=ee.substr(0,1),ee=Ng(ee,1,ee.length-1)),q=ee,++R;if(Et(),r.length>0){for(O=W.length;O>0&&W[O-1]=="";)--O;O<W.length&&(W.length=O)}return W}function OY(r){var l,_,R,O,q,H;for(H=new xe(Wc(r.e));H.a<H.c.c.length;)switch(q=z(Ee(H),161),z(q.e,7).g.e){case 4:r.q.b=St(r.q.b,(_=z(q.e,7).d,new Ds(_.d,_.b,_.a,_.c)).c);break;case 2:r.q.c=St(r.q.c,(R=z(q.e,7).d,new Ds(R.d,R.b,R.a,R.c)).b);break;case 1:r.q.d=St(r.q.d,(O=z(q.e,7).d,new Ds(O.d,O.b,O.a,O.c)).a);break;case 3:r.q.a=St(r.q.a,(l=z(q.e,7).d,new Ds(l.d,l.b,l.a,l.c)).d)}}function LT(r,l,_,R,O){var q,H,W;return q=l.$b(_,r.b),q<0?(H=r.e,H?(r.e=LT(H,l,_,R,O),R==0&&O[0]!=0?--r.a:R>0&&O[0]==0&&++r.a,r.j=mi(r.j,R-O[0]),oc(r)):(O[0]=0,R>0?gS(r,_,R):r)):q>0?(W=r.g,W?(r.g=LT(W,l,_,R,O),R==0&&O[0]!=0?--r.a:R>0&&O[0]==0&&++r.a,r.j=mi(r.j,R-O[0]),oc(r)):(O[0]=0,R>0?dS(r,_,R):r)):(O[0]=r.c,R==0?pT(r):(r.j=mi(r.j,R-r.c),r.c=R,r))}function $Y(r){var l,_,R,O,q,H,W;for(r.o=new vt,R=new qi,H=new xe(r.e.a);H.a<H.c.c.length;)q=z(Ee(H),61),ah(q).c.length==1&&ci(R,q,R.c.b,R.c);for(;R.b!=0;)q=z(R.b==0?null:(Kt(R.b!=0),Cu(R,R.a.a)),61),ah(q).c.length!=0&&(l=z($t(ah(q),0),89),_=q.g.c.length>0,W=r2(l,q),$k(_?W.c:W.g,l),ah(W).c.length==1&&ci(R,W,R.c.b,R.c),O=new ui(q,l),ER(r.o,O),gi(r.e.a,q))}function MT(r,l,_,R,O){var q,H,W;return q=l.$b(_,r.b),q<0?(H=r.e,H?(r.e=MT(H,l,_,R,O),O[0]>0&&(R>=O[0]?(--r.a,r.j=Yc(r.j,O[0])):r.j=Yc(r.j,R)),O[0]==0?r:oc(r)):(O[0]=0,r)):q>0?(W=r.g,W?(r.g=MT(W,l,_,R,O),O[0]>0&&(R>=O[0]?(--r.a,r.j=Yc(r.j,O[0])):r.j=Yc(r.j,R)),oc(r)):(O[0]=0,r)):(O[0]=r.c,R>=r.c?pT(r):(r.c-=R,r.j=Yc(r.j,R),r))}function q5(r,l,_){var R,O,q,H,W,ee,ae,ce;for(ee=new xe(_.b);ee.a<ee.c.c.length;)W=z(Ee(ee),9),H=z(Se(W,(tt(),Ef)),55),H&&(ce=q5(r,l,H),W.j.a=(q=z(Se(ce,Xs),15).a,new Wt(ce.e.a+ce.a.b+ce.a.c+2*q,ce.e.b+ce.a.d+ce.a.a+2*q)).a,W.j.b=(O=z(Se(ce,Xs),15).a,new Wt(ce.e.a+ce.a.b+ce.a.c+2*O,ce.e.b+ce.a.d+ce.a.a+2*O)).b);return ae=new gm,R=dd(Se(_,(pt(),zA))),R!=null&&Ts(R,"de.cau.cs.kieler.fixed")?jW(_,ae):MH(l,_,ae),_}function j5(r){var l,_,R,O,q,H,W,ee;W=z(Se(r,(pt(),nl)),18),ee=z(Se(r,L0),18),R=z(Se(r,(tt(),Xs)),15).a,r.d.a+=R,r.d.b+=R,r.e.a+=2*R,r.e.b+=2*R,et(r,Xs,new Nn(0)),O=(_=z(Se(r,Xs),15).a,new Wt(r.e.a+r.a.b+r.a.c+2*_,r.e.b+r.a.d+r.a.a+2*_)),l=new qr(O),W.kb((ac(),R0))&&(H=z(Se(r,hp),15).a,q=z(Se(r,fp),15).a,ee.kb((Md(),D0))&&(H<=0&&(H=20),q<=0&&(q=20)),l.a=St(O.a,H),l.b=St(O.b,q)),tV(r,O,l)}function z5(r,l,_){var R,O,q,H,W,ee,ae,ce;if(l.k==0){for(l.k=1,H=_,_||(O=new dt,q=(R=z(Na(xi),11),new Xi(R,z(xa(R,R.length),11),0)),H=new ui(O,q)),z(H.a,20).ib(l),l.g==(Ht(),yr)&&z(H.b,18).ib(z(Se(l,(tt(),Ri)),32)),ee=new xe(l.f);ee.a<ee.c.c.length;)for(W=z(Ee(ee),7),ce=wn(yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[new Pf(W),new Cl(W)]))))));vn(ce);)ae=z(cn(ce),7),z5(r,ae.f,H);return H}return null}function NY(r,l,_,R){var O,q,H,W,ee;switch(ee=new qr(l.i),ee.a+=l.j.a/2,ee.b+=l.j.b/2,W=z(Se(l,(tt(),wp)),15).a,q=r.e,H=r.a,O=r.d,z(Se(l,Ri),32).e){case 1:ee.a+=H.b+O.a-_/2,ee.b=-R-W,l.i.b=-(H.d+W+O.b);break;case 2:ee.a=q.a+H.b+H.c+W,ee.b+=H.d+O.b-R/2,l.i.a=q.a+H.c+W-O.a;break;case 3:ee.a+=H.b+O.a-_/2,ee.b=q.b+H.d+H.a+W,l.i.b=q.b+H.a+W-O.b;break;case 4:ee.a=-_-W,ee.b+=H.d+O.b-R/2,l.i.a=-(H.b+W+O.a)}return ee}function FY(r,l){var _,R,O,q,H,W,ee;for(q=new xe(l.b);q.a<q.c.c.length;)O=z(Ee(q),9),H=Se(O,(tt(),Jt)),yt(H,7)&&(W=z(H,7),ee=NY(l,O,W.j.a,W.j.b),W.i.a=ee.a,W.i.b=ee.b,An(W,z(Se(O,Ri),32)));_=(R=z(Se(l,(tt(),Xs)),15).a,new Wt(l.e.a+l.a.b+l.a.c+2*R,l.e.b+l.a.d+l.a.a+2*R)),z(Se(l,Bi),18).kb((oi(),Ws))?(et(r,(pt(),en),(Rr(),Zi)),z(Se(Ea(r),Bi),18).ib(Eh),zT(r,_,!1)):zT(r,_,!0)}function IT(r,l,_){var R,O,q,H,W;switch(W=null,l.e){case 1:for(O=new xe(r.f);O.a<O.c.c.length;)if(R=z(Ee(O),7),bn(ct(_n(Se(R,(tt(),LE))))))return R;W=new Br,et(W,(tt(),LE),(dr(),dr(),Qi));break;case 2:for(H=new xe(r.f);H.a<H.c.c.length;)if(q=z(Ee(H),7),bn(ct(_n(Se(q,(tt(),ME))))))return q;W=new Br,et(W,(tt(),ME),(dr(),dr(),Qi))}return W&&(Qn(W,r),An(W,_),MG(W.i,r.j,_)),W}function G5(r,l){var _,R,O,q,H,W,ee;return tn(l),ud(r.a.t(l.a)),R=r.b,q=r.e,H=r.d,r.b?l.b&&(_=r.a.$b(r.e,l.e),(_<0||_==0&&l.d==(ss(),Bo))&&(q=l.e,H=l.d)):(R=l.b,q=l.e,H=l.d),O=r.c,W=r.g,ee=r.f,r.c?l.c&&(_=r.a.$b(r.g,l.g),(_>0||_==0&&l.f==(ss(),Bo))&&(W=l.g,ee=l.f)):(O=l.c,W=l.g,ee=l.f),R&&O&&(_=r.a.$b(q,W),(_>0||_==0&&H==(ss(),Bo)&&ee==(ss(),Bo))&&(q=W,H=(ss(),Bo),ee=Ny)),new my(r.a,R,q,H,O,W,ee)}function BY(r,l,_,R){var O,q,H,W,ee,ae,ce;if(_.c.f!=l.f)for(O=new No(r),na(O,(Ht(),rr)),et(O,(tt(),Jt),_),et(O,(pt(),en),(Rr(),Zi)),R.c[R.c.length]=O,H=new Br,Qn(H,O),An(H,(ht(),Ft)),W=new Br,Qn(W,O),An(W,Pt),gr(_,H),q=new ru,ic(q,_),et(q,Gr,null),Ir(q,W),gr(q,l),H3(O,H,W),ae=new nr(_.b,0);ae.b<ae.d.Y();)ee=(Kt(ae.b<ae.d.Y()),z(ae.d.sb(ae.c=ae.b++),33)),ce=z(Se(ee,uo),107),ce==(su(),df)&&(ls(ae),xt(q.b,ee))}function qY(r,l,_,R){var O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re;for(q=_+(l.n+1)*r.a,H=l.b,O=new Wt(q,H),ee=(ce=new Dn(l.c.a).a.bb().mb(),new Fn(ce));ee.a.G();)W=(ae=z(ee.a.H(),21),z(ae.yb(),12)),_e=Ca(W.d),fe=Ca(W.c),be=new Wt(q,fe.b),Re=new Wt(q,_e.b),pe=new Wt(_-10,fe.b),Ce=new Wt(R,_e.b),_e.a>=R&&fe.a>=R&&(pe.a=R),_e.a<=_&&fe.a<=_&&(Ce.a=_-10),l.c.a.Y()==1?nS(W.a,Ze(Ke(In,1),Mn,10,0,[pe,be,Re,Ce])):nS(W.a,Ze(Ke(In,1),Mn,10,0,[pe,be,O,Re,Ce]))}function uc(r,l){var _,R,O,q,H,W;for(q=r.c,H=r.d,Ir(r,null),gr(r,null),l&&bn(ct(_n(Se(H,(tt(),LE)))))?Ir(r,IT(H.f,(ni(),Ki),(ht(),Pt))):Ir(r,H),l&&bn(ct(_n(Se(q,(tt(),ME)))))?gr(r,IT(q.f,(ni(),Ra),(ht(),Ft))):gr(r,q),R=new xe(r.b);R.a<R.c.c.length;)_=z(Ee(R),33),O=z(Se(_,(pt(),uo)),107),O==(su(),qd)?et(_,uo,df):O==df&&et(_,uo,qd);W=bn(ct(_n(Se(r,(tt(),Fu))))),et(r,Fu,(dr(),W?Mr:Qi)),r.a=H_(r.a)}function RT(r){var l,_,R,O,q,H;for(Nk(this),_=r.Y()-1;_<3;_++)r.rb(0,z(r.sb(0),10));if(r.Y()<4)throw new Gn("At (least dimension + 1) control points are necessary!");for(this.c=3,this.e=!0,this.f=!0,this.d=!1,fU(this,r.Y()+this.c-1),H=new dt,q=this.g.mb(),l=0;l<this.c-1;l++)xt(H,Cn(q.H()));for(O=r.mb();O.G();)R=z(O.H(),10),xt(H,Cn(q.H())),this.b.ib(new b_(R,H)),mr(0,H.c.length),H.c.splice(0,1)}function jY(r){var l,_,R,O,q,H,W,ee,ae,ce,fe;for(fe=new $h,fe.d=0,H=new xe(r.c);H.a<H.c.c.length;)q=z(Ee(H),16),fe.d+=q.a.c.length;for(R=0,O=0,fe.a=ot(Hr,zr,26,r.c.c.length,12,1),ae=0,fe.e=ot(Hr,zr,26,fe.d,12,1),_=new xe(r.c);_.a<_.c.c.length;)for(l=z(Ee(_),16),l.k=R++,fe.a[l.k]=O++,ce=0,ee=new xe(l.a);ee.a<ee.c.c.length;)W=z(Ee(ee),9),W.k=ae++,fe.e[W.k]=ce++;return fe.c=new Es(fe),fe.b=Nl(fe.d),RY(fe,r),fe.f=Nl(fe.d),PY(fe,r),fe}function zY(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce;for(W=ot(Hr,zr,26,l.c.c.length,12,1),ae=ot(dL,kt,132,l.c.c.length,0,1),fe=r.a,pe=0,be=fe.length;pe<be;++pe){for(ce=fe[pe],Ce=0,H=new xe(ce.f);H.a<H.c.c.length;)O=z(Ee(H),9),ee=O.g,R=Ka(O.d),++W[R],_e=r.b.a*r.b.d,W[R]>0&&ae[R]&&(_e=Xw(r.b,ae[R],ee)),Ce=St(Ce,O.d.c.b+_e);for(q=new xe(ce.f);q.a<q.c.c.length;)O=z(Ee(q),9),O.i.b=Ce+O.e.d,_=O.d,_.c.b=Ce+O.e.d+O.j.b+O.e.a,ae[Sa(_.b.c,_,0)]=O.g}}function H5(r){var l,_,R,O,q,H,W,ee,ae,ce;for(ee=new xe(r.a);ee.a<ee.c.c.length;)if(W=z(Ee(ee),9),W.g==(Ht(),yr)&&(O=z(Se(W,(tt(),Ri)),32),O==(ht(),Pt)||O==Ft))for(R=wn(Xv(W));vn(R);)_=z(cn(R),12),l=_.a,l.b!=0&&(ae=_.c,ae.f==W&&(q=(Kt(l.b!=0),z(l.a.a.c,10)),q.b=Jn(Ze(Ke(In,1),Mn,10,0,[ae.f.i,ae.i,ae.a])).b),ce=_.d,ce.f==W&&(H=(Kt(l.b!=0),z(l.c.b.c,10)),H.b=Jn(Ze(Ke(In,1),Mn,10,0,[ce.f.i,ce.i,ce.a])).b))}function GY(r,l,_,R){var O,q,H,W,ee,ae;for(H=new t4(r,l,_),ee=new nr(R,0),O=!1;ee.b<ee.d.Y();)W=(Kt(ee.b<ee.d.Y()),z(ee.d.sb(ee.c=ee.b++),102)),W==l||W==_?ls(ee):!O&&ct(bo(W.g,W.d[0]).a)>ct(bo(H.g,H.d[0]).a)?(Kt(ee.b>0),ee.a.sb(ee.c=--ee.b),Ju(ee,H),O=!0):W.e&&W.e.Y()>0&&(q=(!W.e&&(W.e=new dt),W.e).nb(l),ae=(!W.e&&(W.e=new dt),W.e).nb(_),(q||ae)&&((!W.e&&(W.e=new dt),W.e).ib(H),++H.c));O||(R.c[R.c.length]=H)}function HY(r,l,_,R){var O,q,H,W,ee,ae,ce,fe,pe,be,_e;_.d.f!=l.f&&(O=new No(r),na(O,(Ht(),rr)),et(O,(tt(),Jt),_),et(O,(pt(),en),(Rr(),Zi)),R.c[R.c.length]=O,H=new Br,Qn(H,O),An(H,(ht(),Ft)),W=new Br,Qn(W,O),An(W,Pt),ee=_.d,gr(_,H),q=new ru,ic(q,_),et(q,Gr,null),Ir(q,W),gr(q,ee),ae=z($t(H.b,0),12).c,ce=ae.f,fe=ce.g,pe=z($t(W.e,0),12).d,be=pe.f,_e=be.g,fe==rr?et(O,Ma,z(Se(ce,Ma),7)):et(O,Ma,ae),_e==rr?et(O,wa,z(Se(be,wa),7)):et(O,wa,pe))}function UY(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e;return W=r.b[l],ee=r.b[_],ae=z(Se(W,(tt(),Qd)),20),!!ae&&ae.Y()!=0&&ae.kb(ee)||(ce=W.g!=(Ht(),rr)&&ee.g!=rr,fe=z(Se(W,xf),9),pe=z(Se(ee,xf),9),be=!!fe&&fe!=W||!!pe&&pe!=ee,_e=fe!=pe,Ce=_3(W,(ht(),Yt)),Re=_3(ee,Qt),$e=be&&_e||Ce||Re,ce&&$e)||W.g==(Ht(),Kr)&&ee.g==Pr||ee.g==(Ht(),Kr)&&W.g==Pr?!1:(H=r.b[l],R=r.b[_],ZG(r.c,H,R),tH(r.d,H,R),q=iN(r.a,H,R)+r.c.d+r.d.d,O=iN(r.a,R,H)+r.c.b+r.d.b,q>O)}function YY(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce;for(H=l,pe=l.d,ce=l.c.f,be=l.d.f,fe=Ka(ce.d),_e=Ka(be.d),W=fe;W<_e;W++)O=new No(r),na(O,(Ht(),rr)),et(O,(tt(),Jt),H),et(O,(pt(),en),(Rr(),Zi)),ee=z($t(r.c,W+1),16),Ti(O,ee),Ce=z(Se(H,zs),15).a,Ce<0&&(Ce=0,et(H,zs,new Nn(Ce))),O.j.b=Ce,ae=Math.floor(Ce/2),R=new Br,An(R,(ht(),Ft)),Qn(R,O),R.i.b=ae,q=new Br,An(q,Pt),Qn(q,O),q.i.b=ae,gr(H,R),_=new ru,ic(_,H),et(_,Gr,null),Ir(_,q),gr(_,pe),GG(O,H,_),H=_}function VY(r,l){if(da(),r==l)return a2(r);switch(r.e){case 1:switch(l.e){case 4:return bs;case 1:return vu;case 2:return ul;case 3:return vc}case 2:switch(l.e){case 1:return ul;case 2:return gc;case 3:return pc;case 4:return Ys}case 3:switch(l.e){case 2:return pc;case 3:return Vs;case 4:return fl;case 1:return vc}case 4:switch(l.e){case 3:return fl;case 4:return ll;case 1:return bs;case 2:return Ys}}return _h}function WY(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce;for(fe=new Fa,O=null,H=new xe(r.c);H.a<H.c.c.length;){for(q=z(Ee(H),16),ee=new xe(q.a);ee.a<ee.c.c.length;)W=z(Ee(ee),9),W.g==(Ht(),yr)&&(ce=z(Se(W,(tt(),gb)),9),ce&&(RG(ce,fe),pe=new Br,Qn(pe,W),be=z(Se(W,Ri),32),An(pe,be),_e=z($t(ce.f,0),7),Ce=new ru,Ir(Ce,pe),gr(Ce,_e)));O=q}for(_=(ae=new Dn(fe.a).a.bb().mb(),new Fn(ae));_.a.G();)l=(R=z(_.a.H(),21),z(R.yb(),9)),Ti(l,O);return fe}function U5(r,l,_){var R,O,q,H,W,ee,ae,ce,fe;for(O=new dt,ae=new xe(l.b);ae.a<ae.c.c.length;)if(ee=z(Ee(ae),9),W=z(Se(ee,(tt(),Ef)),55),W&&(R=U5(r,W,ee),_r(O,R),BV(r,W,ee),z(Se(W,Bi),18).kb((oi(),Ws))))for(fe=new xe(ee.f);fe.a<fe.c.c.length;)ce=z(Ee(fe),7),Bn(r.b,ce)==null&&(q=ky(ce,(Rr(),ys),ce.g,-(ce.b.c.length-ce.e.c.length),ce.j,z(Se(W,(pt(),vs)),59),W),et(q,Jt,ce),Kn(r.b,ce,q),xt(W.b,q));return H=new dt,zV(r,l,_,O,H),_&&OV(r,l,_,H),H}function XY(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe;for(l=K3(r),ce=(W=new Dn(l).a.bb().mb(),new Fn(W));ce.a.G();){for(ae=(O=z(ce.a.H(),21),z(O.yb(),9)),fe=ae.e.d,pe=ae.j.b+ae.e.a,r.d[ae.k]=0,_=ae;(q=r.a[_.k])!=ae;)R=qz(_,q),r.c==(fs(),pu)?ee=R.d.i.b+R.d.a.b-R.c.i.b-R.c.a.b:ee=R.c.i.b+R.c.a.b-R.d.i.b-R.d.a.b,H=ct(r.d[_.k])+ee,r.d[q.k]=H,fe=St(fe,q.e.d-H),pe=St(pe,H+q.j.b+q.e.a),_=q;_=ae;do r.d[_.k]=ct(r.d[_.k])+fe,_=r.a[_.k];while(_!=ae);r.b[ae.k]=fe+pe}}function R2(r,l,_){var R,O,q,H,W,ee,ae,ce;return R=r.a.k==(Vo(),zo)?ya:Ii,W=k5(r,new hR(l,_)),!W.a&&W.c?(Un(r.d,W),R):W.a?(O=W.a.c,ee=W.a.d,_?(ae=r.a.c==(fs(),sl)?ee:O,q=r.a.c==sl?O:ee,H=r.a.f[q.f.k],ce=ct(r.a.n[H.k])+ct(r.a.d[q.f.k])+q.i.b+q.a.b-ct(r.a.d[ae.f.k])-ae.i.b-ae.a.b):(ae=r.a.c==(fs(),pu)?ee:O,q=r.a.c==pu?O:ee,ce=ct(r.a.n[r.a.f[q.f.k].k])+ct(r.a.d[q.f.k])+q.i.b+q.a.b-ct(r.a.d[ae.f.k])-ae.i.b-ae.a.b),ce):R}function ZY(r){var l,_,R,O,q;for(et(r.g,(tt(),TM),io(r.g.c)),l=1;l<r.c.c.length-1;++l)et(z($t(r.c,l),9),(pt(),to),(sc(),On(ba,Ze(Ke(xr,1),kt,41,0,[lo,qo]))));for(R=zn(io(r.g.c),0);R.b!=R.d.c;)_=z($n(R),33),O=z(Se(r.g,(pt(),to)),86),Hc(O,On((sc(),Ya),Ze(Ke(xr,1),kt,41,0,[Ga,lo])))||(Hc(O,On(Ya,Ze(Ke(xr,1),kt,41,0,[Ua,lo])))?(xt(r.e.c,_),gi(r.g.c,_),q=new eR(r,_),et(r.g,TE,q)):(YU(r,_),xt(r.i,r.d),et(r.g,TE,CG(r.i))))}function Y5(r,l,_,R){var O,q,H,W,ee,ae,ce;if(q=Q_(R),W=bn(ct(_n(Se(R,(Ln(),jM))))),(W||bn(ct(_n(Se(r,(pt(),k0))))))&&!eu(z(Se(r,(pt(),en)),28)))O=Jm(q),ee=IT(r,_,_==(ni(),Ki)?O:X_(O));else switch(ee=new Br,Qn(ee,r),ce=ee.i,ce.a=l.a-r.i.a,ce.b=l.b-r.i.b,IH(ce,r.j.a,r.j.b),An(ee,$5(ee,q)),H=z(Se(R,(tt(),Bi)),18),ae=ee.g,q.e){case 2:case 1:(ae==(ht(),Yt)||ae==Qt)&&H.ib((oi(),kh));break;case 4:case 3:(ae==(ht(),Pt)||ae==Ft)&&H.ib((oi(),kh))}return ee}function KY(r){var l,_,R,O,q,H,W,ee;for(R=Wk(Yl(r.a)),O=(l=z(Na(pp),11),new Xi(l,z(xa(l,l.length),11),0));R.a.G()||R.b.mb().G();)_=z(sS(R),12),W=_.c.g,ee=_.d.g,W==(ht(),ii)?ee!=ii&&(H=a2(ee),et(_,(tt(),V0),H),An(_.c,ee),oa(O,H),R.a.I()):ee==ii?(H=a2(W),et(_,(tt(),V0),H),An(_.d,W),oa(O,H),R.a.I()):(H=VY(W,ee),et(_,(tt(),V0),H),oa(O,H),R.a.I());return O.c==1?q=z(Wl(new sd(O)),60):q=(da(),_h),Kg(r,q,!1),q}function QY(r,l){var _,R,O,q;for(O=0;O<(Et(),l.length)&&z$(l.charCodeAt(O),L4);)++O;for(_=l.length;_>0&&z$(l.charCodeAt(_-1),M4);)--_;if(O>=_)throw new Gn("The given string does not contain any numbers.");if(q=Ey(l.substr(O,_-O),`,|;|\r|
`),q.length!=2)throw new Gn("Exactly two numbers are expected, "+q.length+" were found.");try{r.a=dy(Ql(q[0])),r.b=dy(Ql(q[1]))}catch(H){throw H=ji(H),yt(H,130)?(R=H,new Gn(I4+R)):zi(H)}}function JY(r,l,_){var R,O,q,H,W,ee,ae,ce,fe;for(ee=_+l.d.c.a,fe=new xe(l.f);fe.a<fe.c.c.length;){if(ce=z(Ee(fe),7),R=Jn(Ze(Ke(In,1),Mn,10,0,[ce.f.i,ce.i,ce.a])),q=new Wt(0,R.b),ce.g==(ht(),Pt))q.a=ee;else if(ce.g==Ft)q.a=_;else continue;if(R.a!=q.a)for(O=ce.e.c.length+ce.b.c.length>1,W=wn(yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[ce.b,ce.e]))))));vn(W);)H=z(cn(W),12),ae=H.c==ce?H.d:H.c,Wi(Jn(Ze(Ke(In,1),Mn,10,0,[ae.f.i,ae.i,ae.a])).b-q.b)>1&&iU(r,H,q,O,ce)}}function V5(r,l){var _,R,O,q,H,W;for(H=new ih(new rs(r.f.b).a);H.b;){if(q=Ug(H),O=z(q.yb(),251),l==1){if(O.yc()!=(Fr(),Du)&&O.yc()!=du)continue}else if(O.yc()!=(Fr(),Ao)&&O.yc()!=za)continue;switch(R=z(z(q.zb(),27).b,25),W=z(z(q.zb(),27).a,78),_=W.c,O.yc().e){case 2:R.j.d=r.e.a,R.j.c=St(1,R.j.c+_);break;case 1:R.j.d=R.j.d+_,R.j.c=St(1,R.j.c-_);break;case 4:R.j.e=r.e.b,R.j.b=St(1,R.j.b+_);break;case 3:R.j.e=R.j.e+_,R.j.b=St(1,R.j.b-_)}}}function PT(r,l,_,R,O){var q,H,W,ee,ae,ce,fe,pe,be;for(pe=(Ar(),new kn),W=new dt,R3(r,_,r.d.Mc(),W,pe),R3(r,R,r.d.Nc(),W,pe),ee=new nr(W,0);ee.b<ee.d.Y();)for(q=(Kt(ee.b<ee.d.Y()),z(ee.d.sb(ee.c=ee.b++),80)),ae=new nr(W,ee.b);ae.b<ae.d.Y();)H=(Kt(ae.b<ae.d.Y()),z(ae.d.sb(ae.c=ae.b++),80)),tY(q,H,r.a);for($W(W,z(Se(l,(tt(),Jd)),154)),FV(W),be=-1,fe=new xe(W);fe.a<fe.c.c.length;)ce=z(Ee(fe),80),!(Wi(ce.k-ce.a)<cc)&&(be=Vi(be,ce.i),r.d.Kc(ce,O));return r.b.a.Q(),be+1}function W5(r,l,_){var R,O;switch(O=new qr(l),R=new qr(r.j),_.e){case 1:case 8:case 7:ro(O,-R.a/2,-R.b),ro(l,0,-(.5+R.b));break;case 3:case 4:case 5:ro(O,-R.a/2,0),ro(l,0,.5+R.b);break;case 0:ro(O,-R.a/2,-R.b),ro(l,0,-(.5+-R.b));break;case 10:case 2:ro(O,0,-R.b/2),ro(l,0,-(.5+R.b));break;case 6:ro(O,-R.a,R.b/2),ro(l,0,-(.5+R.b));break;case 9:ro(O,-R.a/2,0),ro(l,0,-(.5+R.b));break;case 11:ro(O,-R.a,-R.b/2),ro(l,0,-(.5+R.b))}return ur(Eu(r.i),O),new KN(r)}function eV(r,l,_,R,O){Yf();var q,H,W,ee,ae,ce,fe;if(kD(r,"src"),kD(_,"dest"),ce=Gg(r),W=Gg(_),vC((ce.g&4)!=0,"srcType is not an array"),vC((W.g&4)!=0,"destType is not an array"),ae=ce.c,q=W.c,vC(ae.g&1?ae==q:(q.g&1)==0,"Array types don't match"),fe=r.length,ee=_.length,l<0||R<0||O<0||l+O>fe||R+O>ee)throw new nv;if((!(ae.g&1)||ae.g&4)&&ce!=W)if(r===_&&l<R)for(l+=O,H=R+O;H-- >R;)_[H]=r[--l];else for(H=R+O;R<H;)_[R++]=r[l++];else O>0&&g2(r,l,_,R,O,!0)}function tV(r,l,_){var R,O,q,H,W;if(R=z(Se(r,(Ln(),FE)),18),_.a>l.a&&(R.kb((Zg(),cE))?r.d.a+=(_.a-l.a)/2:R.kb(fE)&&(r.d.a+=_.a-l.a)),_.b>l.b&&(R.kb((Zg(),dE))?r.d.b+=(_.b-l.b)/2:R.kb(hE)&&(r.d.b+=_.b-l.b)),z(Se(r,(tt(),Bi)),18).kb((oi(),Ws))&&(_.a>l.a||_.b>l.b))for(W=new xe(r.b);W.a<W.c.c.length;)H=z(Ee(W),9),H.g==(Ht(),yr)&&(O=z(Se(H,Ri),32),O==(ht(),Pt)?H.i.a+=_.a-l.a:O==Qt&&(H.i.b+=_.b-l.b));q=r.a,r.e.a=_.a-q.b-q.c,r.e.b=_.b-q.d-q.a}function DT(r,l,_,R,O,q){var H,W,ee;if(H=l.$b(_,r.b),H<0)return W=r.e,W?(r.e=DT(W,l,_,R,O,q),q[0]==R&&(O==0&&q[0]!=0?--r.a:O>0&&q[0]==0&&++r.a,r.j=mi(r.j,O-q[0])),oc(r)):(q[0]=0,R==0&&O>0?gS(r,_,O):r);if(H>0)return ee=r.g,ee?(r.g=DT(ee,l,_,R,O,q),q[0]==R&&(O==0&&q[0]!=0?--r.a:O>0&&q[0]==0&&++r.a,r.j=mi(r.j,O-q[0])),oc(r)):(q[0]=0,R==0&&O>0?dS(r,_,O):r);if(q[0]=r.c,R==r.c){if(O==0)return pT(r);r.j=mi(r.j,O-r.c),r.c=O}return r}function P2(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re;for(ee=r.e,be=r.f,H=r.d,_e=r.c,ce=_e-1,Ce=r.g,fe=io(r.g.xb(1,r.g.Y()-1)),ae=new dt,_=0;_<r.b.Y()-1;_++)W=Rs(Qu(Ro(z(r.b.sb(_+1),92).a),z(r.b.sb(_),92).a),_e/(ct(Cn(Ce.sb(_+_e)))-ct(Cn(Ce.sb(_))))),ae.c[ae.c.length]=W;for(Re=new dt,q=zn(fe,0),pe=new dt,l=0;l<ce-1;l++)xt(Re,Cn($n(q)));for(O=new xe(ae);O.a<O.c.c.length;)R=z(Ee(O),10),xt(Re,Cn($n(q))),xt(pe,new b_(R,Re)),mr(0,Re.c.length),Re.c.splice(0,1);return new qS(ee,be,H,ce,fe,pe)}function X5(r){this.q=new ev,this.p=new ev,this.o=ot(Hr,zr,26,(ht(),Ze(Ke(xi,1),kt,32,0,[ii,Yt,Pt,Qt,Ft])).length,12,1),this.i=ot(Hr,zr,26,Ze(Ke(xi,1),kt,32,0,[ii,Yt,Pt,Qt,Ft]).length,12,1),this.j=ot(Wa,ga,26,Ze(Ke(xi,1),kt,32,0,[ii,Yt,Pt,Qt,Ft]).length,12,1),this.n=ot(Wa,ga,26,Ze(Ke(xi,1),kt,32,0,[ii,Yt,Pt,Qt,Ft]).length,12,1),this.g=ot(tL,kt,100,Ze(Ke(xi,1),kt,32,0,[ii,Yt,Pt,Qt,Ft]).length,0,1),this.c=new $S(xB),this.e=r,kI(this.o),kI(this.i),Rw(this.n,0)}function OT(r,l){var _,R,O,q,H,W,ee,ae,ce;if(H=l.i!=null&&!l.b,H||xn(l,"Component Layout",1),_=z(Se(r,(tt(),$M)),20),q=1/_.Y(),bn(ct(_n(Se(r,(pt(),E0))))))for(ce=_.mb();ce.G();)ae=z(ce.H(),31),SI(Gg(ae)),ae.sc(r,nh(l,q));else for(ce=_.mb();ce.G();)ae=z(ce.H(),31),ae.sc(r,nh(l,q));for(O=new xe(r.c);O.a<O.c.c.length;)R=z(Ee(O),16),_r(r.b,R.a),R.a.c=ot(zt,At,1,0,4,1);for(ee=new xe(r.b);ee.a<ee.c.c.length;)W=z(Ee(ee),9),Ti(W,null);r.c.c=ot(zt,At,1,0,4,1),H||pn(l)}function nV(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe;for(H=new xe(l);H.a<H.c.c.length;)O=z(Ee(H),102),O.e=null,O.c=0;for(W=null,q=new xe(l);q.a<q.c.c.length;){for(O=z(Ee(q),102),ce=O.d[0],pe=z(Se(ce,(tt(),Qd)),20).mb();pe.G();)fe=z(pe.H(),9),(!O.e&&(O.e=new dt),O.e).ib(r.b[fe.d.k][fe.k]),++r.b[fe.d.k][fe.k].c;if(ce.g==(Ht(),Pr)){if(W)for(ae=Gk(new cw(r.c,W),0);ae.c;)for(ee=z(x_(ae),9),R=Gk(new cw(r.c,ce),0);R.c;)_=z(x_(R),9),n9(r.b[ee.d.k][ee.k]).ib(r.b[_.d.k][_.k]),++r.b[_.d.k][_.k].c;W=ce}}}function rV(r,l,_,R){var O,q,H,W,ee,ae;if(oT(l),q=z(Se(R,(tt(),Bi)),18),W=(pt(),S0).b,!(W in l.a&&kr(l,W).ic().a))switch(ee=new Br,et(ee,Jt,l),Qn(ee,_),H=z(kr(l,"id"),97),Dm(r.k,H.a,ee),Kn(r.n,ee,l),_2(l,ee),fy(l,ee),lT(r,l,ee,R),An(ee,z(Se(ee,A0),32)),ae=z(Se(_,en),28),ae==(Rr(),rl)&&(ae=ys),O=z(Se(R,vs),59),O==(Fr(),ps)&&(O=za),mV(ee,ae,O,z(Se(ee,lc),10)),O.e){case 2:case 1:(ee.g==(ht(),Yt)||ee.g==Qt)&&q.ib((oi(),kh));break;case 4:case 3:(ee.g==(ht(),Pt)||ee.g==Ft)&&q.ib((oi(),kh))}}function iV(r,l){var _,R,O,q,H,W,ee,ae;for(r.f=l,O=l.c.c.length,r.a=ot(hi,wi,51,O,0,2),r.d=ot(hi,wi,51,O,0,2),r.g=ot(hi,wi,51,O,0,2),H=new nr(l.c,0);H.b<H.d.Y();)for(R=(Kt(H.b<H.d.Y()),z(H.d.sb(H.c=H.b++),16)),W=R.a.c.length,q=H.b-1,r.a[q]=ot(hi,Aa,9,W,0,1),r.d[q]=ot(hi,Aa,9,W,0,1),r.g[q]=ot(hi,Aa,9,W,0,1),ae=new nr(R.a,0),_=0;ae.b<ae.d.Y();)ee=(Kt(ae.b<ae.d.Y()),z(ae.d.sb(ae.c=ae.b++),9)),ee.k=_++,r.d[q][ae.b-1]=ee,r.a[q][ae.b-1]=ee,r.g[q][ae.b-1]=ee;r.b=new SR(r.d),r.e.c&&(r.b.e=!0)}function aV(r){var l,_,R,O,q,H;for(O=new dt,H=new xe(r.c.f);H.a<H.c.c.length;)q=z(Ee(H),7),q.g==(ht(),Pt)&&(O.c[O.c.length]=q);if(r.d.a==(Fr(),za)&&!eu(z(Se(r.c,(pt(),en)),28)))for(R=wn(pr(r.c));vn(R);)_=z(cn(R),12),xt(O,_.c);et(r.c,(tt(),U0),new Nn(r.c.j.a)),et(r.c,hl,(dr(),dr(),Qi)),xt(r.b,r.c),l=null,r.e==1?l=xV(r,r.c,Ka(r.c.d),r.c.j.a):r.e==0?l=EV(r,r.c,Ka(r.c.d),r.c.j.a):r.e==3?l=cU(r,r.c,r.c.j.a):r.e==2&&(l=uU(r,r.c,r.c.j.a)),l&&new XS(r.c,r.b,ct(Cn(l.b)))}function $T(r,l,_){var R,O,q,H,W,ee,ae,ce;if(O=l.g,bn(ct(_n(Se(l,(tt(),hl)))))&&(O=(Ht(),La)),l.k>=0)return!1;if(_.e&&O==(Ht(),La)&&O!=_.e)return!1;if(l.k=_.b,xt(_.f,l),_.e=O,O==(Ht(),rr)||O==Kr||O==La){for(H=new xe(l.f);H.a<H.c.c.length;)for(q=z(Ee(H),7),ce=(R=new xe(new Cl(q).a.e),new Up(R));$l(ce.a);)if(ae=z(Ee(ce.a),12).d,W=ae.f,ee=W.g,l.d!=W.d){if(O==La){if(ee==La&&$T(r,W,_))return!0}else if((ee==rr||ee==Kr)&&$T(r,W,_))return!0}}return!0}function Z5(r,l){var _,R,O,q,H,W,ee,ae,ce;for(nS(r.a,Ze(Ke(In,1),Mn,10,0,[l.a,l.b])),Ja(r.c,l.e),r.q.d=r.q.d|l.d,r.q.a=r.q.a|l.c,W=qn(r.j.e,l.k),ee=St(r.j.e+r.j.b,l.n),NP(r.j,l.j,W,0,ee-W),lr(r.d,l.f),l.f.c.f==l.f.d.f&&_o(r.n,!0,!0,!0,!0),H=new $i,ae=new $i,O=(ce=new Dn(r.d.a).a.bb().mb(),new Fn(ce));O.a.G();)R=(q=z(O.a.H(),21),z(q.yb(),12)),lr(H,R.c),lr(ae,R.d);_=H.a.Y()-ae.a.Y(),_<0?(qv(r.n,!0,(Fr(),Ao)),qv(r.n,!1,za)):_>0&&(qv(r.n,!1,(Fr(),Ao)),qv(r.n,!0,za))}function oV(r,l){var _,R,O,q,H,W,ee,ae,ce,fe;for(H=0;H<(Et(),l.length)&&G$(l.charCodeAt(H),L4);)++H;for(_=l.length;_>0&&G$(l.charCodeAt(_-1),M4);)--_;if(H<_){ce=Ey(l.substr(H,_-H),",|;");try{for(ee=0,ae=ce.length;ee<ae;++ee){if(W=ce[ee],q=Ey(W,"="),q.length!=2)throw new Gn("Expecting a list of key-value pairs.");O=Ql(q[0]),fe=dy(Ql(q[1])),Ts(O,"top")?r.d=fe:Ts(O,"left")?r.b=fe:Ts(O,cA)?r.a=fe:Ts(O,"right")&&(r.c=fe)}}catch(pe){throw pe=ji(pe),yt(pe,130)?(R=pe,new Gn(I4+R)):zi(pe)}}}function sV(r,l){var _,R,O,q,H,W,ee,ae,ce;for(ce=new qi,W=(ae=new Df(r.c).a.bb().mb(),new Hh(ae));W.a.G();)q=(O=z(W.a.H(),21),z(O.zb(),200)),q.b==0&&ci(ce,q,ce.c.b,ce.c);for(;ce.b!=0;)for(q=z(ce.b==0?null:(Kt(ce.b!=0),Cu(ce,ce.a.a)),200),R=new xe(q.d);R.a<R.c.c.length;)_=z(Ee(R),279),l.k==(Vo(),dc)?_.b.a=qn(_.b.a,q.a+_.a):_.b.a=St(_.b.a,q.a+_.a),--_.b.b,_.b.b==0&&Un(ce,_.b);for(H=(ee=new Df(r.c).a.bb().mb(),new Hh(ee));H.a.G();)q=(O=z(H.a.H(),21),z(O.zb(),200)),l.g[q.c.k]=q.a}function uV(r,l,_){var R,O,q,H;switch(q=r.i,O=Jn(Ze(Ke(In,1),Mn,10,0,[l.i,l.f.i])),R=Jn(Ze(Ke(In,1),Mn,10,0,[l.f.i,l.i,l.a])),H=l.d,l.g.e){case 4:q.a=qn(O.a,R.a)-H.b-r.j.a-_,q.b=Jn(Ze(Ke(In,1),Mn,10,0,[l.f.i,l.i,l.a])).b+_;break;case 2:q.a=St(O.a+l.j.a,R.a)+H.c+_,q.b=Jn(Ze(Ke(In,1),Mn,10,0,[l.f.i,l.i,l.a])).b+_;break;case 1:q.a=Jn(Ze(Ke(In,1),Mn,10,0,[l.f.i,l.i,l.a])).a+_,q.b=qn(O.b,R.b)-H.d-r.j.b-_;break;case 3:q.a=Jn(Ze(Ke(In,1),Mn,10,0,[l.f.i,l.i,l.a])).a+_,q.b=St(O.b+l.j.b,R.b)+H.a+_}}function cV(r,l,_){var R,O,q,H;switch(q=r.i,O=Jn(Ze(Ke(In,1),Mn,10,0,[l.i,l.f.i])),R=Jn(Ze(Ke(In,1),Mn,10,0,[l.f.i,l.i,l.a])),H=l.d,l.g.e){case 4:q.a=qn(O.a,R.a)-H.b-r.j.a-_,q.b=Jn(Ze(Ke(In,1),Mn,10,0,[l.f.i,l.i,l.a])).b-r.j.b-_;break;case 2:q.a=St(O.a+l.j.a,R.a)+H.c+_,q.b=Jn(Ze(Ke(In,1),Mn,10,0,[l.f.i,l.i,l.a])).b-r.j.b-_;break;case 1:q.a=Jn(Ze(Ke(In,1),Mn,10,0,[l.f.i,l.i,l.a])).a+_,q.b=qn(O.b,R.b)-H.d-r.j.b-_;break;case 3:q.a=Jn(Ze(Ke(In,1),Mn,10,0,[l.f.i,l.i,l.a])).a+_,q.b=St(O.b+l.j.b,R.b)+H.a+_}}function lV(r){var l,_;switch(_=z(Se(r,(tt(),Bi)),18),l=ym(TB),bn(ct(_n(Se(r,(Ln(),Q0)))))?Bc(l,(bi(),Jx)):ha(l,(bi(),Jx)),Se(r,(KC(),PA))!=null&&vi(l,AB),z(Se(r,(pt(),vs)),59).e){case 2:fa(Bc(l,(bi(),DL)),PL);break;case 3:fa(Bc(l,(bi(),xL)),_L);break;case 4:fa(Bc(l,(bi(),YL)),UL)}return _.kb((oi(),xE))&&fa(Bc(l,(bi(),wL)),bL),Ot(Se(r,bb))!==Ot((nf(),nb))&&ha(l,(bi(),$L)),Ot(Se(r,wb))!==Ot((Qg(),q0))&&Ot(Se(r,IM))===Ot((rc(),gh))&&fa(l,(bi(),TL)),_.kb(mM)&&(Bc(l,(bi(),FL)),ha(l,NL)),l}function a0(){a0=s,bM=new Jf("ONE_SIDED",0,!0,!1,!1),CE=new Jf("TWO_SIDED",1,!1,!1,!1),wM=new Jf("ONE_SIDED_BEST_OF_UP_OR_DOWN",2,!0,!0,!1),EM=new Jf("TWO_SIDED_BEST_OF_UP_OR_DOWN",3,!1,!0,!1),_M=new Jf("ONE_SIDED_BEST_OF_UP_OR_DOWN_ORTHOGONAL_HYPEREDGES",4,!0,!0,!0),kM=new Jf("TWO_SIDED_BEST_OF_UP_OR_DOWN_ORTHOGONAL_HYPEREDGES",5,!1,!0,!0),xM=new Jf("ONE_SIDED_ORTHOGONAL_HYPEREDGES",6,!0,!1,!0),kE=new Jf("OFF",7,!1,!1,!1)}function D2(r,l,_,R,O,q,H){var W,ee,ae,ce,fe,pe,be;return fe=bn(ct(_n(Se(l,(Ln(),zM))))),pe=null,q==(ni(),Ra)&&R.c.f==_?pe=R.c:q==Ki&&R.d.f==_&&(pe=R.d),ae=H,!H||!fe||pe?(ce=(ht(),ii),pe?ce=pe.g:eu(z(Se(_,(pt(),en)),28))&&(ce=q==Ra?Ft:Pt),ee=pV(r,l,_,q,ce,R),W=C_((Ea(_),R)),q==Ra?(Ir(W,z($t(ee.f,0),7)),gr(W,O)):(Ir(W,O),gr(W,z($t(ee.f,0),7))),ae=new dN(R,W,ee,z(Se(ee,(tt(),Jt)),7),q,!pe)):(xt(H.e,R),be=EI(z(Se(H.d,(pt(),zs)),15).a,z(Se(R,zs),15).a),et(H.d,zs,new Nn(be))),an(r.a,R,new pm(ae.d,l,q)),ae}function NT(r,l,_,R){var O,q,H,W,ee,ae,ce,fe;if(q=new No(r),na(q,(Ht(),Kr)),et(q,(pt(),en),(Rr(),Zi)),O=0,l){for(H=new Br,et(H,(tt(),Jt),l),et(q,Jt,l.f),An(H,(ht(),Ft)),Qn(H,q),fe=z(jr(l.b,ot(Va,ja,12,l.b.c.length,0,1)),47),ae=0,ce=fe.length;ae<ce;++ae)ee=fe[ae],gr(ee,H);et(l,mu,q),++O}if(_){for(W=new Br,et(q,(tt(),Jt),_.f),et(W,Jt,_),An(W,(ht(),Pt)),Qn(W,q),fe=z(jr(_.e,ot(Va,ja,12,_.e.c.length,0,1)),47),ae=0,ce=fe.length;ae<ce;++ae)ee=fe[ae],Ir(ee,W);et(_,mu,q),++O}return et(q,(tt(),bp),nn(O)),R.c[R.c.length]=q,q}function fV(r,l){var _,R,O,q,H,W,ee;for(H=o_(r.a).mb();H.G();){if(q=z(H.H(),12),q.b.c.length>0)for(R=new Nc(z(So(r.a,q),18)),Oo(R,new xs(l)),O=new nr(q.b,0);O.b<O.d.Y();){switch(_=(Kt(O.b<O.d.Y()),z(O.d.sb(O.c=O.b++),33)),W=-1,z(Se(_,(pt(),uo)),107).e){case 2:W=R.c.length-1;break;case 1:W=R.c.length/2|0;break;case 3:W=0}W!=-1&&(ee=(mr(W,R.c.length),z(R.c[W],114)),xt(ee.b.b,_),z(Se(Ea(ee.b.c.f),(tt(),Bi)),18).ib((oi(),mp)),z(Se(Ea(ee.b.c.f),Bi),18).ib(vp),ls(O),et(_,OM,q))}Ir(q,null),gr(q,null)}}function hV(r){var l,_,R,O,q,H,W,ee,ae,ce,fe;for(ce=r.e.a.c.length,H=new xe(r.e.a);H.a<H.c.c.length;)q=z(Ee(H),61),q.j=!1;for(r.i=ot(Hr,zr,26,ce,12,1),r.g=ot(Hr,zr,26,ce,12,1),r.n=new dt,O=0,fe=new dt,ee=new xe(r.e.a);ee.a<ee.c.c.length;)W=z(Ee(ee),61),W.b=O++,W.c.c.length==0&&xt(r.n,W),_r(fe,W.g);for(l=0,R=new xe(fe);R.a<R.c.c.length;)_=z(Ee(R),89),_.b=l++,_.e=!1;ae=fe.c.length,r.b==null||r.b.length<ae?(r.b=ot(Wa,ga,26,ae,12,1),r.c=ot(n1,d0,26,ae,13,1)):ov(r.c),r.d=fe,r.p=new cP(j_(r.d.c.length)),r.j=1}function dV(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe;for(Ce=r.d,Re=l.d,be=z(uu(r,(ni(),Ra)).mb().H(),7),Ge=z(uu(r,Ki).mb().H(),7),_e=z(uu(l,Ra).mb().H(),7),Xe=z(uu(l,Ki).mb().H(),7),fe=z(jr(be.b,ot(Va,ja,12,1,0,1)),47),$e=z(jr(Ge.e,ot(Va,ja,12,1,0,1)),47),pe=z(jr(_e.b,ot(Va,ja,12,1,0,1)),47),qe=z(jr(Xe.e,ot(Va,ja,12,1,0,1)),47),Ti(r,Re),O=0,ee=pe.length;O<ee;++O)_=pe[O],gr(_,be);for(q=0,ae=qe.length;q<ae;++q)_=qe[q],Ir(_,Ge);for(Ti(l,Ce),H=0,ce=fe.length;H<ce;++H)_=fe[H],gr(_,_e);for(R=0,W=$e.length;R<W;++R)_=$e[R],Ir(_,Xe)}function gV(r){var l,_,R,O,q,H,W,ee;for(q=new xe(r.a.b);q.a<q.c.c.length;)O=z(Ee(q),25),O.vc();for(ee=new Wt(ya,ya),l=new Wt(Ii,Ii),R=new xe(r.a.b);R.a<R.c.c.length;)_=z(Ee(R),25),ee.a=qn(ee.a,_.j.d),ee.b=qn(ee.b,_.j.e),l.a=St(l.a,_.j.d+_.j.c),l.b=St(l.b,_.j.e+_.j.b);for(W=SC(r.c).mb();W.G();)H=z(W.H(),27),_=z(H.b,25),ee.a=qn(ee.a,_.j.d),ee.b=qn(ee.b,_.j.e),l.a=St(l.a,_.j.d+_.j.c),l.b=St(l.b,_.j.e+_.j.b);r.d=jw(new Wt(ee.a,ee.b)),r.e=Qu(new Wt(l.a,l.b),ee),r.a.a.c=ot(zt,At,1,0,4,1),r.a.b.c=ot(zt,At,1,0,4,1)}function K5(r){var l,_,R,O,q,H,W;if(W=z($t(r.f,0),7),W.e.c.length!=0&&W.b.c.length!=0)throw new Ic("Interactive layout does not support NORTH/SOUTH ports with incoming _and_ outgoing edges.");if(W.e.c.length!=0){for(q=ya,_=new xe(W.e);_.a<_.c.c.length;)l=z(Ee(_),12),H=l.d.f,R=z(Se(H,(pt(),C0)),65),q=qn(q,H.i.a-R.b);return new sr(tn(q))}if(W.b.c.length!=0){for(O=Ii,_=new xe(W.b);_.a<_.c.c.length;)l=z(Ee(_),12),H=l.c.f,R=z(Se(H,(pt(),C0)),65),O=St(O,H.i.a+H.j.a+R.c);return new sr(tn(O))}return un(),un(),sx}function pV(r,l,_,R,O,q){var H,W,ee,ae,ce,fe,pe;return ae=R==(ni(),Ra)?q.c:q.d,ee=Q_(l),ae.f==_?(H=z(Bn(r.b,ae),9),H||(H=ky(ae,z(Se(_,(pt(),en)),28),O,R==Ra?-1:1,ae.j,ee,l),et(H,(tt(),Jt),ae),Kn(r.b,ae,H))):(ce=z(Se(q,(pt(),zs)),15).a,H=ky((fe=new j,pe=z(Se(l,(tt(),Ia)),15).a*z(Se(l,(Ln(),Bu)),15).a/2,et(fe,wp,new Nn(pe)),fe),z(Se(_,en),28),O,R==Ra?-1:1,new Wt(ce,ce),ee,l),W=OH(r,H,_,R),et(H,Jt,W),Kn(r.b,W,H)),z(Se(l,(tt(),Bi)),18).ib((oi(),Ws)),eu(z(Se(l,(pt(),en)),28))?et(l,en,(Rr(),M0)):et(l,en,(Rr(),ys)),H}function vV(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt;R=z(Se(l,(Ln(),qM)),15).a,Je=z(Se(l,Cp),24).a,pe=4,O=3,gt=20/Je,be=!1,ee=0,H=fi;do{for(q=ee!=1,fe=ee!=0,mt=0,Re=r.a,qe=0,Xe=Re.length;qe<Xe;++qe)_e=Re[qe],_e.g=null,nW(r,_e,q,fe,R),mt+=Wi(_e.a);do W=MY(r,l);while(W);for(Ce=r.a,$e=0,Ge=Ce.length;$e<Ge;++$e)if(_e=Ce[$e],_=wC(_e).a,_!=0)for(ce=new xe(_e.f);ce.a<ce.c.c.length;)ae=z(Ee(ce),9),ae.i.b+=_;ee==0||ee==1?(--pe,pe<=0&&(mt<H||-pe>Je)?(ee=2,H=fi):ee==0?(ee=1,H=mt):(ee=0,H=mt)):(be=mt>=H||H-mt<gt,H=mt,be&&--O)}while(!(be&&O<=0))}function FT(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be;for(fe=z(jr(r.f,ot(qB,Z4,7,r.f.c.length,0,1)),346),ae=0,ce=fe.length;ae<ce;++ae){if(ee=fe[ae],_!=(ni(),Ra))for(W=z(jr(ee.e,ot(Va,ja,12,ee.e.c.length,0,1)),47),O=0,q=W.length;O<q;++O)R=W[O],be=z(Se(R.d.f,(Ln(),di)),85),!bn(ct(_n(Se(R,(tt(),Fu)))))&&!(l==(qa(),Ep)&&be==bc)&&uc(R,!0);if(_!=Ki)for(H=z(jr(ee.b,ot(Va,ja,12,ee.b.c.length,0,1)),47),O=0,q=H.length;O<q;++O)R=H[O],pe=z(Se(R.c.f,(Ln(),di)),85),!bn(ct(_n(Se(R,(tt(),Fu)))))&&!(l==(qa(),K0)&&pe==dl)&&uc(R,!0)}}function mV(r,l,_,R){var O,q,H,W,ee;if(H=r.g,H==(ht(),ii)&&l!=(Rr(),ys)&&l!=(Rr(),rl)&&(H=$5(r,_),An(r,H),Se(r,(pt(),gf))==null&&H!=ii&&(r.i.a!=0||r.i.b!=0)&&et(r,gf,new Nn(QG(r,H)))),l==(Rr(),Gs)){switch(ee=0,H.e){case 1:case 3:q=r.f.j.a,q>0&&(ee=r.i.a/q);break;case 2:case 4:O=r.f.j.b,O>0&&(ee=r.i.b/O)}et(r,(tt(),yc),ee)}if(W=r.j,R)r.a.a=R.a,r.a.b=R.b;else if(l!=ys&&l!=rl&&H!=ii)switch(H.e){case 1:r.a.a=W.a/2;break;case 2:r.a.a=W.a,r.a.b=W.b/2;break;case 3:r.a.a=W.a/2,r.a.b=W.b;break;case 4:r.a.b=W.b/2}else r.a.a=W.a/2,r.a.b=W.b/2}function yV(r){var l,_,R,O;if(yt(r.a,10))return Ro(z(r.a,10));if(yt(r.a,66))return Aj(z(r.a,86));if(yt(r.a,50))return z(r.a,50).Wc();if(yt(r.a,191)){for(l=new uk,O=(R=new Ev(new _v(new Yu(z(r.a,191).a).a).b),new vg(R));bw(O.a.a);)EC(l,(_=Uw(O.a),_.yb()));return l}else{if(yt(r.a,13))return new Nc(z(r.a,13));if(yt(r.a,44)){for(l=new Ci,O=zn(z(r.a,44),0);O.b!=O.d.c;)Un(l,z($n(O),10));return l}else if(yt(r.a,58)){for(l=new qi,O=zn(z(r.a,58),0);O.b!=O.d.c;)Un(l,$n(O));return l}else return r.a}}function Pd(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e;W=0,_e=0,ee=_S(r.f,r.f.length),q=r.d,H=r.i,R=r.a,O=r.b;do{for(be=0,ce=new xe(r.p);ce.a<ce.c.c.length;)ae=z(Ee(ce),9),pe=r4(r,ae),_=!0,(r.q==(nf(),F0)||r.q==B0)&&(_=bn(ct(_n(pe.b)))),z(pe.a,24).a<0&&_?(++be,ee=_S(r.f,r.f.length),r.d=r.d+z(pe.a,24).a,_e+=q-r.d,q=r.d+z(pe.a,24).a,H=r.i,R=Yl(r.a),O=Yl(r.b)):(r.f=_S(ee,ee.length),r.d=q,r.a=(tn(R),R?new Nc((Is(),R)):mm(new xe(null))),r.b=(tn(O),O?new Nc((Is(),O)):mm(new xe(null))),r.i=H);++W,fe=be!=0&&bn(ct(_n(l.B(new ui(nn(_e),nn(W))))))}while(fe)}function bV(r,l,_,R){var O,q,H,W,ee,ae,ce;if(!$l(new xe(Uv(r))))return R;for(ce=J$(z(Jr(r,(pt(),to)),86)),ee=new xe(Uv(r));ee.a<ee.c.c.length;)W=z(Ee(ee),129),ae=J$(z(Jr(W,to),86)),ae==($2(),Ox)&&(ae=ce),Bb(W,ae.e),O=nG(_,ae),O.c=St(O.c,W.e.j.a),O.b+=W.e.j.b+l;for(H=new Cm(new Ll(_).a);sm(H.a);)switch(q=(H.b=Wl(H.a),new em(H.c,H.b)),O=z(q.b.b[q.a.e],62),O.b-=l,z(q.a,67).e){case 12:case 13:case 14:R.d=St(R.d,O.b+l);break;case 15:R.b=St(R.b,O.c+l);break;case 17:R.c=St(R.c,O.c+l);break;case 18:case 19:case 20:R.a=St(R.a,O.b+l)}return R}function BT(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce;for($O(this),_==(Ul(),$u)?lr(this.g,r):lr(this.o,r),be=Bs,pe=5e-324,ae=(H=new Dn(l.a).a.bb().mb(),new Fn(H));ae.a.G();)W=(O=z(ae.a.H(),21),z(O.yb(),27)),ce=z(W.a,223),R=z(W.b,12),fe=R.c,fe==r&&(fe=R.d),ce==$u?lr(this.g,fe):lr(this.o,fe),Ce=Jn(Ze(Ke(In,1),Mn,10,0,[fe.f.i,fe.i,fe.a])).b,be=be<Ce?be:Ce,pe=pe>Ce?pe:Ce;for(_e=Jn(Ze(Ke(In,1),Mn,10,0,[r.f.i,r.i,r.a])).b,BN(this,_e,be,pe),ee=(q=new Dn(l.a).a.bb().mb(),new Fn(q));ee.a.G();)W=(O=z(ee.a.H(),21),z(O.yb(),27)),lr(this.c,z(W.b,12));this.f=!1}function wV(r,l,_,R){var O,q,H,W,ee,ae;if(W=(pt(),S0).b,!(W in l.a&&kr(l,W).ic().a)){if(ae=kr(l,z2),ae){if(!ae.lc())throw new nu("A label's 'text' property must be a string.",ae,l)}else throw new nu("Labels must have a property 'text'.",null,l);if(ee=ae.lc().a,q=new Ok(ee),et(q,(tt(),Jt),l),Kn(r.f,q,l),_2(l,q),fy(l,q),yt(_,9)?xt(z(_,9).c,q):yt(_,12)?xt(z(_,12).b,q):yt(_,7)&&xt(z(_,7).c,q),yt(_,12))switch(H=z(Se(q,uo),107),_2(l,q),et(q,uo,H),O=z(Se(R,Bi),18),H.e){case 2:case 3:O.ib((oi(),mp));case 1:case 0:O.ib((oi(),vp)),et(q,uo,(su(),w0))}}}function qT(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e;for(q=0,H=0,ae=new xe(r.a);ae.a<ae.c.c.length;)W=z(Ee(ae),9),q=St(q,W.e.b),H=St(H,W.e.c);for(ee=new xe(r.a);ee.a<ee.c.c.length;){switch(W=z(Ee(ee),9),_=z(Se(W,(pt(),Zo)),103),_.e){case 1:_e=0;break;case 2:_e=1;break;case 5:_e=.5;break;default:for(R=0,fe=0,be=new xe(W.f);be.a<be.c.c.length;)pe=z(Ee(be),7),pe.b.c.length==0||++R,pe.e.c.length==0||++fe;R+fe==0?_e=.5:_e=fe/(R+fe)}Re=r.c,ce=W.j.a,$e=(Re.a-ce)*_e,_e>.5?$e-=H*2*(_e-.5):_e<.5&&($e+=q*2*(.5-_e)),O=W.e.b,$e<O&&($e=O),Ce=W.e.c,$e>Re.a-Ce-ce&&($e=Re.a-Ce-ce),W.i.a=l+$e}}function _V(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt,Vt;return _=r.l&8191,R=r.l>>13|(r.m&15)<<9,O=r.m>>4&8191,q=r.m>>17|(r.h&255)<<5,H=(r.h&1048320)>>8,W=l.l&8191,ee=l.l>>13|(l.m&15)<<9,ae=l.m>>4&8191,ce=l.m>>17|(l.h&255)<<5,fe=(l.h&1048320)>>8,lt=_*W,Tt=R*W,jt=O*W,Gt=q*W,Vt=H*W,ee!=0&&(Tt+=_*ee,jt+=R*ee,Gt+=O*ee,Vt+=q*ee),ae!=0&&(jt+=_*ae,Gt+=R*ae,Vt+=O*ae),ce!=0&&(Gt+=_*ce,Vt+=R*ce),fe!=0&&(Vt+=_*fe),be=lt&Fo,_e=(Tt&511)<<13,pe=be+_e,Re=lt>>22,$e=Tt>>9,qe=(jt&262143)<<4,Ge=(Gt&31)<<17,Ce=Re+$e+qe+Ge,Je=jt>>18,gt=Gt>>5,mt=(Vt&4095)<<8,Xe=Je+gt+mt,Ce+=pe>>22,pe&=Fo,Xe+=Ce>>22,Ce&=Fo,Xe&=Kc,Fc(pe,Ce,Xe)}function xV(r,l,_,R){var O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt;if(Re=r.d.c.c.c.length,_>=Re-1)return null;for(O=new dt,O.c[O.c.length]=l,Xe=l,H=_,_e=-1,W=z($t(r.d.c.c,_),16),be=0;be<W.a.c.length;++be)if($e=z($t(W.a,be),9),$e==l){_e=be;break}if(Ce=HT(r,1,_e,_,Re,r.a),!Ce)return null;for(Je=r.a,pe=0,q=0;Xe&&Je>1&&H<Re-1;)ce=B5(r,Xe),fe=z($t(r.d.c.c,H+1),16),gt=z(Ce.sb(pe++),24).a,qe=Rc(gt,fe.a.c.length),Ld(ce,qe,fe),Xe&&(O.c[O.c.length]=Xe),Xe=ce,--Je,++q,++H;for(Ge=(R-(O.c.length-1)*r.d.d)/O.c.length,ae=new xe(O);ae.a<ae.c.c.length;)ee=z(Ee(ae),9),ee.j.a=Ge;return new ui(nn(q),Ge)}function EV(r,l,_,R){var O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt;if(_<=0)return null;for(O=new dt,O.c[O.c.length]=l,Xe=l,H=_,_e=-1,W=z($t(r.d.c.c,_),16),be=0;be<W.a.c.length;++be)if(Re=z($t(W.a,be),9),Re==l){_e=be;break}if(Ce=HT(r,0,_e,_,r.d.c.c.c.length,r.a),!Ce)return null;for(Je=r.a,pe=0,q=0,Ge=_e;Xe&&Je>1&&H>1;)ce=B5(r,Xe),W=z($t(r.d.c.c,H),16),fe=z($t(r.d.c.c,H-1),16),gt=z(Ce.sb(pe++),24).a,$e=Rc(gt,fe.a.c.length),Ld(Xe,$e,fe),Ld(ce,Ge,W),Ge=$e,Xe&&(O.c[O.c.length]=Xe),Xe=ce,--Je,++q,--H;for(qe=(R-(O.c.length-1)*r.d.d)/O.c.length,ae=new xe(O);ae.a<ae.c.c.length;)ee=z(Ee(ae),9),ee.j.a=qe;return new ui(nn(q),qe)}function kV(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e;if(r.b=r.c,_e=_n(Se(l,(pt(),ZA))),be=_e==null||bn((ti(_e),_e)),q=z(Se(l,(tt(),Bi)),18).kb((oi(),Ws)),O=z(Se(l,en),28),_=!(O==(Rr(),Gd)||O==Gs||O==Zi),be&&(_||!q)){for(fe=new xe(l.b);fe.a<fe.c.c.length;)ae=z(Ee(fe),9),ae.k=0;for(pe=new dt,ce=new xe(l.b);ce.a<ce.c.c.length;)if(ae=z(Ee(ce),9),R=z5(r,ae,null),R){for(ee=new cS,ic(ee,l),et(ee,Sh,z(R.b,18)),tD(ee.a,l.a),W=z(R.a,20).mb();W.G();)H=z(W.H(),9),xt(ee.b,H),H.a=ee;pe.ib(ee)}q&&(r.b=r.a)}else pe=new vo(Ze(Ke(tX,1),{38:1,39:1,42:1,3:1,8:1,5:1,6:1},55,0,[l]));return pe}function CV(r){var l,_,R,O,q,H,W,ee,ae;for(_=new xe(r.a.a.b);_.a<_.c.c.length;)for(l=z(Ee(_),25),H=l.i.mb();H.G();)q=z(H.H(),25),l.f!=q.f&&(jf(r.a.d)?ee=r.a.g.tc(l,q):ee=r.a.g.uc(l,q),R=l.g.a+l.j.c+ee-q.g.a,R=Math.ceil(R),R=0>R?0:R,l.o&&q.o&&yt(l,82)&&yt(q,82)&&!$_(fS(z(l,82).d,z(q,82).d))?(O=bv(new Ff,r.d),W=Wr(Q1(q.g.a-l.g.a)),Id(td(rd(ad(nd(new Cs,0>W?0:W),1),O),r.c[l.f.d])),Id(td(rd(ad(nd(new Cs,0>-W?0:-W),1),O),r.c[q.f.d]))):(ae=1,(yt(l,82)&&yt(q,93)||yt(q,82)&&yt(l,93))&&(ae=2),Id(td(rd(ad(nd(new Cs,Wr(R)),ae),r.c[l.f.d]),r.c[q.f.d]))))}function Q5(){Q5=s,lL=new $i,cL=Rd(Ze(Ke(dh,1),At,79,0,[(pt(),zA),zF])),uL=Rd(Ze(Ke(dh,1),At,79,0,[VA,fc,(Ln(),HM),GF,(tt(),Go),Cp,GM])),iL=Rd(Ze(Ke(dh,1),At,79,0,[BF,lp,S0,jF,HF,YA,UF,Sx,ZA,k0,OE,BM,qE,jM,Q0,zM,UM,UE,NE])),sL=Rd(Ze(Ke(dh,1),At,79,0,[hp,fp,jd,zs,gf,IE,Xs,Kd,Ia,kp,Bu,qM])),oL=Rd(Ze(Ke(dh,1),At,79,0,[A0,Zo,vs,ph,uo,HA,UA,_x,xx,Ex,kx,Cx,en,T0,$E,BE,GE,eg,vb,HE,bb,yb,jE,di,wb,YE,VE,Sp,zE])),aL=Rd(Ze(Ke(dh,1),At,79,0,[to,nl,L0,FE])),Yy=Rd(Ze(Ke(dh,1),At,79,0,[_0,wx,Gr,C0,lc,zd])),CB=Rd(Ze(Ke(dh,1),At,79,0,[(ES(),nL)]))}function J5(r){var l,_,R,O,q,H,W;for(l=0,q=new xe(r.b.a);q.a<q.c.c.length;)R=z(Ee(q),78),R.b=0,R.c=0;for(Z3(r,0),i2(r,r.g),xy(r.c),Eg(r.c),_=(Fr(),Ao),Tu(sv(lu(Tu(sv(lu(Tu(lu(r.c,_)),uN(_)))),_))),lu(r.c,Ao),K_(r,r.g),W3(r,0),V5(r,0),b5(r,1),Z3(r,1),i2(r,r.d),xy(r.c),H=new xe(r.b.a);H.a<H.c.c.length;)R=z(Ee(H),78),l+=Wi(R.c);for(W=new xe(r.b.a);W.a<W.c.c.length;)R=z(Ee(W),78),R.b=0,R.c=0;for(_=Du,Tu(sv(lu(Tu(sv(lu(Tu(Eg(lu(r.c,_))),uN(_)))),_))),lu(r.c,Ao),K_(r,r.d),W3(r,1),V5(r,1),b5(r,0),Eg(r.c),O=new xe(r.b.a);O.a<O.c.c.length;)R=z(Ee(O),78),l+=Wi(R.c);return l}function SV(r){var l,_,R,O,q,H,W;for(l=new dt,r.g=new dt,r.d=new dt,H=new ih(new rs(r.f.b).a);H.b;)q=Ug(H),xt(l,z(z(q.zb(),27).b,25)),jf(z(q.yb(),251).yc())?xt(r.d,z(q.zb(),27)):xt(r.g,z(q.zb(),27));for(i2(r,r.d),i2(r,r.g),r.c=new fT(r.b),hI(r.c,(Zh(),LB)),K_(r,r.d),K_(r,r.g),_r(l,r.c.a.b),r.e=new Wt(ya,ya),r.a=new Wt(Ii,Ii),R=new xe(l);R.a<R.c.c.length;)_=z(Ee(R),25),r.e.a=qn(r.e.a,_.j.d),r.e.b=qn(r.e.b,_.j.e),r.a.a=St(r.a.a,_.j.d+_.j.c),r.a.b=St(r.a.b,_.j.e+_.j.b);tw(r.c,new ge),W=0;do O=J5(r),++W;while((W<2||O>c0)&&W<10);tw(r.c,new ve),J5(r),p9(r.c),gV(r.f)}function TV(r){jg();var l,_,R,O,q,H,W;for(W=new C1,_=new xe(r);_.a<_.c.c.length;)l=z(Ee(_),48),(!W.b||l.c>=W.b.c)&&(W.b=l),(!W.c||l.c<=W.c.c)&&(W.d=W.c,W.c=l),(!W.e||l.d>=W.e.d)&&(W.e=l),(!W.f||l.d<=W.f.d)&&(W.f=l);return R=new iy((Nv(),ol)),Iv(r,NB,new vo(Ze(Ke($0,1),At,160,0,[R]))),H=new iy(bf),Iv(r,$B,new vo(Ze(Ke($0,1),At,160,0,[H]))),O=new iy(yf),Iv(r,OB,new vo(Ze(Ke($0,1),At,160,0,[O]))),q=new iy(wh),Iv(r,DB,new vo(Ze(Ke($0,1),At,160,0,[q]))),A2(R.c,ol),A2(O.c,yf),A2(q.c,wh),A2(H.c,bf),W.a.c=ot(zt,At,1,0,4,1),_r(W.a,R.c),_r(W.a,B_(O.c)),_r(W.a,q.c),_r(W.a,B_(H.c)),W}function AV(r){var l,_,R,O,q,H,W,ee,ae,ce;for(O=z(AI(r,(pt(),jd)),15).a,W=new xe(x3(r));W.a<W.c.c.length;){for(H=z(Ee(W),626),_=new X5(H),_.d=O,_.k=z(Jr(H,WA),15).a,R=z(Jr(H,T0),149),l=bn(ct(_n(Se(z(H.e,9),(tt(),AM))))),ce=new xe(Wc(H));ce.a<ce.c.c.length;)ae=z(Ee(ce),161),R==(kd(),Ax)?LV(ae,l,O):R==I0&&aW(ae,O),AY(ae);pW(_,z(Jr(H,nl),86).kb((ac(),P0))),OY(_),bV(_.e,_.d,_.c,_.p),KV(_),xH(_),a8(_),ee=new CP((q=z(H.e,9).b,new _P(q.d,q.b,q.a,q.c))),ee.b=_.p.b+_.q.b,ee.c=_.p.c+_.q.c,ee.d=_.p.d+_.q.d,ee.a=_.p.a+_.q.a,z(H.e,9).b.b=ee.b,z(H.e,9).b.d=ee.d,z(H.e,9).b.c=ee.c,z(H.e,9).b.a=ee.a}}function e4(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge;for(ee=z(Zr(r,(ht(),Ft)).mb().H(),7).b,be=z(Zr(r,Pt).mb().H(),7).e,W=ee.c.length,Ge=Ca(z($t(r.f,0),7));W-- >0;){for(Ce=(mr(0,ee.c.length),z(ee.c[0],12)),O=(mr(0,be.c.length),z(be.c[0],12)),qe=O.d.b,q=Sa(qe,O,0),N8(Ce,O.d,q),Ir(O,null),gr(O,null),_e=Ce.a,l&&Un(_e,new qr(Ge)),R=zn(O.a,0);R.b!=R.d.c;)_=z($n(R),10),Un(_e,new qr(_));for($e=Ce.b,pe=new xe(O.b);pe.a<pe.c.c.length;)fe=z(Ee(pe),33),$e.c[$e.c.length]=fe;if(Re=z(Se(Ce,(pt(),Gr)),44),H=z(Se(O,Gr),44),H)for(Re||(Re=new Ci,et(Ce,Gr,Re)),ce=zn(H,0);ce.b!=ce.d.c;)ae=z($n(ce),10),Un(Re,new qr(ae))}}function LV(r,l,_){var R,O,q,H,W;if(q=WD(Yv(r)),!q.Nb().V()){switch(W=0,z(r.e,7).g.e){case 4:case 2:W=l&&bn(ct(_n(Se(z(r.e,7),(tt(),bq)))))?r.e.j.b:(r.e.j.b-z(q.Nb().sb(0),129).pc().b)/2-_;break;case 1:W=r.e.j.b;break;case 3:W=0}for(z(r.e,7).g==(ht(),Qt)&&qg(q),O=new xe(Yv(r));O.a<O.c.c.length;){switch(R=z(Ee(O),129),H=new qr(r.e.i),z(r.e,7).g.e){case 4:H.a=r.e.j.a+_,H.b=W+_,W+=_+R.e.j.b;break;case 2:H.a=-R.e.j.a-_,H.b=W+_,W+=_+R.e.j.b;break;case 1:H.a=(r.e.j.a-R.e.j.a)/2,H.b=W+_,W+=_+R.e.j.b;break;case 3:H.a=(r.e.j.a-R.e.j.a)/2,H.b=W-_-R.e.j.b,W-=_+R.e.j.b}R.e.i.a=H.a,R.e.i.b=H.b}}}function MV(r,l){var _,R,O,q,H,W,ee,ae,ce,fe;for(r.a=new xC(dz(b0)),R=new xe(l.a);R.a<R.c.c.length;){for(_=z(Ee(R),347),W=new ry(Ze(Ke(Vy,1),At,25,0,[])),xt(r.a.a,W),ae=new xe(_.d);ae.a<ae.c.c.length;)ee=z(Ee(ae),62),ce=new Bk(r,ee),jT(ce,z(Se(_.c,(tt(),Sh)),18)),_d(r.g,_)||(Kn(r.g,_,new Wt(ee.d,ee.e)),Kn(r.f,_,ce)),xt(r.a.b,ce),Xm(W,ce);for(H=new xe(_.b);H.a<H.c.c.length;)q=z(Ee(H),251),ce=new Bk(r,q.Bc()),Kn(r.b,q,new ui(W,ce)),jT(ce,z(Se(_.c,(tt(),Sh)),18)),q.zc()&&(fe=new hS(r,q.zc(),1),jT(fe,z(Se(_.c,Sh),18)),O=new ry(Ze(Ke(Vy,1),At,25,0,[])),Xm(O,fe),an(r.c,q.yc(),new ui(W,fe)))}return r.a}function IV(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge;if(Ce=l.c.c.length,!(Ce<3)){for(be=ot(Hr,zr,26,Ce,12,1),fe=0,ce=new xe(l.c);ce.a<ce.c.c.length;)ae=z(Ee(ce),16),be[fe++]=ae.a.c.length;for(pe=new nr(l.c,2),R=1;R<Ce-1;R++)for(_=(Kt(pe.b<pe.d.Y()),z(pe.d.sb(pe.c=pe.b++),16)),_e=new xe(_.a),q=0,W=0,ee=0;ee<be[R+1];ee++)if(Ge=z(Ee(_e),9),ee==be[R+1]-1||kT(r,Ge,R+1,R)){for(H=be[R]-1,kT(r,Ge,R+1,R)&&(H=r.d.e[z(z(z($t(r.d.b,Ge.k),20).sb(0),27).a,9).k]);W<=ee;){if(qe=z($t(_.a,W),9),!kT(r,qe,R+1,R))for($e=z($t(r.d.b,qe.k),20).mb();$e.G();)Re=z($e.H(),27),O=r.d.e[z(Re.a,9).k],(O<q||O>H)&&lr(r.c,z(Re.b,12));++W}q=H}}}function t4(r,l,_){var R,O,q,H,W,ee;for(this.g=r,W=l.d.length,ee=_.d.length,this.d=ot(hi,Aa,9,W+ee,0,1),H=0;H<W;H++)this.d[H]=l.d[H];for(q=0;q<ee;q++)this.d[W+q]=_.d[q];if(l.e){if(this.e=io(l.e),this.e.nb(_),_.e)for(O=_.e.mb();O.G();)R=z(O.H(),102),R!=l&&(this.e.kb(R)?--R.c:this.e.ib(R))}else _.e&&(this.e=io(_.e),this.e.nb(l));this.f=l.f+_.f,this.a=l.a+_.a,this.a>0?O_(this,this.f/this.a):bo(l.g,l.d[0]).a!=null&&bo(_.g,_.d[0]).a!=null?O_(this,(ct(bo(l.g,l.d[0]).a)+ct(bo(_.g,_.d[0]).a))/2):bo(l.g,l.d[0]).a!=null?O_(this,bo(l.g,l.d[0]).a):bo(_.g,_.d[0]).a!=null&&O_(this,bo(_.g,_.d[0]).a)}function RV(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe;switch(r.g.e){case 1:if(R=z(Se(r,(tt(),Jt)),12),_=z(Se(R,PM),44),_?bn(ct(_n(Se(R,Fu))))&&(_=H_(_)):_=new Ci,ae=z(Se(r,Ma),7),ce=Jn(Ze(Ke(In,1),Mn,10,0,[ae.f.i,ae.i,ae.a])),l<=ce.a)return ce.b;if(ci(_,ce,_.a,_.a.a),fe=z(Se(r,wa),7),pe=Jn(Ze(Ke(In,1),Mn,10,0,[fe.f.i,fe.i,fe.a])),pe.a<=l)return pe.b;for(ci(_,pe,_.c.b,_.c),ee=zn(_,0),H=z($n(ee),10),W=z($n(ee),10);W.a<l&&ee.b!=ee.d.c;)H=W,W=z($n(ee),10);return H.b+(l-H.a)/(W.a-H.a)*(W.b-H.b);case 3:switch(q=z(Se(z($t(r.f,0),7),(tt(),Jt)),7),O=q.f,q.g.e){case 1:return O.i.b;case 3:return O.i.b+O.j.b}}return ZS(r).b}function n4(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe;if(ce=Ot(Se(r.c.f,(tt(),Ef)))===Ot(Se(r.d.f,Ef)),H=new Ni,_=z(Se(r,(pt(),wx)),44),_&&_.b>=2)for(ku(r.a),R=0,pe=zn(_,0);pe.b!=pe.d.c;)fe=z($n(pe),10),R==0?(l=Qu(Qu(new Wt(fe.a,fe.b),r.c.i),r.c.f.i),r.c.a.a=l.a,r.c.a.b=l.b):R==_.b-1?(l=Qu(Qu(new Wt(fe.a,fe.b),r.d.i),r.d.f.i),r.d.a.a=l.a,r.d.a.b=l.b):Un(r.a,fe),++R;if(ce)for(ee=zn(r.a,0);ee.b!=ee.d.c;)W=z($n(ee),10),H.a=St(H.a,W.a),H.b=St(H.b,W.b);for(q=new xe(r.b);q.a<q.c.c.length;)O=z(Ee(q),33),ae=z(Se(O,zd),10),ae&&(O.i.a=ae.a,O.i.b=ae.b),ce&&(H.a=St(H.a,O.i.a+O.j.a),H.b=St(H.b,O.i.b+O.j.b));return H}function PV(r,l,_){var R,O,q,H,W,ee,ae;if(oT(l),R=z(Se(_,(tt(),Bi)),18),H=new No(_),et(H,Jt,l),xt(_.b,H),q=z(kr(l,"id"),97),Dm(r.i,q.a,H),Kn(r.j,H,l),_2(l,H),fy(l,H),"ports"in l.a){if(ae=kr(l,"ports"),!ae.hc())throw new nu("The 'ports' property of the node must be an array.",ae,l);for(ee=ae.hc(),O=0;O<ee.a.length;++O)yt(jc(ee,O),69)&&rV(r,z(jc(ee,O),69),H,_)}return lT(r,l,H,_),op in l.a&&kr(l,op).hc().a.length>0&&et(H,AM,(dr(),dr(),Qi)),W=z(Se(H,(pt(),en)),28),W==(Rr(),rl)||W!=ys&&R.ib((oi(),Eh)),bn(ct(_n(Se(H,lp))))&&R.ib((oi(),xE)),bn(ct(_n(Se(H,k0))))&&(R.ib((oi(),EE)),R.ib(lb),et(H,en,ys)),H}function jT(r,l){l.V()&&_o(r.n,!0,!0,!0,!0),l.t((ht(),Ud))&&_o(r.n,!0,!0,!0,!1),l.t(Hd)&&_o(r.n,!1,!0,!0,!0),l.t(Yd)&&_o(r.n,!0,!0,!1,!0),l.t(Vd)&&_o(r.n,!0,!1,!0,!0),l.t(vf)&&_o(r.n,!1,!0,!0,!1),l.t(pf)&&_o(r.n,!1,!0,!1,!0),l.t(mf)&&_o(r.n,!0,!1,!1,!0),l.t(mh)&&_o(r.n,!0,!1,!0,!1),l.t(Hs)&&_o(r.n,!0,!0,!0,!0),l.t(hc)&&_o(r.n,!0,!0,!0,!0),l.t(Hs)&&_o(r.n,!0,!0,!0,!0),l.t(ho)&&_o(r.n,!0,!0,!0,!0),l.t(Io)&&_o(r.n,!0,!0,!0,!0),l.t(Mo)&&_o(r.n,!0,!0,!0,!0),l.t(Fi)&&_o(r.n,!0,!0,!0,!0)}function r4(r,l){var _,R,O,q,H,W,ee,ae,ce,fe;for(ee=!0,O=0,ae=r.f[l.k],ce=l.j.b+r.n,_=r.c[l.k][2],Vl(r.a,ae,nn(z($t(r.a,ae),24).a-1+_)),Vl(r.b,ae,ct(Cn($t(r.b,ae)))-ce+_*r.e),++ae,ae>=r.i?(++r.i,xt(r.a,nn(1)),xt(r.b,ce)):(R=r.c[l.k][1],Vl(r.a,ae,nn(z($t(r.a,ae),24).a+1-R)),Vl(r.b,ae,ct(Cn($t(r.b,ae)))+ce-R*r.e)),(r.q==(nf(),F0)&&(z($t(r.a,ae),24).a>r.j||z($t(r.a,ae-1),24).a>r.j)||r.q==B0&&(ct(Cn($t(r.b,ae)))>r.k||ct(Cn($t(r.b,ae-1)))>r.k))&&(ee=!1),H=wn(yi(l));vn(H);)q=z(cn(H),12),W=q.c.f,r.f[W.k]==ae&&(fe=r4(r,W),O=O+z(fe.a,24).a,ee=ee&&bn(ct(_n(fe.b))));return r.f[l.k]=ae,O=O+r.c[l.k][0],new ui(nn(O),(dr(),ee?Qi:Mr))}function zT(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e;if(pe=new qr(r.j),$e=l.a/pe.a,W=l.b/pe.b,Ce=l.a-pe.a,q=l.b-pe.b,_)for(O=Ot(Se(r,(pt(),en)))===Ot((Rr(),Zi)),_e=new xe(r.f);_e.a<_e.c.c.length;)switch(be=z(Ee(_e),7),be.g.e){case 1:O||(be.i.a*=$e);break;case 2:be.i.a+=Ce,O||(be.i.b*=W);break;case 3:O||(be.i.a*=$e),be.i.b+=q;break;case 4:O||(be.i.b*=W)}for(ae=new xe(r.c);ae.a<ae.c.c.length;)ee=z(Ee(ae),33),ce=ee.i.a+ee.j.a/2,fe=ee.i.b+ee.j.b/2,Re=ce/pe.a,H=fe/pe.b,Re+H>=1&&(Re-H>0&&fe>=0?(ee.i.a+=Ce,ee.i.b+=q*H):Re-H<0&&ce>=0&&(ee.i.a+=Ce*Re,ee.i.b+=q));r.j.a=l.a,r.j.b=l.b,et(r,(pt(),nl),(ac(),R=z(Na(dp),11),new Xi(R,z(xa(R,R.length),11),0)))}function i4(r){var l,_,R,O,q,H,W,ee,ae,ce;for(R=new dt,H=new xe(r.e.a);H.a<H.c.c.length;){for(O=z(Ee(H),61),ce=0,O.k.c=ot(zt,At,1,0,4,1),_=new xe(ah(O));_.a<_.c.c.length;)l=z(Ee(_),89),l.e&&(xt(O.k,l),++ce);ce==1&&(R.c[R.c.length]=O)}for(q=new xe(R);q.a<q.c.c.length;)for(O=z(Ee(q),61);O.k.c.length==1;){for(ae=z(Ee(new xe(O.k)),89),r.b[ae.b]=ae.f,W=ae.c,ee=ae.d,_=new xe(ah(O));_.a<_.c.c.length;)l=z(Ee(_),89),l==ae||(l.e?W==l.c||ee==l.d?r.b[ae.b]-=r.b[l.b]-l.f:r.b[ae.b]+=r.b[l.b]-l.f:O==W?l.c==O?r.b[ae.b]+=l.f:r.b[ae.b]-=l.f:l.c==O?r.b[ae.b]-=l.f:r.b[ae.b]+=l.f);gi(W.k,ae),gi(ee.k,ae),W==O?O=ae.d:O=ae.c}}function DV(r){var l,_,R,O,q,H,W,ee,ae,ce;for(ae=new qi,W=new qi,q=new xe(r);q.a<q.c.c.length;)R=z(Ee(q),77),R.e=R.d.c.length,R.k=R.j.c.length,R.e==0&&ci(ae,R,ae.c.b,ae.c),R.k==0&&R.g.a.Y()==0&&ci(W,R,W.c.b,W.c);for(H=-1;ae.b!=0;)for(R=z(US(ae,0),77),_=new xe(R.j);_.a<_.c.c.length;)l=z(Ee(_),117),ce=l.b,ce.n=Vi(ce.n,R.n+1),H=Vi(H,ce.n),--ce.e,ce.e==0&&ci(ae,ce,ae.c.b,ae.c);if(H>-1){for(O=zn(W,0);O.b!=O.d.c;)R=z($n(O),77),R.n=H;for(;W.b!=0;)for(R=z(US(W,0),77),_=new xe(R.d);_.a<_.c.c.length;)l=z(Ee(_),117),ee=l.a,ee.g.a.Y()==0&&(ee.n=Rc(ee.n,R.n-1),--ee.k,ee.k==0&&ci(W,ee,W.c.b,W.c))}}function OV(r,l,_,R){var O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je;for(ee=new dt,q=new xe(l.b);q.a<q.c.c.length;)for(O=z(Ee(q),9),W=new xe(O.f);W.a<W.c.c.length;){for(H=z(Ee(W),7),ce=null,Ge=z(jr(H.e,ot(Va,ja,12,0,0,1)),47),Xe=0,Je=Ge.length;Xe<Je;++Xe)qe=Ge[Xe],Sd(qe.d.f,_)||($e=D2(r,l,_,qe,qe.c,(ni(),Ki),ce),$e!=ce&&(ee.c[ee.c.length]=$e),$e.c&&(ce=$e));for(ae=null,_e=z(jr(H.b,ot(Va,ja,12,0,0,1)),47),Ce=0,Re=_e.length;Ce<Re;++Ce)be=_e[Ce],Sd(be.c.f,_)||($e=D2(r,l,_,be,be.d,(ni(),Ra),ae),$e!=ae&&(ee.c[ee.c.length]=$e),$e.c&&(ae=$e))}for(pe=new xe(ee);pe.a<pe.c.c.length;)fe=z(Ee(pe),187),Sa(l.b,fe.a,0)!=-1||xt(l.b,fe.a),fe.c&&(R.c[R.c.length]=fe)}function $V(r){var l,_,R,O,q,H,W,ee,ae;for(R=r.e.e.j,l=z(Jr(r.e,(pt(),nl)),86).kb((ac(),P0)),FW(r),q=new xe(Wc(r.e));q.a<q.c.c.length;){switch(O=z(Ee(q),161),W=z(Jr(O,gf),15),!W&&(W=new Nn(0)),ee=O.e.j,H=(_=z(O.e,7).d,new Ds(_.d,_.b,_.a,_.c)),ae=new qr(O.e.i),z(O.e,7).g.e){case 4:ae.a=-ee.a-W.a,ae.b=r.s-ee.b-(l?H.a:0),r.s-=rw(r,(ht(),Ft))+ee.b+(l?H.d+H.a:0);break;case 2:ae.a=R.a+W.a,ae.b=r.a+(l?H.d:0),r.a+=rw(r,(ht(),Pt))+ee.b+(l?H.d+H.a:0);break;case 1:ae.a=r.f+(l?H.b:0),ae.b=-O.e.j.b-W.a,r.f+=rw(r,(ht(),Yt))+ee.a+(l?H.b+H.c:0);break;case 3:ae.a=r.r-ee.a-(l?H.c:0),ae.b=R.b+W.a,r.r-=rw(r,(ht(),Qt))+ee.a+(l?H.b+H.c:0)}O.e.i.a=ae.a,O.e.i.b=ae.b}}function NV(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e;for(ce=new Fa,fe=new Fa,Re=new Fa,$e=new Fa,ae=z(Se(l,(tt(),Ia)),15).a,q=ae*z(Se(l,(Ln(),Bu)),15).a,bn(ct(_n(Se(l,(pt(),E0))))),ee=(pe=new Dn(_.a).a.bb().mb(),new Fn(pe));ee.a.G();)if(W=(H=z(ee.a.H(),21),z(H.yb(),9)),be=z(Se(W,Ri),32),be==(ht(),Yt))for(fe.a.db(W,fe),O=wn(yi(W));vn(O);)R=z(cn(O),12),lr(ce,R.c.f);else if(be==Qt)for($e.a.db(W,$e),O=wn(yi(W));vn(O);)R=z(cn(O),12),lr(Re,R.c.f);ce.a.Y()!=0&&(_e=new m2(2,q),Ce=PT(_e,l,ce,fe,-ae-l.d.b),Ce>0&&(r.a=ae+(Ce-1)*q,l.d.b+=r.a,l.e.b+=r.a)),Re.a.Y()!=0&&(_e=new m2(1,q),Ce=PT(_e,l,Re,$e,l.e.b+ae-l.d.b),Ce>0&&(l.e.b+=ae+(Ce-1)*q))}function a4(r,l){var _,R,O,q,H,W,ee,ae,ce;return Et(),l.length==0?r.fc(YT,N2,-1,-1):(ce=Ql(l),Ts(ce.substr(0,3),"at ")&&(ce=Ng(ce,3,ce.length-3)),ce=ce.replace(/\[.*?\]/g,""),H=ce.indexOf("("),H==-1?(H=ce.indexOf("@"),H==-1?(ae=ce,ce=""):(ae=Ql(Ng(ce,H+1,ce.length-(H+1))),ce=Ql(ce.substr(0,H)))):(_=ce.indexOf(")",H),ae=ce.substr(H+1,_-(H+1)),ce=Ql(ce.substr(0,H))),H=e9(ce,iT(46)),H!=-1&&(ce=Ng(ce,H+1,ce.length-(H+1))),(ce.length==0||Ts(ce,"Anonymous function"))&&(ce=N2),W=f9(ae,iT(58)),O=_9(ae,iT(58),W-1),ee=-1,R=-1,q=YT,W!=-1&&O!=-1&&(q=ae.substr(0,O),ee=pP(ae.substr(O+1,W-(O+1))),R=pP(Ng(ae,W+1,ae.length-(W+1)))),r.fc(q,ce,ee,R))}function FV(r){var l,_,R,O,q,H,W,ee,ae,ce;for(ae=new dt,W=new dt,H=new xe(r);H.a<H.c.c.length;)O=z(Ee(H),80),O.c=O.b.c.length,O.f=O.e.c.length,O.c==0&&(ae.c[ae.c.length]=O),O.f==0&&O.j.b==0&&(W.c[W.c.length]=O);for(R=-1;ae.c.length!=0;)for(O=z(eh(ae,0),80),_=new xe(O.e);_.a<_.c.c.length;)l=z(Ee(_),118),ce=l.b,ce.i=Vi(ce.i,O.i+1),R=Vi(R,ce.i),--ce.c,ce.c==0&&(ae.c[ae.c.length]=ce);if(R>-1){for(q=new xe(W);q.a<q.c.c.length;)O=z(Ee(q),80),O.i=R;for(;W.c.length!=0;)for(O=z(eh(W,0),80),_=new xe(O.b);_.a<_.c.c.length;)l=z(Ee(_),118),ee=l.a,!(ee.j.b>0)&&(ee.i=Rc(ee.i,O.i-1),--ee.f,ee.f==0&&(W.c[W.c.length]=ee))}}function BV(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce;if(bn(ct(_n(Se(_,(pt(),Sx))))))for(W=new xe(_.f);W.a<W.c.c.length;)for(H=z(Ee(W),7),fe=z(jr(H.e,ot(Va,ja,12,H.e.c.length,0,1)),47),ae=0,ce=fe.length;ae<ce;++ae)ee=fe[ae],q=ee.d.f==_,O=q&&bn(ct(_n(Se(ee,Sx)))),O&&(be=ee.c,pe=z(Bn(r.b,be),9),pe||(pe=ky(be,(Rr(),ys),be.g,-1,be.j,z(Se(l,vs),59),l),et(pe,(tt(),Jt),be),Kn(r.b,be,pe),xt(l.b,pe)),Ce=ee.d,_e=z(Bn(r.b,Ce),9),_e||(_e=ky(Ce,(Rr(),ys),Ce.g,1,Ce.j,z(Se(l,vs),59),l),et(_e,(tt(),Jt),Ce),Kn(r.b,Ce,_e),xt(l.b,_e)),R=C_(ee),Ir(R,z($t(pe.f,0),7)),gr(R,z($t(_e.f,0),7)),an(r.a,ee,new pm(R,l,(ni(),Ki))),z(Se(l,(tt(),Bi)),18).ib((oi(),Ws)))}function qV(r,l,_,R,O,q){var H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge;switch(be=Xg(r.g),Ce=Xg(_.g),_e=ur(Ro(r.i),r.a),Re=ur(Ro(_.i),_.a),H=ur(new qr(_e),Rs(new Gl(be),l)),W=ur(new qr(Re),Rs(new Gl(Ce),R)),ae=sH(r,O),O==(ht(),Qt)||O==Pt?ae+=q:ae-=q,pe=new Ni,$e=new Ni,O.e){case 1:case 3:pe.a=H.a,pe.b=_e.b+ae,$e.a=W.a,$e.b=pe.b;break;case 2:case 4:pe.a=_e.a+ae,pe.b=H.b,$e.a=pe.a,$e.b=W.b;break;default:return null}switch(ce=Rs(ur(new Wt(pe.a,pe.b),$e),.5),fe=new p_(Ze(Ke(In,1),Mn,10,0,[_e,H,pe,ce,$e,W,Re])),ee=IN(fe),Ge=RN(fe),O.e){case 1:case 3:fe.a=ee,qe=_H(fe);break;case 2:case 4:fe.a=Ge,qe=wH(fe);break;default:return null}return w1(fe,new y2(Ze(Ke(In,1),Mn,10,0,[ee,Ge,qe,_e,Re]))),fe}function jV(r,l,_,R){var O,q,H,W,ee,ae,ce,fe,pe,be;for(q=new q3(l),fe=rY(r,l,q),be=St(z(Se(l,(pt(),zs)),15).a,1),ce=new xe(fe.a);ce.a<ce.c.c.length;)ae=z(Ee(ce),27),ee=F$(z(ae.a,10),z(ae.b,10),be),o=!0,o=o&ec(_,new Wt(ee.d,ee.e)),o=o&ec(_,ro(new Wt(ee.d,ee.e),ee.c,0)),o=o&ec(_,ro(new Wt(ee.d,ee.e),0,ee.b)),o&ec(_,ro(new Wt(ee.d,ee.e),ee.c,ee.b));switch(pe=q.d,W=F$(z(fe.b.a,10),z(fe.b.b,10),be),pe==(ht(),Ft)||pe==Pt?(R.c[pe.e]=qn(R.c[pe.e],W.e),R.b[pe.e]=St(R.b[pe.e],W.e+W.b)):(R.c[pe.e]=qn(R.c[pe.e],W.d),R.b[pe.e]=St(R.b[pe.e],W.d+W.c)),O=Ii,H=q.c.f.e,pe.e){case 4:O=H.c;break;case 2:O=H.b;break;case 1:O=H.a;break;case 3:O=H.d}return R.a[pe.e]=St(R.a[pe.e],O),q}function zV(r,l,_,R,O){var q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re;for(q=new dt,ae=new xe(R);ae.a<ae.c.c.length;)if(W=z(Ee(ae),187),H=null,W.f==(ni(),Ki))for(_e=new xe(W.e);_e.a<_e.c.c.length;)be=z(Ee(_e),12),Re=be.d.f,Ea(Re)==l?XO(r,l,W,be,W.b,be.d):!_||Sd(Re,_)?SH(r,l,W,R,be):(pe=D2(r,l,_,be,W.b,Ki,H),pe!=H&&(q.c[q.c.length]=pe),pe.c&&(H=pe));else for(fe=new xe(W.e);fe.a<fe.c.c.length;)if(ce=z(Ee(fe),12),Ce=ce.c.f,Ea(Ce)==l)XO(r,l,W,ce,ce.c,W.b);else{if(!_||Sd(Ce,_))continue;pe=D2(r,l,_,ce,W.b,Ra,H),pe!=H&&(q.c[q.c.length]=pe),pe.c&&(H=pe)}for(ee=new xe(q);ee.a<ee.c.c.length;)W=z(Ee(ee),187),Sa(l.b,W.a,0)!=-1||xt(l.b,W.a),W.c&&(O.c[O.c.length]=W)}function GV(r){var l,_,R,O;for(l=r.e.j,R=new xe(Wc(r));R.a<R.c.c.length;){switch(_=z(Ee(R),161),O=z(Jr(_,(pt(),gf)),15),!O&&(O=new Nn(0)),z(_.e,7).g.e){case 4:_.e.i.b=l.b*ct(Cn(Jr(_,bh))),_.e.i.a=-_.e.j.a-O.a;break;case 2:_.e.i.b=l.b*ct(Cn(Jr(_,bh))),_.e.i.a=l.a+O.a;break;case 1:_.e.i.a=l.a*ct(Cn(Jr(_,bh))),_.e.i.b=-_.e.j.b-O.a;break;case 3:_.e.i.a=l.a*ct(Cn(Jr(_,bh))),_.e.i.b=l.b+O.a}switch(z(_.e,7).g.e){case 4:_.e.i.b=l.b*ct(Cn(Jr(_,bh))),_.e.i.a=-_.e.j.a-O.a;break;case 2:_.e.i.b=l.b*ct(Cn(Jr(_,bh))),_.e.i.a=l.a+O.a;break;case 1:_.e.i.a=l.a*ct(Cn(Jr(_,bh))),_.e.i.b=-_.e.j.b-O.a;break;case 3:_.e.i.a=l.a*ct(Cn(Jr(_,bh))),_.e.i.b=l.b+O.a}}}function HV(r){var l,_,R,O,q,H,W,ee,ae;for(q=r.f,O=AC(w_(r)),ae=zn(io(r.g),0);ae.b!=ae.d.c;)if(ee=z($n(ae),7),ee.e.c.length==0){for(_=new xe(ee.b);_.a<_.c.c.length;)if(l=z(Ee(_),12),R=l.c,O.a.R(R)){for(H=new nr(q.f,0),W=(Kt(H.b<H.d.Y()),z(H.d.sb(H.c=H.b++),7));W!=ee;)W=(Kt(H.b<H.d.Y()),z(H.d.sb(H.c=H.b++),7));Ju(H,R),Sv(ae,R),by(R,ee.g),Av(ae),Av(ae),O.a.eb(R)!=null}}else for(_=new xe(ee.e);_.a<_.c.c.length;)if(l=z(Ee(_),12),R=l.d,O.a.R(R)){for(H=new nr(q.f,0),W=(Kt(H.b<H.d.Y()),z(H.d.sb(H.c=H.b++),7));W!=ee;)W=(Kt(H.b<H.d.Y()),z(H.d.sb(H.c=H.b++),7));Kt(H.b>0),H.a.sb(H.c=--H.b),Ju(H,R),Sv(ae,R),by(R,ee.g),Av(ae),Av(ae),O.a.eb(R)!=null}}function UV(r){var l,_,R,O,q,H,W,ee,ae;q=new dg(r),O=kr(q,"graph"),ee=kr(q,"success"),R=kr(q,"error"),H=kr(q,"options");try{if(!O||!O.kc())throw new O1("Mandatory parameter missing, 'graph' must be specified");Xz(new ug,O.kc(),H?H.kc():null),W=O.kc().a,ee&&ee.kc()?Zv(ee.kc().a,W):Zv(null,W)}catch(ce){if(ce=ji(ce),yt(ce,73))ae=ce,R&&R.kc()?Zv(R.kc().a,U3(ae).a):Zv(null,U3(ae).a);else if(yt(ce,54))l=ce,_=new Bf,ko(_,"type",new jl(B1(l.$c))),l.bc()!=null?ko(_,z2,new jl(l.bc())):ko(_,z2,new jl("null (sic)")),ko(_,j4,new jl(jk(new $1(`
`),new Uu(new vo((l.g==null&&(l.g=dC(l)),l.g)))))),R&&R.kc()?Zv(R.kc().a,_.a):Zv(null,_.a),WS(l,(Yf(),Mq));else throw zi(ce)}}function YV(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe;if(_)for(R=-1,ce=new nr(l,0);ce.b<ce.d.Y();){if(W=(Kt(ce.b<ce.d.Y()),z(ce.d.sb(ce.c=ce.b++),9)),fe=r.a[W.d.k][W.k].a,fe==null){for(H=R+1,q=new nr(l,ce.b);q.b<q.d.Y();)if(pe=O7(r,(Kt(q.b<q.d.Y()),z(q.d.sb(q.c=q.b++),9))).a,pe!=null){H=(ti(pe),pe);break}fe=(R+H)/2,r.a[W.d.k][W.k].a=fe,r.a[W.d.k][W.k].d=(ti(fe),fe),r.a[W.d.k][W.k].b=1}R=(ti(fe),fe)}else{for(O=0,ae=new xe(l);ae.a<ae.c.c.length;)W=z(Ee(ae),9),r.a[W.d.k][W.k].a!=null&&(O=St(O,ct(r.a[W.d.k][W.k].a)));for(O+=2,ee=new xe(l);ee.a<ee.c.c.length;)W=z(Ee(ee),9),r.a[W.d.k][W.k].a==null&&(fe=sh(r.e,24)*J2*O-1,r.a[W.d.k][W.k].a=fe,r.a[W.d.k][W.k].d=fe,r.a[W.d.k][W.k].b=1)}}function VV(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e;for(ee=0,ae=0,_e=0,be=0,H=0,pe=0,fe=0,ce=0,q=new Cm(new Ll(r.c).a);sm(q.a);)switch(O=(q.b=Wl(q.a),new em(q.c,q.b)),R=z(O.b.b[O.a.e],62),z(O.a,67).e){case 12:case 13:case 14:pe+=R.c+l;break;case 15:case 16:case 17:fe+=R.c+l,H=St(H,R.b+l);break;case 18:case 19:case 20:ce+=R.c+l;break;case 0:case 1:case 2:_e+=R.c+l;break;case 3:case 4:case 5:be+=R.c+l;break;case 6:case 7:case 8:ee+=R.b+l;break;case 9:case 10:case 11:ae+=R.b+l}ee-=l,ae-=l,_e-=l,be-=l,pe+=pe!=0?l:0,fe+=fe!=0?l:0,ce+=ce!=0?l:0,W=r.p.d+H+r.p.a,W+=W!=0?l:0,_.a=St(_.a,_e),_.a=St(_.a,pe),_.a=St(_.a,fe),_.a=St(_.a,ce),_.a=St(_.a,be),_.b=St(_.b,ee),_.b=St(_.b,W),_.b=St(_.b,ae)}function WV(r){var l,_,R,O,q,H,W,ee;for(l=null,R=new xe(r);R.a<R.c.c.length;)_=z(Ee(R),102),ct(bo(_.g,_.d[0]).a),_.b=null,_.e&&_.e.Y()>0&&_.c==0&&(!l&&(l=new dt),l.c[l.c.length]=_);if(l)for(;l.c.length!=0;){if(_=z(eh(l,0),102),_.b&&_.b.c.length>0){for(q=(!_.b&&(_.b=new dt),new xe(_.b));q.a<q.c.c.length;)if(O=z(Ee(q),102),ct(bo(O.g,O.d[0]).a)==ct(bo(_.g,_.d[0]).a)){if(Sa(r,O,0)>Sa(r,_,0))return new ui(O,_)}else if(ct(bo(O.g,O.d[0]).a)>ct(bo(_.g,_.d[0]).a))return new ui(O,_)}for(W=(!_.e&&(_.e=new dt),_.e).mb();W.G();)H=z(W.H(),102),ee=(!H.b&&(H.b=new dt),H.b),Zl(0,ee.c.length),pv(ee.c,0,_),H.c==ee.c.length&&(l.c[l.c.length]=H)}return null}function XV(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce;for(fe=(Ar(),new kn),ce=($r(),new Ls(Ms(tu(r.a,new I))));vn(ce);)for(ae=z(cn(ce),9),O=Wz(ae,(ht(),Pt)),R=new xe(O);R.a<R.c.c.length;)for(_=z(Ee(R),7),H=new xe(_.e);H.a<H.c.c.length;){for(q=z(Ee(H),12),Ba(),Ce=q.d.f,(Ce.g==(Ht(),rr)||Ce.g==jo)&&(Ce=z(Se(Ce,(tt(),wa)),7).f),ia(fe.d,Ce)?l=z(ra(ia(fe.d,Ce)),171):(O.c.length==2?Ot(_)===Ot((mr(0,O.c.length),O.c[0]))?l=Us:l=Ou:l=Us,eo(fe.d,Ce,l)),ee=new xe(q.b);ee.a<ee.c.c.length;)W=z(Ee(ee),33),et(W,(tt(),Ko),l);for(_e=new xe(q.c.c);_e.a<_e.c.c.length;)pe=z(Ee(_e),33),et(pe,(tt(),Ko),l);for(be=new xe(q.d.c);be.a<be.c.c.length;)pe=z(Ee(be),33),et(pe,(tt(),Ko),l)}}function ZV(r,l){var _,R,O,q,H,W,ee,ae,ce;if(Zf(pr(l))!=1||z(Om(pr(l)),12).d.f.g!=(Ht(),rr))return null;for(q=z(Om(pr(l)),12),_=q.d.f,na(_,(Ht(),La)),et(_,(tt(),Ma),null),et(_,wa,null),et(_,(pt(),en),z(Se(l,en),28)),et(_,to,z(Se(l,to),86)),O=Se(q.c,Jt),H=null,ae=Zr(_,(ht(),Pt)).mb();ae.G();)if(W=z(ae.H(),7),W.e.c.length!=0){et(W,Jt,O),ce=q.c,W.j.a=ce.j.a,W.j.b=ce.j.b,W.a.a=ce.a.a,W.a.b=ce.a.b,_r(W.c,ce.c),ce.c.c=ot(zt,At,1,0,4,1),H=W;break}if(et(q.c,Jt,null),!Lv(Zr(l,Pt)))for(ee=new xe(Yl(Zr(l,Pt)));ee.a<ee.c.c.length;)W=z(Ee(ee),7),W.e.c.length==0?(R=new Br,An(R,Pt),R.j.a=W.j.a,R.j.b=W.j.b,Qn(R,_),et(R,Jt,Se(W,Jt)),Qn(W,null)):Qn(H,_);return _.j.b=l.j.b,xt(r.b,_),_}function KV(r){var l,_,R,O,q,H,W,ee,ae;if(q=r.e.e.j,H=new qr(q),ee=z(Jr(r.e,(pt(),nl)),86),ae=z(Jr(r.e,L0),86),W=z(Jr(r.e,en),28),l=Ps(ee,(ac(),P0)),ee.c!=0){switch(q.a=0,q.b=0,R=null,W.e){case 1:case 2:case 3:R=vU(r,r.k);break;case 4:R=new qr(H);break;case 5:R=aY(r.e,l)}Ps(ee,Mx)&&(R&&(q.a=St(q.a,R.a),q.b=St(q.b,R.b)),l&&(q.a=St(q.a,r.q.b+r.q.c+r.k),q.b=St(q.b,r.q.d+r.q.a+r.k))),Ps(ee,Lx)&&$l(new xe(Uv(r.e)))&&VV(r,r.d,q),Ps(ee,R0)&&(O=z(Jr(r.e,hp),15).a,_=z(Jr(r.e,fp),15).a,Ps(ae,(Md(),D0))&&(O<=0&&(O=20),_<=0&&(_=20)),Ps(ae,Px)?(O>0&&(q.a=St(q.a,O+r.q.b+r.q.c)),_>0&&(q.b=St(q.b,_+r.q.d+r.q.a))):(O>0&&(q.a=St(q.a,O)),_>0&&(q.b=St(q.b,_)))),z7(r.e,q)}}function o4(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be;if(!r.b)return!1;for(H=null,pe=null,ee=new M_(null,null),O=1,ee.a[1]=r.b,fe=ee;fe.a[O];)ae=O,W=pe,pe=fe,fe=fe.a[O],R=r.a.$b(l,fe.d),O=R<0?0:1,R==0&&(!_.c||ao(fe.e,_.d))&&(H=fe),!(fe&&fe.b)&&!Pc(fe.a[O])&&(Pc(fe.a[1-O])?pe=pe.a[ae]=Vm(fe,O):Pc(fe.a[1-O])||(be=pe.a[1-ae],be&&(!Pc(be.a[1-ae])&&!Pc(be.a[ae])?(pe.b=!1,be.b=!0,fe.b=!0):(q=W.a[1]==pe?1:0,Pc(be.a[ae])?W.a[q]=iO(pe,ae):Pc(be.a[1-ae])&&(W.a[q]=Vm(pe,ae)),fe.b=W.a[q].b=!0,W.a[q].a[0].b=!1,W.a[q].a[1].b=!1))));return H&&(_.b=!0,_.d=H.e,fe!=H&&(ce=new M_(fe.d,fe.e),LH(r,ee,H,ce),pe==H&&(pe=ce)),pe.a[pe.a[1]==fe?1:0]=fe.a[fe.a[0]?0:1],--r.c),r.b=ee.a[1],r.b&&(r.b.b=!1),_.b}function QV(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe;for(R=z(Se(r,(pt(),en)),28),ee=r.e,W=r.a,_=z(Se(r,(tt(),Xs)),15).a,ae=ee.a+W.b+W.c+2*_,ce=0-W.d-_-r.d.b,be=ee.b+W.d+W.a+2*_-r.d.b,fe=new dt,_e=new dt,q=(pe=new Dn(l.a).a.bb().mb(),new Fn(pe));q.a.G();){switch(O=(H=z(q.a.H(),21),z(H.yb(),9)),R.e){case 1:case 2:case 3:lU(O);break;case 4:Ce=z(Se(O,lc),10),Re=Ce?Ce.a:0,O.i.a=ae*ct(Cn(Se(O,yc)))-Re,ny(O,!0,!1);break;case 5:$e=z(Se(O,lc),10),qe=$e?$e.a:0,O.i.a=ct(Cn(Se(O,yc)))-qe,ny(O,!0,!1),ee.a=St(ee.a,O.i.a+O.j.a/2)}switch(z(Se(O,Ri),32).e){case 1:O.i.b=ce,fe.c[fe.c.length]=O;break;case 3:O.i.b=be,_e.c[_e.c.length]=O}}switch(R.e){case 1:case 2:aN(fe,r),aN(_e,r);break;case 3:oN(fe,r),oN(_e,r)}}function JV(r){var l,_,R,O,q,H;return R=z(Se(r.a.g,(pt(),to)),86),kN(R,(sc(),l=z(Na(xr),11),new Xi(l,z(xa(l,l.length),11),0)))||(Hc(R,ey(Ga))?(_=z(z(So(r.a.b,r.b),20).sb(0),33),r.b.i.a=_.i.a,r.b.i.b=_.i.b):Hc(R,ey(Ua))?(O=z($t(r.a.c,r.a.c.c.length-1),9),q=z(z(So(r.a.b,r.b),20).sb(z(So(r.a.b,r.b),20).Y()-1),33),H=O.j.a-(q.i.a+q.j.a),r.b.i.a=r.a.g.j.a-H-r.b.j.a,r.b.i.b=q.i.b):Hc(R,On(lo,Ze(Ke(xr,1),kt,41,0,[qo])))?(_=z(z(So(r.a.b,r.b),20).sb(0),33),r.b.i.a=(r.a.g.j.a-r.b.j.a)/2,r.b.i.b=_.i.b):Hc(R,ey(lo))?(_=z(z(So(r.a.b,r.b),20).sb(0),33),r.b.i.b=_.i.b):Hc(R,ey(qo))&&(_=z(z(So(r.a.b,r.b),20).sb(0),33),r.b.i.a=(r.a.g.j.a-r.b.j.a)/2,r.b.i.b=_.i.b)),null}function s4(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re;for(_e=new xe(r);_e.a<_e.c.c.length;){for(be=z(Ee(_e),9),Yo(be.i),Yo(be.j),WU(be),_U(be),Re=new xe(be.f);Re.a<Re.c.c.length;){for(Ce=z(Ee(Re),7),Yo(Ce.i),Yo(Ce.a),Yo(Ce.j),An(Ce,GN(Ce.g)),q=z(Se(Ce,(pt(),fc)),24),q&&et(Ce,fc,nn(-q.a)),O=new xe(Ce.e);O.a<O.c.c.length;){for(R=z(Ee(O),12),_=zn(R.a,0);_.b!=_.d.c;)l=z($n(_),10),Yo(l);if(ee=z(Se(R,Gr),44),ee)for(W=zn(ee,0);W.b!=W.d.c;)H=z($n(W),10),Yo(H);for(fe=new xe(R.b);fe.a<fe.c.c.length;)ae=z(Ee(fe),33),Yo(ae.i),Yo(ae.j)}for(pe=new xe(Ce.c);pe.a<pe.c.c.length;)ae=z(Ee(pe),33),Yo(ae.i),Yo(ae.j)}for(be.g==(Ht(),yr)&&(et(be,(tt(),Ri),GN(z(Se(be,Ri),32))),OU(be)),ce=new xe(be.c);ce.a<ce.c.c.length;)ae=z(Ee(ce),33),Yo(ae.j),Yo(ae.i)}}function eW(r,l,_,R){var O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe;for(yH(_),Sd(l.d.f,l.c.f)?(ce=l.c,fe=Jn(Ze(Ke(In,1),Mn,10,0,[ce.i,ce.a])),ae=ce.f.b,ro(fe,-ae.b,-ae.d),fe.a-=R.a,fe.b-=R.b):fe=Ca(l.c),fe.a+=R.a,fe.b+=R.b,pe=new Bf,$o(r,pe,"x",fe.a),$o(r,pe,"y",fe.b),ko(_,"sourcePoint",pe),be=Ca(l.d),Se(l,(tt(),PE))!=null&&ur(be,z(Se(l,PE),10)),ur(be,R),_e=new Bf,$o(r,_e,"x",be.a),$o(r,_e,"y",be.b),ko(_,"targetPoint",_e),O=new b1,qe=Gc(l.a,R),q=0,$e=zn(qe,0);$e.b!=$e.d.c;)Ce=z($n($e),10),ee=new Bf,$o(r,ee,"x",Ce.a),$o(r,ee,"y",Ce.b),yD(O,q++,ee);if(qe.b==0?ko(_,H2,null):ko(_,H2,O),H=z(Se(l,(pt(),Gr)),44),q=0,H){for(Gc(H,R),W=new b1,Re=zn(H,0);Re.b!=Re.d.c;)Ce=z($n(Re),10),ee=new Bf,$o(r,ee,"x",Ce.a),$o(r,ee,"y",Ce.b),yD(W,q++,ee);ko(_,z4,W)}else ko(_,z4,null)}function tW(r,l,_,R){var O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e;if(Ce=r.i,Re=r.j,pe=r.e,l){for(fe=R/2*(l.Y()-1),be=0,ae=l.mb();ae.G();)W=z(ae.H(),9),fe+=W.j.a,be=St(be,W.j.b);for($e=Ce.a-(fe-Re.a)/2,H=Ce.b-pe.d+be,O=Re.a/(l.Y()+1),q=O,ee=l.mb();ee.G();)W=z(ee.H(),9),W.i.a=$e,W.i.b=H-W.j.b,$e+=W.j.a+R/2,ce=c5(W),ce.i.a=W.j.a/2-ce.a.a,ce.i.b=W.j.b,_e=z(Se(W,(tt(),db)),7),_e.b.c.length+_e.e.c.length==1&&(_e.i.a=q-_e.a.a,_e.i.b=0,Qn(_e,r)),q+=O}if(_){for(fe=R/2*(_.Y()-1),be=0,ae=_.mb();ae.G();)W=z(ae.H(),9),fe+=W.j.a,be=St(be,W.j.b);for($e=Ce.a-(fe-Re.a)/2,H=Ce.b+Re.b+pe.a-be,O=Re.a/(_.Y()+1),q=O,ee=_.mb();ee.G();)W=z(ee.H(),9),W.i.a=$e,W.i.b=H,$e+=W.j.a+R/2,ce=c5(W),ce.i.a=W.j.a/2-ce.a.a,ce.i.b=0,_e=z(Se(W,(tt(),db)),7),_e.b.c.length+_e.e.c.length==1&&(_e.i.a=q-_e.a.a,_e.i.b=Re.b,Qn(_e,r)),q+=O}}function nW(r,l,_,R,O){var q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt;for(gt=0,be=0,fe=new xe(l.f);fe.a<fe.c.c.length;){for(ce=z(Ee(fe),9),pe=0,W=0,ee=_?z(Se(ce,ib),24).a:Mu,$e=R?z(Se(ce,ab),24).a:Mu,ae=ee>$e?ee:$e,Ge=new xe(ce.f);Ge.a<Ge.c.c.length;){if(qe=z(Ee(Ge),7),Xe=ce.i.b+qe.i.b+qe.a.b,R)for(H=new xe(qe.e);H.a<H.c.c.length;)q=z(Ee(H),12),Ce=q.d,_e=Ce.f,l!=r.a[_e.k]&&(Re=Vi(z(Se(_e,ib),24).a,z(Se(_e,ab),24).a),Je=z(Se(q,(tt(),Go)),24).a,Je>=ae&&Je>=Re&&(pe+=_e.i.b+Ce.i.b+Ce.a.b-Xe,++W));if(_)for(H=new xe(qe.b);H.a<H.c.c.length;)q=z(Ee(H),12),Ce=q.c,_e=Ce.f,l!=r.a[_e.k]&&(Re=Vi(z(Se(_e,ib),24).a,z(Se(_e,ab),24).a),Je=z(Se(q,(tt(),Go)),24).a,Je>=ae&&Je>=Re&&(pe+=_e.i.b+Ce.i.b+Ce.a.b-Xe,++W))}W>0&&(gt+=pe/W,++be)}be>0?(l.a=O*gt/be,l.i=be):(l.a=0,l.i=0)}function rW(r,l,_,R){var O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe;for(be=l.c.length,pe=0,fe=new xe(r.c);fe.a<fe.c.c.length;)if(ce=z(Ee(fe),16),$e=ce.a,$e.c.length!=0){for(Re=new xe($e),ae=0,qe=null,O=z(Ee(Re),9);O;){if(q=z($t(l,O.k),111),q.c>=0){for(ee=null,W=new nr(ce.a,ae+1);W.b<W.d.Y()&&(H=(Kt(W.b<W.d.Y()),z(W.d.sb(W.c=W.b++),9)),ee=z($t(l,H.k),111),!(ee.d==q.d&&ee.c<q.c));)ee=null;ee&&(qe&&(Vl(R,O.k,nn(z($t(R,O.k),24).a-1)),z($t(_,qe.k),20).nb(q)),q=lH(q,O,be++),l.c[l.c.length]=q,xt(_,new dt),qe?(z($t(_,qe.k),20).ib(q),xt(R,nn(1))):xt(R,nn(0)))}_e=null,Re.a<Re.c.c.length&&(_e=z(Ee(Re),9),Ce=z($t(l,_e.k),111),z($t(_,O.k),20).ib(Ce),Vl(R,_e.k,nn(z($t(R,_e.k),24).a+1))),q.d=pe,q.c=ae++,qe=O,O=_e}++pe}bn(ct(_n(Se(r,(pt(),E0)))))}function lu(r,l){var _;if(r.e)throw new Ic((Uf(Bx),"The "+Bx.j+U4));if(!m7(r.a,l))throw new Ss("The direction "+l+" is not supported by the CGraph instance.");if(l==r.d)return r;switch(_=r.d,r.d=l,_.e){case 0:switch(l.e){case 2:Su(r);break;case 1:cu(r),Su(r);break;case 4:Jl(r),Su(r);break;case 3:Jl(r),cu(r),Su(r)}break;case 2:switch(l.e){case 1:cu(r),M2(r);break;case 4:Jl(r),Su(r);break;case 3:Jl(r),cu(r),Su(r)}break;case 1:switch(l.e){case 2:cu(r),M2(r);break;case 4:cu(r),Jl(r),Su(r);break;case 3:cu(r),Jl(r),cu(r),Su(r)}break;case 4:switch(l.e){case 2:Jl(r),Su(r);break;case 1:Jl(r),cu(r),Su(r);break;case 3:cu(r),M2(r)}break;case 3:switch(l.e){case 2:cu(r),Jl(r),Su(r);break;case 1:cu(r),Jl(r),cu(r),Su(r);break;case 4:cu(r),M2(r)}}return r}function GT(r,l,_){var R,O,q,H,W,ee,ae,ce,fe;if(!r.a[l.d.k][l.k].e){for(r.a[l.d.k][l.k].e=!0,r.a[l.d.k][l.k].b=0,r.a[l.d.k][l.k].d=0,r.a[l.d.k][l.k].a=null,ce=new xe(l.f);ce.a<ce.c.c.length;)for(ae=z(Ee(ce),7),fe=_?new Pf(ae):new Cl(ae),ee=fe.mb();ee.G();)W=z(ee.H(),7),H=W.f,H.d==l.d?H!=l&&(GT(r,H,_),r.a[l.d.k][l.k].b+=r.a[H.d.k][H.k].b,r.a[l.d.k][l.k].d+=r.a[H.d.k][H.k].d):(r.a[l.d.k][l.k].d+=r.d[W.k],++r.a[l.d.k][l.k].b);if(q=z(Se(l,(tt(),SM)),20),q)for(O=q.mb();O.G();)R=z(O.H(),9),l.d==R.d&&(GT(r,R,_),r.a[l.d.k][l.k].b+=r.a[R.d.k][R.k].b,r.a[l.d.k][l.k].d+=r.a[R.d.k][R.k].d);r.a[l.d.k][l.k].b>0&&(r.a[l.d.k][l.k].d+=sh(r.e,24)*J2*.07000000029802322-.03500000014901161,r.a[l.d.k][l.k].a=r.a[l.d.k][l.k].d/r.a[l.d.k][l.k].b)}}function iW(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe;for(O=new xe(r.a.c);O.a<O.c.c.length;)for(_=z(Ee(O),16),ee=new xe(_.a);ee.a<ee.c.c.length;)W=z(Ee(ee),9),l.i[W.k]=W,l.g[W.k]=l.k==(Vo(),zo)?Ii:ya;for(H=r.a.c,l.c==(fs(),pu)&&(H=yt(H,87)?qg(z(H,87)):yt(H,88)?z(H,88).a:yt(H,63)?new iv(H):new Ag(H)),Ij(r.e,l,r.b),o7(l.n),q=H.mb();q.G();)for(_=z(q.H(),16),ae=_.a,l.k==(Vo(),zo)&&(ae=yt(ae,87)?qg(z(ae,87)):yt(ae,88)?z(ae,88).a:yt(ae,63)?new iv(ae):new Ag(ae)),pe=ae.mb();pe.G();)fe=z(pe.H(),9),l.f[fe.k]==fe&&p4(r,fe,l);for(sV(r,l),R=H.mb();R.G();)for(_=z(R.H(),16),pe=new xe(_.a);pe.a<pe.c.c.length;)fe=z(Ee(pe),9),l.n[fe.k]=l.n[l.f[fe.k].k],fe==l.f[fe.k]&&(ce=ct(l.g[l.i[fe.k].k]),(l.k==(Vo(),zo)&&ce>Ii||l.k==dc&&ce<ya)&&(l.n[fe.k]=ct(l.n[fe.k])+ce));r.e.Jc()}function u4(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe;Kz(l,Ze(Ke(dh,1),At,79,0,[(tt(),Ia),Xs,(Ln(),Cp),Kd])),ae=z(Se(l,Ia),15).a,z(Se(l,Bu),15).a*ae<2&&et(l,Bu,new Nn(2/ae)),ce=z(Se(l,(pt(),vs)),59),ce==(Fr(),ps)&&et(l,vs,Q_(l)),fe=z(Se(l,HM),24),fe.a==0?et(l,Jd,new pN):et(l,Jd,new t$(fe.a)),pe=new l4(l),et(l,Cf,pe),O=Um(r,z(Se(l,BE),180)),W=Um(r,z(Se(l,GE),180)),R=Um(r,z(Se(l,vb),180)),ee=Um(r,z(Se(l,HE),180)),q=Um(r,l9(z(Se(l,IM),122))),H=new Lr,et(l,yq,H),vi(vi(vi(vi(vi(vi(H,O.qc(l)),W.qc(l)),R.qc(l)),ee.qc(l)),q.qc(l)),lV(l)),_=(aa(30,uf),new Ta(30)),et(l,$M,_),_r(_,Kv(r,H,0)),_.c[_.c.length]=O,_r(_,Kv(r,H,1)),_.c[_.c.length]=W,_r(_,Kv(r,H,2)),_.c[_.c.length]=R,_r(_,Kv(r,H,3)),_.c[_.c.length]=ee,_r(_,Kv(r,H,4)),_.c[_.c.length]=q,_r(_,Kv(r,H,5))}function aW(r,l){var _,R,O,q,H,W;if(q=WD(Yv(r)),!q.Nb().V()){switch(O=z(Se(z(z(z(q.Nb().sb(0),129),224).e,33),(Ba(),kB)),171),O=O==O0?Ou:O,W=0,z(r.e,7).g.e){case 4:case 2:O==Ou&&(W=r.e.j.b);break;case 3:W=r.e.j.b}for((z(r.e,7).g==(ht(),Yt)||O==Us)&&(q=qg(q)),R=Hg(q.Nb().mb());R.G();){if(_=z(R.H(),129),H=new qr(_.e.i),O==Us)switch(z(r.e,7).g.e){case 1:case 4:H.a=-_.e.j.a-l,H.b=W-l-_.e.j.b,W-=l+_.e.j.b;break;case 2:H.a=r.e.j.a+l,H.b=W-l-_.e.j.b,W-=l+_.e.j.b;break;case 3:H.a=-_.e.j.a-l,H.b=W+l,W+=l+_.e.j.b}else switch(z(r.e,7).g.e){case 4:H.a=-_.e.j.a-l,H.b=W+l,W+=l+_.e.j.b;break;case 2:H.a=r.e.j.a+l,H.b=W+l,W+=l+_.e.j.b;break;case 1:H.a=r.e.j.a+l,H.b=W-l-_.e.j.b,W-=l+_.e.j.b;break;case 3:H.a=r.e.j.a+l,H.b=W+l,W+=l+_.e.j.b}_.e.i.a=H.a,_.e.i.b=H.b}}}function oW(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be;for(R=0,O=0,ce=0;ce<r.length;ce++)if(ee=r[ce],la(z(Se(ee,(pt(),en)),28)))for(H=Zr(ee,(ht(),Pt)).mb();H.G();)q=z(H.H(),7),q.b.c.length+q.e.c.length>0&&(R+=q.b.c.length+q.e.c.length,Kn(l,q,nn(R)));else{for(W=Zr(ee,(ht(),Pt)).mb();W.G();)q=z(W.H(),7),R+=q.b.c.length+q.e.c.length;for(H=Zr(ee,Pt).mb();H.G();)q=z(H.H(),7),q.b.c.length+q.e.c.length>0&&Kn(l,q,nn(R))}for(ae=r.length-1;ae>=0;ae--)if(ee=r[ae],la(z(Se(ee,(pt(),en)),28)))for(pe=Zr(ee,(ht(),Ft)).mb();pe.G();)fe=z(pe.H(),7),fe.b.c.length+fe.e.c.length>0&&(O+=fe.b.c.length+fe.e.c.length,Kn(_,fe,nn(O)));else{for(be=Zr(ee,(ht(),Ft)).mb();be.G();)fe=z(be.H(),7),O+=fe.b.c.length+fe.e.c.length;for(pe=Zr(ee,Ft).mb();pe.G();)fe=z(pe.H(),7),fe.b.c.length+fe.e.c.length>0&&Kn(_,fe,nn(O))}}function sW(r,l,_,R,O){var q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e;switch(pe=Xg(r.g),_e=Xg(l.g),be=ur(Ro(r.i),r.a),Ce=ur(Ro(l.i),l.a),ee=ur(new Wt(be.a,be.b),Rs(new Gl(pe),1.3*_)),Re=ur(new Wt(Ce.a,Ce.b),Rs(new Gl(_e),1.3*R)),W=Wi(ee.a-Re.a),W<O&&(r.g==(ht(),Ft)||r.g==Pt?ee.a<Re.a?ee.a=Re.a-O:ee.a=Re.a+O:ee.a<Re.a?Re.a=ee.a+O:Re.a=ee.a-O),q=0,H=0,r.g.e){case 4:q=2*(be.a-_)-.5*(ee.a+Re.a);break;case 2:q=2*(be.a+_)-.5*(ee.a+Re.a);break;case 1:H=2*(be.b-_)-.5*(ee.b+Re.b);break;case 3:H=2*(be.b+_)-.5*(ee.b+Re.b)}switch(l.g.e){case 4:q=2*(Ce.a-R)-.5*(Re.a+ee.a);break;case 2:q=2*(Ce.a+R)-.5*(Re.a+ee.a);break;case 1:H=2*(Ce.b-R)-.5*(Re.b+ee.b);break;case 3:H=2*(Ce.b+R)-.5*(Re.b+ee.b)}return fe=new Wt(q,H),ce=new p_(Ze(Ke(In,1),Mn,10,0,[be,ee,fe,Re,Ce])),ae=IN(ce),$e=RN(ce),ce.a=ae,w1(ce,new y2(Ze(Ke(In,1),Mn,10,0,[ae,$e,be,Ce]))),ce}function c4(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re;for(ee=_.a,O=z(Se(_,(tt(),Xs)),15).a,_e=_.d,W=(R=z(Se(_,Xs),15).a,new Wt(_.e.a+_.a.b+_.a.c+2*R,_.e.b+_.a.d+_.a.a+2*R)),ae=W.b,pe=new xe(r.a);pe.a<pe.c.c.length;)if(ce=z(Ee(pe),9),ce.g==(Ht(),yr)){switch(q=z(Se(ce,Ri),32),H=z(Se(ce,RM),10),be=ce.i,q.e){case 2:be.a=_.e.a+O+ee.c-_e.a;break;case 4:be.a=-_e.a-O-ee.b}switch(Re=0,q.e){case 2:case 4:l==(Rr(),Gs)?(Ce=ct(Cn(Se(ce,yc))),be.b=W.b*Ce-z(Se(ce,(pt(),lc)),10).b,Re=be.b+H.b,ny(ce,!1,!0)):l==Zi&&(be.b=ct(Cn(Se(ce,yc)))-z(Se(ce,(pt(),lc)),10).b,Re=be.b+H.b,ny(ce,!1,!0))}ae=ae>Re?ae:Re}for(_.e.b+=ae-W.b,fe=new xe(r.a);fe.a<fe.c.c.length;)if(ce=z(Ee(fe),9),ce.g==(Ht(),yr))switch(q=z(Se(ce,Ri),32),be=ce.i,q.e){case 1:be.b=-_e.b-O-ee.d;break;case 3:be.b=_.e.b+O+ee.a-_e.b}}function uW(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e;for(O=new dt,ee=new xe(r.d.f);ee.a<ee.c.c.length;)H=z(Ee(ee),7),H.g==(ht(),Pt)&&(O.c[O.c.length]=H);if(r.e.a==(Fr(),za)&&!eu(z(Se(r.d,(pt(),en)),28)))for(R=wn(pr(r.d));vn(R);)_=z(cn(R),12),xt(O,_.c);for(q=r.d.j.a,et(r.d,(tt(),U0),new Nn(r.d.j.a)),r.d.j.a=r.c,et(r.d,hl,(dr(),dr(),Qi)),xt(r.b,r.d),ae=r.d,q-=r.c,ce=r.a;ce>1;)l=qn(q,r.c),ae=(fe=new No(r.e.c),na(fe,(Ht(),La)),et(fe,(pt(),en),z(Se(ae,en),28)),et(fe,to,z(Se(ae,to),86)),fe.k=r.e.b++,xt(r.b,fe),fe.j.b=ae.j.b,fe.j.a=l,pe=new Br,An(pe,(ht(),Pt)),Qn(pe,ae),pe.i.a=fe.j.a,pe.i.b=fe.j.b/2,be=new Br,An(be,Ft),Qn(be,fe),be.i.b=fe.j.b/2,be.i.a=-be.j.a,_e=new ru,Ir(_e,pe),gr(_e,be),fe),xt(r.e.c.b,ae),--ce,q-=r.c+r.e.d;for(new XS(r.d,r.b,r.c),W=new xe(O);W.a<W.c.c.length;)H=z(Ee(W),7),gi(r.d.f,H),Qn(H,ae)}function cW(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be;if(!(r.p>l.a||l.p>r.a)){for(_=0,R=0,fe=(H=new Dn(r.o.a).a.bb().mb(),new Fn(H));fe.a.G();)ae=(O=z(fe.a.H(),21),z(O.yb(),7)),n2(Jn(Ze(Ke(In,1),Mn,10,0,[ae.f.i,ae.i,ae.a])).b,l.p,l.a)&&++_;for(pe=(W=new Dn(r.g.a).a.bb().mb(),new Fn(W));pe.a.G();)ae=(O=z(pe.a.H(),21),z(O.yb(),7)),n2(Jn(Ze(Ke(In,1),Mn,10,0,[ae.f.i,ae.i,ae.a])).b,l.p,l.a)&&--_;for(be=(ee=new Dn(l.o.a).a.bb().mb(),new Fn(ee));be.a.G();)ae=(O=z(be.a.H(),21),z(O.yb(),7)),n2(Jn(Ze(Ke(In,1),Mn,10,0,[ae.f.i,ae.i,ae.a])).b,r.p,r.a)&&++R;for(ce=(q=new Dn(l.g.a).a.bb().mb(),new Fn(q));ce.a.G();)ae=(O=z(ce.a.H(),21),z(O.yb(),7)),n2(Jn(Ze(Ke(In,1),Mn,10,0,[ae.f.i,ae.i,ae.a])).b,r.p,r.a)&&--R;_<R?new jm(r,l,R-_):R<_?new jm(l,r,_-R):(new jm(l,r,0),new jm(r,l,0))}}function l4(r){var l;this.f=z(Se(r,(tt(),Ia)),15).a,this.d=z(Se(r,(Ln(),kp)),15).a,this.a=this.f*z(Se(r,Bu),15).a,this.b=this.f*z(Se(r,Eq),15).a,z(Se(r,IE),15),this.c=z(Se(r,IE),15).a,this.e=z(Se(r,(pt(),jd)),15).a,l=(Ht(),Ze(Ke(dL,1),kt,132,0,[Pr,rr,yr,Kr,jo,La])).length,this.g=n_(Eb,[wi,Iy],[250,26],12,[l,l],2),vv(this,Pr,this.f),Os(this,Pr,rr,this.b),Os(this,Pr,Kr,this.b),Os(this,Pr,yr,this.c),Os(this,Pr,jo,this.b),Os(this,Pr,La,this.b),vv(this,rr,this.a),Os(this,rr,Kr,this.a),Os(this,rr,yr,this.c),Os(this,rr,jo,this.e),Os(this,rr,La,this.b),vv(this,Kr,this.a),Os(this,Kr,yr,this.c),Os(this,Kr,jo,this.e),Os(this,Kr,La,this.b),vv(this,yr,this.c),Os(this,yr,jo,this.c),Os(this,yr,La,this.c),vv(this,jo,this.e),Os(this,jo,La,this.e),vv(this,La,this.f)}function lW(r,l){var _,R,O,q,H,W,ee,ae,ce;if(Zf(yi(l))!=1||z(Om(yi(l)),12).c.f.g!=(Ht(),rr))return null;for(_=z(Om(yi(l)),12),R=_.c.f,na(R,(Ht(),Pr)),et(R,(tt(),Ma),null),et(R,wa,null),et(R,U0,z(Se(l,U0),15)),et(R,hl,(dr(),dr(),Qi)),et(R,Jt,Se(l,Jt)),R.j.b=l.j.b,q=Se(_.d,Jt),H=null,ae=Zr(R,(ht(),Ft)).mb();ae.G();)if(W=z(ae.H(),7),W.b.c.length!=0){et(W,Jt,q),ce=_.d,W.j.a=ce.j.a,W.j.b=ce.j.b,W.a.a=ce.a.a,W.a.b=ce.a.b,_r(W.c,ce.c),ce.c.c=ot(zt,At,1,0,4,1),H=W;break}if(et(_.d,Jt,null),Zf(Zr(l,Ft))>1)for(ee=zn(io(Zr(l,Ft)),0);ee.b!=ee.d.c;)W=z($n(ee),7),W.b.c.length==0?(O=new Br,An(O,Ft),O.j.a=W.j.a,O.j.b=W.j.b,Qn(O,R),et(O,Jt,Se(W,Jt)),Qn(W,null)):Qn(H,R);return et(l,Jt,null),et(l,hl,Mr),na(l,La),et(R,(pt(),en),z(Se(l,en),28)),et(R,to,z(Se(l,to),86)),ql(r.b,0,R),R}function ky(r,l,_,R,O,q,H){var W,ee,ae,ce,fe,pe;switch(fe=_,ae=new No(H),na(ae,(Ht(),yr)),et(ae,(tt(),RM),O),et(ae,(pt(),en),(Rr(),Zi)),et(ae,wp,z(Se(r,gf),15)),ee=z(Se(r,lc),10),!ee&&(ee=new Wt(O.a/2,O.b/2)),et(ae,lc,ee),ce=new Br,Qn(ce,ae),l!=ys&&l!=rl||(W=q!=(Fr(),ps)?q:za,R>0?fe=Jm(W):fe=X_(Jm(W)),et(r,A0,fe)),fe.e){case 4:et(ae,(Ln(),di),(qa(),dl)),et(ae,AE,(Cd(),H0)),ae.j.b=O.b,An(ce,(ht(),Pt)),ce.i.b=ee.b;break;case 2:et(ae,(Ln(),di),(qa(),bc)),et(ae,AE,(Cd(),sb)),ae.j.b=O.b,An(ce,(ht(),Ft)),ce.i.b=ee.b;break;case 1:et(ae,Nu,(ou(),Ch)),ae.j.a=O.a,An(ce,(ht(),Qt)),ce.i.a=ee.a;break;case 3:et(ae,Nu,(ou(),Zd)),ae.j.a=O.a,An(ce,(ht(),Yt)),ce.i.a=ee.a}if(l==Gd||l==Gs||l==Zi){switch(pe=0,fe.e){case 4:case 2:pe=null.cd,l==Gs&&(pe/=null.cd);break;case 1:case 3:pe=null.cd,l==Gs&&(pe/=null.cd)}et(ae,yc,pe)}return et(ae,Ri,fe),ae}function fW(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge;for(ae=new Ci,$e=(Ar(),new kn),Kn($e,r,c3(r)),R=(aa(2,uf),new Ta(2)),r.c&&xt(R,r.c),r.d&&xt(R,r.d),be=new xe(R);be.a<be.c.c.length;)if(pe=z(Ee(be),7),l=new qi,Ja(l,Yl(yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[pe.b,pe.e]))))))),jv(l,r,!0),l.b!=0)for(Ge=z(ra(ia($e.d,r)),34),pe==r.d?(_e=Ge[Ge.length-1],qe=!0):(_e=Ge[0],qe=!1),ee=1;ee<Ge.length;ee++){for(qe?Ce=Ge[Ge.length-1-ee]:Ce=Ge[ee],_=zn(l,0);_.b!=_.d.c;)ce=z($n(_),12),fe=z(ra(ia($e.d,ce)),34),fe==null&&(fe=c3(ce),eo($e.d,ce,fe)),fe.length<=ee?uS(_):(qe?Re=fe[fe.length-1-ee]:Re=fe[ee],(Ce.a!=Re.a||Ce.b!=Re.b)&&(O=Ce.a-_e.a,H=Ce.b-_e.b,q=Re.a-_e.a,W=Re.b-_e.b,q*H==W*O&&y_(O)==y_(q)&&y_(H)==y_(W)?((O<=0?0-O:O)<(q<=0?0-q:q)||(H<=0?0-H:H)<(W<=0?0-W:W))&&ci(ae,Ce,ae.c.b,ae.c):ee>1&&ci(ae,_e,ae.c.b,ae.c),uS(_)));_e=Ce}return ae}function hW(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce;for(r.n=z(Se(r.g,(tt(),Ia)),15).a*z(Se(r.g,(Ln(),kp)),15).a,r.e=r.n*z(Se(r.g,Bu),15).a,r.i=r.g.c.c.length,W=r.i-1,pe=0,r.j=0,r.k=0,r.a=zm(ot(ax,wi,24,r.i,0,1)),r.b=zm(ot(e1,wi,184,r.i,6,1)),H=new xe(r.g.c);H.a<H.c.c.length;){for(O=z(Ee(H),16),O.k=W,fe=new xe(O.a);fe.a<fe.c.c.length;)ce=z(Ee(fe),9),ce.k=pe,++pe;--W}for(r.f=ot(Hr,zr,26,pe,12,1),r.c=n_(Hr,[wi,zr],[52,26],12,[pe,3],2),r.o=new dt,r.p=new dt,l=0,r.d=0,q=new xe(r.g.c);q.a<q.c.c.length;){for(O=z(Ee(q),16),W=O.k,R=0,Ce=0,ee=O.a.c.length,ae=0,fe=new xe(O.a);fe.a<fe.c.c.length;)ce=z(Ee(fe),9),pe=ce.k,r.f[pe]=ce.d.k,ae+=ce.j.b+r.n,_=Zf(yi(ce)),_e=Zf(pr(ce)),r.c[pe][0]=_e-_,r.c[pe][1]=_,r.c[pe][2]=_e,R+=_,Ce+=_e,_>0&&xt(r.p,ce),xt(r.o,ce);l-=R,be=ee+l,ae+=l*r.e,Vl(r.a,W,nn(be)),Vl(r.b,W,ae),r.j=Vi(r.j,be),r.k=St(r.k,ae),r.d+=l,l+=Ce}}function ht(){ht=s;var r;ii=new lv(lh,0),Yt=new lv("NORTH",1),Pt=new lv("EAST",2),Qt=new lv("SOUTH",3),Ft=new lv("WEST",4),Uy=(jn(),new qf((r=z(Na(xi),11),new Xi(r,z(xa(r,r.length),11),0)))),Ud=$s(On(Yt,Ze(Ke(xi,1),kt,32,0,[]))),Hd=$s(On(Pt,Ze(Ke(xi,1),kt,32,0,[]))),Yd=$s(On(Qt,Ze(Ke(xi,1),kt,32,0,[]))),Vd=$s(On(Ft,Ze(Ke(xi,1),kt,32,0,[]))),Hs=$s(On(Yt,Ze(Ke(xi,1),kt,32,0,[Qt]))),hc=$s(On(Pt,Ze(Ke(xi,1),kt,32,0,[Ft]))),mh=$s(On(Yt,Ze(Ke(xi,1),kt,32,0,[Ft]))),vf=$s(On(Yt,Ze(Ke(xi,1),kt,32,0,[Pt]))),mf=$s(On(Qt,Ze(Ke(xi,1),kt,32,0,[Ft]))),pf=$s(On(Pt,Ze(Ke(xi,1),kt,32,0,[Qt]))),Mo=$s(On(Yt,Ze(Ke(xi,1),kt,32,0,[Pt,Ft]))),ho=$s(On(Pt,Ze(Ke(xi,1),kt,32,0,[Qt,Ft]))),Io=$s(On(Yt,Ze(Ke(xi,1),kt,32,0,[Qt,Ft]))),Lo=$s(On(Yt,Ze(Ke(xi,1),kt,32,0,[Pt,Qt]))),Fi=$s(On(Yt,Ze(Ke(xi,1),kt,32,0,[Pt,Qt,Ft])))}function dW(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt;for(Xe=new dt,pe=new xe(r.c);pe.a<pe.c.c.length;)for(fe=z(Ee(pe),16),Ce=new xe(fe.a);Ce.a<Ce.c.c.length;)if(be=z(Ee(Ce),9),be.g==(Ht(),yr)&&Se(be,(tt(),gb))!=null){for(Re=null,qe=null,$e=null,mt=new xe(be.f);mt.a<mt.c.c.length;)switch(gt=z(Ee(mt),7),gt.g.e){case 4:Re=gt;break;case 2:qe=gt;break;default:$e=gt}for(Ge=z($t($e.e,0),12),ee=new Yw(Ge.a),W=new qr($e.i),ur(W,be.i),ae=zn(ee,0),Sv(ae,W),Je=H_(Ge.a),ce=new qr($e.i),ur(ce,be.i),ci(Je,ce,Je.c.b,Je.c),lt=z(Se(be,gb),9),Tt=z($t(lt.f,0),7),H=z(jr(Re.b,ot(Va,ja,12,0,0,1)),47),R=0,q=H.length;R<q;++R)l=H[R],gr(l,Tt),U_(l.a,l.a.b,ee);for(H=z(jr(qe.e,ot(Va,ja,12,qe.e.c.length,0,1)),47),_=0,O=H.length;_<O;++_)l=H[_],Ir(l,Tt),U_(l.a,0,Je);Ir(Ge,null),gr(Ge,null),Xe.c[Xe.c.length]=be}for(_e=new xe(Xe);_e.a<_e.c.c.length;)be=z(Ee(_e),9),Ti(be,null)}function gW(){function r(){this.obj=this.createObject()}return r.prototype.createObject=function(l){return Object.create(null)},r.prototype.get=function(l){return this.obj[l]},r.prototype.set=function(l,_){this.obj[l]=_},r.prototype[tx]=function(l){delete this.obj[l]},r.prototype.keys=function(){return Object.getOwnPropertyNames(this.obj)},r.prototype.entries=function(){var l=this.keys(),_=this,R=0;return{next:function(){if(R>=l.length)return{done:!0};var O=l[R++];return{value:[O,_.get(O)],done:!1}}}},uY()||(r.prototype.createObject=function(){return{}},r.prototype.get=function(l){return this.obj[":"+l]},r.prototype.set=function(l,_){this.obj[":"+l]=_},r.prototype[tx]=function(l){delete this.obj[":"+l]},r.prototype.keys=function(){var l=[];for(var _ in this.obj)_.charCodeAt(0)==58&&l.push(_.substring(1));return l}),r}function f4(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe;if(ce=new cS,et(ce,rL,l),Kn(r.e,l,ce),et(ce,(tt(),kf),_),r.d&&b3(r.d,ce,!1),fy(l,ce),W2 in l.a&&(Re=ce.a,$e=z(kr(l,W2),69),Ce=z(kr($e,"left"),104),Ce&&(Re.b=Ce.a),Ge=z(kr($e,"top"),104),Ge&&(Re.d=Ge.a),qe=z(kr($e,"right"),104),qe&&(Re.c=qe.a),O=z(kr($e,cA),104),O&&(Re.a=O.a)),fe=(R=z(Na(yM),11),new Xi(R,z(xa(R,R.length),11),0)),et(ce,Bi,fe),r.g==null&&(r.g=_n(Se(ce,(RC(),fL)))),op in l.a){if(Xe=kr(l,op),!Xe.hc())throw new nu("The 'children' property of nodes must be an array.",Xe,l);if(ae=Xe.hc(),ae.a.length>0){for(_&&et(_,Ef,ce),W=ot(hi,Aa,9,ae.a.length,0,1),be=0;be<ae.a.length;++be){if(ee=jc(ae,be),!ee.kc())throw new nu("A 'children' array contains a non-object node element.",ee,l);q=PV(r,ee.kc(),ce),W[be]=q}for(pe=0;pe<ae.a.length;++pe)_e=jc(ae,pe).kc(),H=W[pe],op in _e.a&&!bn(ct(_n(Se(H,(pt(),S0)))))&&f4(r,_e,H)}}return ce}function pW(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce;if($l(new xe(Wc(r.e)))){for(W=new xe(Wc(r.e));W.a<W.c.c.length;)switch(H=z(Ee(W),161),ae=z(H.e,7).g.e,++r.o[ae],z(H.e,7).g.e){case 4:case 2:r.n[ae]+=H.e.j.b+(l?(R=z(H.e,7).d,new Ds(R.d,R.b,R.a,R.c)).a+(O=z(H.e,7).d,new Ds(O.d,O.b,O.a,O.c)).d:0);break;case 1:case 3:r.n[ae]+=H.e.j.a+(l?(q=z(H.e,7).d,new Ds(q.d,q.b,q.a,q.c)).b+(_=z(H.e,7).d,new Ds(_.d,_.b,_.a,_.c)).c:0)}for(ee=z(Jr(r.e,(pt(),_x)),100),ee=ee==(Vc(),vh)?gu:ee,r.g[1]=z(Jr(r.e,Ex),100),r.g[3]=z(Jr(r.e,kx),100),r.g[4]=z(Jr(r.e,Cx),100),r.g[2]=z(Jr(r.e,xx),100),fe=(ht(),Ze(Ke(xi,1),kt,32,0,[ii,Yt,Pt,Qt,Ft])),be=0,Ce=fe.length;be<Ce;++be)ae=fe[be],r.g[ae.e]=r.g[ae.e]==vh?ee:r.g[ae.e];for(r.b=Jr(r.e,_0)!=null,ce=Ze(Ke(xi,1),kt,32,0,[ii,Yt,Pt,Qt,Ft]),pe=0,_e=ce.length;pe<_e;++pe)ae=ce[pe],r.o[ae.e]==1?r.i[ae.e]=2:!r.b&&r.g[ae.e]==gu?r.i[ae.e]=r.o[ae.e]+1:r.i[ae.e]=r.o[ae.e]-1}}function vW(r,l,_,R,O,q){var H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je;if(ee=z(r.a,16),Ce=z(r.b,16),ae=z(l.a,18),Re=z(l.b,18),ee)for(fe=new xe(ee.a);fe.a<fe.c.c.length;)for(ce=z(Ee(fe),9),Ge=Zr(ce,(ht(),Pt)).mb();Ge.G();)for(qe=z(Ge.H(),7),ae.ib(qe),W=new xe(qe.e);W.a<W.c.c.length;)H=z(Ee(W),12),!Xl(H)&&(_.c[_.c.length]=H,B$(H,R),$e=H.c.f.g,($e==(Ht(),Pr)||$e==Kr)&&(O.c[O.c.length]=H),Je=H.d,Xe=Je.f.d,Xe==Ce?Re.ib(Je):Xe==ee?ae.ib(Je):gi(_,H));if(Ce)for(fe=new xe(Ce.a);fe.a<fe.c.c.length;){for(ce=z(Ee(fe),9),_e=new xe(ce.f);_e.a<_e.c.c.length;)for(be=z(Ee(_e),7),W=new xe(be.e);W.a<W.c.c.length;)H=z(Ee(W),12),Xl(H)&&(pe=q.a.db(H,q),pe==null);for(Ge=Zr(ce,(ht(),Ft)).mb();Ge.G();)for(qe=z(Ge.H(),7),Re.ib(qe),W=new xe(qe.e);W.a<W.c.c.length;)H=z(Ee(W),12),!Xl(H)&&(_.c[_.c.length]=H,B$(H,R),$e=H.c.f.g,($e==(Ht(),Pr)||$e==Kr)&&(O.c[O.c.length]=H),Je=H.d,Xe=Je.f.d,Xe==Ce?Re.ib(Je):Xe==ee?ae.ib(Je):gi(_,H))}}function mW(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt;for(Ge=l.c.length,O=new af(r.b,_,null,null),lt=ot(Wa,ga,26,Ge,12,1),Ce=ot(Wa,ga,26,Ge,12,1),_e=ot(Wa,ga,26,Ge,12,1),Re=0,W=0;W<Ge;W++)Ce[W]=fi,_e[W]=Mu;for(ee=0;ee<Ge;ee++)for(R=(mr(ee,l.c.length),z(l.c[ee],81)),lt[ee]=C2(R),lt[Re]>lt[ee]&&(Re=ee),fe=new xe(r.b.c);fe.a<fe.c.c.length;)for(ce=z(Ee(fe),16),qe=new xe(ce.a);qe.a<qe.c.c.length;)$e=z(Ee(qe),9),gt=ct(R.n[$e.k])+ct(R.d[$e.k]),Ce[ee]=Ce[ee]<gt?Ce[ee]:gt,_e[ee]=St(_e[ee],gt+$e.j.b);for(mt=ot(Wa,ga,26,Ge,12,1),ae=0;ae<Ge;ae++)(mr(ae,l.c.length),z(l.c[ae],81)).k==(Vo(),dc)?mt[ae]=Ce[Re]-Ce[ae]:mt[ae]=_e[Re]-_e[ae];for(q=ot(Wa,ga,26,Ge,12,1),be=new xe(r.b.c);be.a<be.c.c.length;)for(pe=z(Ee(be),16),Je=new xe(pe.a);Je.a<Je.c.c.length;){for(Xe=z(Ee(Je),9),H=0;H<Ge;H++)q[H]=ct((mr(H,l.c.length),z(l.c[H],81)).n[Xe.k])+ct((mr(H,l.c.length),z(l.c[H],81)).d[Xe.k])+mt[H];m9(q),O.n[Xe.k]=(q[1]+q[2])/2,O.d[Xe.k]=0}return O}function O2(r,l,_,R,O,q){var H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je;for(Ce=null,_==(Ul(),$u)?Ce=r:_==xh&&(Ce=l),$e=(pe=new Dn(Ce.a).a.bb().mb(),new Fn(pe));$e.a.G();){for(Re=(ce=z($e.a.H(),21),z(ce.yb(),7)),qe=Jn(Ze(Ke(In,1),Mn,10,0,[Re.f.i,Re.i,Re.a])).b,Je=new $i,H=new $i,ee=wn(yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[Re.b,Re.e]))))));vn(ee);)if(W=z(cn(ee),12),bn(ct(_n(Se(W,(tt(),Fu)))))==R&&Sa(O,W,0)!=-1){if(W.d==Re?Ge=W.c:Ge=W.d,Xe=Jn(Ze(Ke(In,1),Mn,10,0,[Ge.f.i,Ge.i,Ge.a])).b,(Xe-qe<=0?0-(Xe-qe):Xe-qe)<.2)continue;Xe<qe?r.a.R(Ge)?lr(Je,new ui($u,W)):lr(Je,new ui(xh,W)):r.a.R(Ge)?lr(H,new ui($u,W)):lr(H,new ui(xh,W))}if(Je.a.Y()>1)for(xt(q,new BT(Re,Je,_)),_e=(fe=new Dn(Je.a).a.bb().mb(),new Fn(fe));_e.a.G();)be=(ae=z(_e.a.H(),21),z(ae.yb(),27)),gi(O,be.b);if(H.a.Y()>1)for(xt(q,new BT(Re,H,_)),_e=(fe=new Dn(H.a).a.bb().mb(),new Fn(fe));_e.a.G();)be=(ae=z(_e.a.H(),21),z(ae.yb(),27)),gi(O,be.b)}}function yW(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt;for(O=0,qe=0,$e=(Ar(),new kn),R=new kn,q=new kn,mt=new kn,oW(r,q,mt),l=null,Re=0,gt=0,Ge=!0,ee=!0,pe=0,_e=r.length;pe<_e;++pe){for(ce=r[pe],Je=new xe(ce.f);Je.a<Je.c.c.length;)switch(Xe=z(Ee(Je),7),Xe.g.e){case 2:O+=u5(Xe,q);break;case 4:O+=u5(Xe,mt)}if(Ce=ce.g,ee&&(Ce==(Ht(),Pr)||Ce==Kr)){if(ae=z(Se(ce,(tt(),xf)),9),!ae){ee=!1;continue}l!=ae&&(l&&Kn($e,l,new ui(nn(Re),nn(gt))),l=ae,Re=0,gt=0,Ge=!0),ce==l&&(Ge=!1),Ge?(Re+=z(Se(ce,bp),24).a,Kn(R,ce,nn(Re))):(gt+=z(Se(ce,bp),24).a,Kn(R,ce,nn(gt)))}}if(l&&Kn($e,l,new ui(nn(Re),nn(gt))),ee)for(W=null,H=0,_=0,Ge=!0,fe=0,be=r.length;fe<be;++fe)switch(ce=r[fe],Ce=ce.g,Ce.e){case 0:H=z(ra(ia(R.d,ce)),24).a,_=z(z(ra(ia($e.d,ce)),27).b,24).a,W=ce,Ge=!1;break;case 3:H=z(ra(ia(R.d,ce)),24).a,ae=z(Se(ce,(tt(),xf)),9),ae!=W&&(_=z(z(ra(ia($e.d,ae)),27).a,24).a,W=ae,Ge=!0);break;default:qe+=Ge?H:_-H}return O+qe}function bW(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge;for(fe=(Ar(),new kn),ae=new fv,R=new xe(r.a.a.b);R.a<R.c.c.length;)if(l=z(Ee(R),25),yt(l,93))ce=z(l,93).b,eo(fe.d,ce,l);else if(yt(l,82))for(q=(_e=new Dn(z(l,82).d.a).a.bb().mb(),new Fn(_e));q.a.G();)O=(H=z(q.a.H(),21),z(H.yb(),12)),an(ae,O,l);for(_=new xe(r.a.a.b);_.a<_.c.c.length;)if(l=z(Ee(_),25),yt(l,93)){for(ce=z(l,93).b,ee=wn(pr(ce));vn(ee);)if(W=z(cn(ee),12),!Xl(W)&&(Re=W.c,Ge=W.d,!((ht(),Hs).kb(W.c.g)&&Hs.kb(W.d.g)))){if($e=z(Bn(fe,W.d.f),25),Id(td(rd(ad(nd(new Cs,0),100),r.c[l.f.d]),r.c[$e.f.d])),Re.g==Ft&&EP((oo(),Re))){for(be=z(So(ae,W),18).mb();be.G();)if(pe=z(be.H(),25),pe.j.d<l.j.d){if(Ce=r.c[pe.f.d],qe=r.c[l.f.d],Ce==qe)continue;Id(td(rd(ad(nd(new Cs,1),100),Ce),qe))}}if(Ge.g==Pt&&xP((oo(),Ge))){for(be=z(So(ae,W),18).mb();be.G();)if(pe=z(be.H(),25),pe.j.d>l.j.d){if(Ce=r.c[l.f.d],qe=r.c[pe.f.d],Ce==qe)continue;Id(td(rd(ad(nd(new Cs,1),100),Ce),qe))}}}}}function h4(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e;switch(H=new YP(r),W=Yl(cs(l,H)),Oo(W,new ag),O=r.b,O.c){case 2:ee=new Sl(O.a),_=$g(cs(W,ee)),zc(_)?ae=z(th(_),91).b:ae=15,ee=new Sl(zS(O)),_=$g(cs(W,ee)),zc(_)?q=z(th(_),91).b:q=15,ee=new Sl(O.b),_=$g(cs(W,ee)),zc(_)?ce=z(th(_),91).b:ce=15,R=wU(r,ae,q,ce),lr(l,new Jg(R,r.c,r.e,r.a.c.f,O.a)),lr(l,new Jg(R,r.c,r.e,r.a.c.f,zS(O))),lr(l,new Jg(R,r.c,r.e,r.a.c.f,O.b));break;case 1:ee=new Sl(O.a),_=$g(cs(W,ee)),zc(_)?ae=z(th(_),91).b:ae=15,ee=new Sl(O.b),_=$g(cs(W,ee)),zc(_)?ce=z(th(_),91).b:ce=15,R=dU(r,ae,ce),lr(l,new Jg(R,r.c,r.e,r.a.c.f,O.a)),lr(l,new Jg(R,r.c,r.e,r.a.c.f,O.b));break;case 0:ee=new Sl(O.a),_=$g(cs(W,ee)),zc(_)?ae=z(th(_),91).b:ae=15,R=(fe=r.b,pe=_Y(r.a.c,r.a.d,ae),Ja(r.a.a,o2(pe)),be=nT(r.a.b,pe.a,fe),_e=new Rv((!pe.k&&(pe.k=new v2(F_(pe))),pe.k)),PC(_e),be?TC(_e,be):_e),lr(l,new Jg(R,r.c,r.e,r.a.c.f,O.a));break;default:throw new Gn("The loopside must be defined.")}return R}function wW(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je;for(W=new xe(r.a.c);W.a<W.c.c.length;)for(q=z(Ee(W),16),Ge=new xe(q.a);Ge.a<Ge.c.c.length;)qe=z(Ee(Ge),9),l.f[qe.k]=qe,l.a[qe.k]=qe,l.d[qe.k]=0;for(ee=r.a.c,l.c==(fs(),pu)&&(ee=yt(ee,87)?qg(z(ee,87)):yt(ee,88)?z(ee,88).a:yt(ee,63)?new iv(ee):new Ag(ee)),H=ee.mb();H.G();)for(q=z(H.H(),16),be=-1,pe=q.a,l.k==(Vo(),zo)&&(be=fi,pe=yt(pe,87)?qg(z(pe,87)):yt(pe,88)?z(pe,88).a:yt(pe,63)?new iv(pe):new Ag(pe)),Je=pe.mb();Je.G();)if(Xe=z(Je.H(),9),l.c==pu?fe=z($t(r.b.f,Xe.k),20):fe=z($t(r.b.b,Xe.k),20),fe.Y()>0)if(R=fe.Y(),ae=Wr(Math.floor((R+1)/2))-1,O=Wr(Math.ceil((R+1)/2))-1,l.k==zo)for(ce=O;ce>=ae;ce--)l.a[Xe.k]==Xe&&(Ce=z(fe.sb(ce),27),_e=z(Ce.a,9),!Pl(_,Ce.b)&&be>r.b.e[_e.k]&&(l.a[_e.k]=Xe,l.f[Xe.k]=l.f[_e.k],l.a[Xe.k]=l.f[Xe.k],be=r.b.e[_e.k]));else for(ce=ae;ce<=O;ce++)l.a[Xe.k]==Xe&&($e=z(fe.sb(ce),27),Re=z($e.a,9),!Pl(_,$e.b)&&be<r.b.e[Re.k]&&(l.a[Re.k]=Xe,l.f[Xe.k]=l.f[Re.k],l.a[Xe.k]=l.f[Xe.k],be=r.b.e[Re.k]))}function da(){da=s,vu=new iu("N",0,(ht(),Yt),Yt,0),ul=new iu("EN",1,Pt,Yt,1),gc=new iu("E",2,Pt,Pt,0),pc=new iu("SE",3,Qt,Pt,1),Vs=new iu("S",4,Qt,Qt,0),fl=new iu("WS",5,Ft,Qt,1),ll=new iu("W",6,Ft,Ft,0),bs=new iu("NW",7,Yt,Ft,1),Ys=new iu("ENW",8,Pt,Ft,2),cl=new iu("ESW",9,Pt,Ft,2),vc=new iu("SEN",10,Qt,Yt,2),_f=new iu("SWN",11,Qt,Yt,2),_h=new iu(lh,12,ii,ii,3),j6=bG(vu,ul,gc,pc,Vs,fl,Ze(Ke(pp,1),kt,60,0,[ll,bs,Ys,cl,vc,_f])),G6=(wo(),of(Ze(Ke(zt,1),At,1,4,[vu,gc,Vs,ll]))),z6=of(Ze(Ke(zt,1),At,1,4,[ul,pc,fl,bs])),W6=new Dc(Yt),U6=of(Ze(Ke(zt,1),At,1,4,[Pt,Yt])),H6=new Dc(Pt),K6=of(Ze(Ke(zt,1),At,1,4,[Qt,Pt])),Z6=new Dc(Qt),rq=of(Ze(Ke(zt,1),At,1,4,[Ft,Qt])),nq=new Dc(Ft),X6=of(Ze(Ke(zt,1),At,1,4,[Yt,Ft])),Y6=of(Ze(Ke(zt,1),At,1,4,[Pt,Yt,Ft])),V6=of(Ze(Ke(zt,1),At,1,4,[Pt,Qt,Ft])),J6=of(Ze(Ke(zt,1),At,1,4,[Qt,Ft,Yt])),Q6=of(Ze(Ke(zt,1),At,1,4,[Qt,Pt,Yt])),tq=(yd(),cp)}function d4(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe;if(qe=0,l.e.a==0)for(Re=new xe(r);Re.a<Re.c.c.length;)_e=z(Ee(Re),9),qe=St(qe,_e.i.a+_e.j.a+_e.e.c);else qe=l.e.a-l.d.a;for(qe-=l.d.a,Ce=new xe(r);Ce.a<Ce.c.c.length;){switch(_e=z(Ee(Ce),9),$f(_e.i,qe-_e.j.a),wG(_e),z(Se(_e,(pt(),Zo)),103).e){case 1:et(_e,Zo,(Fs(),Gy));break;case 2:et(_e,Zo,(Fs(),zy))}for($e=_e.j,Xe=new xe(_e.f);Xe.a<Xe.c.c.length;){for(Ge=z(Ee(Xe),7),$f(Ge.i,$e.a-Ge.j.a),$f(Ge.a,Ge.j.a),An(Ge,m$(Ge.g)),H=z(Se(Ge,fc),24),H&&et(Ge,fc,nn(-H.a)),q=new xe(Ge.e);q.a<q.c.c.length;){for(O=z(Ee(q),12),R=zn(O.a,0);R.b!=R.d.c;)_=z($n(R),10),_.a=qe-_.a;if(ae=z(Se(O,Gr),44),ae)for(ee=zn(ae,0);ee.b!=ee.d.c;)W=z($n(ee),10),W.a=qe-W.a;for(pe=new xe(O.b);pe.a<pe.c.c.length;)ce=z(Ee(pe),33),$f(ce.i,qe-ce.j.a)}for(be=new xe(Ge.c);be.a<be.c.c.length;)ce=z(Ee(be),33),$f(ce.i,-ce.j.a)}for(_e.g==(Ht(),yr)&&(et(_e,(tt(),Ri),m$(z(Se(_e,Ri),32))),TH(_e)),fe=new xe(_e.c);fe.a<fe.c.c.length;)ce=z(Ee(fe),33),$f(ce.i,$e.a-ce.j.a)}}function _W(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe;if(qe=0,l.e.b==0)for(Re=new xe(r);Re.a<Re.c.c.length;)_e=z(Ee(Re),9),qe=St(qe,_e.i.b+_e.j.b+_e.e.a);else qe=l.e.b-l.d.b;for(qe-=l.d.b,Ce=new xe(r);Ce.a<Ce.c.c.length;){switch(_e=z(Ee(Ce),9),Vh(_e.i,qe-_e.j.b),_G(_e),z(Se(_e,(pt(),Zo)),103).e){case 3:et(_e,Zo,(Fs(),qy));break;case 4:et(_e,Zo,(Fs(),Hy))}for($e=_e.j,Xe=new xe(_e.f);Xe.a<Xe.c.c.length;){for(Ge=z(Ee(Xe),7),Vh(Ge.i,$e.b-Ge.j.b),Vh(Ge.a,Ge.j.b),An(Ge,y$(Ge.g)),H=z(Se(Ge,fc),24),H&&et(Ge,fc,nn(-H.a)),q=new xe(Ge.e);q.a<q.c.c.length;){for(O=z(Ee(q),12),R=zn(O.a,0);R.b!=R.d.c;)_=z($n(R),10),_.b=qe-_.b;if(ae=z(Se(O,Gr),44),ae)for(ee=zn(ae,0);ee.b!=ee.d.c;)W=z($n(ee),10),W.b=qe-W.b;for(pe=new xe(O.b);pe.a<pe.c.c.length;)ce=z(Ee(pe),33),Vh(ce.i,qe-ce.j.b)}for(be=new xe(Ge.c);be.a<be.c.c.length;)ce=z(Ee(be),33),Vh(ce.i,-ce.j.b)}for(_e.g==(Ht(),yr)&&(et(_e,(tt(),Ri),y$(z(Se(_e,Ri),32))),Hz(_e)),fe=new xe(_e.c);fe.a<fe.c.c.length;)ce=z(Ee(fe),33),Vh(ce.i,$e.b-ce.j.b)}}function xW(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be;if(R=new Do(l.e.i.a,l.e.i.b,l.e.j.a,l.e.j.b),O=new Cw,r.c)for(H=new xe(Uv(l));H.a<H.c.c.length;)q=z(Ee(H),129),O.d=q.e.i.a+l.e.i.a,O.e=q.e.i.b+l.e.i.b,O.c=q.e.j.a,O.b=q.e.j.b,Vv(R,O);for(ce=new xe(Wc(l));ce.a<ce.c.c.length;){if(ae=z(Ee(ce),161),fe=ae.e.i.a+l.e.i.a,pe=ae.e.i.b+l.e.i.b,r.e&&(O.d=fe,O.e=pe,O.c=ae.e.j.a,O.b=ae.e.j.b,Vv(R,O)),r.d)for(H=new xe(Yv(ae));H.a<H.c.c.length;)q=z(Ee(H),129),O.d=q.e.i.a+fe,O.e=q.e.i.b+pe,O.c=q.e.j.a,O.b=q.e.j.b,Vv(R,O);if(r.b){if(be=new Wt(-_,-_),Ot(Jr(l,(pt(),T0)))===Ot((kd(),I0)))for(H=new xe(Yv(ae));H.a<H.c.c.length;)q=z(Ee(H),129),be.a+=q.e.j.a+_,be.b+=q.e.j.b+_;be.a=St(be.a,0),be.b=St(be.b,0),N5(R,ZU(ae),XU(ae),l,ae,be,_)}}r.b&&N5(R,(jn(),jn(),gl),gl,l,null,null,_),ee=new tC((W=z(l.e,9).e,new Ds(W.d,W.b,W.a,W.c))),ee.d=l.e.i.b-R.e,ee.a=R.e+R.b-(l.e.i.b+l.e.j.b),ee.b=l.e.i.a-R.d,ee.c=R.d+R.c-(l.e.i.a+l.e.j.a),z(l.e,9).e.b=ee.b,z(l.e,9).e.d=ee.d,z(l.e,9).e.c=ee.c,z(l.e,9).e.a=ee.a}function g4(){g4=s,hn=new fv,an(hn,(ht(),Uy),Fi),an(hn,Vd,Io),an(hn,Vd,Fi),an(hn,Hd,Lo),an(hn,Hd,Fi),an(hn,Ud,Mo),an(hn,Ud,Fi),an(hn,Yd,ho),an(hn,Yd,Fi),an(hn,Hs,hc),an(hn,Hs,Mo),an(hn,Hs,ho),an(hn,Hs,Fi),an(hn,hc,Hs),an(hn,hc,Io),an(hn,hc,Lo),an(hn,hc,Fi),an(hn,mh,mh),an(hn,mh,Mo),an(hn,mh,Io),an(hn,vf,vf),an(hn,vf,Mo),an(hn,vf,Lo),an(hn,mf,mf),an(hn,mf,ho),an(hn,mf,Io),an(hn,pf,pf),an(hn,pf,ho),an(hn,pf,Lo),an(hn,Mo,Ud),an(hn,Mo,Hs),an(hn,Mo,mh),an(hn,Mo,vf),an(hn,Mo,Mo),an(hn,Mo,Io),an(hn,Mo,Lo),an(hn,Mo,Fi),an(hn,ho,Yd),an(hn,ho,Hs),an(hn,ho,mf),an(hn,ho,pf),an(hn,ho,ho),an(hn,ho,Io),an(hn,ho,Lo),an(hn,ho,Fi),an(hn,Io,Vd),an(hn,Io,hc),an(hn,Io,mh),an(hn,Io,mf),an(hn,Io,Mo),an(hn,Io,ho),an(hn,Io,Io),an(hn,Io,Fi),an(hn,Lo,Hd),an(hn,Lo,hc),an(hn,Lo,vf),an(hn,Lo,pf),an(hn,Lo,Mo),an(hn,Lo,ho),an(hn,Lo,Lo),an(hn,Lo,Fi),an(hn,Fi,Uy),an(hn,Fi,Vd),an(hn,Fi,Hd),an(hn,Fi,Ud),an(hn,Fi,Yd),an(hn,Fi,Hs),an(hn,Fi,hc),an(hn,Fi,Mo),an(hn,Fi,ho),an(hn,Fi,Io),an(hn,Fi,Lo),an(hn,Fi,Fi)}function p4(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e;if(_.n[l.k]==null){ee=!0,_.n[l.k]=0,H=l,$e=_.k==(Vo(),dc)?Ii:ya;do O=r.b.e[H.k],q=H.d.a.c.length,W=H.g,_.k==dc&&O>0||_.k==zo&&O<q-1?(_.k==zo?ae=z($t(H.d.a,O+1),9):ae=z($t(H.d.a,O-1),9),fe=_.f[ae.k],ce=ae.g,p4(r,fe,_),$e=r.e.Ic($e,l,H),_.i[l.k]==l&&(_.i[l.k]=_.i[fe.k]),_.i[l.k]==_.i[fe.k]?(Re=Xw(r.d,W,ce),_.k==zo?(R=ct(_.n[l.k]),be=ct(_.n[fe.k])+ct(_.d[ae.k])-ae.e.d-Re-H.e.a-H.j.b-ct(_.d[H.k]),ee?(ee=!1,_.n[l.k]=be<$e?be:$e):_.n[l.k]=R<(be<$e?be:$e)?R:be<$e?be:$e):(R=ct(_.n[l.k]),be=ct(_.n[fe.k])+ct(_.d[ae.k])+ae.j.b+ae.e.a+Re+H.e.d-ct(_.d[H.k]),ee?(ee=!1,_.n[l.k]=be>$e?be:$e):_.n[l.k]=R>(be>$e?be:$e)?R:be>$e?be:$e)):(Re=r.d.f,Ce=x$(r,_.i[l.k]),pe=x$(r,_.i[fe.k]),_.k==zo?(_e=ct(_.n[l.k])+ct(_.d[H.k])+H.j.b+H.e.a+Re-(ct(_.n[fe.k])+ct(_.d[ae.k])-ae.e.d),nO(Ce,pe,_e)):(_e=ct(_.n[l.k])+ct(_.d[H.k])-H.e.d-ct(_.n[fe.k])-ct(_.d[ae.k])-ae.j.b-ae.e.a-Re,nO(Ce,pe,_e)))):$e=r.e.Ic($e,l,H),H=_.a[H.k];while(H!=l);Wb(r.e,l)}}function EW(r,l,_,R){var O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe;if(pe=!1,fe=!1,eu(z(Se(R,(pt(),en)),28))){H=!1,W=!1;e:for(_e=new xe(R.f);_e.a<_e.c.c.length;)for(be=z(Ee(_e),7),Re=wn(yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[new Pf(be),new Cl(be)]))))));vn(Re);)if(Ce=z(cn(Re),7),!bn(ct(_n(Se(Ce.f,lp))))){if(be.g==(ht(),Yt)){H=!0;break e}if(be.g==Qt){W=!0;break e}}pe=W&&!H,fe=H&&!W}if(!pe&&!fe&&R.c.c.length!=0){for(ce=0,ae=new xe(R.c);ae.a<ae.c.c.length;)ee=z(Ee(ae),33),ce+=ee.i.b+ee.j.b/2;ce/=R.c.c.length,qe=ce>=R.j.b/2}else qe=!fe;qe?($e=z(Se(R,(tt(),xp)),20),$e?pe?q=$e:(O=z(Se(R,yp),20),O?$e.Y()<=O.Y()?q=$e:q=O:(q=new dt,et(R,yp,q))):(q=new dt,et(R,xp,q))):(O=z(Se(R,(tt(),yp)),20),O?fe?q=O:($e=z(Se(R,xp),20),$e?O.Y()<=$e.Y()?q=O:q=$e:(q=new dt,et(R,xp,q))):(q=new dt,et(R,yp,q))),q.ib(r),et(r,(tt(),db),_),l.d==_?(gr(l,null),_.b.c.length+_.e.c.length==0&&Qn(_,null)):(Ir(l,null),_.b.c.length+_.e.c.length==0&&Qn(_,null)),ku(l.a)}function kW(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge;for(_=new VN(l),_.a||gY(l),ae=zU(l),ee=new fv,Re=new v5,Ce=new xe(l.b);Ce.a<Ce.c.c.length;)for(_e=z(Ee(Ce),9),O=wn(pr(_e));vn(O);)R=z(cn(O),12),(R.c.f.g==(Ht(),yr)||R.d.f.g==yr)&&(ce=jV(r,R,ae,Re),an(ee,u2(ce.d),ce.a));for(H=new dt,Ge=z(Se(_.c,(tt(),Sh)),18).mb();Ge.G();){switch(qe=z(Ge.H(),32),be=Re.c[qe.e],pe=Re.b[qe.e],W=Re.a[qe.e],q=null,$e=null,qe.e){case 4:q=new Do(r.d.a,be,ae.b.a-r.d.a,pe-be),$e=new Do(r.d.a,be,W,pe-be),ec(ae,new Wt(q.d+q.c,q.e)),ec(ae,new Wt(q.d+q.c,q.e+q.b));break;case 2:q=new Do(ae.a.a,be,r.c.a-ae.a.a,pe-be),$e=new Do(r.c.a-W,be,W,pe-be),ec(ae,new Wt(q.d,q.e)),ec(ae,new Wt(q.d,q.e+q.b));break;case 1:q=new Do(be,r.d.b,pe-be,ae.b.b-r.d.b),$e=new Do(be,r.d.b,pe-be,W),ec(ae,new Wt(q.d,q.e+q.b)),ec(ae,new Wt(q.d+q.c,q.e+q.b));break;case 3:q=new Do(be,ae.a.b,pe-be,r.c.b-ae.a.b),$e=new Do(be,r.c.b-W,pe-be,W),ec(ae,new Wt(q.d,q.e)),ec(ae,new Wt(q.d+q.c,q.e))}q&&(fe=new ne,fe.d=qe,fe.b=q,fe.c=$e,fe.a=AC(z(So(ee,u2(qe)),18)),H.c[H.c.length]=fe)}return _r(_.b,H),_.d=Tz(TV(ae)),_}function CW(){var r=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F"];return r[34]='\\"',r[92]="\\\\",r[173]="\\u00ad",r[1536]="\\u0600",r[1537]="\\u0601",r[1538]="\\u0602",r[1539]="\\u0603",r[1757]="\\u06dd",r[1807]="\\u070f",r[6068]="\\u17b4",r[6069]="\\u17b5",r[8203]="\\u200b",r[8204]="\\u200c",r[8205]="\\u200d",r[8206]="\\u200e",r[8207]="\\u200f",r[8232]="\\u2028",r[8233]="\\u2029",r[8234]="\\u202a",r[8235]="\\u202b",r[8236]="\\u202c",r[8237]="\\u202d",r[8238]="\\u202e",r[8288]="\\u2060",r[8289]="\\u2061",r[8290]="\\u2062",r[8291]="\\u2063",r[8292]="\\u2064",r[8298]="\\u206a",r[8299]="\\u206b",r[8300]="\\u206c",r[8301]="\\u206d",r[8302]="\\u206e",r[8303]="\\u206f",r[65279]="\\ufeff",r[65529]="\\ufff9",r[65530]="\\ufffa",r[65531]="\\ufffb",r}function SW(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt;for(l=0,$e=!0,gt=null,R=0;R<r.length;R++)if(q=r[R],Re=q.g,Re==(Ht(),Pr))gt=q,$e=!1;else if(Re==Kr){if(yt(Se(q,(tt(),Jt)),12)||(_=z(Se(q,Jt),9),gt!=_&&(gt=_,$e=!0),!la(z(Se(_,(pt(),en)),28))))continue;for(pe=null,_e=null,Ge=new xe(q.f);Ge.a<Ge.c.c.length;)qe=z(Ee(Ge),7),qe.b.c.length==0?qe.e.c.length==0||(_e=z(Se(qe,Jt),7)):pe=z(Se(qe,Jt),7);for(O=R+1;O<r.length&&(H=r[O],fe=H.g,fe!=Pr);O++)if(fe==Kr){if(Ot(Se(H,Jt))!==Ot(_))break;for(W=null,ae=null,Je=new xe(H.f);Je.a<Je.c.c.length;)Xe=z(Ee(Je),7),Xe.b.c.length==0?Xe.e.c.length==0||(ae=z(Se(Xe,Jt),7)):W=z(Se(Xe,Jt),7);$e?(be=!1,Ce=!1,_e&&W&&_e.k<W.k&&(++l,Ce=!0),pe&&ae&&pe.k>ae.k&&(++l,be=!0),_e&&ae&&_e.k>ae.k&&(++l,Ce=!0),pe&&W&&pe.k<W.k&&(++l,be=!0),be&&Ce&&pe==_e&&--l):(ee=!1,ce=!1,pe&&ae&&pe.k<ae.k&&(++l,ce=!0),_e&&W&&_e.k>W.k&&(++l,ee=!0),pe&&W&&pe.k<W.k&&(++l,ee=!0),_e&&ae&&_e.k>ae.k&&(++l,ce=!0),ee&&ce&&W==ae&&--l)}}return l}function TW(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt;for(Ge=r.a,Xe=0,Je=Ge.length;Xe<Je;++Xe){for(qe=Ge[Xe],ae=fi,ce=fi,_e=new xe(qe.f);_e.a<_e.c.c.length;)pe=z(Ee(_e),9),H=pe.d?Sa(pe.d.a,pe,0):-1,H>0?(fe=z($t(pe.d.a,H-1),9),lt=kv(r.b,pe,fe),Re=pe.i.b-pe.e.d-(fe.i.b+fe.j.b+fe.e.a+lt)):Re=pe.i.b-pe.e.d,ae=Re<ae?Re:ae,H<pe.d.a.c.length-1?(fe=z($t(pe.d.a,H+1),9),lt=kv(r.b,pe,fe),$e=fe.i.b-fe.e.d-(pe.i.b+pe.j.b+pe.e.a+lt)):$e=2*pe.i.b,ce=$e<ce?$e:ce;for(ee=fi,q=!1,O=z($t(qe.f,0),9),jt=new xe(O.f);jt.a<jt.c.c.length;)for(Tt=z(Ee(jt),7),Ce=O.i.b+Tt.i.b+Tt.a.b,R=new xe(Tt.b);R.a<R.c.c.length;)_=z(Ee(R),12),gt=_.c,l=gt.f.i.b+gt.i.b+gt.a.b-Ce,(l<=0?0-l:l)<(ee<=0?0-ee:ee)&&(l<=0?0-l:l)<(l<0?ae:ce)&&(ee=l,q=!0);for(W=z($t(qe.f,qe.f.c.length-1),9),mt=new xe(W.f);mt.a<mt.c.c.length;)for(gt=z(Ee(mt),7),Ce=W.i.b+gt.i.b+gt.a.b,R=new xe(gt.e);R.a<R.c.c.length;)_=z(Ee(R),12),Tt=_.d,l=Tt.f.i.b+Tt.i.b+Tt.a.b-Ce,(l<=0?0-l:l)<(ee<=0?0-ee:ee)&&(l<=0?0-l:l)<(l<0?ae:ce)&&(ee=l,q=!0);if(q&&ee!=0)for(be=new xe(qe.f);be.a<be.c.c.length;)pe=z(Ee(be),9),pe.i.b+=ee}}function AW(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt;return fe=EY(Si(r,(ht(),Uy)),l),_e=Kl(Si(r,Ud),l),Xe=Kl(Si(r,Yd),l),lt=ay(Si(r,Vd),l),pe=ay(Si(r,Hd),l),qe=Kl(Si(r,mh),l),Ce=Kl(Si(r,vf),l),gt=Kl(Si(r,mf),l),Je=Kl(Si(r,pf),l),Tt=ay(Si(r,hc),l),$e=Kl(Si(r,Hs),l),Ge=Kl(Si(r,Mo),l),mt=Kl(Si(r,ho),l),jt=ay(Si(r,Io),l),be=ay(Si(r,Lo),l),Re=Kl(Si(r,Fi),l),_=Ed(Ze(Ke(Wa,1),ga,26,12,[qe.a,lt.a,gt.a,jt.a])),R=Ed(Ze(Ke(Wa,1),ga,26,12,[_e.a,fe.a,Xe.a,Re.a])),O=$e.a,q=Ed(Ze(Ke(Wa,1),ga,26,12,[Ce.a,pe.a,Je.a,be.a])),ae=Ed(Ze(Ke(Wa,1),ga,26,12,[qe.b,_e.b,Ce.b,Ge.b])),ee=Ed(Ze(Ke(Wa,1),ga,26,12,[lt.b,fe.b,pe.b,Re.b])),ce=Tt.b,W=Ed(Ze(Ke(Wa,1),ga,26,12,[gt.b,Xe.b,Je.b,mt.b])),au(Si(r,Uy),_+O,ae+ce),au(Si(r,Fi),_+O,ae+ce),au(Si(r,Ud),_+O,0),au(Si(r,Yd),_+O,ae+ce+ee),au(Si(r,Vd),0,ae+ce),au(Si(r,Hd),_+O+R,ae+ce),au(Si(r,vf),_+O+R,0),au(Si(r,mf),0,ae+ce+ee),au(Si(r,pf),_+O+R,ae+ce+ee),au(Si(r,hc),0,ae),au(Si(r,Hs),_,0),au(Si(r,ho),0,ae+ce+ee),au(Si(r,Lo),_+O+R,0),H=new Ni,H.a=Ed(Ze(Ke(Wa,1),ga,26,12,[_+R+O+q,Tt.a,Ge.a,mt.a])),H.b=Ed(Ze(Ke(Wa,1),ga,26,12,[ae+ee+ce+W,$e.b,jt.b,be.b])),H}function LW(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce;if(R=new Ci,ae=null,_e=r.c,be=_e.f.g,be!=(Ht(),Pr)&&be!=Kr)throw new Gn("The target node of the edge must be a normal node or a northSouthPort.");for(be==Kr&&(pe=z(Se(_e,(tt(),Jt)),7),ae=new Wt(Jn(Ze(Ke(In,1),Mn,10,0,[pe.f.i,pe.i,pe.a])).a,Jn(Ze(Ke(In,1),Mn,10,0,[_e.f.i,_e.i,_e.a])).b),_e=pe),hw(R,Jn(Ze(Ke(In,1),Mn,10,0,[_e.f.i,_e.i,_e.a]))),H=St(5,CN(_e.f,_e.g)),fe=new Gl(Xg(_e.g)),fe.a*=H,fe.b*=H,Un(R,ur(fe,Jn(Ze(Ke(In,1),Mn,10,0,[_e.f.i,_e.i,_e.a])))),ae&&ci(R,ae,R.c.b,R.c),q=r,ee=r,W=null,_=!1;q;)O=q.a,O.b!=0&&(_?(Un(R,Rs(ur(W,(Kt(O.b!=0),z(O.a.a.c,10))),.5)),_=!1):_=!0,W=Ro((Kt(O.b!=0),z(O.c.b.c,10))),Ja(R,O),ku(O)),ee=q,q=z(ra(ia(l.d,q)),12);Ce=ee.d,Ce.f.g==Kr&&(pe=z(Se(Ce,(tt(),Jt)),7),Un(R,new Wt(Jn(Ze(Ke(In,1),Mn,10,0,[pe.f.i,pe.i,pe.a])).a,Jn(Ze(Ke(In,1),Mn,10,0,[Ce.f.i,Ce.i,Ce.a])).b)),Ce=pe),H=St(5,CN(Ce.f,Ce.g)),fe=new Gl(Xg(Ce.g)),Rs(fe,H),Un(R,ur(fe,Jn(Ze(Ke(In,1),Mn,10,0,[Ce.f.i,Ce.i,Ce.a])))),hw(R,Jn(Ze(Ke(In,1),Mn,10,0,[Ce.f.i,Ce.i,Ce.a]))),ce=new RT(R),Ja(r.a,o2(ce))}function MW(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e;if(Ot(Se(r.c,(pt(),en)))===Ot((Rr(),Gs))||Ot(Se(r.c,en))===Ot(Zi)){for(ce=new xe(r.c.f);ce.a<ce.c.c.length;)if(ae=z(Ee(ce),7),ae.g==(ht(),Yt)||ae.g==Qt)return!1}for(R=wn(pr(r.c));vn(R);)if(_=z(cn(R),12),_.c.f==_.d.f)return!1;if(eu(z(Se(r.c,en),28))){for(be=new dt,ee=Zr(r.c,(ht(),Ft)).mb();ee.G();)H=z(ee.H(),7),xt(be,yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[H.b,H.e]))))));for(_e=(tn(be),new cd(be)),be=new dt,W=Zr(r.c,Pt).mb();W.G();)H=z(W.H(),7),xt(be,yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[H.b,H.e]))))));l=(tn(be),new cd(be))}else _e=yi(r.c),l=pr(r.c);return q=!Lv(pr(r.c)),O=!Lv(yi(r.c)),!q&&!O?!1:q?O?A_(($r(),new Ls(Ms(tu(_e.a,new I)))))==1&&(fe=(tn(_e),z(HS(new Ls(Ms(tu(_e.a,new I)))),12)).c.f,fe.g==(Ht(),rr)&&z(Se(fe,(tt(),Ma)),7).f!=r.c)?(r.e=2,!0):A_(new Ls(Ms(tu(l.a,new I))))==1&&(pe=(tn(l),z(HS(new Ls(Ms(tu(l.a,new I)))),12)).d.f,pe.g==(Ht(),rr)&&z(Se(pe,(tt(),wa)),7).f!=r.c)?(r.e=3,!0):!1:(r.e=0,!0):(r.e=1,!0)}function IW(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e;if(R=new dt,O=fi,q=fi,H=fi,_)for(O=r.e.a,Ce=new xe(l.f);Ce.a<Ce.c.c.length;)for(_e=z(Ee(Ce),7),ee=new xe(_e.e);ee.a<ee.c.c.length;)W=z(Ee(ee),12),W.a.b!=0&&(ce=z(zw(W.a),10),ce.a<O&&(q=O-ce.a,H=fi,R.c=ot(zt,At,1,0,4,1),O=ce.a),ce.a<=O&&(R.c[R.c.length]=W,W.a.b>1&&(H=qn(H,Wi(z(Wg(W.a,1),10).b-ce.b)))));else for(Ce=new xe(l.f);Ce.a<Ce.c.c.length;)for(_e=z(Ee(Ce),7),ee=new xe(_e.b);ee.a<ee.c.c.length;)W=z(Ee(ee),12),W.a.b!=0&&(pe=z(cm(W.a),10),pe.a>O&&(q=pe.a-O,H=fi,R.c=ot(zt,At,1,0,4,1),O=pe.a),pe.a>=O&&(R.c[R.c.length]=W,W.a.b>1&&(H=qn(H,Wi(z(Wg(W.a,W.a.b-2),10).b-pe.b)))));if(R.c.length!=0&&q>l.j.a/2&&H>l.j.b/2){for(be=new Br,Qn(be,l),An(be,(ht(),Yt)),be.i.a=l.j.a/2,$e=new Br,Qn($e,l),An($e,Qt),$e.i.a=l.j.a/2,$e.i.b=l.j.b,ee=new xe(R);ee.a<ee.c.c.length;)W=z(Ee(ee),12),_?(ae=z(sC(W.a),10),Re=W.a.b==0?Ca(W.d):z(zw(W.a),10),Re.b>=ae.b?Ir(W,$e):Ir(W,be)):(ae=z(s9(W.a),10),Re=W.a.b==0?Ca(W.c):z(cm(W.a),10),Re.b>=ae.b?gr(W,$e):gr(W,be)),fe=z(Se(W,(pt(),Gr)),44),fe&&jv(fe,ae,!0);l.i.a=O-l.j.a/2}}function RW(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge;for($e=new dt,qe=new dt,Ge=new dt,q=new xe(l);q.a<q.c.c.length;)O=z(Ee(q),75),O.k>50?$e.c[$e.c.length]=O:O.k>0?qe.c[qe.c.length]=O:Ge.c[Ge.c.length]=O;if(qe.c.length==1&&$e.c.length==0&&(_r($e,qe),qe.c=ot(zt,At,1,0,4,1)),$e.c.length!=0&&Ps(Dw(r.a),(da(),vu))&&Ps(Dw(r.a),(da(),Vs))?Qz(r,$e):_r(qe,$e),qe.c.length==0||Jz(r,qe),Ge.c.length!=0){if(_=Ow(r.a),_.c!=0)for(ce=new xe(Ge),ee=(tn(_),Wk(new OR(_).a));ce.a<ce.c.c.length;){for(O=z(Ee(ce),75);ce.a<ce.c.c.length&&O.a.a.Y()<2;)O=z(Ee(ce),75);O.a.a.Y()>1&&(Ce=z(sS(ee),60),Kg(O,Ce,!0),Fg(ce),jD(r.a,Ce))}for(pe=Ge.c.length,R=lY(r),be=new dt,H=pe/Dk(r.a).c|0,W=0;W<H;W++)_r(be,Dk(r.a));switch(_e=pe%Dk(r.a).c,_e>3&&(_r(be,(da(),da(),z6)),_e-=4),_e){case 3:xt(be,Jv(R));case 2:Re=wy(Jv(R));do Re=wy(Re);while(!Ps(Dw(r.a),Re));be.c[be.c.length]=Re,Re=_T(Jv(R));do Re=_T(Re);while(!Ps(Dw(r.a),Re));be.c[be.c.length]=Re;break;case 1:xt(be,Jv(R))}for(fe=new xe(be),ae=new xe(Ge);fe.a<fe.c.c.length&&ae.a<ae.c.c.length;)Kg(z(Ee(ae),75),z(Ee(fe),60),!0)}}function PW(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt;for(ce=l.c.c.length,r.a=ot(hi,wi,51,ce,0,2),r.b=ot(hi,wi,51,ce,0,2),r.k=ot(hi,wi,51,ce,0,2),ee=ot(Hr,zr,26,ce,12,1),H=ot(n1,d0,26,ce,13,1),r.c=ot(n1,d0,26,ce,13,1),r.d=ot(n1,d0,26,ce,13,1),$e=0,Je=0,pe=new nr(l.c,0);pe.b<pe.d.Y();)for(ae=(Kt(pe.b<pe.d.Y()),z(pe.d.sb(pe.c=pe.b++),16)),fe=pe.b-1,be=ae.a.c.length,r.a[fe]=ot(hi,Aa,9,be,0,1),r.k[fe]=ot(hi,Aa,9,be,0,1),r.b[fe]=ot(hi,Aa,9,be,0,1),ee[fe]=0,H[fe]=!1,qe=new nr(ae.a,0);qe.b<qe.d.Y();){for(Re=(Kt(qe.b<qe.d.Y()),z(qe.d.sb(qe.c=qe.b++),9)),r.b[fe][qe.b-1]=Re,Re.k=$e++,_e=z(Se(Re,(tt(),xf)),9),_e&&I2(r.g,_e,Re,null),Xe=new xe(Re.f);Xe.a<Xe.c.c.length;){for(Ge=z(Ee(Xe),7),Ge.k=Je++,q=new xe(Ge.e);q.a<q.c.c.length;)O=z(Ee(q),12),O.d.f.d==ae&&++ee[fe];Ge.g==(ht(),Pt)?Ge.e.c.length+Ge.b.c.length>1&&(r.c[fe]=!0):Ge.g==Ft&&Ge.e.c.length+Ge.b.c.length>1&&(r.d[fe]=!0)}Re.g==(Ht(),Kr)&&(++ee[fe],H[fe]=!0)}for(_=!0,Ce=!0,W=0;W<r.d.length-1;W++)R=r.c[W]||r.d[W+1],_=_&R,Ce=Ce&!R;r.j=ot(Eb,Iy,26,Je,12,1),gt=ot(Hr,zr,26,Je,12,1),_||(r.i=new JP(ee,H,gt),r.f=r.i),Ce||(r.e=new eD(ee,H,gt),r.f=r.e)}function v4(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt;for(r.d=new Wt(ya,ya),r.c=new Wt(Ii,Ii),pe=l.mb();pe.G();)for(ce=z(pe.H(),55),Ge=new xe(ce.b);Ge.a<Ge.c.c.length;)qe=z(Ee(Ge),9),r.d.a=qn(r.d.a,qe.i.a-qe.e.b),r.d.b=qn(r.d.b,qe.i.b-qe.e.d),r.c.a=St(r.c.a,qe.i.a+qe.j.a+qe.e.c),r.c.b=St(r.c.b,qe.i.b+qe.j.b+qe.e.a);for(W=new Zu,fe=l.mb();fe.G();)ce=z(fe.H(),55),R=kW(r,ce),xt(W.a,R),R.a=R.a|!z(Se(R.c,(tt(),Sh)),18).V();for(r.b=(G_(),lt=new de,lt.f=new R$(_),lt.b=MV(lt.f,W),lt),SV((_e=r.b,new gm,_e)),r.e=new Ni,r.a=r.b.f.e,H=new xe(W.a);H.a<H.c.c.length;)for(O=z(Ee(H),347),Xe=V9(r.b,O),fY(O.c,Xe.a,Xe.b),Re=new xe(O.c.b);Re.a<Re.c.c.length;)Ce=z(Ee(Re),9),Ce.g==(Ht(),yr)&&($e=cT(r,Ce.i,z(Se(Ce,(tt(),Ri)),32)),ur(Eu(Ce.i),$e));for(q=new xe(W.a);q.a<q.c.c.length;)for(O=z(Ee(q),347),ae=new xe(Vz(O));ae.a<ae.c.c.length;)for(ee=z(Ee(ae),12),mt=new Yw(ee.a),lm(mt,0,Ca(ee.c)),Un(mt,Ca(ee.d)),be=null,gt=zn(mt,0);gt.b!=gt.d.c;){if(Je=z($n(gt),10),!be){be=Je;continue}WO(be.a,Je.a)?(r.e.a=qn(r.e.a,be.a),r.a.a=St(r.a.a,be.a)):WO(be.b,Je.b)&&(r.e.b=qn(r.e.b,be.b),r.a.b=St(r.a.b,be.b)),be=Je}jw(r.e),ur(r.a,r.e)}function m4(r,l,_,R,O){var q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt;for(Ce=new Ta(l.b),Xe=new Ta(l.b),pe=new Ta(l.b),lt=new Ta(l.b),Re=new Ta(l.b),mt=zn(l,0);mt.b!=mt.d.c;)for(Je=z($n(mt),7),W=new xe(Je.e);W.a<W.c.c.length;)if(q=z(Ee(W),12),q.c.f==q.d.f){if(Je.g==q.d.g){lt.c[lt.c.length]=q;continue}else if(Je.g==(ht(),Yt)&&q.d.g==Qt){Re.c[Re.c.length]=q;continue}}for(ee=new xe(Re);ee.a<ee.c.c.length;)q=z(Ee(ee),12),kY(r,q,_,R,(ht(),Pt));for(H=new xe(lt);H.a<H.c.c.length;)q=z(Ee(H),12),Tt=new No(r),na(Tt,(Ht(),Kr)),et(Tt,(pt(),en),(Rr(),Zi)),et(Tt,(tt(),Jt),q),jt=new Br,et(jt,Jt,q.d),An(jt,(ht(),Ft)),Qn(jt,Tt),Gt=new Br,et(Gt,Jt,q.c),An(Gt,Pt),Qn(Gt,Tt),et(q.c,mu,Tt),et(q.d,mu,Tt),Ir(q,null),gr(q,null),_.c[_.c.length]=Tt,et(Tt,bp,nn(2));for(gt=zn(l,0);gt.b!=gt.d.c;)Je=z($n(gt),7),ae=Je.b.c.length>0,$e=Je.e.c.length>0,ae&&$e?pe.c[pe.c.length]=Je:ae?Ce.c[Ce.c.length]=Je:$e&&(Xe.c[Xe.c.length]=Je);for(_e=new xe(Ce);_e.a<_e.c.c.length;)be=z(Ee(_e),7),xt(O,NT(r,be,null,_));for(Ge=new xe(Xe);Ge.a<Ge.c.c.length;)qe=z(Ee(Ge),7),xt(O,NT(r,null,qe,_));for(fe=new xe(pe);fe.a<fe.c.c.length;)ce=z(Ee(fe),7),xt(O,NT(r,ce,ce,_))}function y4(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt;for(Xe=new qr(l.d),ee=new dt,Ge=new xe(l.b);Ge.a<Ge.c.c.length;)if($e=z(Ee(Ge),9),be=z(Bn(r.j,$e),69),be){for(_y(r,$e,be,Xe),gt=new xe($e.f);gt.a<gt.c.c.length;)if(Je=z(Ee(gt),7),_e=z(Bn(r.n,Je),69),_e&&(_y(r,Je,_e,$x),zq(_e,(pt(),A0),new jl(V7(Je.g)))),Ot(Se($e,(pt(),T0)))!==Ot((kd(),Tx)))for(Re=new xe(Je.c);Re.a<Re.c.c.length;)Ce=z(Ee(Re),33),pe=z(Bn(r.f,Ce),69),_y(r,Ce,pe,$x);if(z(Se($e,(pt(),to)),86).Y()!=0)for(Re=new xe($e.c);Re.a<Re.c.c.length;)Ce=z(Ee(Re),33),pe=z(Bn(r.f,Ce),69),_y(r,Ce,pe,$x);for(W=wn(pr($e));vn(W);)q=z(cn(W),12),Sd(q.d.f,$e)||(ee.c[ee.c.length]=q)}if(mt=z(Se(l,(tt(),kf)),9),mt)for(W=wn(pr(mt));vn(W);)q=z(cn(W),12),Sd(q.d.f,mt)&&(ee.c[ee.c.length]=q);for(H=new xe(ee);H.a<H.c.c.length;)for(q=z(Ee(H),12),fe=z(Bn(r.b,q),69),eW(r,q,fe,Xe),Re=new xe(q.b);Re.a<Re.c.c.length;)Ce=z(Ee(Re),33),pe=z(Bn(r.f,Ce),69),_y(r,Ce,pe,Xe);for(_=(R=z(Se(l,Xs),15).a,new Wt(l.e.a+l.a.b+l.a.c+2*R,l.e.b+l.a.d+l.a.a+2*R)),ce=z(Se(l,kf),9),ce&&(ce.j.a=_.a,ce.j.b=_.b),ae=z(Se(l,rL),69),$o(r,ae,U2,_.a),$o(r,ae,V2,_.b),qe=new xe(l.b);qe.a<qe.c.c.length;)$e=z(Ee(qe),9),O=z(Se($e,Ef),55),O&&y4(r,O)}function DW(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt,Vt,Xt;for(Gt=new qi,lt=new qi,$e=-1,ee=new xe(r);ee.a<ee.c.c.length;){for(H=z(Ee(ee),77),H.i=$e--,fe=0,Je=0,q=new xe(H.j);q.a<q.c.c.length;)R=z(Ee(q),117),Je+=R.c;for(O=new xe(H.d);O.a<O.c.c.length;)R=z(Ee(O),117),fe+=R.c;H.e=fe,H.k=Je,Je==0?ci(lt,H,lt.c.b,lt.c):fe==0&&ci(Gt,H,Gt.c.b,Gt.c)}for(Xt=new r_((Is(),r)),pe=r.c.length,Re=pe+1,qe=pe-1,_e=new dt;Xt.a.Y()!=0;){for(;lt.b!=0;)mt=(Kt(lt.b!=0),z(Cu(lt,lt.a.a),77)),Xt.a.eb(mt)!=null,mt.i=qe--,wT(mt,Gt,lt);for(;Gt.b!=0;)Tt=(Kt(Gt.b!=0),z(Cu(Gt,Gt.a.a),77)),Xt.a.eb(Tt)!=null,Tt.i=Re++,wT(Tt,Gt,lt);for(Ce=Mu,ae=(Ge=new Dn(Xt.a).a.bb().mb(),new Fn(Ge));ae.a.G();)H=(ce=z(ae.a.H(),21),z(ce.yb(),77)),Xe=H.k-H.e,Xe>=Ce&&(Xe>Ce&&(_e.c=ot(zt,At,1,0,4,1),Ce=Xe),_e.c[_e.c.length]=H);_e.c.length!=0&&(be=z($t(_e,GS(l,_e.c.length)),77),Xt.a.eb(be)!=null,be.i=Re++,wT(be,Gt,lt),_e.c=ot(zt,At,1,0,4,1))}for(gt=r.c.length+1,W=new xe(r);W.a<W.c.c.length;)H=z(Ee(W),77),H.i<pe&&(H.i+=gt);for(jt=new xe(r);jt.a<jt.c.c.length;)for(Tt=z(Ee(jt),77),_=new nr(Tt.j,0);_.b<_.d.Y();)R=(Kt(_.b<_.d.Y()),z(_.d.sb(_.c=_.b++),117)),Vt=R.b,Tt.i>Vt.i&&(ls(_),gi(Vt.d,R),R.c>0&&(R.a=Vt,xt(Vt.j,R),R.b=Tt,xt(Tt.d,R)))}function OW(r){var l,_,R;for(R=new Cm(new Ll(r.c).a);sm(R.a);)switch(_=(R.b=Wl(R.a),new em(R.c,R.b)),l=z(_.b.b[_.a.e],62),z(_.a,67).e){case 0:l.d=0,l.e=-(l.b+r.d);break;case 1:l.d=(r.e.e.j.a-l.c)/2,l.e=-(l.b+r.d);break;case 2:l.d=r.e.e.j.a-l.c,l.e=-(l.b+r.d);break;case 3:l.d=0,l.e=r.e.e.j.b+r.d;break;case 4:l.d=(r.e.e.j.a-l.c)/2,l.e=r.e.e.j.b+r.d;break;case 5:l.d=r.e.e.j.a-l.c,l.e=r.e.e.j.b+r.d;break;case 6:l.d=-(l.c+r.d),l.e=0;break;case 7:l.d=-(l.c+r.d),l.e=(r.e.e.j.b-l.b)/2;break;case 8:l.d=-(l.c+r.d),l.e=r.e.e.j.b-l.b;break;case 9:l.d=r.e.e.j.a+r.d,l.e=0;break;case 10:l.d=r.e.e.j.a+r.d,l.e=(r.e.e.j.b-l.b)/2;break;case 11:l.d=r.e.e.j.a+r.d,l.e=r.e.e.j.b-l.b;break;case 12:l.d=r.q.b+r.d,l.e=r.q.d+r.d;break;case 13:l.d=(r.e.e.j.a-l.c)/2,l.e=r.q.d+r.d;break;case 14:l.d=r.e.e.j.a-r.q.c-l.c-r.d,l.e=r.q.d+r.d;break;case 15:l.d=r.q.b+r.d,l.e=(r.e.e.j.b-l.b)/2;break;case 16:l.d=(r.e.e.j.a-l.c)/2,l.e=(r.e.e.j.b-l.b)/2;break;case 17:l.d=r.e.e.j.a-r.q.c-l.c-r.d,l.e=(r.e.e.j.b-l.b)/2;break;case 18:l.d=r.q.b+r.d,l.e=r.e.e.j.b-r.q.a-l.b-r.d;break;case 19:l.d=(r.e.e.j.a-l.c)/2,l.e=r.e.e.j.b-r.q.a-l.b-r.d;break;case 20:l.d=r.e.e.j.a-r.q.c-l.c-r.d,l.e=r.e.e.j.b-r.q.a-l.b-r.d}}function $W(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt,Vt,Xt,yn;for(Gt=new qi,lt=new qi,_e=-1,qe=new xe(r);qe.a<qe.c.c.length;){for(Re=z(Ee(qe),80),Re.d=_e--,ee=0,Je=0,q=new xe(Re.e);q.a<q.c.c.length;)R=z(Ee(q),118),Je+=R.c;for(O=new xe(Re.b);O.a<O.c.c.length;)R=z(Ee(O),118),ee+=R.c;Re.c=ee,Re.f=Je,Je==0?ci(lt,Re,lt.c.b,lt.c):ee==0&&ci(Gt,Re,Gt.c.b,Gt.c)}for(Xt=(yn=new uk,wS(yn,r),yn),ae=r.c.length,Ce=ae-1,be=ae+1,fe=new dt;Xt.a.c!=0;){for(;lt.b!=0;)mt=(Kt(lt.b!=0),z(Cu(lt,lt.a.a),80)),Tv(Xt.a,mt)!=null,mt.d=Ce--,bT(mt,Gt,lt);for(;Gt.b!=0;)Tt=(Kt(Gt.b!=0),z(Cu(Gt,Gt.a.a),80)),Tv(Xt.a,Tt)!=null,Tt.d=be++,bT(Tt,Gt,lt);for(pe=Mu,Ge=(W=new Ev(new _v(new Yu(Xt.a).a).b),new vg(W));bw(Ge.a.a);)Re=(H=Uw(Ge.a),z(H.yb(),80)),Xe=Re.f-Re.c,Xe>=pe&&(Xe>pe&&(fe.c=ot(zt,At,1,0,4,1),pe=Xe),fe.c[fe.c.length]=Re);fe.c.length!=0&&(ce=z($t(fe,GS(l,fe.c.length)),80),Tv(Xt.a,ce)!=null,ce.d=be++,bT(ce,Gt,lt),fe.c=ot(zt,At,1,0,4,1))}for(gt=r.c.length+1,$e=new xe(r);$e.a<$e.c.c.length;)Re=z(Ee($e),80),Re.d<ae&&(Re.d+=gt);for(jt=new xe(r);jt.a<jt.c.c.length;)for(Tt=z(Ee(jt),80),_=new nr(Tt.e,0);_.b<_.d.Y();)R=(Kt(_.b<_.d.Y()),z(_.d.sb(_.c=_.b++),118)),Vt=R.b,Tt.d>Vt.d&&(ls(_),gi(Vt.b,R),R.c>0&&(R.a=Vt,xt(Vt.e,R),R.b=Tt,xt(Tt.b,R)))}function NW(r){switch(r.e){case 14:return new it;case 37:return new wt;case 8:return new oI;case 30:return new sI;case 38:return new ft;case 3:return new Dt;case 47:case 1:return new zh((Km(),yL));case 4:return new ut;case 49:return new _t;case 23:return new ns;case 13:return new Bt;case 34:return new dn;case 40:return new Zt;case 35:return new bt;case 44:return new HR;case 28:return new Nt;case 39:return new It;case 27:return new Lt;case 6:return new Pn;case 31:return new ar;case 9:return new _a;case 43:return new Cr;case 17:return new gn;case 18:return new Yr;case 29:return new El;case 11:return new kc;case 12:return new Ei;case 36:return new si;case 46:case 0:return new zh((Km(),mL));case 41:return new ta;case 15:return new Ks;case 33:return new bu;case 42:return new wu;case 22:return new Tf;case 19:return new fr;case 10:return new ca;case 7:return new po;case 24:return new Za;case 21:return new Di;case 16:return new es;case 45:return new Ih;case 26:return new tg;case 20:return new ng;case 25:return new Rh;case 5:return new Af;case 32:return new Dh;case 48:case 2:return new zh((Km(),vL));default:throw new Gn("No implementation is available for the layout processor "+(r.d!=null?r.d:""+r.e))}}function FW(r){var l,_,R,O,q,H,W;if(_=r.e.e.j,r.b?l=z(Jr(r.e,(pt(),_0)),65):l=new Ds(r.k,r.k,r.k,r.k),O=_.a,(r.b||r.g[1]!=(Vc(),gu))&&(O-=l.b+l.c),q=_.a,(r.b||r.g[3]!=(Vc(),gu))&&(q-=l.b+l.c),H=_.b,(r.b||r.g[4]!=(Vc(),gu))&&(H-=l.d+l.a),R=_.b,(r.b||r.g[2]!=(Vc(),gu))&&(R-=l.d+l.a),Qh(r,(ht(),Yt))==(Vc(),gu))r.j[1]=(O-Jh(r,Yt))/nw(r,Yt),r.f=r.b?l.b+(ed(r,Yt)==1?r.j[1]:0):r.j[1];else switch(r.j[1]=r.k,W=Jh(r,Yt)+r.j[1]*(ed(r,Yt)-1),Qh(r,Yt).e){case 2:r.f=l.b;break;case 3:r.f=l.b+(O-W)/2;break;case 4:r.f=_.a-W-l.c}if(Qh(r,Qt)==gu)r.j[3]=(q-Jh(r,Qt))/nw(r,Qt),r.r=_.a-(r.b?l.c+(ed(r,Qt)==1?r.j[3]:0):r.j[3]);else switch(r.j[3]=r.k,W=Jh(r,Qt)+r.j[3]*(ed(r,Qt)-1),Qh(r,Qt).e){case 2:r.r=W+l.b;break;case 3:r.r=_.a-(q-W)/2-l.c;break;case 4:r.r=_.a-l.c}if(Qh(r,Ft)==gu)r.j[4]=(H-Jh(r,Ft))/nw(r,Ft),r.s=_.b-(r.b?l.a+(ed(r,Ft)==1?r.j[4]:0):r.j[4]);else switch(r.j[4]=r.k,W=Jh(r,Ft)+r.j[4]*(ed(r,Ft)-1),Qh(r,Ft).e){case 2:r.s=W+l.d;break;case 3:r.s=_.b-(H-W)/2-l.a;break;case 4:r.s=_.b-l.a}if(Qh(r,Pt)==gu)r.j[2]=(R-Jh(r,Pt))/nw(r,Pt),r.a=r.b?l.d+(ed(r,Pt)==1?r.j[2]:0):r.j[2];else switch(r.j[2]=r.k,W=Jh(r,Pt)+r.j[2]*(ed(r,Pt)-1),Qh(r,Pt).e){case 2:r.a=l.d;break;case 3:r.a=l.d+(R-W)/2;break;case 4:r.a=_.b-W-l.a}}function b4(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt,Vt,Xt,yn;for(Vt=0,H=0,fe=l[0].d,lt=_[0].d,_e=0,Re=_.length;_e<Re;++_e)if(pe=_[_e],la(z(Se(pe,(pt(),en)),28))){for(qe=0,Je=new xe(pe.f);Je.a<Je.c.c.length&&(Xe=z(Ee(Je),7),Xe.g==(ht(),Yt));)for(q=new xe(Xe.b);q.a<q.c.c.length;)if(O=z(Ee(q),12),O.c.f.d==fe){++qe;break}for(Ge=0,mt=new nr(pe.f,pe.f.c.length);mt.b>0;){for(Xe=(Kt(mt.b>0),z(mt.a.sb(mt.c=--mt.b),7)),gt=0,q=new xe(Xe.b);q.a<q.c.c.length;)O=z(Ee(q),12),O.c.f.d==fe&&++gt;gt>0&&(Xe.g==(ht(),Yt)?(r.a[Xe.k]=Vt,++Vt):(r.a[Xe.k]=Vt+qe+Ge,++Ge),H+=gt)}Vt+=Ge}else{for($e=0,Je=new xe(pe.f);Je.a<Je.c.c.length;){for(Xe=z(Ee(Je),7),q=new xe(Xe.b);q.a<q.c.c.length;)O=z(Ee(q),12),O.c.f.d==fe&&++$e;r.a[Xe.k]=Vt}$e>0&&(++Vt,H+=$e)}for(Tt=ot(Hr,zr,26,H,12,1),ee=0,be=0,Ce=l.length;be<Ce;++be)if(pe=l[be],la(z(Se(pe,(pt(),en)),28)))for(Je=new xe(pe.f);Je.a<Je.c.c.length;)for(Xe=z(Ee(Je),7),jt=ee,q=new xe(Xe.e);q.a<q.c.c.length;)O=z(Ee(q),12),Gt=O.d,Gt.f.d==lt&&O$(Tt,jt,ee++,r.a[Gt.k]);else for(jt=ee,Je=new xe(pe.f);Je.a<Je.c.c.length;)for(Xe=z(Ee(Je),7),q=new xe(Xe.e);q.a<q.c.c.length;)O=z(Ee(q),12),Gt=O.d,Gt.f.d==lt&&O$(Tt,jt,ee++,r.a[Gt.k]);for(W=1;W<Vt;)W*=2;for(yn=2*W-1,W-=1,Xt=ot(Hr,zr,26,yn,12,1),R=0,ce=0;ce<H;ce++)for(ae=Tt[ce]+W,++Xt[ae];ae>0;)ae%2>0&&(R+=Xt[ae+1]),ae=(ae-1)/2|0,++Xt[ae];return R}function w4(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt,Vt,Xt,yn,wr;for(xn(l,"Compound graph postprocessor",1),_=bn(ct(_n(Se(r,(Ln(),OE))))),W=z(Se(r,(tt(),LM)),144),fe=new $i,gt=W.W().mb();gt.G();){for(Je=z(gt.H(),12),H=new Nc(W.U(Je)),Oo(H,new xs(r)),Gt=ez((mr(0,H.c.length),z(H.c[0],114))),Xt=v$(z($t(H,H.c.length-1),114)),ku(Je.a),Tt=Gt.f,Sd(Xt.f,Tt)?lt=z(Se(Tt,Ef),55):lt=Ea(Tt),_e=z(Se(Je,(pt(),Gr)),44),rD(H,BB)?_e?ku(_e):(_e=new Ci,et(Je,Gr,_e)):_e&&et(Je,Gr,null),Re=null,q=new xe(H);q.a<q.c.c.length;){for(O=z(Ee(q),114),Xe=new Ni,gT(Xe,O.a,lt),$e=O.b,R=new Ci,U_(R,0,$e.a),Gc(R,Xe),jt=new qr(Ca($e.c)),Vt=new qr(Ca($e.d)),jt.a+=Xe.a,jt.b+=Xe.b,Vt.a+=Xe.a,Vt.b+=Xe.b,Re&&(R.b==0?Ge=Vt:Ge=(Kt(R.b!=0),z(R.a.a.c,10)),yn=Wi(Re.a-Ge.a)>cc,wr=Wi(Re.b-Ge.b)>cc,(!_&&yn&&wr||_&&(yn||wr))&&Un(Je.a,jt)),Ja(Je.a,R),R.b==0?Re=jt:Re=(Kt(R.b!=0),z(R.c.b.c,10)),qe=z(Se($e,Gr),44),qe&&(be=new Ci,U_(be,0,qe),Gc(be,Xe),Ja(_e,be)),v$(O)==Xt&&(Ea(Xt.f)!=O.a&&(Xe=new Ni,gT(Xe,Ea(Xt.f),lt)),et(Je,PE,Xe)),Ce=new nr($e.b,0);Ce.b<Ce.d.Y();)ee=(Kt(Ce.b<Ce.d.Y()),z(Ce.d.sb(Ce.c=Ce.b++),33)),Ot(Se(ee,OM))===Ot(Je)&&(gT(ee.i,Ea($e.c.f),lt),ls(Ce),xt(Je.b,ee));fe.a.db($e,fe)}Ir(Je,Gt),gr(Je,Xt)}for(ce=(mt=new Dn(fe.a).a.bb().mb(),new Fn(mt));ce.a.G();)ae=(pe=z(ce.a.H(),21),z(pe.yb(),12)),Ir(ae,null),gr(ae,null);pn(l)}function BW(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt,Vt,Xt,yn;if(Tt=z(Se(r,(pt(),en)),28),Tt!=(Rr(),ys)&&Tt!=rl){for(Ce=r.c,_e=Ce.c.length,fe=new Ta((aa(_e+2,rA),xd(mi(mi(5,_e+2),(_e+2)/10|0)))),Re=new Ta((aa(_e+2,rA),xd(mi(mi(5,_e+2),(_e+2)/10|0)))),xt(fe,new kn),xt(fe,new kn),xt(Re,new dt),xt(Re,new dt),mt=new $i,l=0;l<_e;l++)for(_=(mr(l,Ce.c.length),z(Ce.c[l],16)),jt=(mr(l,fe.c.length),z(fe.c[l],57)),$e=(Ar(),new kn),fe.c[fe.c.length]=$e,Vt=(mr(l,Re.c.length),z(Re.c[l],20)),Ge=new dt,Re.c[Re.c.length]=Ge,O=new xe(_.a);O.a<O.c.c.length;){for(R=z(Ee(O),9),ae=wn(yi(R));vn(ae);)W=z(cn(ae),12),Xt=W.c.f,sN(Xt)&&(mt.a.db(Xt,mt),Gt=z(jt.cb(Se(Xt,(tt(),Jt))),9),Gt||(Gt=k3(r,Xt),jt.db(Se(Xt,Jt),Gt),Vt.ib(Gt)),Ir(W,z($t(Gt.f,1),7)));for(ee=wn(pr(R));vn(ee);)W=z(cn(ee),12),yn=W.d.f,sN(yn)&&(mt.a.db(yn,mt),qe=z(Bn($e,Se(yn,(tt(),Jt))),9),qe||(qe=k3(r,yn),Kn($e,Se(yn,Jt),qe),Ge.c[Ge.c.length]=qe),gr(W,z($t(qe.f,0),7)))}for(pe=0;pe<Re.c.length;pe++)if(Xe=(mr(pe,Re.c.length),z(Re.c[pe],20)),!Xe.V())for(pe==0?(be=new Hl(r),Zl(0,Ce.c.length),pv(Ce.c,0,be)):pe==fe.c.length-1?(be=new Hl(r),Ce.c[Ce.c.length]=be):be=(mr(pe-1,Ce.c.length),z(Ce.c[pe-1],16)),H=Xe.mb();H.G();)q=z(H.H(),9),Ti(q,be);for(gt=(lt=new Dn(mt.a).a.bb().mb(),new Fn(lt));gt.a.G();)Je=(ce=z(gt.a.H(),21),z(ce.yb(),9)),Ti(Je,null)}}function qW(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt,Vt,Xt,yn,wr,Er;for(yn=new dt,_e=new xe(l.c);_e.a<_e.c.c.length;)for(pe=z(Ee(_e),16),Je=new xe(pe.a);Je.a<Je.c.c.length;){for(Xe=z(Ee(Je),9),Xe.k=-1,fe=Mu,lt=Mu,jt=new xe(Xe.f);jt.a<jt.c.c.length;){for(Tt=z(Ee(jt),7),O=new xe(Tt.b);O.a<O.c.c.length;)_=z(Ee(O),12),Gt=z(Se(_,(tt(),Go)),24).a,fe=fe>Gt?fe:Gt;for(R=new xe(Tt.e);R.a<R.c.c.length;)_=z(Ee(R),12),Gt=z(Se(_,(tt(),Go)),24).a,lt=lt>Gt?lt:Gt}et(Xe,ib,nn(fe)),et(Xe,ab,nn(lt))}for($e=0,be=new xe(l.c);be.a<be.c.c.length;)for(pe=z(Ee(be),16),Je=new xe(pe.a);Je.a<Je.c.c.length;)Xe=z(Ee(Je),9),Xe.k<0&&(Xt=new M1,Xt.b=$e++,$T(r,Xe,Xt),yn.c[yn.c.length]=Xt);for(mt=Nl(yn.c.length),ce=Nl(yn.c.length),H=0;H<yn.c.length;H++)xt(mt,new dt),xt(ce,nn(0));for(rW(l,yn,mt,ce),wr=z(jr(yn,ot(x6,rF,111,yn.c.length,0,1)),625),gt=z(jr(mt,ot(XW,{3:1,5:1,6:1,672:1},20,mt.c.length,0,1)),672),ae=ot(Hr,zr,26,ce.c.length,12,1),W=0;W<ae.length;W++)ae[W]=(mr(W,ce.c.length),z(ce.c[W],24)).a;for(qe=0,Ge=new dt,ee=0;ee<wr.length;ee++)ae[ee]==0&&xt(Ge,wr[ee]);for(Re=ot(Hr,zr,26,wr.length,12,1);Ge.c.length!=0;)for(Xt=z(eh(Ge,0),111),Re[Xt.b]=qe++;!gt[Xt.b].V();)Er=z(gt[Xt.b].vb(0),111),--ae[Er.b],ae[Er.b]==0&&(Ge.c[Ge.c.length]=Er);for(r.a=ot(x6,rF,111,wr.length,0,1),q=0;q<wr.length;q++)for(Ce=wr[q],Vt=Re[q],r.a[Vt]=Ce,Ce.b=Vt,Je=new xe(Ce.f);Je.a<Je.c.c.length;)Xe=z(Ee(Je),9),Xe.k=Vt;return r.a}function jW(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt;for(xn(l,"Fixed Layout",1),ee=z(Se(r,(pt(),ph)),122),Ce=0,Re=0,Ge=new xe(r.b);Ge.a<Ge.c.c.length;){for($e=z(Ee(Ge),9),lt=z(Se($e,zd),10),lt&&($e.i.a=lt.a,$e.i.b=lt.b,z(Se($e,nl),86).kb((ac(),R0))&&(Tt=z(Se($e,hp),15).a,ae=z(Se($e,fp),15).a,Tt>0&&ae>0&&zT($e,new Wt(Tt,ae),!0))),Ce=St(Ce,$e.i.a+$e.j.a),Re=St(Re,$e.i.b+$e.j.b),be=new xe($e.c);be.a<be.c.c.length;)fe=z(Ee(be),33),lt=z(Se(fe,zd),10),lt&&(fe.i.a=lt.a,fe.i.b=lt.b),Ce=St(Ce,$e.i.a+fe.i.a+fe.j.a),Re=St(Re,$e.i.b+fe.i.b+fe.j.b);for(Je=new xe($e.f);Je.a<Je.c.c.length;)for(Xe=z(Ee(Je),7),lt=z(Se(Xe,zd),10),lt&&(Xe.i.a=lt.a,Xe.i.b=lt.b),gt=$e.i.a+Xe.i.a,mt=$e.i.b+Xe.i.b,Ce=St(Ce,gt+Xe.j.a),Re=St(Re,mt+Xe.j.b),pe=new xe(Xe.c);pe.a<pe.c.c.length;)fe=z(Ee(pe),33),lt=z(Se(fe,zd),10),lt&&(fe.i.a=lt.a,fe.i.b=lt.b),Ce=St(Ce,gt+fe.i.a+fe.j.a),Re=St(Re,mt+fe.i.b+fe.j.b);for(W=wn(pr($e));vn(W);)q=z(cn(W),12),_e=n4(q),Ce=St(Ce,_e.a),Re=St(Re,_e.b);for(H=wn(yi($e));vn(H);)q=z(cn(H),12),Ot(Se(q.c.f,(tt(),Ef)))!==Ot(r)&&(_e=n4(q),Ce=St(Ce,_e.a),Re=St(Re,_e.b))}if(ee==(rc(),gh))for(qe=new xe(r.b);qe.a<qe.c.c.length;)for($e=z(Ee(qe),9),H=wn(pr($e));vn(H);)q=z(cn(H),12),ce=fW(q),ce.b==0?et(q,Gr,null):et(q,Gr,ce);r.e.a=Ce,r.e.b=Re,et(r,nl,(ac(),R=z(Na(dp),11),new Xi(R,z(xa(R,R.length),11),0))),O=z(Se(r,(tt(),kf)),9),O&&et(O,nl,(_=z(Na(dp),11),new Xi(_,z(xa(_,_.length),11),0))),pn(l)}function zW(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt,Vt;if(!la(z(Se(l,(pt(),en)),28))){if(l.f.c.length>1){mt=ot(gX,wi,15,r.a.length,0,1),ae=Nl(r.a.length),Ce=0,_e=0,_=2*l.d.a.c.length+1;e:for(gt=new xe(l.f);gt.a<gt.c.c.length;){if(Je=z(Ee(gt),7),$e=Je.g==(ht(),Yt)||Je.g==Qt,Vt=0,$e){if(lt=z(Se(Je,(tt(),mu)),9),!lt)continue;for(pe=!1,Xe=!1,jt=new xe(lt.f);jt.a<jt.c.c.length;)Tt=z(Ee(jt),7),Ot(Se(Tt,Jt))===Ot(Je)&&(Tt.e.c.length==0?Tt.b.c.length==0||(pe=!0):Xe=!0);pe&&!Xe?Vt=Je.g==Yt?-(lt.d?Sa(lt.d.a,lt,0):-1):_-(lt.d?Sa(lt.d.a,lt,0):-1):Xe&&!pe?Vt=(lt.d?Sa(lt.d.a,lt,0):-1)+1:pe&&Xe&&(Vt=Je.g==Yt?0:_/2)}else{for(Ge=new xe(Je.e);Ge.a<Ge.c.c.length;)if(qe=z(Ee(Ge),12),O=qe.d,O.f.d==l.d){ae.c[ae.c.length]=Je;continue e}else Vt+=r.a[O.k];for(fe=new xe(Je.b);fe.a<fe.c.c.length;)if(ce=z(Ee(fe),12),O=ce.c,O.f.d==l.d){ae.c[ae.c.length]=Je;continue e}else Vt-=r.a[O.k]}Je.b.c.length+Je.e.c.length>0?(mt[Je.k]=new Nn(Vt/(Je.b.c.length+Je.e.c.length)),Ce=a7(Ce,mt[Je.k].a),_e=EI(_e,mt[Je.k].a)):$e&&(mt[Je.k]=new Nn(Vt))}for(Re=(l.d?Sa(l.d.a,l,0):-1)+1,be=l.d.a.c.length+1,ee=new xe(ae);ee.a<ee.c.c.length;){for(W=z(Ee(ee),7),Vt=0,H=0,q=wn(yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[new Pf(W),new Cl(W)]))))));vn(q);)O=z(cn(q),7),O.f.d==l.d&&(Vt+=kP(O.f)+1,++H);R=Vt/H,Gt=W.g,Gt==(ht(),Pt)?R<Re?mt[W.k]=new Nn(Ce-R):mt[W.k]=new Nn(_e+(be-R)):Gt==Ft&&(R<Re?mt[W.k]=new Nn(_e+R):mt[W.k]=new Nn(Ce-(be-R)))}Oo(l.f,new h1(mt))}et(l,en,(Rr(),Gd))}}function GW(r){var l,_,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt;for(lt=new dt,r.a.b.c=ot(zt,At,1,0,4,1),Xe=(Ar(),new kn),$e=new xe(r.d.c);$e.a<$e.c.c.length;)for(Ce=z(Ee($e),16),Ge=new xe(Ce.a);Ge.a<Ge.c.c.length;){if(qe=z(Ee(Ge),9),bn(ct(_n(Se(qe,(pt(),lp)))))&&!Lv(Xv(qe))){W=z(Om(Xv(qe)),12),Je=W.c.f,Je==qe&&(Je=W.d.f),gt=new ui(Je,Qu(Ro(qe.i),Je.i)),Kn(r.b,qe,gt);continue}q=new S5(qe,r.d),xt(r.a.b,q),eo(Xe.d,qe,q)}for(Re=new xe(r.d.c);Re.a<Re.c.c.length;)for(Ce=z(Ee(Re),16),Ge=new xe(Ce.a);Ge.a<Ge.c.c.length;){for(qe=z(Ee(Ge),9),q=z(ra(ia(Xe.d,qe)),25),ce=wn(pr(qe));vn(ce);)if(ee=z(cn(ce),12),R=zn(ee.a,0),fe=!0,_e=null,R.b!=R.d.c){for(l=z($n(R),10),ee.c.g==(ht(),Yt)&&(Tt=new e0(l,new Wt(l.a,q.j.e),q,ee),Tt.c=!0,lt.c[lt.c.length]=Tt),ee.c.g==Qt&&(Tt=new e0(l,new Wt(l.a,q.j.e+q.j.b),q,ee),Tt.d=!0,lt.c[lt.c.length]=Tt);R.b!=R.d.c;)_=z($n(R),10),eS(l.b,_.b)||(_e=new e0(l,_,null,ee),lt.c[lt.c.length]=_e,fe&&(fe=!1,_.b<q.j.e?_e.c=!0:_.b>q.j.e+q.j.b?_e.d=!0:(_e.d=!0,_e.c=!0))),R.b!=R.d.c&&(l=_);_e&&(H=z(Bn(Xe,ee.d.f),25),l.b<H.j.e?_e.c=!0:l.b>H.j.e+H.j.b?_e.d=!0:(_e.d=!0,_e.c=!0))}for(ae=wn(yi(qe));vn(ae);)ee=z(cn(ae),12),ee.a.b!=0&&(l=z(cm(ee.a),10),ee.d.g==(ht(),Yt)&&(Tt=new e0(l,new Wt(l.a,q.j.e),q,ee),Tt.c=!0,lt.c[lt.c.length]=Tt),ee.d.g==Qt&&(Tt=new e0(l,new Wt(l.a,q.j.e+q.j.b),q,ee),Tt.d=!0,lt.c[lt.c.length]=Tt))}if(lt.c.length!=0){for(jn(),Oo(lt,null),be=(mr(0,lt.c.length),z(lt.c[0],142)),O=new dT(be,r.d),pe=1;pe<lt.c.length;pe++)mt=(mr(pe,lt.c.length),z(lt.c[pe],142)),eS(O.j.d,mt.j)&&!(FS(O.j.e+O.j.b,mt.k)||FS(mt.n,O.j.e))?Z5(O,mt):(xt(r.a.b,O),O=new dT(mt,r.d));xt(r.a.b,O)}lt.c=ot(zt,At,1,0,4,1),UU(r)}function HT(r,l,_,R,O,q){var H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt,Vt,Xt,yn,wr,Er,Pa,Xa;for(W=z($t(r.d.c.c,R),16),Er=new $i,_e=new $i,be=0;be<W.a.c.length;++be)qe=z($t(W.a,be),9),be<_?(jt=Er.a.db(qe,Er),jt==null):be>_&&(Tt=_e.a.db(qe,_e),Tt==null);for(Pa=new $i,Ce=new $i,Xe=(Vt=new Dn(Er.a).a.bb().mb(),new Fn(Vt));Xe.a.G();)for(qe=(fe=z(Xe.a.H(),21),z(fe.yb(),9)),H=l==1?pr(qe):yi(qe),ae=($r(),new Ls(Ms(tu(H.a,new I))));vn(ae);)ee=z(cn(ae),12),Ka(qe.d)!=Ka(ee.d.f.d)&&lr(Pa,ee.d.f);for(Je=(Xt=new Dn(_e.a).a.bb().mb(),new Fn(Xt));Je.a.G();)for(qe=(fe=z(Je.a.H(),21),z(fe.yb(),9)),H=l==1?pr(qe):yi(qe),ae=($r(),new Ls(Ms(tu(H.a,new I))));vn(ae);)ee=z(cn(ae),12),Ka(qe.d)!=Ka(ee.d.f.d)&&lr(Ce,ee.d.f);for(jB&&Yf(),lt=z($t(r.d.c.c,R+(l==1?1:-1)),16),Re=Mu,$e=fi,pe=0;pe<lt.a.c.length;pe++)qe=z($t(lt.a,pe),9),Pa.a.R(qe)?Re=Re>pe?Re:pe:Ce.a.R(qe)&&($e=$e<pe?$e:pe);if(Re<$e){for(gt=(yn=new Dn(Pa.a).a.bb().mb(),new Fn(yn));gt.a.G();){for(qe=(fe=z(gt.a.H(),21),z(fe.yb(),9)),ce=wn(pr(qe));vn(ce);)if(ee=z(cn(ce),12),Ka(qe.d)==Ka(ee.d.f.d))return null;for(ae=wn(yi(qe));vn(ae);)if(ee=z(cn(ae),12),Ka(qe.d)==Ka(ee.c.f.d))return null}for(mt=(Gt=new Dn(Ce.a).a.bb().mb(),new Fn(Gt));mt.a.G();){for(qe=(fe=z(mt.a.H(),21),z(fe.yb(),9)),ce=wn(pr(qe));vn(ce);)if(ee=z(cn(ce),12),Ka(qe.d)==Ka(ee.d.f.d))return null;for(ae=wn(yi(qe));vn(ae);)if(ee=z(cn(ae),12),Ka(qe.d)==Ka(ee.c.f.d))return null}for(Er.a.Y()==0?Xa=0:_e.a.Y()==0?Xa=lt.a.c.length:Xa=Re+1,Ge=new xe(W.a);Ge.a<Ge.c.c.length;)if(qe=z(Ee(Ge),9),qe.g==(Ht(),Kr))return null;return q==1?zm(Ze(Ke(ax,1),wi,24,0,[nn(Xa)])):l==1&&R==O-2||l==0&&R==1?zm(Ze(Ke(ax,1),wi,24,0,[nn(Xa)])):(wr=HT(r,l,Xa,R+(l==1?1:-1),O,q-1),wr&&l==1&&wr.rb(0,nn(Xa)),wr)}return null}function HW(r,l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge;if(oT(l),be=(pt(),S0).b,!(be in l.a&&kr(l,be).ic().a)){if(ee=kr(l,"source"),ae=kr(l,"sourcePort"),ce=kr(l,"target"),fe=kr(l,"targetPort"),ee){if(!ee.lc())throw new nu("Invalid format of an edge's 'source' property. It must be a string.",ee,l)}else throw new nu("Edges must contain a 'source' property.",null,l);if(ce){if(!ce.lc())throw new nu("Invalid format of an edge's 'target' property. It must be a string.",ce,l)}else throw new nu("Edges must contain a 'target' property.",null,l);Re=null,qe=null;try{Ce=z(Pm(r.i,ee.lc().a),9),ae&&ae.lc()&&(Re=z(Pm(r.k,ae.lc().a),7)),$e=z(Pm(r.i,ce.lc().a),9),fe&&fe.lc()&&(qe=z(Pm(r.k,fe.lc().a),7))}catch(Xe){throw Xe=ji(Xe),yt(Xe,76)?new wv("An edge's 'source', 'target', 'sourcePort', and 'targetPort' properties have to be strings.",l):zi(Xe)}if(!bn(ct(r.g))){if(!Ce||!$e)return;if(Ea(Ce)!=Ea($e))return}if(!Ce||!$e)throw new wv("An edge's source or target node could not be resolved.",l);if(_e=Ea(Ce),R=new ru,et(R,(tt(),Jt),l),H=z(kr(l,"id"),97),Dm(r.a,H.a,R),Kn(r.b,R,l),fy(l,R),lT(r,l,R,_e),O=z(Se(_e,Bi),18),Ce==$e&&O.ib((oi(),fb)),!Re)Re=Y5(Ce,new Ni,(ni(),Ki),_e);else if(Re.f!=Ce)throw new Jb("Inconsistent source port reference found.");if(!qe)qe=Y5($e,new Ni,(ni(),Ra),_e);else if(qe.f!=$e)throw new Jb("Inconsistent target port reference found.");if(Ir(R,Re),gr(R,qe),(Zf(yo((ai(),new Xr(ri(Ze(Ke(zt,1),At,1,4,[Re.b,Re.e]))))))>1||Zf(yo(new Xr(ri(Ze(Ke(zt,1),At,1,4,[qe.b,qe.e])))))>1)&&O.ib((oi(),lb)),Ot(Se(_e,(Ln(),vb)))===Ot((Mv(),iE))&&!(H2 in l.a)){_=new Ci;try{for(W=kr(l,H2).hc(),q=0;q<W.a.length;++q)pe=jc(W,q).kc(),Ge=new Wt(kr(pe,"x").jc().a,kr(pe,"y").jc().a),ci(_,Ge,_.c.b,_.c);et(R,PM,_)}catch(Xe){throw Xe=ji(Xe),yt(Xe,54)?new wv("Invalid format of an edges 'bendPoints' property.",l):zi(Xe)}}et(R,Gr,null)}}function bi(){bi=s,DL=new Hn("LEFT_DIR_PREPROCESSOR",0),xL=new Hn("DOWN_DIR_PREPROCESSOR",1),YL=new Hn("UP_DIR_PREPROCESSOR",2),wL=new Hn("COMMENT_PREPROCESSOR",3),Vx=new Hn("EDGE_AND_LAYER_CONSTRAINT_EDGE_REVERSER",4),GL=new Hn("SPLINE_SELF_LOOP_PREPROCESSOR",5),Wx=new Hn("INTERACTIVE_EXTERNAL_PORT_POSITIONER",6),FL=new Hn("PARTITION_PREPROCESSOR",7),Ux=new Hn("BIG_NODES_PREPROCESSOR",8),Zy=new Hn("LABEL_DUMMY_INSERTER",9),NL=new Hn("PARTITION_POSTPROCESSOR",10),$L=new Hn("NODE_PROMOTION",11),Jy=new Hn("LAYER_CONSTRAINT_PROCESSOR",12),kL=new Hn("HIERARCHICAL_PORT_CONSTRAINT_PROCESSOR",13),Hx=new Hn("BIG_NODES_INTERMEDIATEPROCESSOR",14),Kx=new Hn("LONG_EDGE_SPLITTER",15),Jx=new Hn("PORT_SIDE_PROCESSOR",16),Qy=new Hn("LABEL_DUMMY_SWITCHER",17),IL=new Hn("LABEL_MANAGEMENT_PROCESSOR",18),Xy=new Hn("INVERTED_PORT_PROCESSOR",19),jL=new Hn("SELF_LOOP_PROCESSOR",20),Qx=new Hn("PORT_LIST_SORTER",21),tb=new Hn("NORTH_SOUTH_PORT_PREPROCESSOR",22),EL=new Hn("GREEDY_SWITCH",23),BL=new Hn("PORT_DISTRIBUTER",24),zL=new Hn("SPLINE_SELF_LOOP_POSITIONER",25),qL=new Hn("SAUSAGE_COMPACTION",26),Xx=new Hn("IN_LAYER_CONSTRAINT_PROCESSOR",27),AL=new Hn("HYPEREDGE_DUMMY_MERGER",28),Xd=new Hn("LABEL_SIDE_SELECTOR",29),Yx=new Hn("BIG_NODES_SPLITTER",30),ML=new Hn("LABEL_AND_NODE_SIZE_PROCESSOR",31),HL=new Hn("SPLINE_SELF_LOOP_ROUTER",32),OL=new Hn("NODE_MARGIN_CALCULATOR",33),CL=new Hn("HIERARCHICAL_PORT_DUMMY_SIZE_PROCESSOR",34),gp=new Hn("HIERARCHICAL_PORT_POSITION_PROCESSOR",35),RL=new Hn("LAYER_SIZE_AND_GRAPH_HEIGHT_CALCULATOR",36),N0=new Hn("BIG_NODES_POSTPROCESSOR",37),bL=new Hn("COMMENT_POSTPROCESSOR",38),LL=new Hn("HYPERNODE_PROCESSOR",39),SL=new Hn("HIERARCHICAL_PORT_ORTHOGONAL_EDGE_ROUTER",40),Zx=new Hn("LONG_EDGE_JOINER",41),eb=new Hn("NORTH_SOUTH_PORT_POSTPROCESSOR",42),Ky=new Hn("LABEL_DUMMY_REMOVER",43),TL=new Hn("HORIZONTAL_COMPACTOR",44),eE=new Hn("REVERSED_EDGE_RESTORER",45),PL=new Hn("LEFT_DIR_POSTPROCESSOR",46),_L=new Hn("DOWN_DIR_POSTPROCESSOR",47),UL=new Hn("UP_DIR_POSTPROCESSOR",48),Wy=new Hn("END_LABEL_PROCESSOR",49)}function tt(){tt=s;var r,l;Jt=new Vr("origin"),yq=new Vr("processingConfiguration"),$M=new Vr("processors"),AM=new Ut("compoundNode",(dr(),dr(),Mr)),bq=new Ut("insideConnections",Mr),Ef=new Vr("nestedLGraph"),kf=new Vr("parentLNode"),PM=new Vr("originalBendpoints"),DM=new Vr("originalDummyNodePosition"),OM=new Vr("originalLabelEdge"),NM=new Vr("representedLabels"),Ko=new Ut("labelSide",(Ba(),O0)),Fu=new Ut("reversed",Mr),Jd=new Vr("random"),Ma=new Ut("longEdgeSource",null),wa=new Ut("longEdgeTarget",null),AE=new Ut("edgeConstraint",(Cd(),hM)),xf=new Vr("inLayerLayoutUnit"),Nu=new Ut("inLayerConstraint",(ou(),hb)),Qd=new Ut("inLayerSuccessorConstraint",new dt),mu=new Vr("portDummy"),bp=new Ut("crossingHint",nn(0)),Bi=new Ut("graphProperties",(l=z(Na(yM),11),new Xi(l,z(xa(l,l.length),11),0))),Ri=new Ut("externalPortSide",(ht(),ii)),RM=new Ut("externalPortSize",new Ni),gb=new Vr("externalPortReplacedDummy"),Sh=new Ut("externalPortConnections",(r=z(Na(xi),11),new Xi(r,z(xa(r,r.length),11),0))),yc=new Ut(F4,0),SM=new Vr("barycenterAssociates"),xp=new Vr("TopSideComments"),yp=new Vr("BottomSideComments"),db=new Vr("CommentConnectionPort"),LE=new Ut("inputCollect",Mr),ME=new Ut("outputCollect",Mr),MM=new Ut("cyclic",Mr),U0=new Ut("bigNodeOriginalSize",new Nn(0)),hl=new Ut("bigNodeInitial",Mr),TM=new Ut("de.cau.cs.kieler.klay.layered.bigNodeLabels",new dt),TE=new Ut("de.cau.cs.kieler.klay.layered.postProcess",null),LM=new Vr("crossHierarchyMap"),PE=new Vr("targetOffset"),wq=new Ut("splineLabelSize",new Ni),V0=new Ut("splineLoopSide",(da(),_h)),RE=new Ut("splineSelfLoopComponents",new dt),FM=new Ut("splineSelfLoopMargins",new xg),Cf=new Vr("spacings"),pb=new Ut("partitionConstraint",Mr),wp=new Em((pt(),gf),new Nn(0)),Ia=new xm(KA,new Nn(20),new Nn(1)),IE=new xm(WA,new Nn(10),new Nn(1)),Xs=new xm(GA,new Nn(12),new Nn(0)),Go=new Em(XA,nn(0)),Kd=new xm(qF,new Nn(Y4),new Nn(0)),IM=new Em(ph,(rc(),gh))}function Ln(){Ln=s,bb=new Ut("de.cau.cs.kieler.klay.layered.nodePromotion",(nf(),nb)),GM=new $m("de.cau.cs.kieler.klay.layered.nodePromotionBoundary",nn(0),nn(0),nn(100)),HM=new Ut(N4,nn(1)),kp=new Qf("de.cau.cs.kieler.klay.layered.inLayerSpacingFactor",new Nn(1),new Nn(0)),Bu=new Ut("de.cau.cs.kieler.klay.layered.edgeSpacingFactor",new Nn(.5)),Eq=new Ut("de.cau.cs.kieler.klay.layered.edgeNodeSpacingFactor",new Nn(yA)),qE=new Ut("de.cau.cs.kieler.klay.layered.distributeNodes",(dr(),dr(),Mr)),Sp=new Ut("de.cau.cs.kieler.klay.layered.wideNodesOnMultipleLayers",(nc(),_b)),BE=new Ut("de.cau.cs.kieler.klay.layered.cycleBreaking",(Rm(),nE)),GE=new Ut("de.cau.cs.kieler.klay.layered.nodeLayering",(Gm(),rE)),vb=new Ut("de.cau.cs.kieler.klay.layered.crossMin",(Mv(),aE)),jE=new Ut("de.cau.cs.kieler.klay.layered.greedySwitch",(a0(),CE)),HE=new Ut("de.cau.cs.kieler.klay.layered.nodePlace",(oy(),oE)),qM=new $m("de.cau.cs.kieler.klay.layered.linearSegmentsDeflectionDampening",new Nn(mA),new Nn(0),new Nn(1)),yb=new Ut("de.cau.cs.kieler.klay.layered.fixedAlignment",(Wv(),_E)),eg=new Ut("de.cau.cs.kieler.klay.layered.edgeLabelSideSelection",(uy(),ub)),BM=new Ut($4,Mr),Cp=new Qf("de.cau.cs.kieler.klay.layered.thoroughness",nn(10),nn(1)),di=new Ut("de.cau.cs.kieler.klay.layered.layerConstraint",(qa(),Th)),jM=new Ut("de.cau.cs.kieler.klay.layered.mergeEdges",Mr),zM=new Ut("de.cau.cs.kieler.klay.layered.mergeHierarchyEdges",Qi),zE=new Ut("de.cau.cs.kieler.klay.layered.interactiveReferencePoint",(Nm(),SE)),Q0=new Ut("de.cau.cs.kieler.klay.layered.feedBackEdges",Mr),OE=new Ut("de.cau.cs.kieler.klay.layered.unnecessaryBendpoints",Mr),FE=new Ut("de.cau.cs.kieler.klay.layered.contentAlignment",(Zg(),On(gE,Ze(Ke(pE,1),kt,123,0,[lE])))),UM=new Ut("de.cau.cs.kieler.klay.layered.sausageFolding",Mr),VE=new Ut("de.cau.cs.kieler.klay.layered.splines.selfLoopPlacement",(ty(),WE)),$E=new Ut("de.cau.cs.kieler.klay.layered.nodeplace.compactionStrategy",(Ov(),sE)),UE=new Ut("de.cau.cs.kieler.klay.layered.northOrSouthPort",Mr),wb=new Ut("de.cau.cs.kieler.klay.layered.postCompaction",(Qg(),q0)),YE=new Ut("de.cau.cs.kieler.klay.layered.postCompaction.constraints",(Bm(),tE)),NE=new Ut("de.cau.cs.kieler.klay.layered.components.compact",Mr)}function $2(){$2=s,wB=new ka("OUT_T_L",0,(ai(),new tc(On((sc(),Ya),Ze(Ke(xr,1),kt,41,0,[fo,Ga])))),(T_(),il)),bB=new ka("OUT_T_C",1,new Xr(ri(Ze(Ke(zt,1),At,1,4,[On(Ya,Ze(Ke(xr,1),kt,41,0,[fo,qo])),On(Ya,Ze(Ke(xr,1),kt,41,0,[fo,qo,Ha]))]))),Wd),_B=new ka("OUT_T_R",2,new tc(On(Ya,Ze(Ke(xr,1),kt,41,0,[fo,Ua]))),al),fB=new ka("OUT_B_L",3,new tc(On(Ya,Ze(Ke(xr,1),kt,41,0,[co,Ga]))),il),lB=new ka("OUT_B_C",4,new Xr(ri(Ze(Ke(zt,1),At,1,4,[On(Ya,Ze(Ke(xr,1),kt,41,0,[co,qo])),On(Ya,Ze(Ke(xr,1),kt,41,0,[co,qo,Ha]))]))),Wd),hB=new ka("OUT_B_R",5,new tc(On(Ya,Ze(Ke(xr,1),kt,41,0,[co,Ua]))),al),pB=new ka("OUT_L_T",6,new tc(On(Ya,Ze(Ke(xr,1),kt,41,0,[Ga,fo,Ha]))),al),gB=new ka("OUT_L_C",7,new Xr(ri(Ze(Ke(zt,1),At,1,4,[On(Ya,Ze(Ke(xr,1),kt,41,0,[Ga,lo])),On(Ya,Ze(Ke(xr,1),kt,41,0,[Ga,lo,Ha]))]))),al),dB=new ka("OUT_L_B",8,new tc(On(Ya,Ze(Ke(xr,1),kt,41,0,[Ga,co,Ha]))),al),yB=new ka("OUT_R_T",9,new tc(On(Ya,Ze(Ke(xr,1),kt,41,0,[Ua,fo,Ha]))),il),mB=new ka("OUT_R_C",10,new Xr(ri(Ze(Ke(zt,1),At,1,4,[On(Ya,Ze(Ke(xr,1),kt,41,0,[Ua,lo])),On(Ya,Ze(Ke(xr,1),kt,41,0,[Ua,lo,Ha]))]))),il),vB=new ka("OUT_R_B",11,new tc(On(Ya,Ze(Ke(xr,1),kt,41,0,[Ua,co,Ha]))),il),uB=new ka("IN_T_L",12,new Xr(ri(Ze(Ke(zt,1),At,1,4,[On(ba,Ze(Ke(xr,1),kt,41,0,[fo,Ga])),On(ba,Ze(Ke(xr,1),kt,41,0,[fo,Ga,Ha]))]))),il),sB=new ka("IN_T_C",13,new Xr(ri(Ze(Ke(zt,1),At,1,4,[On(ba,Ze(Ke(xr,1),kt,41,0,[fo,qo])),On(ba,Ze(Ke(xr,1),kt,41,0,[fo,qo,Ha]))]))),Wd),cB=new ka("IN_T_R",14,new Xr(ri(Ze(Ke(zt,1),At,1,4,[On(ba,Ze(Ke(xr,1),kt,41,0,[fo,Ua])),On(ba,Ze(Ke(xr,1),kt,41,0,[fo,Ua,Ha]))]))),al),aB=new ka("IN_C_L",15,new Xr(ri(Ze(Ke(zt,1),At,1,4,[On(ba,Ze(Ke(xr,1),kt,41,0,[lo,Ga])),On(ba,Ze(Ke(xr,1),kt,41,0,[lo,Ga,Ha]))]))),il),iB=new ka("IN_C_C",16,new Xr(ri(Ze(Ke(zt,1),At,1,4,[On(ba,Ze(Ke(xr,1),kt,41,0,[lo,qo])),On(ba,Ze(Ke(xr,1),kt,41,0,[lo,qo,Ha]))]))),Wd),oB=new ka("IN_C_R",17,new Xr(ri(Ze(Ke(zt,1),At,1,4,[On(ba,Ze(Ke(xr,1),kt,41,0,[lo,Ua])),On(ba,Ze(Ke(xr,1),kt,41,0,[lo,Ua,Ha]))]))),al),nB=new ka("IN_B_L",18,new Xr(ri(Ze(Ke(zt,1),At,1,4,[On(ba,Ze(Ke(xr,1),kt,41,0,[co,Ga])),On(ba,Ze(Ke(xr,1),kt,41,0,[co,Ga,Ha]))]))),il),tB=new ka("IN_B_C",19,new Xr(ri(Ze(Ke(zt,1),At,1,4,[On(ba,Ze(Ke(xr,1),kt,41,0,[co,qo])),On(ba,Ze(Ke(xr,1),kt,41,0,[co,qo,Ha]))]))),Wd),rB=new ka("IN_B_R",20,new Xr(ri(Ze(Ke(zt,1),At,1,4,[On(ba,Ze(Ke(xr,1),kt,41,0,[co,Ua])),On(ba,Ze(Ke(xr,1),kt,41,0,[co,Ua,Ha]))]))),al),Ox=new ka(lh,21,m0,null)}function _4(r,l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt,Vt,Xt,yn,wr,Er,Pa,Xa,pl,vl,r1,qu,Ji,Da,ju,Pi,Hi,Ho,ml,yu,wc,Sf,Zs,_c,Ap,Qo,xc,Jo,go,Ec,Lp;for(Sf=0,Vt=0,wr=l.length;Vt<wr;++Vt)if(jt=l[Vt],la(z(Se(jt,(pt(),en)),28)))for(Da=new xe(jt.f);Da.a<Da.c.c.length;){for(Ji=z(Ee(Da),7),Pi=0,W=new xe(Ji.e);W.a<W.c.c.length;)H=z(Ee(W),12),jt.d!=H.d.f.d&&++Pi;Pi>0&&(r.a[Ji.k]=Sf++)}else{for(Pa=0,Da=new xe(jt.f);Da.a<Da.c.c.length;){for(Ji=z(Ee(Da),7),W=new xe(Ji.e);W.a<W.c.c.length;)H=z(Ee(W),12),jt.d!=H.d.f.d&&++Pa;r.a[Ji.k]=Sf}Pa>0&&++Sf}for(xc=0,Xt=0,Er=_.length;Xt<Er;++Xt)if(jt=_[Xt],la(z(Se(jt,(pt(),en)),28))){for(Xa=0,Da=new xe(jt.f);Da.a<Da.c.c.length&&(Ji=z(Ee(Da),7),Ji.g==(ht(),Yt));)for(W=new xe(Ji.b);W.a<W.c.c.length;)if(H=z(Ee(W),12),jt.d!=H.c.f.d){++Xa;break}for(vl=0,Hi=new nr(jt.f,jt.f.c.length);Hi.b>0;){for(Ji=(Kt(Hi.b>0),z(Hi.a.sb(Hi.c=--Hi.b),7)),Pi=0,W=new xe(Ji.b);W.a<W.c.c.length;)H=z(Ee(W),12),jt.d!=H.c.f.d&&++Pi;Pi>0&&(Ji.g==(ht(),Yt)?(r.a[Ji.k]=xc,++xc):(r.a[Ji.k]=xc+Xa+vl,++vl))}xc+=vl}else{for(Pa=0,Da=new xe(jt.f);Da.a<Da.c.c.length;){for(Ji=z(Ee(Da),7),W=new xe(Ji.b);W.a<W.c.c.length;)H=z(Ee(W),12),jt.d!=H.c.f.d&&++Pa;r.a[Ji.k]=xc}Pa>0&&++xc}for(ju=(Ar(),new kn),be=new Fa,Gt=0,yn=l.length;Gt<yn;++Gt)for(jt=l[Gt],Ap=new xe(jt.f);Ap.a<Ap.c.c.length;)for(_c=z(Ee(Ap),7),W=new xe(_c.e);W.a<W.c.c.length;)if(H=z(Ee(W),12),go=H.d,jt.d!=go.f.d)if(Zs=z(ra(ia(ju.d,_c)),197),Jo=z(ra(ia(ju.d,go)),197),!Zs&&!Jo)pe=new yP,be.a.db(pe,be),xt(pe.a,H),xt(pe.d,_c),eo(ju.d,_c,pe),xt(pe.d,go),eo(ju.d,go,pe);else if(!Zs)xt(Jo.a,H),xt(Jo.d,_c),eo(ju.d,_c,Jo);else if(!Jo)xt(Zs.a,H),xt(Zs.d,go),eo(ju.d,go,Zs);else if(Zs==Jo)xt(Zs.a,H);else{for(xt(Zs.a,H),qu=new xe(Jo.d);qu.a<qu.c.c.length;)r1=z(Ee(qu),7),eo(ju.d,r1,Zs);_r(Zs.a,Jo.a),_r(Zs.d,Jo.d),be.a.eb(Jo)!=null}for(_e=z(h2(be,ot(aX,{674:1,3:1,5:1,6:1},197,be.a.Y(),0,1)),674),Tt=l[0].d,wc=_[0].d,ce=0,fe=_e.length;ce<fe;++ce)for(ae=_e[ce],ae.e=Sf,ae.f=xc,Da=new xe(ae.d);Da.a<Da.c.c.length;)Ji=z(Ee(Da),7),Ho=r.a[Ji.k],Ji.f.d==Tt?(Ho<ae.e&&(ae.e=Ho),Ho>ae.b&&(ae.b=Ho)):Ji.f.d==wc&&(Ho<ae.f&&(ae.f=Ho),Ho>ae.c&&(ae.c=Ho));for(Ad(_e,0,_e.length,(Gf(),Gf(),Ah)),Qo=ot(Hr,zr,26,_e.length,12,1),R=ot(Hr,zr,26,xc+1,12,1),Re=0;Re<_e.length;Re++)Qo[Re]=_e[Re].f,R[Qo[Re]]=1;for(q=0,$e=0;$e<R.length;$e++)R[$e]==1?R[$e]=q:--q;for(ml=0,qe=0;qe<Qo.length;qe++)Qo[qe]+=R[Qo[qe]],ml=Vi(ml,Qo[qe]+1);for(ee=1;ee<ml;)ee*=2;for(Lp=2*ee-1,ee-=1,Ec=ot(Hr,zr,26,Lp,12,1),O=0,mt=0;mt<Qo.length;mt++)for(gt=Qo[mt]+ee,++Ec[gt];gt>0;)gt%2>0&&(O+=Ec[gt+1]),gt=(gt-1)/2|0,++Ec[gt];for(lt=ot(b6,At,156,_e.length*2,0,1),Ge=0;Ge<_e.length;Ge++)lt[2*Ge]=new Im(_e[Ge],_e[Ge].e,_e[Ge].b,(Fm(),G0)),lt[2*Ge+1]=new Im(_e[Ge],_e[Ge].b,_e[Ge].e,j0);for(Ad(lt,0,lt.length,Ah),pl=0,Xe=0;Xe<lt.length;Xe++)switch(lt[Xe].d.e){case 0:++pl;break;case 1:--pl,O+=pl}for(yu=ot(b6,At,156,_e.length*2,0,1),Je=0;Je<_e.length;Je++)yu[2*Je]=new Im(_e[Je],_e[Je].f,_e[Je].c,(Fm(),G0)),yu[2*Je+1]=new Im(_e[Je],_e[Je].c,_e[Je].f,j0);for(Ad(yu,0,yu.length,Ah),pl=0,Ce=0;Ce<yu.length;Ce++)switch(yu[Ce].d.e){case 0:++pl;break;case 1:--pl,O+=pl}return O}function pt(){pt=s;var r,l;BF=new Ut("de.cau.cs.kieler.animate",(dr(),dr(),Qi)),new Ut("de.cau.cs.kieler.minAnimTime",nn(400)),new Ut("de.cau.cs.kieler.maxAnimTime",nn(4e3)),new Ut("de.cau.cs.kieler.animTimeFactor",nn(100)),_0=new Ut("de.cau.cs.kieler.additionalPortSpace",null),lp=new Ut("de.cau.cs.kieler.commentBox",Mr),new Vr("de.cau.cs.kieler.diagramType"),uo=new Ut("de.cau.cs.kieler.edgeLabelPlacement",(su(),gx)),HA=new Ut("de.cau.cs.kieler.edgeType",(gy(),yx)),zF=new Vr("de.cau.cs.kieler.fontName"),GF=new Ut("de.cau.cs.kieler.fontSize",nn(0)),k0=new Ut("de.cau.cs.kieler.hypernode",Mr),Gr=new Ut("de.cau.cs.kieler.junctionPoints",new Ci),new Ut("de.cau.cs.kieler.layoutAncestors",Mr),C0=new Ut("de.cau.cs.kieler.margins",new xg),fp=new Qf("de.cau.cs.kieler.minHeight",new Nn(0),new Nn(0)),hp=new Qf("de.cau.cs.kieler.minWidth",new Nn(0),new Nn(0)),S0=new Ut("de.cau.cs.kieler.noLayout",Mr),gf=new Vr("de.cau.cs.kieler.offset"),lc=new Vr("de.cau.cs.kieler.klay.layered.portAnchor"),fc=new Vr("de.cau.cs.kieler.portIndex"),A0=new Ut("de.cau.cs.kieler.portSide",(ht(),ii)),new Ut("de.cau.cs.kieler.progressBar",Mr),new Ut("de.cau.cs.kieler.resetConfig",Qi),new Ut("de.cau.cs.kieler.scaleFactor",new Nn(1)),zs=new Ut("de.cau.cs.kieler.thickness",new Nn(1)),new Ut("de.cau.cs.kieler.zoomToFit",Mr),zA=new Vr("de.cau.cs.kieler.algorithm"),Zo=new Ut("de.cau.cs.kieler.alignment",(Fs(),dx)),qF=new Ut("de.cau.cs.kieler.aspectRatio",new Nn(0)),wx=new Vr("de.cau.cs.kieler.bendPoints"),GA=new Ut("de.cau.cs.kieler.borderSpacing",new Nn(-1)),E0=new Ut($4,Mr),vs=new Ut("de.cau.cs.kieler.direction",(Fr(),ps)),ph=new Ut("de.cau.cs.kieler.edgeRouting",(rc(),mx)),jF=new Ut("de.cau.cs.kieler.expandNodes",Mr),UA=new Ut("de.cau.cs.kieler.hierarchyHandling",(Qm(),bx)),HF=new Ut("de.cau.cs.kieler.interactive",Mr),jd=new Qf("de.cau.cs.kieler.labelSpacing",new Nn(3),new Nn(0)),YA=new Ut("de.cau.cs.kieler.layoutHierarchy",Mr),to=new Ut("de.cau.cs.kieler.nodeLabelPlacement",(sc(),l=z(Na(xr),11),new Xi(l,z(xa(l,l.length),11),0))),en=new Ut("de.cau.cs.kieler.portConstraints",(Rr(),rl)),T0=new Ut("de.cau.cs.kieler.portLabelPlacement",(kd(),I0)),WA=new Qf("de.cau.cs.kieler.portSpacing",new Nn(-1),new Nn(0)),_x=new Ut("de.cau.cs.kieler.portAlignment",(Vc(),gu)),Ex=new Ut("de.cau.cs.kieler.portAlignment.north",vh),kx=new Ut("de.cau.cs.kieler.portAlignment.south",vh),Cx=new Ut("de.cau.cs.kieler.portAlignment.west",vh),xx=new Ut("de.cau.cs.kieler.portAlignment.east",vh),zd=new Vr("de.cau.cs.kieler.position"),XA=new Vr("de.cau.cs.kieler.priority"),new Vr(N4),Sx=new Ut("de.cau.cs.kieler.selfLoopInside",Mr),ZA=new Vr("de.cau.cs.kieler.separateConnComp"),nl=new Ut("de.cau.cs.kieler.sizeConstraint",(ac(),r=z(Na(dp),11),new Xi(r,z(xa(r,r.length),11),0))),L0=new Ut("de.cau.cs.kieler.sizeOptions",On((Md(),D0),Ze(Ke(Dx,1),kt,139,0,[Ix]))),KA=new Qf("de.cau.cs.kieler.spacing",new Nn(-1),new Nn(0)),UF=new Ut("de.cau.cs.kieler.layoutPartitions",Mr),VA=new Vr("de.cau.cs.kieler.partition")}function UW(r,l,_,R){Q5();var O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe;if(!(!R&&(r.n?r.n:(jn(),jn(),ZM)).R(new cR(l)))){if(z(cL.a,18).kb(l)){if(!_.lc())throw new os(G4+l+fh+_+").");be=z(z(cL.b,57).cb(l),79),_e=_.lc().a,et(r,be,_e);return}else if(z(uL.a,18).kb(l))try{if(!_.jc())throw new D1;be=z(z(uL.b,57).cb(l),79),$e=nn(qU((Et(),""+_.jc().a))),et(r,be,$e);return}catch(Ge){throw Ge=ji(Ge),yt(Ge,130)?new os("Invalid integer format for property '"+l+fh+_+")."):zi(Ge)}else if(z(iL.a,18).kb(l)){if(!_.ic())throw new os(G4+l+fh+_+").");be=z(z(iL.b,57).cb(l),79),$e=(dr(),_.ic().a?Qi:Mr),et(r,be,$e);return}else if(z(sL.a,18).kb(l)){if(!_.jc())throw new os("Invalid float format for property '"+l+fh+_+").");be=z(z(sL.b,57).cb(l),79),$e=new m1(_.jc().a),et(r,be,$e);return}else if(z(oL.a,18).kb(l)){if(!_.lc())throw new os(lA+l+fh+_+").");ce=_.lc().a,fe=null;try{Nr((pt(),A0),l)?fe=(ht(),z(Li((RO(),QF),ce),32)):Nr(Zo,l)?fe=(Fs(),z(Li((qO(),LF),ce),103)):Nr(vs,l)?fe=(Fr(),z(Li((IO(),MF),ce),59)):Nr(ph,l)?fe=(rc(),z(Li((_O(),DF),ce),122)):Nr(UA,l)?fe=(Qm(),z(Li((fO(),FF),ce),166)):Nr(_x,l)||Nr(xx,l)||Nr(Ex,l)||Nr(kx,l)||Nr(Cx,l)?fe=(Vc(),z(Li((PO(),VF),ce),100)):Nr(en,l)?fe=(Rr(),z(Li((zO(),XF),ce),28)):Nr(T0,l)?fe=(kd(),z(Li((lO(),KF),ce),149)):Nr(HA,l)?fe=(gy(),z(Li((jO(),$F),ce),133)):Nr(uo,l)?fe=(su(),z(Li((wO(),RF),ce),107)):Nr((Ln(),BE),l)?fe=(Rm(),z(Li((QD(),n6),ce),193)):Nr(GE,l)?fe=(Gm(),z(Li((hO(),o6),ce),173)):Nr(eg,l)?fe=(uy(),z(Li((JO(),fq),ce),115)):Nr($E,l)?fe=(Ov(),z(Li((kO(),L6),ce),194)):Nr(vb,l)?fe=(Mv(),z(Li((eO(),p6),ce),192)):Nr(bb,l)?fe=(nf(),z(Li((KO(),YB),ce),109)):Nr(HE,l)?fe=(oy(),z(Li((QO(),C6),ce),141)):Nr(wb,l)?fe=(Qg(),z(Li((GO(),ZB),ce),125)):Nr(YE,l)?fe=(Bm(),z(Li((JD(),WB),ce),175)):Nr(yb,l)?fe=(Wv(),z(Li((f$(),dq),ce),124)):Nr(jE,l)?fe=(a0(),z(Li((L$(),pq),ce),110)):Nr(di,l)?fe=(qa(),z(Li((e$(),xq),ce),85)):Nr(VE,l)?fe=(ty(),z(Li((FO(),Cq),ce),153)):Nr(Sp,l)?fe=(nc(),z(Li((BO(),Tq),ce),172)):Nr(zE,l)&&(fe=(Nm(),z(Li((CO(),mq),ce),174)))}catch(Ge){throw Ge=ji(Ge),yt(Ge,54)?new os(lA+l+fh+_+")."):zi(Ge)}be=z(z(oL.b,57).cb(l),79),et(r,be,fe);return}else if(z(aL.a,18).kb(l)){if(!_.lc())throw new os(lA+l+fh+_+").");for(ae=_.lc().a,Ce=null,ee=Ey(ae,"[\\[\\]\\s,]+"),H=0,W=ee.length;H<W;++H)q=ee[H],mv(Ql(q))!=0&&(Nr((pt(),to),l)?(!Ce&&(Ce=(O=z(Na(xr),11),new Xi(O,z(xa(O,O.length),11),0))),oa(Ce,(sc(),z(Li((a$(),YF),q),41)))):Nr(nl,l)?(!Ce&&(Ce=(O=z(Na(dp),11),new Xi(O,z(xa(O,O.length),11),0))),oa(Ce,(ac(),z(Li((EO(),JF),q),150)))):Nr(L0,l)?(!Ce&&(Ce=(O=z(Na(Dx),11),new Xi(O,z(xa(O,O.length),11),0))),oa(Ce,(Md(),z(Li((xO(),eB),q),139)))):Nr((Ln(),FE),l)&&(!Ce&&(Ce=(O=z(Na(pE),11),new Xi(O,z(xa(O,O.length),11),0))),oa(Ce,(Zg(),z(Li((l$(),cq),q),123)))));be=z(z(aL.b,57).cb(l),79),et(r,be,Ce);return}else if(z(Yy.a,18).kb(l)){if(!_.lc())throw new os("Invalid _other_ format for property '"+l+fh+_+").");if(Nr((pt(),zd),l)||Nr(lc,l))try{Re=new Ni,QY(Re,_.lc().a),be=z(z(Yy.b,57).cb(l),79),et(r,be,Re);return}catch(Ge){throw Ge=ji(Ge),yt(Ge,29)?new os("Invalid KVector format for property '"+l+"' "+_+"."):zi(Ge)}else if(Nr(wx,l)||Nr(Gr,l))try{qe=new Ci,SY(qe,_.lc().a),be=z(z(Yy.b,57).cb(l),79),et(r,be,qe);return}catch(Ge){throw Ge=ji(Ge),yt(Ge,29)?new os("Invalid KVectorChain format for property '"+l+"' "+_+"."):zi(Ge)}else if(Nr(C0,l)||Nr(_0,l))try{pe=new xg,oV(pe,_.lc().a),be=z(z(Yy.b,57).cb(l),79),et(r,be,pe);return}catch(Ge){throw Ge=ji(Ge),yt(Ge,29)?new os("Invalid Margins format for property '"+l+"' "+_+"."):zi(Ge)}}else if(z(CB.a,18).kb(l))return;throw new os("Unsupported layout option '"+l+fh+_+").")}}var Cy="object",wi={3:1,8:1,5:1,6:1},UT={3:1,46:1},Au={3:1,54:1,46:1},Lu="null",N2="anonymous",YT="Unknown",x4="function",fi=2147483647,E4={181:1,3:1,54:1,46:1},o0=65536,fu=65535,k4={3:1,54:1,29:1,46:1},F2='For input string: "',Mu=-2147483648,_i={56:1},VT={23:1,145:1,185:1},ga={3:1,5:1},WT="Invalid UTF8 sequence",C4="fromIndex: ",Mi="java.lang",XT="com.google.gwt.core.client",Sy="com.google.gwt.core.client.impl",Ty="java.io",ZT="java.nio.charset",KT="javaemul.internal",ds="com.google.common.base",S4="%s (%s) must not be negative",At={3:1,5:1,6:1},T4="negative size: ",kt={3:1,8:1,5:1,11:1,6:1},Ay={68:1,136:1,3:1,23:1,17:1},ep={108:1,35:1},Rt="com.google.common.collect",B2={108:1,35:1,96:1},s0={144:1,3:1},ei={35:1},Dd={57:1},sn="java.util",tp={22:1,19:1},ua={22:1,19:1,18:1},Od={22:1,19:1,20:1},q2={22:1,19:1,20:1,63:1},$d={35:1,96:1},QT={22:1,19:1,18:1,137:1},u0={21:1},A4="AbstractMapEntry",JT={207:1,22:1,19:1},eA={159:1,3:1,23:1,17:1},tA=1073741824,Zc={22:1},nA={3:1,22:1,19:1},Nd={87:1,3:1,22:1,19:1,20:1,63:1},Fd={3:1,57:1},Bd={3:1,22:1,19:1,18:1},va={64:1},rA="arraySize",uf="initialArraySize",iA={64:1,188:1,3:1,23:1,17:1},aA="occurrences",zr={52:1,3:1,5:1},oA={205:1,3:1,23:1,17:1},c0=1e-4,uh="com.google.gwt.json.client",Fo=4194303,Kc=1048575,ch=4194304,Qc=17592186044416,j2=-17592186044416,L4=`([{"' 	\r
`,M4=`)]}"' 	\r
`,I4="The given string contains parts that cannot be parsed as numbers.",R4="de.cau.cs.kieler.core.math",sA=-17976931348623157e292,Ly="de.cau.cs.kieler.core.properties",P4={79:1,23:1},D4="de.cau.cs.kieler.core.util",O4="de.cau.cs.kieler.kiml",np="LEFT",rp="RIGHT",My="CENTER",Iu="de.cau.cs.kieler.kiml.options",lh="UNDEFINED",ip="NONE",$4="de.cau.cs.kieler.debugMode",N4="de.cau.cs.kieler.randomSeed",ap="de.cau.cs.kieler.kiml.util.nodespacing",uA="de.cau.cs.kieler.kiml.util.labelspacing",F4="portRatioOrPosition",B4="NodeMarginCalculator",cA="bottom",q4={286:1,121:1,3:1,5:1},l0="undefined",z2="text",j4="stacktrace",Mn={34:1,3:1,8:1,5:1,6:1},G2="properties",H2="bendPoints",z4="junctionPoints",U2="width",V2="height",W2="padding",op="children",Aa={38:1,39:1,42:1,51:1,71:1,3:1,8:1,5:1,6:1},K2="de.cau.cs.kieler.klay.gwt.client.layout",G4="Invalid boolean format for property '",fh="' (",lA="Invalid enum format for property '",fA="de.cau.cs.kieler.klay.layered",H4="Layered layout",ya=1/0,Ii=-1/0,f0="de.cau.cs.kieler.klay.layered.compaction.components",sp="de.cau.cs.kieler.klay.layered.compaction.oned",U4=" instance has been finished already.",hh="de.cau.cs.kieler.klay.layered.compaction.oned.algs",Ru="de.cau.cs.kieler.klay.layered.compaction.recthull",Xo={68:1},hu="de.cau.cs.kieler.klay.layered.components",hA={3:1,5:1,22:1,13:1,19:1,20:1,63:1},Y4=1.600000023841858,cc=.001,hr={31:1},h0="de.cau.cs.kieler.klay.layered.compound",ja={38:1,39:1,47:1,42:1,3:1,8:1,5:1,6:1},Gi="de.cau.cs.kieler.klay.layered.graph",V4="Port side is undefined",rn="de.cau.cs.kieler.klay.layered.intermediate",W4="Big nodes pre-processing",X4=34028234663852886e22,Z4={38:1,39:1,42:1,346:1,71:1,3:1,8:1,5:1,6:1},dA="Node '",K4="' has its layer constraint set to FIRST or FIRST_SEPARATE, but has ",Q4="at least one incoming edge. Connections between nodes with these ",gA="layer constraints are not supported.",Bs=17976931348623157e292,J4="Odd port side processing",Iy={250:1,3:1,5:1},Jc=1e-8,gs="de.cau.cs.kieler.klay.layered.intermediate.compaction",To="de.cau.cs.kieler.klay.layered.intermediate.greedyswitch",d0={227:1,3:1,5:1},up="de.cau.cs.kieler.klay.layered.networksimplex",Q2="INTERACTIVE",pA="de.cau.cs.kieler.klay.layered.p1cycles",qs={106:1,31:1},Ry="de.cau.cs.kieler.klay.layered.p2layers",eF="NETWORK_SIMPLEX",el="de.cau.cs.kieler.klay.layered.p3order",J2=5960464477539063e-23,vA="Port type is undefined",mA=.30000001192092896,yA=.699999988079071,tF=.8999999761581421,nF="de.cau.cs.kieler.klay.layered.p3order.constraints",g0="de.cau.cs.kieler.klay.layered.p3order.counting",v0="de.cau.cs.kieler.klay.layered.p4nodes",rF={625:1,3:1,5:1,6:1},js="de.cau.cs.kieler.klay.layered.p4nodes.bk",cf="de.cau.cs.kieler.klay.layered.p5edges",lf="de.cau.cs.kieler.klay.layered.p5edges.splines",ff=1e-6,Py=-1e-6,iF="The list of vectors may not be empty.",ex=.09999999999999998,Pu="de.cau.cs.kieler.klay.layered.properties",hf="_gwt_modCount",aF={3:1,22:1,19:1,20:1,63:1},oF={3:1,5:1,57:1},sF={3:1,5:1,22:1,19:1,50:1,18:1},tx="delete",nx=15525485,bA=16777216,wA=16777215,uF={3:1,5:1,22:1,19:1,20:1,63:1},rx={3:1,23:1,17:1,138:1},ie,Dy,ix;oG(),ke(1,null,{},u),ie.t=function(l){return this===l},ie.u=function(){return this.$c},ie.v=function(){return Ku(this)},ie.w=function(){return GD(this)},ie.toString=function(){return this.w()},ke(46,1,UT),ie.bc=function(){return this.f},ie.w=function(){var l,_;return l=B1(this.$c),_=this.bc(),_!=null?l+": "+_:l},ke(54,46,Au),ke(72,54,Au,Ss),ke(164,72,{164:1,3:1,54:1,46:1},LO),ie.bc=function(){return pH(this),this.c},ie.cc=function(){return Ot(this.b)===Ot(Oy)?null:this.b};var Oy,_A;ke(642,1,{}),ke(356,642,{},d),ie.dc=function(l,_){var R={},O=[];l.__gwt$backingJsError={fnStack:O};for(var q=arguments.callee.caller;q;){var H=(Yg(),q.name||(q.name=Qj(q.toString())));O.push(H);var W=":"+H,ee=R[W];if(ee){var ae,ce;for(ae=0,ce=ee.length;ae<ce;ae++)if(ee[ae]===q)return}(ee||(R[W]=[])).push(q),q=q.caller}},ie.ec=function(l){var _,R,O,q,H;for(O=(Yg(),H=l.__gwt$backingJsError,H&&H.fnStack?H.fnStack:[]),R=O.length,q=ot(Lq,wi,146,R,0,1),_=0;_<R;_++)q[_]=new m_(O[_],null,-1);return q},ke(643,642,{}),ie.dc=function(l,_){function R(q){if(!("stack"in q))try{throw q}catch{}return q}var O;typeof _=="string"?O=R(new Error(_.replace(`
`," "))):_&&typeof _==Cy&&"stack"in _?O=_:O=R(new Error),l.__gwt$backingJsError=O},ie.fc=function(l,_,R,O){return new m_(_,l+"@"+O,R<0?-1:R)},ie.ec=function(l){var _,R,O,q,H,W,ee;if(q=(Yg(),ee=l.__gwt$backingJsError,ee&&ee.stack?ee.stack.split(`
`):[]),H=ot(Lq,wi,146,0,0,1),_=0,O=q.length,O==0)return H;for(W=a4(this,q[0]),Ts(W.d,N2)||(H[_++]=W),R=1;R<O;R++)H[_++]=a4(this,q[R]);return H},ke(357,643,{},Pp),ie.fc=function(l,_,R,O){return new m_(_,l,-1)};var cF,lF,fF;ke(181,54,E4),ke(351,181,E4,Uq),ke(288,1,{},TS),ie.Oc=function(l){var _;return _=new TS,_.g=4,l>1?_.c=XD(this,l-1):_.c=this,_},ie.Pc=function(){return Uf(this),this.b},ie.Qc=function(){return B1(this)},ie.Rc=function(){return SI(this)},ie.Sc=function(){return(this.g&4)!=0},ie.Tc=function(){return(this.g&1)!=0},ie.w=function(){return(this.g&2?"interface ":this.g&1?"":"class ")+(Uf(this),this.n)},ie.g=0,ke(119,72,{3:1,119:1,54:1,46:1},A1),ke(29,72,k4,Ml,Gn),ke(95,72,Au,nv,As),ke(231,1,{3:1,231:1});var xA;ke(24,231,{3:1,23:1,24:1,231:1},g1),ie.F=function(l){return L7(this,z(l,24))},ie.t=function(l){return yt(l,24)&&z(l,24).a==this.a},ie.v=function(){return this.a},ie.w=function(){return q1(this.a)},ie.a=0,fF={3:1,345:1,23:1,2:1},ke(350,1,_i,ws),ie.$b=function(l,_){return rj(dd(l),dd(_))},ke(257,95,Au,s7),ke(145,1,{23:1,145:1}),ie.F=function(l){return A7(this,z(l,145))},ie.t=function(l){var _;return l===this?!0:yt(l,145)?(_=z(l,145),Ts(this.a,_.a)):!1},ie.v=function(){return l2(this.a)},ie.w=function(){return this.a},ke(358,29,k4,D9),ke(256,29,{3:1,54:1,29:1,46:1,256:1},P9),ke(185,145,VT),ke(289,185,VT,u7),ie.Zc=function(l,_,R){var O,q;for(O=ot($q,ga,26,R,12,1),q=0;q<R;++q)O[q]=l[_+q]&255&fu;return O},ke(355,185,VT,T7),ie.Zc=function(l,_,R){var O,q,H,W,ee,ae,ce,fe;for(H=0,ce=0;ce<R;){if(++H,q=l[_+ce],(q&192)==128)throw new Gn(WT);if(!(q&128))++ce;else if((q&224)==192)ce+=2;else if((q&240)==224)ce+=3;else if((q&248)==240)ce+=4;else throw new Gn(WT);if(ce>R)throw new As(WT)}for(W=ot($q,ga,26,H,12,1),fe=0,ee=0,ae=0;ae<R;){for(q=l[_+ae++],q&128?(q&224)==192?(ee=2,q&=31):(q&240)==224?(ee=3,q&=15):(q&248)==240?(ee=4,q&=7):(q&252)==248&&(ee=5,q&=3):(ee=1,q&=127);--ee>0;){if(O=l[_+ae++],(O&192)!=128)throw new Gn("Invalid UTF8 sequence at "+(_+ae-1)+", byte="+(O>>>0).toString(16));q=q<<6|O&63}fe+=FG(q,W,fe)}return W};var zt=Le(Mi,"Object",1),YW=Le(Mi,"Throwable",46);Le(Mi,"Exception",54),Le(Mi,"RuntimeException",72),Le(XT,"JavaScriptException",164),Le(Sy,"StackTraceCreator/Collector",642),Le(Sy,"StackTraceCreator/CollectorLegacy",356),Le(Sy,"StackTraceCreator/CollectorModern",643),Le(Sy,"StackTraceCreator/CollectorModernNoSourceMap",357),Le(Ty,"IOException",181),Le(Ty,"UnsupportedEncodingException",351),Le(Mi,"Class",288),Le(Mi,"ClassCastException",119),Le(Mi,"IllegalArgumentException",29),Le(Mi,"IndexOutOfBoundsException",95),Le(Mi,"Number",231);var ax=Le(Mi,"Integer",24),ox=Le(Mi,"String",2);Le(Mi,"String/1",350),Le(Mi,"StringIndexOutOfBoundsException",257),Le(ZT,"Charset",145),Le(ZT,"IllegalCharsetNameException",358),Le(ZT,"UnsupportedCharsetException",256),Le(KT,"EmulatedCharset",185),Le(KT,"EmulatedCharset/LatinCharset",289),Le(KT,"EmulatedCharset/UtfCharset",355),ke(669,1,{3:1}),Le(ds,"Optional",669),ke(601,669,{3:1},f),ie.t=function(l){return l===this},ie.v=function(){return 2040732332},ie.w=function(){return"Optional.absent()"},ie.A=function(l){return tn(l),un(),sx};var sx;Le(ds,"Absent",601);var VW=_m(ds,"Function");ke(208,1,{},$1),ie.C=function(l){return mD(l)},Le(ds,"Joiner",208),ke(363,208,{},UP),ie.C=function(l){return um(this,l)},Le(ds,"Joiner/1",363),ke(362,1,{},fP),Le(ds,"Joiner/MapJoiner",362);var WW=_m(ds,"Predicate"),hF;ke(244,1,{68:1,244:1,3:1},Bp),ie.D=function(l){var _;for(_=0;_<this.a.a.length;_++)if(!z(iD(this.a,_),68).D(l))return!1;return!0},ie.t=function(l){var _;return yt(l,244)?(_=z(l,244),Y3(this.a,_.a)):!1},ie.v=function(){return V$(this.a)+306654252},ie.w=function(){return"Predicates.and("+jk((K1(),hF),new Uu(this.a))+")"},Le(ds,"Predicates/AndPredicate",244),ke(246,1,{68:1,246:1,3:1},FI),ie.D=function(l){try{return this.a.kb(l)}catch(_){if(_=ji(_),yt(_,76))return!1;if(yt(_,119))return!1;throw zi(_)}},ie.t=function(l){var _;return yt(l,246)?(_=z(l,246),this.a.t(_.a)):!1},ie.v=function(){return this.a.v()},ie.w=function(){return"Predicates.in("+this.a+")"},Le(ds,"Predicates/InPredicate",246),ke(245,1,{68:1,245:1,3:1},Sb),ie.D=function(l){return hs(this.a,l)},ie.t=function(l){var _;return yt(l,245)?(_=z(l,245),hs(this.a,_.a)):!1},ie.v=function(){return Ns(this.a)},ie.w=function(){return"Predicates.equalTo("+this.a+")"},Le(ds,"Predicates/IsEqualToPredicate",245),ke(17,1,{3:1,23:1,17:1}),ie.F=function(l){return Wq(this,z(l,17))},ie.t=function(l){return this===l},ie.v=function(){return Ku(this)},ie.w=function(){return hm(this)},ie.e=0;var Vn=Le(Mi,"Enum",17);ke(136,17,Ay);var dF,gF,EA,pF,$y=Sn(ds,"Predicates/ObjectPredicate",136,Vn,C8);ke(591,136,Ay,TP),ie.D=function(l){return!0},ie.w=function(){return"Predicates.alwaysTrue()"},Sn(ds,"Predicates/ObjectPredicate/1",591,$y,null),ke(592,136,Ay,AP),ie.D=function(l){return!1},ie.w=function(){return"Predicates.alwaysFalse()"},Sn(ds,"Predicates/ObjectPredicate/2",592,$y,null),ke(593,136,Ay,YR),ie.D=function(l){return l==null},ie.w=function(){return"Predicates.isNull()"},Sn(ds,"Predicates/ObjectPredicate/3",593,$y,null),ke(594,136,Ay,tP),ie.D=function(l){return l!=null},ie.w=function(){return"Predicates.notNull()"},Sn(ds,"Predicates/ObjectPredicate/4",594,$y,null),ke(177,669,{177:1,3:1},sr),ie.t=function(l){var _;return yt(l,177)?(_=z(l,177),hs(this.a,_.a)):!1},ie.v=function(){return 1502476572+Ns(this.a)},ie.w=function(){return"Optional.of("+this.a+")"},ie.A=function(l){return new sr(__(l.B(this.a),"the Function passed to Optional.transform() must not return null."))},Le(ds,"Present",177),ke(108,1,ep),ie.I=function(){bg()},Le(Rt,"UnmodifiableIterator",108),ke(651,108,B2),ie.J=function(l){throw new Tr},ie.O=function(l){throw new Tr},Le(Rt,"UnmodifiableListIterator",651),ke(378,651,B2),ie.G=function(){return this.b<this.c},ie.K=function(){return this.b>0},ie.H=function(){if(this.b>=this.c)throw new $a;return TI(this,this.b++)},ie.L=function(){return this.b},ie.M=function(){if(this.b<=0)throw new $a;return TI(this,--this.b)},ie.N=function(){return this.b-1},ie.b=0,ie.c=0,Le(Rt,"AbstractIndexedListIterator",378),ke(428,108,ep),ie.G=function(){return zc(this)},ie.H=function(){return th(this)},ie.d=1,Le(Rt,"AbstractIterator",428),ke(653,1,{144:1}),ie.P=function(){var l;return l=this.f,l||(this.f=this.S())},ie.T=function(){return new sw(this.P())},ie.t=function(l){return SS(this,l)},ie.v=function(){return this.P().v()},ie.V=function(){return this.Y()==0},ie.W=function(){return o_(this)},ie.w=function(){return this.P().w()},Le(Rt,"AbstractMultimap",653),ke(294,653,s0),ie.Q=function(){jS(this)},ie.R=function(l){return _d(this.b,l)},ie.S=function(){return new uw(this,this.b)},ie.T=function(){return new aP(this,this.b)},ie.$=function(){return mG(this.Z())},ie.U=function(l){return So(this,l)},ie.X=function(l){return E2(this,l)},ie.Y=function(){return this.c},ie.c=0,Le(Rt,"AbstractMapBasedMultimap",294),ke(600,294,s0),ie.Z=function(){return new Ta(this.a)},ie.$=function(){return ai(),ai(),m0},ie.U=function(l){return z(So(this,l),20)},ie.X=function(l){return z(E2(this,l),20)},ie.P=function(){var l;return l=this.f,l||(this.f=new uw(this,this.b))},ie.t=function(l){return SS(this,l)},Le(Rt,"AbstractListMultimap",600),ke(388,1,ei),ie.G=function(){return this.b.b||this.d.G()},ie.H=function(){var l;return this.d.G()||(l=Ug(this.b),l.yb(),this.a=z(l.zb(),19),this.d=this.a.mb()),this.d.H()},ie.I=function(){this.d.I(),this.a.V()&&JC(this.b),--this.c.c},Le(Rt,"AbstractMapBasedMultimap/Itr",388),ke(389,388,ei,d$),Le(Rt,"AbstractMapBasedMultimap/1",389),ke(638,1,Dd),ie.Q=function(){this.bb().Q()},ie._=function(l){return d2(this,l)},ie.R=function(l){return!!eT(this,l,!1)},ie.ab=function(l){var _,R,O;for(R=this.bb().mb();R.G();)if(_=z(R.H(),21),O=_.zb(),Ot(l)===Ot(O)||l!=null&&hs(l,O))return!0;return!1},ie.t=function(l){return E3(this,l)},ie.cb=function(l){return ra(eT(this,l,!1))},ie.v=function(){return xS(this.bb())},ie.V=function(){return this.Y()==0},ie.W=function(){return new Dn(this)},ie.db=function(l,_){throw new Kh("Put not supported on this map")},ie.eb=function(l){return ra(eT(this,l,!0))},ie.Y=function(){return this.bb().Y()},ie.w=function(){return p3(this)},ie.fb=function(){return new Df(this)},Le(sn,"AbstractMap",638),ke(654,638,Dd),ie.bb=function(){return bC(this)},ie.W=function(){var l;return l=this.d,l||(this.d=new sw(this))},ie.fb=function(){return wD(this)},Le(Rt,"Maps/ViewCachingAbstractMap",654),ke(262,654,Dd,uw),ie.cb=function(l){return Pj(this,l)},ie.eb=function(l){return Cz(this,l)},ie.Q=function(){this.a==this.b.b?jS(this.b):Sm(new FC(this))},ie.R=function(l){return jN(this.a,l)},ie.hb=function(){return new _u(this)},ie.gb=function(){return this.hb()},ie.t=function(l){return this===l||E3(this.a,l)},ie.v=function(){return xS(new rs(this.a))},ie.W=function(){return o_(this.b)},ie.Y=function(){return V1(this.a)},ie.w=function(){return p3(this.a)},Le(Rt,"AbstractMapBasedMultimap/AsMap",262),ke(640,1,tp),ie.ib=function(l){return J8()},ie.jb=function(l){return Ja(this,l)},ie.Q=function(){Lm(this)},ie.kb=function(l){return jv(this,l,!1)},ie.lb=function(l){return Hc(this,l)},ie.V=function(){return this.Y()==0},ie.nb=function(l){return jv(this,l,!0)},ie.ob=function(){return this.pb(ot(zt,At,1,this.Y(),4,1))},ie.pb=function(l){return h2(this,l)},ie.w=function(){return Xc(this)},Le(sn,"AbstractCollection",640),ke(641,640,ua),ie.t=function(l){return kN(this,l)},ie.v=function(){return xS(this)},Le(sn,"AbstractSet",641),ke(649,641,ua),Le(Rt,"Sets/ImprovedAbstractSet",649),ke(655,649,ua),ie.Q=function(){this.qb().Q()},ie.kb=function(l){return TN(this,l)},ie.V=function(){return this.qb().V()},ie.nb=function(l){var _;return this.kb(l)?(_=z(l,21),this.qb().W().nb(_.yb())):!1},ie.Y=function(){return this.qb().Y()},Le(Rt,"Maps/EntrySet",655),ke(387,655,ua,_u),ie.kb=function(l){return zN(new rs(this.a.a),l)},ie.mb=function(){return new FC(this.a)},ie.qb=function(){return this.a},ie.nb=function(l){var _;return zN(new rs(this.a.a),l)?(_=z(l,21),lj(this.a.b,_.yb()),!0):!1},Le(Rt,"AbstractMapBasedMultimap/AsMap/AsMapEntries",387),ke(299,1,ei,FC),ie.H=function(){var l;return l=Ug(this.b),this.a=z(l.zb(),19),Mj(this.c,l)},ie.G=function(){return this.b.b},ie.I=function(){JC(this.b),this.c.b.c-=this.a.Y(),this.a.Q()},Le(Rt,"AbstractMapBasedMultimap/AsMap/AsMapIterator",299),ke(260,649,ua,sw),ie.Q=function(){this.b.Q()},ie.kb=function(l){return this.b.R(l)},ie.V=function(){return this.b.V()},ie.mb=function(){return Ar(),Zw(this.b.bb().mb(),(am(),ux))},ie.nb=function(l){return this.b.R(l)?(this.b.eb(l),!0):!1},ie.Y=function(){return this.b.Y()},Le(Rt,"Maps/KeySet",260),ke(386,260,ua,aP),ie.Q=function(){var l;Sm((l=this.b.bb().mb(),new gk(this,l)))},ie.lb=function(l){return this.b.W().lb(l)},ie.t=function(l){return this===l||this.b.W().t(l)},ie.v=function(){return this.b.W().v()},ie.mb=function(){var l;return l=this.b.bb().mb(),new gk(this,l)},ie.nb=function(l){var _,R;return R=0,_=z(this.b.eb(l),19),_&&(R=_.Y(),_.Q(),this.a.c-=R),R>0},Le(Rt,"AbstractMapBasedMultimap/KeySet",386),ke(300,1,ei,gk),ie.G=function(){return this.c.G()},ie.H=function(){return this.a=z(this.c.H(),21),this.a.yb()},ie.I=function(){var l;rh(!!this.a),l=z(this.a.zb(),19),this.c.I(),this.b.a.c-=l.Y(),l.Q()},Le(Rt,"AbstractMapBasedMultimap/KeySet/1",300),ke(216,640,tp,Pv),ie.ib=function(l){return Bj(this,l)},ie.jb=function(l){return zz(this,l)},ie.Q=function(){z8(this)},ie.kb=function(l){return Co(this),this.d.kb(l)},ie.lb=function(l){return Co(this),this.d.lb(l)},ie.t=function(l){return r8(this,l)},ie.v=function(){return Co(this),this.d.v()},ie.mb=function(){return Co(this),new cC(this)},ie.nb=function(l){return tj(this,l)},ie.Y=function(){return Co(this),this.d.Y()},ie.w=function(){return Co(this),so(this.d)},Le(Rt,"AbstractMapBasedMultimap/WrappedCollection",216);var XW=_m(sn,"List");ke(297,216,Od,_C),ie.rb=function(l,_){var R;Co(this),R=this.d.V(),z(this.d,20).rb(l,_),++this.a.c,R&&vm(this)},ie.sb=function(l){return Co(this),z(this.d,20).sb(l)},ie.tb=function(){return Co(this),new GR(this)},ie.ub=function(l){return Co(this),new DD(this,l)},ie.vb=function(l){var _;return Co(this),_=z(this.d,20).vb(l),--this.a.c,Tm(this),_},ie.wb=function(l,_){return Co(this),z(this.d,20).wb(l,_)},ie.xb=function(l,_){return Co(this),HC(this.a,this.e,z(this.d,20).xb(l,_),this.b?this.b:this)},Le(Rt,"AbstractMapBasedMultimap/WrappedList",297),ke(385,297,q2,wP),Le(Rt,"AbstractMapBasedMultimap/RandomAccessWrappedList",385),ke(189,1,ei,cC),ie.G=function(){return pd(this),this.b.G()},ie.H=function(){return pd(this),this.b.H()},ie.I=function(){this.b.I(),--this.d.f.c,Tm(this.d)},Le(Rt,"AbstractMapBasedMultimap/WrappedCollection/WrappedIterator",189),ke(298,189,$d,GR,DD),ie.J=function(l){var _;_=E7(this.a)==0,(pd(this),z(this.b,96)).J(l),++this.a.a.c,_&&vm(this.a)},ie.K=function(){return(pd(this),z(this.b,96)).K()},ie.L=function(){return(pd(this),z(this.b,96)).L()},ie.M=function(){return(pd(this),z(this.b,96)).M()},ie.N=function(){return(pd(this),z(this.b,96)).N()},ie.O=function(l){(pd(this),z(this.b,96)).O(l)},Le(Rt,"AbstractMapBasedMultimap/WrappedList/WrappedListIterator",298),ke(295,216,ua,Xk),Le(Rt,"AbstractMapBasedMultimap/WrappedSet",295),ke(296,216,QT,Zk),Le(Rt,"AbstractMapBasedMultimap/WrappedSortedSet",296),ke(668,1,u0),ie.t=function(l){var _;return yt(l,21)?(_=z(l,21),Kf(this.yb(),_.yb())&&Kf(this.zb(),_.zb())):!1},ie.v=function(){var l,_;return l=this.yb(),_=this.zb(),(l==null?0:Ns(l))^(_==null?0:Ns(_))},ie.Ab=function(l){throw new Tr},ie.w=function(){return this.yb()+"="+this.zb()},Le(Rt,A4,668),ke(390,640,tp,ki),ie.Q=function(){jS(this.a)},ie.kb=function(l){return Pz(this.a,l)},ie.mb=function(){return new d$(this.a)},ie.Y=function(){return this.a.c},Le(Rt,"AbstractMultimap/Values",390),ke(656,640,JT),ie.ib=function(l){return this.Bb(l,1),!0},ie.Bb=function(l,_){throw new Tr},ie.jb=function(l){return fH(this,l)},ie.Q=function(){Sm(this.Eb())},ie.kb=function(l){return this.Cb(l)>0},ie.Cb=function(l){var _,R;for(R=vd(this).mb();R.G();)if(_=z(R.H(),83),Kf(_.Zb(),l))return _.Yb();return 0},ie.gb=function(){return new o1(this)},ie.bb=function(){return vd(this)},ie.t=function(l){return JH(this,l)},ie.v=function(){return vd(this).v()},ie.V=function(){return vd(this).V()},ie.mb=function(){return mo(),new UI(this,vd(this).mb())},ie.nb=function(l){return this.Fb(l,1)>0},ie.Fb=function(l,_){throw new Tr},ie.Gb=function(l,_){var R,O;return mo(),aa(_,"count"),R=this.Cb(l),O=_-R,O>0?this.Bb(l,O):O<0&&this.Fb(l,-O),R},ie.Hb=function(l,_,R){return $z(this,l,_,R)},ie.Y=function(){return yz(this)},ie.w=function(){return so(vd(this))},Le(Rt,"AbstractMultiset",656),ke(657,649,ua),ie.Q=function(){this.Ib().Q()},ie.kb=function(l){var _,R;return yt(l,83)?(R=z(l,83),R.Yb()<=0?!1:(_=this.Ib().Cb(R.Zb()),_==R.Yb())):!1},ie.nb=function(l){var _,R,O,q;return yt(l,83)&&(R=z(l,83),_=R.Zb(),O=R.Yb(),O!=0)?(q=this.Ib(),q.Hb(_,O,0)):!1},Le(Rt,"Multisets/EntrySet",657),ke(396,657,ua,o1),ie.mb=function(){return this.a.Eb()},ie.Ib=function(){return this.a},ie.Y=function(){return this.a.Db()},Le(Rt,"AbstractMultiset/EntrySet",396),ke(384,294,s0),ie.Z=function(){return new ow(j_(this.a))},ie.$=function(){return wo(),yd(),cp},ie.U=function(l){return z(So(this,l),18)},ie.X=function(l){return z(E2(this,l),18)},ie.P=function(){var l;return l=this.f,l||(this.f=new uw(this,this.b))},ie.t=function(l){return SS(this,l)},Le(Rt,"AbstractSetMultimap",384),ke(342,656,JT),Le(Rt,"AbstractSortedMultiset",342),ke(280,600,s0,Vw),ie.a=0,Le(Rt,"ArrayListMultimap",280),ke(159,17,eA);var Ny,Bo,kA=Sn(Rt,"BoundType",159,Vn,B9);ke(623,159,eA,TR),Sn(Rt,"BoundType/1",623,kA,null),ke(624,159,eA,FR),Sn(Rt,"BoundType/2",624,kA,null);var CA;ke(234,1,Zc),ie.w=function(){return Q8(this.c.mb())},Le(Rt,"FluentIterable",234),ke(170,234,Zc,cd),ie.mb=function(){return wn(this)},Le(Rt,"FluentIterable/2",170),ke(664,1,{}),ie.w=function(){return so(Eo(this.a.d).b)},Le(Rt,"ForwardingObject",664),ke(665,664,tp),ie.ib=function(l){return Eo(this.a.d),he()},ie.jb=function(l){return Eo(this.a.d),we()},ie.Q=function(){Eo(this.a.d),Me()},ie.kb=function(l){return kk(Eo(this.a.d),l)},ie.lb=function(l){return rR(Eo(this.a.d),l)},ie.V=function(){return Eo(this.a.d).b.V()},ie.mb=function(){var l;return l=Eo(this.a.d).b.mb(),new y1(l)},ie.nb=function(l){return Eo(this.a.d),Ue()},ie.Y=function(){return Eo(this.a.d).b.Y()},ie.ob=function(){return FD(Eo(this.a.d))},ie.pb=function(l){return OC(Eo(this.a.d),l)},Le(Rt,"ForwardingCollection",665),ke(660,640,nA),ie.mb=function(){return this.Kb()},ie.ib=function(l){return Jp()},ie.jb=function(l){return ek()},ie.Q=function(){Gb()},ie.kb=function(l){return l!=null&&jv(this,l,!1)},ie.Jb=function(){switch(this.Y()){case 0:return ai(),ai(),m0;case 1:return ai(),new tc(this.Kb().H());default:return new gD(this,this.ob())}},ie.nb=function(l){return tk()},Le(Rt,"ImmutableCollection",660),ke(316,660,nA,R1),ie.mb=function(){return Hg(this.a.mb())},ie.kb=function(l){return l!=null&&this.a.kb(l)},ie.lb=function(l){return this.a.lb(l)},ie.V=function(){return this.a.V()},ie.Kb=function(){return Hg(this.a.mb())},ie.Y=function(){return this.a.Y()},ie.ob=function(){return this.a.ob()},ie.pb=function(l){return this.a.pb(l)},ie.w=function(){return so(this.a)},Le(Rt,"ForwardingImmutableCollection",316),ke(87,660,Nd),ie.mb=function(){return this.Kb()},ie.tb=function(){return this.Lb(0)},ie.ub=function(l){return this.Lb(l)},ie.xb=function(l,_){return this.Mb(l,_)},ie.rb=function(l,_){throw new Tr},ie.t=function(l){return aU(this,l)},ie.v=function(){return hz(this)},ie.Kb=function(){return this.Lb(0)},ie.Lb=function(l){return zk(this,l)},ie.vb=function(l){throw new Tr},ie.wb=function(l,_){throw new Tr},ie.Mb=function(l,_){var R;return Zm((R=new XI(this),new E_(R,l,_)))};var m0;Le(Rt,"ImmutableList",87),ke(667,87,Nd),ie.mb=function(){return Hg(this.Nb().mb())},ie.xb=function(l,_){return Zm(this.Nb().xb(l,_))},ie.kb=function(l){return MP(this,l)},ie.lb=function(l){return this.Nb().lb(l)},ie.t=function(l){return this.Nb().t(l)},ie.sb=function(l){return _R(this,l)},ie.v=function(){return this.Nb().v()},ie.V=function(){return this.Nb().V()},ie.Kb=function(){return Hg(this.Nb().mb())},ie.Y=function(){return this.Nb().Y()},ie.Mb=function(l,_){return Zm(this.Nb().xb(l,_))},ie.ob=function(){return this.Nb().pb(ot(zt,At,1,this.Nb().Y(),4,1))},ie.pb=function(l){return this.Nb().pb(l)},ie.w=function(){return so(this.Nb())},Le(Rt,"ForwardingImmutableList",667),ke(524,1,Fd),ie.bb=function(){return zl(this)},ie.W=function(){return fD(this)},ie.fb=function(){return this.Rb()},ie.Q=function(){throw new Tr},ie.R=function(l){return this.cb(l)!=null},ie.ab=function(l){return this.Rb().kb(l)},ie.Pb=function(){return new Yb(this)},ie.Qb=function(){return new P1(this)},ie.t=function(l){return Oz(this,l)},ie.v=function(){return zl(this).v()},ie.V=function(){return this.Y()==0},ie.db=function(l,_){return nk()},ie.eb=function(l){throw new Tr},ie.w=function(){var l;return Ar(),l=Bg(Oj(this.Y()),123),Gz(mF,l,zl(this).mb()),l.a+="}",l.a},ie.Rb=function(){return this.g?this.g:this.g=this.Qb()},ie.e=null,ie.f=null,ie.g=null,Le(Rt,"ImmutableMap",524),ke(320,524,Fd),ie.R=function(l){return jN(this.d,l)},ie.ab=function(l){return nR(this.d,l)},ie.Ob=function(){return IS(new jp(this))},ie.Pb=function(){return IS(AD(this.d))},ie.Qb=function(){return wo(),new R1(MD(this.d))},ie.t=function(l){return OI(this.d,l)},ie.cb=function(l){return l==null?null:Gv(this.d,l)},ie.v=function(){return this.d.c.v()},ie.V=function(){return this.d.c.V()},ie.Y=function(){return this.d.c.Y()},ie.w=function(){return so(this.d.c)},Le(Rt,"ForwardingImmutableMap",320),ke(666,665,ua),ie.t=function(l){return l===this||DI(Eo(this.a.d),l)},ie.v=function(){return Eo(this.a.d).b.v()},Le(Rt,"ForwardingSet",666),ke(523,666,ua,jp),ie.kb=function(l){if(yt(l,21)&&z(l,21).yb()==null)return!1;try{return kk(Eo(this.a.d),l)}catch(_){if(_=ji(_),yt(_,119))return!1;throw zi(_)}},ie.pb=function(l){var _;return _=OC(Eo(this.a.d),l),Eo(this.a.d).b.Y()<_.length&&Po(_,Eo(this.a.d).b.Y(),null),_},Le(Rt,"ForwardingImmutableMap/1",523),ke(663,660,Bd),ie.mb=function(){return this.Kb()},ie.t=function(l){return M3(this,l)},ie.v=function(){return nz(this)},Le(Rt,"ImmutableSet",663),ke(315,663,Bd),ie.mb=function(){return Hg(new Al(this.a.b.mb()))},ie.kb=function(l){return l!=null&&y7(this.a,l)},ie.lb=function(l){return b7(this.a,l)},ie.v=function(){return this.a.b.v()},ie.V=function(){return this.a.b.V()},ie.Kb=function(){return Hg(new Al(this.a.b.mb()))},ie.Y=function(){return this.a.b.Y()},ie.ob=function(){return this.a.b.ob()},ie.pb=function(l){return w7(this.a,l)},ie.w=function(){return so(this.a.b)},Le(Rt,"ForwardingImmutableSet",315),ke(178,1,{178:1,3:1},my),ie.t=function(l){var _;return yt(l,178)?(_=z(l,178),this.a.t(_.a)&&this.b==_.b&&this.c==_.c&&this.d==_.d&&this.f==_.f&&Kf(this.e,_.e)&&Kf(this.g,_.g)):!1},ie.v=function(){return Y_(Ze(Ke(zt,1),At,1,4,[this.a,this.e,this.d,this.g,this.f]))},ie.w=function(){return Bg($c(Bg($c(Bg(Uo($c(new Tg,this.a),":"),this.d==(ss(),Ny)?91:40),this.b?this.e:"-"),44),this.c?this.g:""),this.f==Ny?93:41).a},ie.b=!1,ie.c=!1,Le(Rt,"GeneralRange",178),ke(215,384,s0,fv),ie.a=2,Le(Rt,"HashMultimap",215),ke(661,87,Nd),ie.kb=function(l){return this.Sb().kb(l)},ie.V=function(){return this.Sb().V()},ie.Y=function(){return this.Sb().Y()},Le(Rt,"ImmutableAsList",661),ke(275,320,Fd),ie.Rb=function(){return this.Ub()},ie.fb=function(){return this.Ub()},ie.Ub=function(){return fD(this.Tb())},Le(Rt,"ImmutableBiMap",275),ke(341,668,{3:1,21:1},pk),ie.yb=function(){return this.a},ie.zb=function(){return this.b},ie.Ab=function(l){throw new Tr},Le(Rt,"ImmutableEntry",341),ke(436,315,Bd,nI),Le(Rt,"ImmutableEnumSet",436),ke(379,378,B2,bD),Le(Rt,"ImmutableList/1",379),ke(266,108,ep,qh),ie.G=function(){return this.a.G()},ie.H=function(){return z(this.a.H(),21).yb()},Le(Rt,"ImmutableMap/1",266),ke(670,663,Bd),ie.mb=function(){var l;return l=zl(this.a).Kb(),new qh(l)},ie.Jb=function(){return new I1(this)},ie.Kb=function(){var l;return(l=this.c,l||(this.c=new I1(this))).Kb()},Le(Rt,"ImmutableSet/Indexed",670),ke(606,670,Bd,Yb),ie.mb=function(){var l;return l=zl(this.a).Kb(),new qh(l)},ie.kb=function(l){return this.a.R(l)},ie.Kb=function(){var l;return l=zl(this.a).Kb(),new qh(l)},ie.Y=function(){return this.a.Y()},Le(Rt,"ImmutableMapKeySet",606),ke(604,660,nA,P1),ie.mb=function(){return new e_(this)},ie.kb=function(l){return l!=null&&($r(),$r(),W$(new e_(this),(K1(),l==null?(IC(),EA):new Sb(l)))!=-1)},ie.Jb=function(){var l;return l=lD(zl(this.a)),new XR(this,l)},ie.Kb=function(){return new e_(this)},ie.Y=function(){return this.a.Y()},Le(Rt,"ImmutableMapValues",604),ke(282,108,ep,e_),ie.G=function(){return this.a.G()},ie.H=function(){return z(this.a.H(),21).zb()},Le(Rt,"ImmutableMapValues/1",282),ke(605,661,Nd,XR),ie.Sb=function(){return this.a},ie.sb=function(l){return z(this.b.sb(l),21).zb()},Le(Rt,"ImmutableMapValues/2",605),ke(311,661,Nd,I1),ie.Sb=function(){return this.a},ie.sb=function(l){return M9(this.a,l)},Le(Rt,"ImmutableSet/Indexed/1",311),ke(414,234,Zc,OR),ie.mb=function(){return Wk(this.a)},ie.w=function(){return Xc(this.a)+" (cycled)"},Le(Rt,"Iterables/1",414),ke(105,1,va,I),ie.B=function(l){return z(l,22).mb()},Le(Rt,"Iterables/12",105),ke(415,234,Zc,ZP),ie.mb=function(){return $g(this)},Le(Rt,"Iterables/4",415),ke(416,234,Zc,KP),ie.mb=function(){return Ms(this)},Le(Rt,"Iterables/5",416);var vF,SA;ke(424,651,B2,P),ie.G=function(){return!1},ie.K=function(){return!1},ie.H=function(){throw new $a},ie.L=function(){return 0},ie.M=function(){throw new $a},ie.N=function(){return-1},Le(Rt,"Iterators/1",424),ke(264,108,ep,Hu),ie.G=function(){return!this.a},ie.H=function(){if(this.a)throw new $a;return this.a=!0,this.b},ie.a=!1,Le(Rt,"Iterators/11",264),ke(425,1,ei,N),ie.G=function(){return!1},ie.H=function(){throw new $a},ie.I=function(){rh(!1)},Le(Rt,"Iterators/2",425),ke(426,108,ep,zp),ie.G=function(){return this.a.G()},ie.H=function(){return this.a.H()},Le(Rt,"Iterators/3",426),ke(427,1,ei,IP),ie.G=function(){return this.a.G()||this.b.mb().G()},ie.H=function(){return sS(this)},ie.I=function(){this.a.I()},Le(Rt,"Iterators/4",427),ke(429,428,ep,qI),Le(Rt,"Iterators/6",429),ke(261,1,ei),ie.G=function(){return this.b.G()},ie.H=function(){return oR(this)},ie.I=function(){this.b.I()},Le(Rt,"TransformedIterator",261),ke(430,261,ei,rP),ie.Vb=function(l){return xI(this,l)},Le(Rt,"Iterators/7",430),ke(313,1,ei),ie.G=function(){return vn(this)},ie.H=function(){return cn(this)},ie.I=function(){rh(!!this.c),this.c.I(),this.c=null},Le(Rt,"MultitransformedIterator",313),ke(90,313,{90:1,35:1},Ls),ie.Wb=function(l){return z(l,35)},Le(Rt,"Iterators/ConcatenatedIterator",90),ke(314,313,ei,ik),ie.Wb=function(l){return tz(z(l,35))},Le(Rt,"Iterators/ConcatenatedIterator/1",314),ke(329,653,s0,Sk),ie.U=function(l){return new cw(this,l)},ie.X=function(l){return UC(this,l)},ie.Q=function(){CC(this)},ie.R=function(l){return mk(this,l)},ie.S=function(){return new Ck(this)},ie.T=function(){return new jh(this)},ie.V=function(){return!this.a},ie.Y=function(){return this.d},ie.c=0,ie.d=0,Le(Rt,"LinkedListMultimap",329),ke(647,640,Od),ie.rb=function(l,_){throw new Kh("Add not supported on this list")},ie.ib=function(l){return this.rb(this.Y(),l),!0},ie.Q=function(){this.Xb(0,this.Y())},ie.t=function(l){return Y3(this,l)},ie.v=function(){return V$(this)},ie.mb=function(){return new Uu(this)},ie.tb=function(){return this.ub(0)},ie.ub=function(l){return new nr(this,l)},ie.vb=function(l){throw new Kh("Remove not supported on this list")},ie.Xb=function(l,_){var R,O;for(O=this.ub(l),R=l;R<_;++R)O.H(),O.I()},ie.wb=function(l,_){throw new Kh("Set not supported on this list")},ie.xb=function(l,_){return new E_(this,l,_)},ie.d=0,Le(sn,"AbstractList",647),ke(648,647,Od),ie.rb=function(l,_){lm(this,l,_)},ie.sb=function(l){return Wg(this,l)},ie.mb=function(){return this.ub(0)},ie.vb=function(l){return US(this,l)},ie.wb=function(l,_){var R,O;R=this.ub(l);try{return O=R.H(),R.O(_),O}catch(q){throw q=ji(q),yt(q,74)?new As("Can't set element "+l):zi(q)}},Le(sn,"AbstractSequentialList",648),ke(276,648,Od,cw),ie.ub=function(l){return Gk(this,l)},ie.Y=function(){var l;return l=z(Bn(this.a.b,this.b),126),l?l.a:0},Le(Rt,"LinkedListMultimap/1",276),ke(330,648,Od,fg),ie.ub=function(l){return new u3(this.a,l)},ie.Y=function(){return this.a.d},Le(Rt,"LinkedListMultimap/1EntriesImpl",330),ke(563,649,ua,jh),ie.kb=function(l){return mk(this.a,l)},ie.mb=function(){return new g$(this.a)},ie.nb=function(l){return!UC(this.a,l).a.V()},ie.Y=function(){return V1(this.a.b)},Le(Rt,"LinkedListMultimap/1KeySetImpl",563),ke(562,1,ei,g$),ie.G=function(){return eC(this),!!this.c},ie.H=function(){eC(this),rm(this.c),this.a=this.c,lr(this.d,this.a.a);do this.c=this.c.b;while(this.c&&!lr(this.d,this.c.a));return this.a.a},ie.I=function(){eC(this),rh(!!this.a),Sm(new I_(this.e,this.a.a)),this.a=null,this.b=this.e.c},ie.b=0,Le(Rt,"LinkedListMultimap/DistinctKeyIterator",562),ke(126,1,{126:1},DC),ie.a=0,Le(Rt,"LinkedListMultimap/KeyList",126),ke(560,668,u0,jI),ie.yb=function(){return this.a},ie.zb=function(){return this.f},ie.Ab=function(l){var _;return _=this.f,this.f=l,_},Le(Rt,"LinkedListMultimap/Node",560),ke(561,1,$d,u3),ie.J=function(l){z(l,21),Wh()},ie.H=function(){return aO(this)},ie.M=function(){return oO(this)},ie.O=function(l){z(l,21),Hb()},ie.G=function(){return dm(this),!!this.c},ie.K=function(){return dm(this),!!this.e},ie.L=function(){return this.d},ie.N=function(){return this.d-1},ie.I=function(){dm(this),rh(!!this.a),this.a!=this.c?(this.e=this.a.d,--this.d):this.c=this.a.b,F3(this.f,this.a),this.a=null,this.b=this.f.c},ie.b=0,ie.d=0,Le(Rt,"LinkedListMultimap/NodeIterator",561),ke(241,1,$d,I_,P3),ie.J=function(l){this.e=I2(this.f,this.b,l,this.c),++this.d,this.a=null},ie.G=function(){return!!this.c},ie.K=function(){return!!this.e},ie.H=function(){return x_(this)},ie.L=function(){return this.d},ie.M=function(){return KD(this)},ie.N=function(){return this.d-1},ie.I=function(){rh(!!this.a),this.a!=this.c?(this.e=this.a.e,--this.d):this.c=this.a.c,F3(this.f,this.a),this.a=null},ie.O=function(l){nm(!!this.a),this.a.f=l},ie.d=0,Le(Rt,"LinkedListMultimap/ValueForKeyIterator",241),ke(419,647,Od),ie.rb=function(l,_){this.a.rb(l,_)},ie.kb=function(l){return this.a.kb(l)},ie.sb=function(l){return this.a.sb(l)},ie.vb=function(l){return this.a.vb(l)},ie.wb=function(l,_){return this.a.wb(l,_)},ie.Y=function(){return this.a.Y()},Le(Rt,"Lists/AbstractListWrapper",419),ke(420,419,q2),Le(Rt,"Lists/RandomAccessListWrapper",420),ke(422,420,q2,XI),ie.ub=function(l){return this.a.ub(l)},Le(Rt,"Lists/1",422),ke(88,647,{88:1,22:1,19:1,20:1},Ag),ie.rb=function(l,_){this.a.rb(gd(this,l),_)},ie.Q=function(){this.a.Q()},ie.sb=function(l){return this.a.sb(kC(this,l))},ie.mb=function(){return tO(this,0)},ie.ub=function(l){return tO(this,l)},ie.vb=function(l){return this.a.vb(kC(this,l))},ie.Xb=function(l,_){(UD(l,_,this.a.Y()),B_(this.a.xb(gd(this,_),gd(this,l)))).Q()},ie.wb=function(l,_){return this.a.wb(kC(this,l),_)},ie.Y=function(){return this.a.Y()},ie.xb=function(l,_){return UD(l,_,this.a.Y()),B_(this.a.xb(gd(this,_),gd(this,l)))},Le(Rt,"Lists/ReverseList",88),ke(220,88,{88:1,22:1,19:1,20:1,63:1},iv),Le(Rt,"Lists/RandomAccessReverseList",220),ke(421,1,$d,HI),ie.J=function(l){this.c.J(l),this.c.M(),this.a=!1},ie.G=function(){return this.c.K()},ie.K=function(){return this.c.G()},ie.H=function(){if(!this.c.K())throw new $a;return this.a=!0,this.c.M()},ie.L=function(){return gd(this.b,this.c.L())},ie.M=function(){if(!this.c.G())throw new $a;return this.a=!0,this.c.H()},ie.N=function(){return gd(this.b,this.c.L())-1},ie.I=function(){rh(this.a),this.c.I(),this.a=!1},ie.O=function(l){nm(this.a),this.c.O(l)},ie.a=!1,Le(Rt,"Lists/ReverseList/1",421);var mF;ke(376,261,ei,iP),ie.Vb=function(l){return Ar(),new pk(l,xR(this.a,l))},Le(Rt,"Maps/1",376),ke(188,17,iA);var ux,TA,AA=Sn(Rt,"Maps/EntryFunction",188,Vn,F9);ke(374,188,iA,aR),ie.B=function(l){return z(l,21).yb()},Sn(Rt,"Maps/EntryFunction/1",374,AA,null),ke(375,188,iA,PR),ie.B=function(l){return z(l,21).zb()},Sn(Rt,"Maps/EntryFunction/2",375,AA,null),ke(373,640,tp,ZI),ie.Q=function(){this.a.Q()},ie.kb=function(l){return this.a.ab(l)},ie.V=function(){return this.a.V()},ie.mb=function(){return xD(this)},ie.nb=function(l){var _,R;try{return jv(this,l,!0)}catch(O){if(O=ji(O),yt(O,45)){for(R=this.a.bb().mb();R.G();)if(_=z(R.H(),21),Kf(l,_.zb()))return this.a.eb(_.yb()),!0;return!1}else throw zi(O)}},ie.Y=function(){return this.a.Y()},Le(Rt,"Maps/Values",373),ke(301,654,Dd,Ck),ie.cb=function(l){return this.a.R(l)?this.a.U(l):null},ie.eb=function(l){return this.a.R(l)?this.a.X(l):null},ie.Q=function(){this.a.Q()},ie.R=function(l){return this.a.R(l)},ie.hb=function(){return new no(this)},ie.gb=function(){return this.hb()},ie.V=function(){return this.a.V()},ie.W=function(){return this.a.W()},ie.Y=function(){return this.a.W().Y()},Le(Rt,"Multimaps/AsMap",301),ke(393,655,ua,no),ie.mb=function(){return u9(this.a.a.W(),new kl(this))},ie.qb=function(){return this.a},ie.nb=function(l){var _;return TN(this,l)?(_=z(l,21),jq(this.a,_.yb()),!0):!1},Le(Rt,"Multimaps/AsMap/EntrySet",393),ke(395,1,va,kl),ie.B=function(l){return xR(this,l)},Le(Rt,"Multimaps/AsMap/EntrySet/1",395),ke(391,656,JT,s1),ie.Q=function(){CC(this.a)},ie.kb=function(l){return mk(this.a,l)},ie.Cb=function(l){var _;return _=z(Gv(Xf(this.a),l),19),_?_.Y():0},ie.gb=function(){return new Tb(this)},ie.Db=function(){return Xf(this.a).Y()},ie.Eb=function(){return new ak(bC(Xf(this.a)).mb())},ie.mb=function(){return vD(this)},ie.Fb=function(l,_){var R,O,q,H,W;if(aa(_,aA),_==0)return W=z(Gv(Xf(this.a),l),19),W?W.Y():0;if(H=z(Gv(Xf(this.a),l),19),!H)return 0;if(q=H.Y(),_>=q)H.Q();else for(O=H.mb(),R=0;R<_;R++)O.H(),O.I();return q},Le(Rt,"Multimaps/Keys",391),ke(302,261,ei,ak),ie.Vb=function(l){return new u1(z(l,21))},Le(Rt,"Multimaps/Keys/1",302),ke(658,1,{83:1}),ie.t=function(l){var _;return yt(l,83)?(_=z(l,83),this.Yb()==_.Yb()&&Kf(this.Zb(),_.Zb())):!1},ie.v=function(){var l;return l=this.Zb(),(l==null?0:Ns(l))^this.Yb()},ie.w=function(){return vO(this)},Le(Rt,"Multisets/AbstractEntry",658),ke(394,658,{83:1},u1),ie.Yb=function(){return z(this.a.zb(),19).Y()},ie.Zb=function(){return this.a.yb()},Le(Rt,"Multimaps/Keys/1/1",394),ke(392,657,ua,Tb),ie.kb=function(l){var _,R;return yt(l,83)?(R=z(l,83),_=z(Xf(this.a.a).cb(R.Zb()),19),!!_&&_.Y()==R.Yb()):!1},ie.V=function(){return!this.a.a.a},ie.mb=function(){return new ak(bC(Xf(this.a.a)).mb())},ie.Ib=function(){return this.a},ie.nb=function(l){var _,R;return yt(l,83)&&(R=z(l,83),_=z(Xf(this.a.a).cb(R.Zb()),19),_&&_.Y()==R.Yb())?(_.Q(),!0):!1},ie.Y=function(){return Xf(this.a.a).Y()},Le(Rt,"Multimaps/Keys/KeysEntrySet",392),ke(659,1,_i),Le(Rt,"Ordering",659),ke(398,659,_i,v),ie.$b=function(l,_){return U7(z(l,83),z(_,83))},Le(Rt,"Multisets/1",398),ke(397,658,{83:1,3:1},QP),ie.Yb=function(){return this.a},ie.Zb=function(){return this.b},ie.a=0,Le(Rt,"Multisets/ImmutableEntry",397),ke(303,1,ei,UI),ie.G=function(){return this.d>0||this.c.G()},ie.H=function(){if(!(this.d>0||this.c.G()))throw new $a;return this.d==0&&(this.b=z(this.c.H(),83),this.f=this.d=this.b.Yb()),--this.d,this.a=!0,this.b.Zb()},ie.I=function(){rh(this.a),this.f==1?this.c.I():this.e.Fb(this.b.Zb(),1)>0,--this.f,this.a=!1},ie.a=!1,ie.d=0,ie.f=0,Le(Rt,"Multisets/MultisetIteratorImpl",303),ke(622,659,{3:1,56:1},S),ie.$b=function(l,_){return t9(z(l,23),z(_,23))},ie.w=function(){return"Ordering.natural()"};var yF;Le(Rt,"NaturalOrdering",622),ke(343,661,Nd,gD),ie.ub=function(l){return zk(this.b,l)},ie.Sb=function(){return this.a},ie.sb=function(l){return _R(this.b,l)},ie.Lb=function(l){return zk(this.b,l)},Le(Rt,"RegularImmutableAsList",343),ke(559,275,Fd,CD),ie.Tb=function(){return this.a};var bF;Le(Rt,"RegularImmutableBiMap",559),ke(53,667,Nd,Xr),ie.Nb=function(){return this.a},Le(Rt,"RegularImmutableList",53),ke(321,320,Fd,ok),Le(Rt,"RegularImmutableMap",321),ke(265,315,Bd,Ew);var cp;Le(Rt,"RegularImmutableSet",265),ke(650,641,ua),Le(Rt,"Sets/SetView",650),ke(377,650,ua,DP),ie.kb=function(l){return Pl(this.b,l)&&Pl(this.c,l)},ie.lb=function(l){return Hc(this.b,l)&&Hc(this.c,l)},ie.V=function(){return $_(this)},ie.mb=function(){var l;return Wf((l=new Dn(this.b.a).a.bb().mb(),new Fn(l)),this.a)},ie.Y=function(){var l;return A_(Wf((l=new Dn(this.b.a).a.bb().mb(),new Fn(l)),this.a))},Le(Rt,"Sets/2",377),ke(328,275,Fd,rO,UO),ie.fb=function(){return wo(),new Dc(this.c)},ie.Tb=function(){var l;return l=this.a,l||(this.a=new UO(this.c,this.b,this))},ie.Ub=function(){return wo(),new Dc(this.c)},Le(Rt,"SingletonImmutableBiMap",328),ke(127,667,Nd,tc),ie.Nb=function(){return this.a},Le(Rt,"SingletonImmutableList",127),ke(135,663,Bd,Dc),ie.mb=function(){return $r(),new Hu(this.a)},ie.kb=function(l){return hs(this.a,l)},ie.Kb=function(){return $r(),new Hu(this.a)},ie.Y=function(){return 1},Le(Rt,"SingletonImmutableSet",135),ke(285,342,{207:1,3:1,22:1,19:1},jC,qN),ie.Bb=function(l,_){return yy(this,l,_)},ie.Cb=function(l){return hy(this,l)},ie.Db=function(){return xd(CS(this,(om(),LA)))},ie.Eb=function(){return new oP(this)},ie.Fb=function(l,_){return vT(this,l,_)},ie.Gb=function(l,_){return f3(this,l,_)},ie.Hb=function(l,_,R){var O,q,H;return aa(R,"newCount"),aa(_,"oldCount"),ud(xv(this.b,l)),H=this.c.a,H?(q=ot(Hr,zr,26,1,12,1),O=DT(H,this.d,l,_,R,q),km(this.c,H,O),q[0]==_):_==0?(R>0&&yy(this,l,R),!0):!1},ie.Y=function(){return xd(CS(this,(om(),cx)))},Le(Rt,"TreeMultiset",285),ke(619,658,{83:1},YI),ie.Yb=function(){var l;return l=this.b.c,l==0?hy(this.a,this.b.b):l},ie.Zb=function(){return this.b.b},Le(Rt,"TreeMultiset/1",619),ke(620,1,ei,oP),ie.H=function(){return Dz(this)},ie.G=function(){return q$(this)},ie.I=function(){rh(!!this.b),f3(this.c,this.b.b.b,0),this.b=null},Le(Rt,"TreeMultiset/2",620),ke(205,17,oA);var LA,cx,MA=Sn(Rt,"TreeMultiset/Aggregate",205,Vn,q9);ke(617,205,oA,AR),ie._b=function(l){return l.c},ie.ac=function(l){return l?l.j:0},Sn(Rt,"TreeMultiset/Aggregate/1",617,MA,null),ke(618,205,oA,eP),ie._b=function(l){return 1},ie.ac=function(l){return l?l.a:0},Sn(Rt,"TreeMultiset/Aggregate/2",618,MA,null),ke(206,658,{83:1,206:1},Wm),ie.Yb=function(){return this.c},ie.Zb=function(){return this.b},ie.w=function(){return mo(),vO(new QP(this.b,this.c))},ie.a=0,ie.c=0,ie.d=0,ie.j=0,Le(Rt,"TreeMultiset/AvlNode",206),ke(616,1,{},M),Le(Rt,"TreeMultiset/Reference",616);var ZW=Le(XT,"JavaScriptObject$",0),fx;ke(628,1,{}),Le(XT,"Scheduler",628);var Fy=0,wF=0,By=-1;ke(360,628,{},g);var IA;Le(Sy,"SchedulerImpl",360),ke(646,1,{}),ie.hc=function(){return null},ie.ic=function(){return null},ie.jc=function(){return null},ie.kc=function(){return null},ie.lc=function(){return null},Le(uh,"JSONValue",646),ke(214,646,{214:1},b1,c1),ie.t=function(l){return yt(l,214)?this.a==z(l,214).a:!1},ie.gc=function(){return _1},ie.v=function(){return Ku(this.a)},ie.hc=function(){return this},ie.w=function(){var l,_,R;for(R=new Sg("["),_=0,l=this.a.length;_<l;_++)_>0&&(R.a+=","),$c(R,jc(this,_));return R.a+="]",R.a},Le(uh,"JSONArray",214),ke(292,646,{},hg),ie.gc=function(){return Zp},ie.ic=function(){return this},ie.w=function(){return QR(this.a)},ie.a=!1;var _F,xF;Le(uh,"JSONBoolean",292),ke(371,72,Au,rI),Le(uh,"JSONException",371),ke(435,646,{},F),ie.gc=function(){return E1},ie.w=function(){return Lu};var EF;Le(uh,"JSONNull",435),ke(104,646,{104:1},Gp),ie.t=function(l){return yt(l,104)?this.a==z(l,104).a:!1},ie.gc=function(){return x1},ie.v=function(){return Wr(ct(this.a))},ie.jc=function(){return this},ie.w=function(){return this.a+""},ie.a=0,Le(uh,"JSONNumber",104),ke(69,646,{69:1},Bf,dg),ie.t=function(l){return yt(l,69)?this.a==z(l,69).a:!1},ie.gc=function(){return Kp},ie.v=function(){return Ku(this.a)},ie.kc=function(){return this},ie.w=function(){var l,_,R,O,q,H;for(H=new Sg("{"),l=!0,q=k$(this,ot(ox,wi,2,0,5,1)),R=0,O=q.length;R<O;++R)_=q[R],l?l=!1:H.a+=", ",Uo(H,V3(_)),H.a+=":",$c(H,kr(this,_));return H.a+="}",H.a},Le(uh,"JSONObject",69),ke(361,641,ua,WI),ie.kb=function(l){return us(l)&&t7(this.a,dd(l))},ie.mb=function(){return new Uu(new vo(this.b))},ie.Y=function(){return this.b.length},Le(uh,"JSONObject/1",361);var hx;ke(97,646,{97:1},jl),ie.t=function(l){return yt(l,97)?Ts(this.a,z(l,97).a):!1},ie.gc=function(){return Yh},ie.v=function(){return l2(this.a)},ie.lc=function(){return this},ie.w=function(){return V3(this.a)},Le(uh,"JSONString",97);var kF,CF,RA;ke(186,1,{},gm,Qk),ie.b=!1,ie.c=0,ie.d=-1,ie.e=0,ie.f=!1,ie.j=0,Le("de.cau.cs.kieler.core.alg","BasicProgressMonitor",186),ke(10,1,{10:1,286:1,3:1,5:1},Ni,Gl,Wt,qr),ie.t=function(l){return E$(this,l)},ie.v=function(){return Wr(ct(this.a))+YG(Wr(ct(this.b)))},ie.w=function(){return"("+this.a+","+this.b+")"},ie.a=0,ie.b=0;var In=Le(R4,"KVector",10);ke(58,648,{3:1,5:1,22:1,19:1,58:1,20:1},qi),ie.ib=function(l){return Un(this,l)},ie.Q=function(){ku(this)},ie.ub=function(l){return zn(this,l)},ie.Y=function(){return this.b},ie.b=0,Le(sn,"LinkedList",58),ke(44,58,{44:1,286:1,3:1,5:1,22:1,19:1,58:1,20:1},Ci,Yw),ie.w=function(){var l,_,R;for(l=new Sg("("),_=zn(this,0);_.b!=_.d.c;)R=z($n(_),10),Uo(l,R.a+","+R.b),_.b!=_.d.c&&(l.a+="; ");return l.a+=")",l.a},Le(R4,"KVectorChain",44);var dh=_m(Ly,"IProperty");ke(131,1,{179:1,131:1,3:1},j),Le(Ly,"MapPropertyHolder",131),ke(14,1,P4,Em,xm,Vr,Ut,Qf,$m),ie.F=function(l){return $7(this,z(l,79))},ie.t=function(l){return LC(this,l)},ie.mc=function(){return this.b},ie.nc=function(){return this.c},ie.oc=function(){return this.d},ie.v=function(){return l2(this.b)},ie.w=function(){return this.b};var SF,TF;Le(Ly,"Property",14),ke(366,1,{23:1},U),ie.F=function(l){return-1},Le(Ly,"Property/1",366),ke(367,1,{23:1},V),ie.F=function(l){return 1},Le(Ly,"Property/2",367),ke(27,1,{27:1,22:1},ui),ie.t=function(l){var _,R,O;return yt(l,27)?(R=z(l,27),_=this.a==null?R.a==null:hs(this.a,R.a),O=this.b==null?R.b==null:hs(this.b,R.b),_&&O):!1},ie.v=function(){var l,_,R,O,q,H;return R=this.a==null?0:Ns(this.a),l=R&fu,_=R&-65536,H=this.b==null?0:Ns(this.b),O=H&fu,q=H&-65536,l^q>>16&fu|_^O<<16},ie.mb=function(){return new Ur(this)},ie.w=function(){return this.a==null&&this.b==null?"pair(null,null)":this.a==null?"pair(null,"+so(this.b)+")":this.b==null?"pair("+so(this.a)+",null)":"pair("+so(this.a)+","+so(this.b)+")"},Le(D4,"Pair",27),ke(431,1,ei,Ur),ie.G=function(){return!this.c&&(!this.b&&this.a.a!=null||this.a.b!=null)},ie.H=function(){if(!this.c&&!this.b&&this.a.a!=null)return this.b=!0,this.a.a;if(!this.c&&this.a.b!=null)return this.c=!0,this.a.b;throw new $a},ie.I=function(){throw this.c&&this.a.b!=null?this.a.b=null:this.b&&this.a.a!=null&&(this.a.a=null),new Xh},ie.b=!1,ie.c=!1,Le(D4,"Pair/1",431),ke(228,72,Au,O1),Le(O4,"UnsupportedConfigurationException",228),ke(99,72,Au,os),Le(O4,"UnsupportedGraphException",99);var PA;ke(103,17,{103:1,3:1,23:1,17:1},Lg);var dx,qy,jy,zy,Gy,Hy,AF=Sn(Iu,"Alignment",103,Vn,W8),LF;ke(59,17,{59:1,3:1,23:1,17:1},uv);var du,Ao,za,ps,Du,b0=Sn(Iu,"Direction",59,Vn,A8),MF;ke(107,17,{107:1,3:1,23:1,17:1},j1);var w0,df,qd,gx,IF=Sn(Iu,"EdgeLabelPlacement",107,Vn,_8),RF;ke(122,17,{122:1,3:1,23:1,17:1},z1);var gh,DA,vx,mx,PF=Sn(Iu,"EdgeRouting",122,Vn,x8),DF;ke(133,17,{133:1,3:1,23:1,17:1},Mg);var OA,$A,NA,FA,yx,BA,OF=Sn(Iu,"EdgeType",133,Vn,X8),$F;ke(166,17,{166:1,3:1,23:1,17:1},dw);var qA,bx,jA,NF=Sn(Iu,"HierarchyHandling",166,Vn,K9),FF,_0,zA,Zo,BF,qF,wx,GA,lp,E0,vs,uo,ph,HA,jF,zF,GF,UA,k0,HF,Gr,jd,YA,UF,C0,fp,hp,to,S0,gf,VA,_x,xx,Ex,kx,Cx,lc,en,fc,T0,A0,WA,zd,XA,Sx,ZA,nl,L0,KA,zs;ke(41,17,{41:1,3:1,23:1,17:1},Dl);var qo,Ga,Ha,Ua,ba,Ya,co,lo,fo,xr=Sn(Iu,"NodeLabelPlacement",41,Vn,kj),YF;ke(100,17,{100:1,3:1,23:1,17:1},cv);var QA,JA,eL,gu,vh,tL=Sn(Iu,"PortAlignment",100,Vn,Y8),VF;ke(28,17,{28:1,3:1,23:1,17:1},Ig);var Gd,Zi,Gs,M0,ys,rl,WF=Sn(Iu,"PortConstraints",28,Vn,V8),XF;ke(149,17,{149:1,3:1,23:1,17:1},gw);var Tx,Ax,I0,ZF=Sn(Iu,"PortLabelPlacement",149,Vn,Q9),KF;ke(32,17,{32:1,3:1,23:1,17:1},lv);var Pt,Yt,Hd,pf,ho,hc,Uy,Ud,vf,Lo,Fi,Mo,Hs,Io,mh,Yd,mf,Vd,Qt,ii,Ft,xi=Sn(Iu,"PortSide",32,Vn,T8),QF;ke(150,17,{150:1,3:1,23:1,17:1},G1);var R0,Lx,Mx,P0,dp=Sn(Iu,"SizeConstraint",150,Vn,k8),JF;ke(139,17,{139:1,3:1,23:1,17:1},H1);var Ix,Rx,D0,Px,Dx=Sn(Iu,"SizeOptions",139,Vn,E8),eB;ke(62,1,{62:1},Cw,Do),ie.t=function(l){var _;return l==null||!yt(l,62)?!1:(_=z(l,62),ao(this.d,_.d)&&ao(this.e,_.e)&&ao(this.c,_.c)&&ao(this.b,_.b))},ie.v=function(){return Y_(Ze(Ke(zt,1),At,1,4,[this.d,this.e,this.c,this.b]))},ie.w=function(){return"Rect[x="+this.d+",y="+this.e+",w="+this.c+",h="+this.b+"]"},ie.b=0,ie.c=0,ie.d=0,ie.e=0,Le(ap,"Rectangle",62),ke(283,62,{283:1,62:1},T1),ie.a=0,Le(uA,"LabelGroup",283),ke(67,17,{67:1,3:1,23:1,17:1},ka);var tB,nB,rB,iB,aB,oB,sB,uB,cB,lB,fB,hB,dB,gB,pB,vB,mB,yB,bB,wB,_B,Ox,xB=Sn(uA,"LabelLocation",67,Vn,NS);ke(225,17,{225:1,3:1,23:1,17:1},pw);var Wd,il,al,KW=Sn(uA,"TextAlignment",225,Vn,J9),bh;ke(589,1,{},X5),ie.a=0,ie.b=!1,ie.d=0,ie.f=0,ie.k=0,ie.r=0,ie.s=0,Le(ap,"LabelAndNodeSizeProcessor/NodeData",589),ke(171,17,{171:1,3:1,23:1,17:1},vw);var Us,Ou,kB,O0,QW=Sn(ap,"LabelSide",171,Vn,Z9);ke(590,1,{},Ab),ie.b=!0,ie.c=!0,ie.d=!0,ie.e=!0,Le(ap,B4,590),ke(121,1,q4),ie.t=function(l){var _;return yt(l,121)?(_=z(l,121),this.d==_.d&&this.a==_.a&&this.b==_.b&&this.c==_.c):!1},ie.v=function(){var l,_;return l=Wr(ct(this.b))<<16,l|=Wr(ct(this.a))&fu,_=Wr(ct(this.c))<<16,_|=Wr(ct(this.d))&fu,l^_},ie.w=function(){return"[top="+this.d+",left="+this.b+",bottom="+this.a+",right="+this.c+"]"},ie.a=0,ie.b=0,ie.c=0,ie.d=0,Le(ap,"Spacing",121),ke(232,121,q4,ev,_P,CP),Le(ap,"Spacing/Insets",232),ke(65,121,{286:1,121:1,65:1,3:1,5:1},xg,Ds,tC),Le(ap,"Spacing/Margins",65),ke(364,1,{},XN),ie.c=!1,ie.d=null,ie.g=null;var nL,rL,$x;Le(K2,"JsonGraphImporter",364);var iL,aL,oL,sL,uL,CB,Yy,cL,lL;ke(417,14,P4,cR),Le(K2,"LayoutOptionResolver/DummyProperty",417),ke(348,1,{},ug);var fL;Le(K2,"RecursiveLGraphLayout",348),ke(73,99,{73:1,3:1,54:1,46:1},Jb,wv,nu);var SB=Le(K2,"UnsupportedJsonGraphException",73);ke(380,1,{},SD);var TB,AB;Le(fA,"GraphConfigurator",380),ke(49,1,{},Lr),Le(fA,"IntermediateProcessingConfiguration",49),ke(365,1,{},yO),Le(fA,"KlayLayered",365),ke(577,1,{},R$),ie.i=0;var LB;Le(f0,"ComponentsToCGraphTransformer",577);var MB;ke(578,1,{},le),ie.tc=function(l,_){return qn(l.wc(),_.wc())},ie.uc=function(l,_){return qn(l.xc(),_.xc())},Le(f0,"ComponentsToCGraphTransformer/1",578),ke(25,1,{25:1}),ie.k=0,ie.o=null,ie.p=!0,ie.r=Ii;var Vy=Le(sp,"CNode",25);ke(198,25,{198:1,25:1},Bk,hS),ie.vc=function(){this.b.d=this.j.d,this.b.e=this.j.e},ie.wc=function(){return this.a!=null?ct(this.a):this.c.i},ie.xc=function(){return this.a!=null?ct(this.a):this.c.i},ie.w=function(){return""},Le(f0,"ComponentsToCGraphTransformer/CRectNode",198),ke(549,1,{},de);var Nx,Fx;Le(f0,"OneDimensionalComponentsCompaction",549),ke(550,1,va,ge),ie.B=function(l){return G_(),dr(),z(z(l,27).a,25).f.f!=0?Qi:Mr},Le(f0,"OneDimensionalComponentsCompaction/lambda$0$Type",550),ke(551,1,va,ve),ie.B=function(l){return G_(),dr(),DS(z(z(l,27).a,25).n,z(z(l,27).b,59))||z(z(l,27).a,25).f.f!=0&&DS(z(z(l,27).a,25).n,z(z(l,27).b,59))?Qi:Mr},Le(f0,"OneDimensionalComponentsCompaction/lambda$1$Type",551),ke(324,1,{},xC),Le(sp,"CGraph",324),ke(78,1,{78:1},ry),ie.b=0,ie.c=0,ie.d=0,ie.f=0,ie.i=!0,ie.j=Ii,Le(sp,"CGroup",78),ke(470,1,{},me),ie.tc=function(l,_){return St(l.wc(),_.wc())},ie.uc=function(l,_){return St(l.xc(),_.xc())},Le(sp,"ISpacingsHandler/1",470),ke(323,1,{},fT),ie.e=!1;var IB,RB,PB,Bx=Le(sp,"OneDimensionalCompactor",323);ke(554,1,va,Q),ie.B=function(l){return i_(),dr(),z(z(l,27).a,25).f.f!=0?Qi:Mr},Le(sp,"OneDimensionalCompactor/lambda$0$Type",554),ke(335,1,{},uC),ie.a=!1,ie.b=!1,ie.c=!1,ie.d=!1,Le(sp,"Quadruplet",335),ke(587,1,{},J),ie.Cc=function(l){var _,R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge;for(fe=ya,O=new xe(l.a.b);O.a<O.c.c.length;)_=z(Ee(O),25),fe=qn(fe,_.f.g.j.d+_.g.a);for($e=new qi,ee=new xe(l.a.a);ee.a<ee.c.c.length;)W=z(Ee(ee),78),W.j=fe,W.f==0&&ci($e,W,$e.c.b,$e.c);for(;$e.b!=0;){for(W=z($e.b==0?null:(Kt($e.b!=0),Cu($e,$e.a.a)),78),q=W.g.j.d,_e=(Re=new Dn(W.a.a).a.bb().mb(),new Fn(Re));_e.a.G();)pe=(H=z(_e.a.H(),21),z(H.yb(),25)),Ge=W.j+pe.g.a,pe.f.i||pe.j.d<Ge?pe.r=Ge:pe.r=pe.j.d;for(q-=W.g.r,W.b+=q,l.d==(Fr(),za)||l.d==du?W.c+=q:W.c-=q,be=(Ce=new Dn(W.a.a).a.bb().mb(),new Fn(Ce));be.a.G();)for(pe=(H=z(be.a.H(),21),z(H.yb(),25)),ce=pe.i.mb();ce.G();)ae=z(ce.H(),25),jf(l.d)?qe=l.g.tc(pe,ae):qe=l.g.uc(pe,ae),ae.f.j=St(ae.f.j,pe.r+pe.j.c+qe-ae.g.a),ae.p||(ae.f.j=St(ae.f.j,ae.j.d-ae.g.a)),--ae.f.f,ae.f.f==0&&Un($e,ae.f)}for(R=new xe(l.a.b);R.a<R.c.c.length;)_=z(Ee(R),25),_.j.d=_.r},Le(hh,"LongestPathCompaction",587),ke(588,1,{},te),ie.Dc=function(l){var _,R,O,q,H,W,ee;for(R=new xe(l.a.b);R.a<R.c.c.length;)_=z(Ee(R),25),_.i.Q();for(q=new xe(l.a.b);q.a<q.c.c.length;)for(O=z(Ee(q),25),W=new xe(l.a.b);W.a<W.c.c.length;)H=z(Ee(W),25),O!=H&&(O.f&&O.f==H.f||(jf(l.d)?ee=l.g.uc(O,H):ee=l.g.tc(O,H),O!=H.o&&(H.j.d>O.j.d||O.j.d==H.j.d&&O.j.c<H.j.c)&&sG(H.j.e+H.j.b+ee,O.j.e)&&FS(H.j.e,O.j.e+O.j.b+ee)&&O.i.ib(H)))},Le(hh,"QuadraticConstraintCalculation",588),ke(317,1,{},lC),ie.Dc=function(l){this.b=l,k2(this,new ue,new se)},Le(hh,"ScanlineConstraintCalculator",317);var $0=_m(Ru,"Scanline/EventHandler");ke(464,1,{160:1},PD),ie.Ec=function(l){GU(this,z(l,235))},Le(hh,"ScanlineConstraintCalculator/ConstraintsScanlineHandler",464),ke(465,1,_i,oe),ie.$b=function(l,_){return li((z(l,25).j.d+z(l,25).j.c)/2,(z(_,25).j.d+z(_,25).j.c)/2)},Le(hh,"ScanlineConstraintCalculator/ConstraintsScanlineHandler/lambda$0$Type",465),ke(235,1,{235:1},yk),ie.a=!1,Le(hh,"ScanlineConstraintCalculator/Timestamp",235),ke(466,1,_i,Z),ie.$b=function(l,_){return eH(l,_)},Le(hh,"ScanlineConstraintCalculator/lambda$0$Type",466),ke(467,1,Xo,ue),ie.D=function(l){return!0},Le(hh,"ScanlineConstraintCalculator/lambda$1$Type",467),ke(468,1,va,se),ie.B=function(l){return 0},Le(hh,"ScanlineConstraintCalculator/lambda$2$Type",468),ke(48,1,{48:1},od,aC),ie.t=function(l){var _;return l==null||JW!=Gg(l)?!1:(_=z(l,48),ao(this.c,_.c)&&ao(this.d,_.d))},ie.v=function(){return Y_(Ze(Ke(zt,1),At,1,4,[this.c,this.d]))},ie.w=function(){return"("+this.c+", "+this.d+(this.a?"cx":"")+this.b+")"},ie.a=!0,ie.c=0,ie.d=0;var JW=Le(Ru,"Point",48);ke(201,17,{201:1,3:1,23:1,17:1},U1);var ol,yf,wh,bf,eX=Sn(Ru,"Point/Quadrant",201,Vn,S8);ke(569,1,{},C1),ie.b=null,ie.c=null,ie.d=null,ie.e=null,ie.f=null;var DB,OB,$B,NB,FB;Le(Ru,"RectilinearConvexHull",569),ke(243,1,{160:1},iy),ie.Ec=function(l){wj(this,z(l,48))},ie.b=0;var hL;Le(Ru,"RectilinearConvexHull/MaximalElementsEventHandler",243),ke(571,1,_i,ye),ie.$b=function(l,_){return _D(l,_)},Le(Ru,"RectilinearConvexHull/MaximalElementsEventHandler/lambda$0$Type",571),ke(570,1,{160:1},AO),ie.Ec=function(l){MU(this,z(l,48))},ie.a=0,ie.b=null,ie.c=null,ie.d=null,ie.e=null,Le(Ru,"RectilinearConvexHull/RectangleEventHandler",570),ke(572,1,_i,Ae),ie.$b=function(l,_){return jg(),z(l,48).c==z(_,48).c?li(z(_,48).d,z(l,48).d):li(z(l,48).c,z(_,48).c)},Le(Ru,"RectilinearConvexHull/lambda$0$Type",572),ke(573,1,_i,Te),ie.$b=function(l,_){return jg(),z(l,48).c==z(_,48).c?li(z(l,48).d,z(_,48).d):li(z(l,48).c,z(_,48).c)},Le(Ru,"RectilinearConvexHull/lambda$1$Type",573),ke(574,1,_i,Oe),ie.$b=function(l,_){return jg(),z(l,48).c==z(_,48).c?li(z(_,48).d,z(l,48).d):li(z(_,48).c,z(l,48).c)},Le(Ru,"RectilinearConvexHull/lambda$2$Type",574),ke(575,1,_i,Ie),ie.$b=function(l,_){return jg(),z(l,48).c==z(_,48).c?li(z(l,48).d,z(_,48).d):li(z(_,48).c,z(l,48).c)},Le(Ru,"RectilinearConvexHull/lambda$3$Type",575),ke(576,1,_i,Be),ie.$b=function(l,_){return kH(l,_)},Le(Ru,"RectilinearConvexHull/lambda$4$Type",576),ke(469,1,{},gO),Le(Ru,"Scanline",469),ke(662,1,{}),Le(hu,"AbstractGraphPlacer",662),ke(222,1,{222:1},LP);var hn;Le(hu,"ComponentGroup",222),ke(434,662,{},Ub),ie.Fc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce;if(this.a.c=ot(zt,At,1,0,4,1),_.b.c=ot(zt,At,1,0,4,1),l.V()){_.e.a=0,_.e.b=0;return}for(H=z(l.sb(0),55),ic(_,H),q=l.mb();q.G();)O=z(q.H(),55),Yz(this,O);for(_e=new Ni,Ce=2*z(Se(H,(tt(),Ia)),15).a,ae=new xe(this.a);ae.a<ae.c.c.length;)W=z(Ee(ae),222),ce=AW(W,Ce),au(SC(W.a),_e.a,_e.b),_e.a+=ce.a,_e.b+=ce.b;if(_.e.a=_e.a-Ce,_.e.b=_e.b-Ce,bn(ct(_n(Se(H,(Ln(),NE)))))&&Ot(Se(H,(pt(),ph)))===Ot((rc(),gh))){for(be=l.mb();be.G();)fe=z(be.H(),55),i0(fe,fe.d.a,fe.d.b);for(R=new De,v4(R,l,Ce),pe=l.mb();pe.G();)fe=z(pe.H(),55),ur(Eu(fe.d),R.e);ur(Eu(_.e),R.a)}for(ee=new xe(this.a);ee.a<ee.c.c.length;)W=z(Ee(ee),222),OO(_,SC(W.a))},Le(hu,"ComponentGroupGraphPlacer",434),ke(322,1,{},De),Le(hu,"ComponentsCompactor",322),ke(13,647,hA,dt,Ta,Nc),ie.rb=function(l,_){ql(this,l,_)},ie.ib=function(l){return xt(this,l)},ie.jb=function(l){return _r(this,l)},ie.Q=function(){this.c=ot(zt,At,1,0,4,1)},ie.kb=function(l){return Sa(this,l,0)!=-1},ie.sb=function(l){return $t(this,l)},ie.V=function(){return this.c.length==0},ie.mb=function(){return new xe(this)},ie.vb=function(l){return eh(this,l)},ie.nb=function(l){return gi(this,l)},ie.Xb=function(l,_){ZD(this,l,_)},ie.wb=function(l,_){return Vl(this,l,_)},ie.Y=function(){return this.c.length},ie.ob=function(){return uP(this)},ie.pb=function(l){return jr(this,l)},Le(sn,"ArrayList",13),ke(532,13,hA,pO),ie.ib=function(l){return Vg(this,z(l,48))},Le(hu,"ComponentsCompactor/Hullpoints",532),ke(529,1,{347:1},VN),ie.a=!1,Le(hu,"ComponentsCompactor/InternalComponent",529),ke(528,1,Zc,Zu),ie.mb=function(){return new xe(this.a)},Le(hu,"ComponentsCompactor/InternalConnectedComponents",528),ke(531,1,{251:1},q3),ie.zc=function(){return null},ie.Ac=function(){return this.a},ie.yc=function(){return u2(this.d)},ie.Bc=function(){return this.b},Le(hu,"ComponentsCompactor/InternalExternalExtension",531),ke(530,1,{251:1},ne),ie.Ac=function(){return this.a},ie.yc=function(){return u2(this.d)},ie.zc=function(){return this.c},ie.Bc=function(){return this.b},Le(hu,"ComponentsCompactor/InternalUnionExternalExtension",530),ke(534,1,{},v5),Le(hu,"ComponentsCompactor/OuterSegments",534),ke(533,1,{},S1),Le(hu,"ComponentsCompactor/Segments",533),ke(381,1,{},dP),Le(hu,"ComponentsProcessor",381),ke(432,662,{},Pe),ie.Fc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt;if(l.Y()==1){Xe=z(l.sb(0),55),Xe!=_&&(_.b.c=ot(zt,At,1,0,4,1),I5(_,Xe,0,0),ic(_,Xe),tD(_.a,Xe.a),_.e.a=Xe.e.a,_.e.b=Xe.e.b);return}else if(l.V()){_.b.c=ot(zt,At,1,0,4,1),_.e.a=0,_.e.b=0;return}for(ee=l.mb();ee.G();){for(H=z(ee.H(),55),$e=0,Ce=new xe(H.b);Ce.a<Ce.c.c.length;)_e=z(Ee(Ce),9),$e+=z(Se(_e,(tt(),Go)),24).a;H.k=$e}for(Oo(l,new Ne),q=z(l.sb(0),55),_.b.c=ot(zt,At,1,0,4,1),ic(_,q),be=0,gt=0,ae=l.mb();ae.G();)H=z(ae.H(),55),Ge=H.e,be=St(be,Ge.a),gt+=Ge.a*Ge.b;for(be=St(be,Math.sqrt(gt)*z(Se(_,(tt(),Kd)),15).a),Je=Y4*z(Se(_,Ia),15).a,mt=0,lt=0,pe=0,R=Je,W=l.mb();W.G();)H=z(W.H(),55),Ge=H.e,mt+Ge.a>be&&(mt=0,lt+=pe+Je,pe=0),Re=H.d,i0(H,mt+Re.a,lt+Re.b),Re.a=0,Re.b=0,R=St(R,mt+Ge.a),pe=St(pe,Ge.b),mt+=Ge.a+Je;if(_.e.a=R,_.e.b=lt+pe,qe=z(Se(_,Ia),15).a,bn(ct(_n(Se(q,(Ln(),NE)))))){for(O=new De,v4(O,l,qe),fe=l.mb();fe.G();)ce=z(fe.H(),55),ur(Eu(ce.d),O.e);ur(Eu(_.e),O.a)}OO(_,l)},Le(hu,"SimpleRowGraphPlacer",432),ke(433,1,_i,Ne),ie.$b=function(l,_){return vz(z(l,55),z(_,55))},Le(hu,"SimpleRowGraphPlacer/1",433),ke(369,1,hr,xl),ie.sc=function(l,_){w4(l,_)};var BB;Le(h0,"CompoundGraphPostprocessor",369),ke(370,1,Xo,He),ie.D=function(l){var _;return _=z(Se(z(l,114).b,(pt(),Gr)),44),!!_&&_.b!=0},Le(h0,"CompoundGraphPostprocessor/1",370),ke(368,1,hr,bR),ie.sc=function(l,_){$N(this,l,_)},Le(h0,"CompoundGraphPreprocessor",368),ke(187,1,{187:1},dN),ie.c=!1,Le(h0,"CompoundGraphPreprocessor/ExternalPort",187),ke(114,1,{114:1},pm),ie.w=function(){return hm(this.c)+":"+i$(this.b)},Le(h0,"CrossHierarchyEdge",114),ke(310,1,_i,xs),ie.$b=function(l,_){return VG(this,z(l,114),z(_,114))},Le(h0,"CrossHierarchyEdgeComparator",310),ke(147,131,{179:1,131:1,147:1,3:1}),ie.k=0,Le(Gi,"LGraphElement",147),ke(12,147,{179:1,131:1,12:1,147:1,3:1},ru),ie.w=function(){return i$(this)};var Va=Le(Gi,"LEdge",12);ke(55,147,{179:1,131:1,55:1,147:1,3:1,22:1},cS),ie.mb=function(){return new xe(this.c)},ie.w=function(){return this.c.c.length==0?"G-unlayered"+Xc(this.b):this.b.c.length==0?"G-layered"+Xc(this.c):"G[layerless"+Xc(this.b)+", layers"+Xc(this.c)+"]"};var tX=Le(Gi,"LGraph",55);ke(273,1,{}),ie.pc=function(){return this.e.j},Le(Gi,"LGraphAdapters/AbstractLShapeAdapter",273),ke(240,1,{627:1},Tc),ie.b=null,Le(Gi,"LGraphAdapters/LEdgeAdapter",240),ke(325,1,{},wk),ie.pc=function(){return this.a.e},ie.b=null,ie.c=!1,Le(Gi,"LGraphAdapters/LGraphAdapter",325),ke(224,273,{129:1,224:1},gg),Le(Gi,"LGraphAdapters/LLabelAdapter",224),ke(555,273,{626:1},QI),ie.a=null,ie.b=null,ie.c=!1,Le(Gi,"LGraphAdapters/LNodeAdapter",555),ke(556,273,{161:1},JI),ie.a=null,ie.b=null,ie.c=null,ie.d=!1,Le(Gi,"LGraphAdapters/LPortAdapter",556),ke(557,1,_i,je),ie.$b=function(l,_){return iY(z(l,7),z(_,7))},Le(Gi,"LGraphAdapters/PortComparator",557),ke(168,1,{168:1},lg,OD),ie.t=function(l){var _;return yt(l,168)?(_=z(l,168),this.d==_.d&&this.a==_.a&&this.b==_.b&&this.c==_.c):!1},ie.v=function(){var l,_;return l=Wr(ct(this.b))<<16,l|=Wr(ct(this.a))&fu,_=Wr(ct(this.c))<<16,_|=Wr(ct(this.d))&fu,l^_},ie.w=function(){return"Insets[top="+this.d+",left="+this.b+",bottom="+this.a+",right="+this.c+"]"},ie.a=0,ie.b=0,ie.c=0,ie.d=0,Le(Gi,"LInsets",168),ke(165,147,{179:1,131:1,147:1,165:1,3:1}),Le(Gi,"LShape",165),ke(33,165,{179:1,131:1,147:1,33:1,165:1,3:1},Ok),ie.w=function(){return this.a==null?"l_"+this.k:"l_"+this.a},Le(Gi,"LLabel",33),ke(9,165,{179:1,131:1,147:1,9:1,165:1,3:1},No),ie.w=function(){return zD(this)};var hi=Le(Gi,"LNode",9);ke(132,17,{132:1,3:1,23:1,17:1},Rg);var La,yr,jo,rr,Pr,Kr,dL=Sn(Gi,"LNode/NodeType",132,Vn,Z8);ke(7,165,{179:1,131:1,147:1,7:1,165:1,3:1},Br),ie.w=function(){var l;return l=MO(this),l==null?"p_"+this.k:"p_"+l};var qx,gL,jx,pL,zx,Gx,qB=Le(Gi,"LPort",7);ke(399,1,Xo,ze),ie.D=function(l){return EP(l)},Le(Gi,"LPort/1",399),ke(400,1,Xo,Ve),ie.D=function(l){return xP(l)},Le(Gi,"LPort/2",400),ke(401,1,Xo,Ye),ie.D=function(l){return z(l,7).g==(ht(),Yt)},Le(Gi,"LPort/3",401),ke(402,1,Xo,nt),ie.D=function(l){return z(l,7).g==(ht(),Pt)},Le(Gi,"LPort/4",402),ke(403,1,Xo,Fe),ie.D=function(l){return z(l,7).g==(ht(),Qt)},Le(Gi,"LPort/5",403),ke(404,1,Xo,Qe),ie.D=function(l){return z(l,7).g==(ht(),Ft)},Le(Gi,"LPort/6",404),ke(190,1,Zc,Pf),ie.mb=function(){var l;return l=new xe(this.a.b),new Hp(l)},Le(Gi,"LPort/7",190),ke(405,1,ei,Hp),ie.H=function(){return z(Ee(this.a),12).c},ie.G=function(){return $l(this.a)},ie.I=function(){Fg(this.a)},Le(Gi,"LPort/7/1",405),ke(169,1,Zc,Cl),ie.mb=function(){var l;return l=new xe(this.a.e),new Up(l)},Le(Gi,"LPort/8",169),ke(304,1,ei,Up),ie.H=function(){return z(Ee(this.a),12).d},ie.G=function(){return $l(this.a)},ie.I=function(){Fg(this.a)},Le(Gi,"LPort/8/1",304),ke(16,147,{179:1,131:1,147:1,16:1,3:1,22:1},Hl),ie.mb=function(){return new xe(this.a)},ie.w=function(){return"L_"+Sa(this.b.c,this,0)+Xc(this.a)},Le(Gi,"Layer",16),ke(437,1,hr,it),ie.sc=function(l,_){var R,O,q,H,W,ee,ae;for(xn(_,"Big nodes intermediate-processing",1),this.a=l,H=new xe(this.a.c);H.a<H.c.c.length;)for(q=z(Ee(H),16),ae=io(q.a),R=cs(ae,new at),ee=Wf(R.b.mb(),R.a);zc(ee);)W=z(th(ee),9),Ot(Se(W,(Ln(),di)))===Ot((qa(),Ep))||Ot(Se(W,di))===Ot(bc)?(O=ET(this,W,!1),et(O,di,z(Se(W,di),85)),et(W,di,Th)):ET(this,W,!0);pn(_)},Le(rn,"BigNodesIntermediateProcessor",437),ke(438,1,Xo,at),ie.D=function(l){return uj(z(l,9))},Le(rn,"BigNodesIntermediateProcessor/1",438),ke(582,1,va,Lb),ie.B=function(l){var _;return rz((_=this,im(l),_))},Le(rn,"BigNodesLabelHandler/CompoundFunction",582),ke(332,1,{},XS),ie.a=0,ie.e=null,ie.f=0,Le(rn,"BigNodesLabelHandler/Handler",332),ke(583,1,va,Mb),ie.B=function(l){var _;return vH((_=this,im(l),_))},Le(rn,"BigNodesLabelHandler/Handler/1",583),ke(584,1,va,eR),ie.B=function(l){var _;return C9((_=this,im(l),_))},Le(rn,"BigNodesLabelHandler/Handler/2",584),ke(585,1,va,tR),ie.B=function(l){var _;return JV((_=this,im(l),_))},Le(rn,"BigNodesLabelHandler/Handler/3",585),ke(439,1,hr,wt),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re;for(xn(_,"Big nodes post-processing",1),this.a=l,ee=new xe(this.a.c);ee.a<ee.c.c.length;)for(W=z(Ee(ee),16),R=cs(W.a,new st),ce=Wf(R.b.mb(),R.a);zc(ce);){for(ae=z(th(ce),9),pe=z(Se(ae,(tt(),U0)),15),H=Q3(this,ae),Re=new dt,Ce=Zr(H,(ht(),Pt)).mb();Ce.G();)be=z(Ce.H(),7),Re.c[Re.c.length]=be,fe=be.i.a-H.j.a,be.i.a=pe.a+fe;for(ae.j.a=pe.a,_e=new xe(Re);_e.a<_e.c.c.length;)be=z(Ee(_e),7),Qn(be,ae);this.a.e.a<ae.i.a+ae.j.a&&(this.a.e.a=ae.i.a+ae.j.a),q=z(Se(ae,TM),20),_r(ae.c,q),O=z(Se(ae,TE),64),O&&O.B(null)}pn(_)},Le(rn,"BigNodesPostProcessor",439),ke(440,1,Xo,st),ie.D=function(l){return cj(z(l,9))},Le(rn,"BigNodesPostProcessor/1",440),ke(441,1,hr,oI),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e;for(xn(_,W4,1),this.c=l,pe=this.c.b,q=0,ae=new xe(pe);ae.a<ae.c.c.length;)W=z(Ee(ae),9),W.k=q++;for(this.d=z(Se(this.c,(tt(),Ia)),15).a,this.a=z(Se(this.c,(pt(),vs)),59),this.b=pe.c.length,H=X4,ce=new xe(pe);ce.a<ce.c.c.length;)W=z(Ee(ce),9),W.g==(Ht(),Pr)&&W.j.a<H&&(H=W.j.a);for(H=50>H?50:H,R=new dt,_e=H+this.d,fe=new xe(pe);fe.a<fe.c.c.length;)if(W=z(Ee(fe),9),W.g==(Ht(),Pr)&&W.j.a>_e){for(be=1,O=W.j.a;O>H;)++be,O=(W.j.a-(be-1)*this.d)/be;xt(R,new bO(this,W,be,O))}for(ee=new xe(R);ee.a<ee.c.c.length;)W=z(Ee(ee),267),IY(W.d)&&uW(W);pn(_)},ie.b=0,ie.d=0,Le(rn,"BigNodesPreProcessor",441),ke(267,1,{267:1},bO),ie.a=0,ie.c=0,Le(rn,"BigNodesPreProcessor/BigNode",267),ke(442,1,hr,sI),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re;for(xn(_,W4,1),jB=bn(ct(_n(Se(l,(pt(),E0))))),this.c=l,_e=new dt,W=new xe(l.c);W.a<W.c.c.length;)H=z(Ee(W),16),_r(_e,H.a);for(q=0,fe=new xe(_e);fe.a<fe.c.c.length;)ae=z(Ee(fe),9),ae.k=q++;for(this.d=z(Se(this.c,(tt(),Ia)),15).a,this.a=z(Se(this.c,vs),59),this.b=_e.c.length,ee=X4,pe=new xe(_e);pe.a<pe.c.c.length;)ae=z(Ee(pe),9),ae.g==(Ht(),Pr)&&ae.j.a<ee&&(ee=ae.j.a);for(ee=50>ee?50:ee,R=new dt,Re=ee+this.d,be=new xe(_e);be.a<be.c.c.length;)if(ae=z(Ee(be),9),ae.g==(Ht(),Pr)&&ae.j.a>Re){for(Ce=1,O=ae.j.a;O>ee;)++Ce,O=(ae.j.a-(Ce-1)*this.d)/Ce;xt(R,new qD(this,ae,Ce))}for(ce=new xe(R);ce.a<ce.c.c.length;)ae=z(Ee(ce),268),MW(ae)&&aV(ae);pn(_)},ie.b=0,ie.d=0;var jB=!1;Le(rn,"BigNodesSplitter",442),ke(268,1,{268:1},qD),ie.a=0,ie.e=4,Le(rn,"BigNodesSplitter/BigNode",268),ke(443,1,hr,ft),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce;for(xn(_,"Comment post-processing",1),ae=z(Se(l,(tt(),Ia)),15).a,H=new xe(l.c);H.a<H.c.c.length;){for(q=z(Ee(H),16),O=new dt,ee=new xe(q.a);ee.a<ee.c.c.length;)W=z(Ee(ee),9),ce=z(Se(W,xp),20),R=z(Se(W,yp),20),(ce||R)&&(tW(W,ce,R,ae),ce&&_r(O,ce),R&&_r(O,R));_r(q.a,O)}pn(_)},Le(rn,"CommentPostprocessor",443),ke(444,1,hr,Dt),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e;for(xn(_,"Comment pre-processing",1),ee=new xe(l.b);ee.a<ee.c.c.length;)if(W=z(Ee(ee),9),bn(ct(_n(Se(W,(pt(),lp)))))){for(O=0,R=null,ae=null,_e=new xe(W.f);_e.a<_e.c.c.length;)pe=z(Ee(_e),7),O+=pe.b.c.length+pe.e.c.length,pe.b.c.length==1&&(R=z($t(pe.b,0),12),ae=R.c),pe.e.c.length==1&&(R=z($t(pe.e,0),12),ae=R.d);if(O==1&&ae.b.c.length+ae.e.c.length==1&&!bn(ct(_n(Se(ae.f,lp)))))EW(W,R,ae,ae.f),Fg(ee);else{for($e=new dt,be=new xe(W.f);be.a<be.c.c.length;){for(pe=z(Ee(be),7),fe=new xe(pe.e);fe.a<fe.c.c.length;)ce=z(Ee(fe),12),ce.d.e.c.length==0||($e.c[$e.c.length]=ce);for(H=new xe(pe.b);H.a<H.c.c.length;)q=z(Ee(H),12),q.c.b.c.length==0||($e.c[$e.c.length]=q)}for(Re=new xe($e);Re.a<Re.c.c.length;)Ce=z(Ee(Re),12),uc(Ce,!0)}}pn(_)},Le(rn,"CommentPreprocessor",444),ke(445,1,hr,ut),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe;for(xn(_,"Edge and layer constraint edge reversal",1),ce=new xe(l.b);ce.a<ce.c.c.length;){switch(ae=z(Ee(ce),9),W=z(Se(ae,(Ln(),di)),85),H=null,W.e){case 1:case 2:H=(Cd(),H0);break;case 3:case 4:H=(Cd(),sb)}if(H)et(ae,(tt(),AE),(Cd(),H0)),H==sb?FT(ae,W,(ni(),Ki)):H==H0&&FT(ae,W,(ni(),Ra));else if(eu(z(Se(ae,(pt(),en)),28))&&ae.f.c.length!=0){for(R=!0,pe=new xe(ae.f);pe.a<pe.c.c.length;){if(fe=z(Ee(pe),7),!(fe.g==(ht(),Pt)&&fe.b.c.length-fe.e.c.length>0||fe.g==Ft&&fe.b.c.length-fe.e.c.length<0)){R=!1;break}if(fe.g==Ft){for(q=new xe(fe.e);q.a<q.c.c.length;)if(O=z(Ee(q),12),ee=z(Se(O.d.f,di),85),ee==(qa(),Ep)||ee==bc){R=!1;break}}if(fe.g==Pt){for(q=new xe(fe.b);q.a<q.c.c.length;)if(O=z(Ee(q),12),ee=z(Se(O.c.f,di),85),ee==(qa(),K0)||ee==dl){R=!1;break}}}R&&FT(ae,W,(ni(),DE))}}pn(_)},Le(rn,"EdgeAndLayerConstraintEdgeReverser",445),ke(446,1,hr,_t),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe;for(xn(_,"End label placement",1),W=z(Se(l,(pt(),jd)),15).a,this.a=(Ar(),new kn),this.c=new kn,this.b=new kn,ae=new xe(l.c);ae.a<ae.c.c.length;)for(ee=z(Ee(ae),16),fe=new xe(ee.a);fe.a<fe.c.c.length;)for(ce=z(Ee(fe),9),O=wn(pr(ce));vn(O);)for(R=z(cn(O),12),H=new xe(R.b);H.a<H.c.c.length;)q=z(Ee(H),33),(Ot(Se(q,uo))===Ot((su(),qd))||Ot(Se(q,uo))===Ot(df))&&(pe=null,Ot(Se(q,uo))===Ot(qd)?pe=R.c:Ot(Se(q,uo))===Ot(df)&&(pe=R.d),_d(this.a,pe.f)||Kn(this.a,pe.f,0),_d(this.c,pe.f)||Kn(this.c,pe.f,0),_d(this.b,pe)||Kn(this.b,pe,0),Ot(Se(q,(tt(),Ko)))===Ot((Ba(),Us))?cV(q,pe,W):uV(q,pe,W));pn(_)},Le(rn,"EndLabelProcessor",446),ke(269,1,hr,zh),ie.sc=function(l,_){var R,O,q,H,W;for(xn(_,"Graph transformation ("+this.a+")",1),q=Yl(l.b),O=new xe(l.c);O.a<O.c.c.length;)R=z(Ee(O),16),_r(q,R.a);switch(this.a.e){case 0:d4(q,l);break;case 1:s4(q),W=z(Se(l,(Ln(),eg)),115),W&&et(l,eg,bN(W)),Yo(l.d),Yo(l.e);break;case 2:d4(q,l),_W(q,l),s4(q),H=z(Se(l,(Ln(),eg)),115),H&&et(l,eg,bN(H)),Yo(l.d),Yo(l.e)}pn(_)},Le(rn,"GraphTransformer",269),ke(221,17,{221:1,3:1,23:1,17:1},mw);var vL,mL,yL,nX=Sn(rn,"GraphTransformer/Mode",221,Vn,e8);ke(448,1,hr,Bt),ie.sc=function(l,_){xn(_,"Hierarchical port constraint processing",1),dG(l),BW(l),pn(_)},Le(rn,"HierarchicalPortConstraintProcessor",448),ke(449,1,_i,mn),ie.$b=function(l,_){return xG(z(l,9),z(_,9))},Le(rn,"HierarchicalPortConstraintProcessor/NodeComparator",449),ke(450,1,hr,dn),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe;for(xn(_,"Hierarchical port dummy size processing",1),ae=new dt,pe=new dt,ee=z(Se(l,(tt(),Ia)),15).a,fe=ee*z(Se(l,(Ln(),Bu)),15).a,R=fe*2,q=new xe(l.c);q.a<q.c.c.length;){for(O=z(Ee(q),16),ae.c=ot(zt,At,1,0,4,1),pe.c=ot(zt,At,1,0,4,1),W=new xe(O.a);W.a<W.c.c.length;)H=z(Ee(W),9),H.g==(Ht(),yr)&&(ce=z(Se(H,Ri),32),ce==(ht(),Yt)?ae.c[ae.c.length]=H:ce==Qt&&(pe.c[pe.c.length]=H));z3(ae,!0,R),z3(pe,!1,R)}pn(_)},Le(rn,"HierarchicalPortDummySizeProcessor",450),ke(451,1,hr,Zt),ie.sc=function(l,_){var R,O,q,H;xn(_,"Orthogonally routing hierarchical port edges",1),this.a=0,R=WY(l),QV(l,R),NV(this,l,R),dW(l),O=z(Se(l,(pt(),en)),28),q=l.c,c4((mr(0,q.c.length),z(q.c[0],16)),O,l),c4(z($t(q,q.c.length-1),16),O,l),H=l.c,H5((mr(0,H.c.length),z(H.c[0],16))),H5(z($t(H,H.c.length-1),16)),pn(_)},ie.a=0,Le(rn,"HierarchicalPortOrthogonalEdgeRouter",451),ke(452,1,_i,Mt),ie.$b=function(l,_){return N7(z(l,9),z(_,9))},Le(rn,"HierarchicalPortOrthogonalEdgeRouter/1",452),ke(453,1,_i,We),ie.$b=function(l,_){return xj(z(l,9),z(_,9))},Le(rn,"HierarchicalPortOrthogonalEdgeRouter/2",453),ke(454,1,hr,bt),ie.sc=function(l,_){var R;xn(_,"Hierarchical port position processing",1),R=l.c,R.c.length>0&&F5((mr(0,R.c.length),z(R.c[0],16)),l),R.c.length>1&&F5(z($t(R,R.c.length-1),16),l),pn(_)},Le(rn,"HierarchicalPortPositionProcessor",454),ke(471,1,hr,Nt),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re;for(xn(_,"Hyperedge merging",1),_e=new nr(l.c,0);_e.b<_e.d.Y();)if(be=(Kt(_e.b<_e.d.Y()),z(_e.d.sb(_e.c=_e.b++),16)),Re=be.a,Re.c.length!=0)for(ee=null,pe=null,Ce=0;Ce<Re.c.length;Ce++)R=(mr(Ce,Re.c.length),z(Re.c[Ce],9)),W=R.g,W==(Ht(),rr)&&pe==rr&&(q=z(Se(R,(tt(),Ma)),7),ce=z(Se(ee,Ma),7),H=z(Se(R,wa),7),fe=z(Se(ee,wa),7),O=!!q||!!H,ae=!!ce||!!fe,O&&ae&&(q==ce||H==fe)&&(jU(R,ee,q==ce,H==fe),mr(Ce,Re.c.length),hk(Re.c,Ce,1),--Ce,R=ee,W=pe)),ee=R,pe=W;pn(_)},Le(rn,"HyperedgeDummyMerger",471),ke(472,1,hr,It),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe;for(xn(_,"Hypernodes processing",1),q=new xe(l.c);q.a<q.c.c.length;)for(O=z(Ee(q),16),ee=new xe(O.a);ee.a<ee.c.c.length;)if(W=z(Ee(ee),9),bn(ct(_n(Se(W,(pt(),k0)))))&&W.f.c.length<=2){for(pe=0,fe=0,R=0,H=0,ce=new xe(W.f);ce.a<ce.c.c.length;)switch(ae=z(Ee(ce),7),ae.g.e){case 1:++pe;break;case 2:++fe;break;case 3:++R;break;case 4:++H}pe==0&&R==0&&IW(l,W,H<=fe)}pn(_)},Le(rn,"HypernodesProcessor",472),ke(473,1,hr,Lt),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe;for(xn(_,"Layer constraint edge reversal",1),W=new xe(l.c);W.a<W.c.c.length;){for(H=z(Ee(W),16),fe=-1,R=new dt,ce=z(jr(H.a,ot(hi,Aa,9,H.a.c.length,0,1)),51),q=0;q<ce.length;q++)O=z(Se(ce[q],(tt(),Nu)),140),fe==-1?O!=(ou(),Ch)&&(fe=q):O==(ou(),Ch)&&(Ti(ce[q],null),Ld(ce[q],fe++,H)),O==(ou(),Zd)&&xt(R,ce[q]);for(ae=new xe(R);ae.a<ae.c.c.length;)ee=z(Ee(ae),9),Ti(ee,null),Ti(ee,H)}pn(_)},Le(rn,"InLayerConstraintProcessor",473),ke(474,1,hr,Pn),ie.sc=function(l,_){var R,O,q,H,W,ee;if(z(Se(l,(tt(),Bi)),18).kb((oi(),Ws))){for(ee=new xe(l.b);ee.a<ee.c.c.length;)H=z(Ee(ee),9),H.g==(Ht(),Pr)&&(q=z(Se(H,(pt(),C0)),65),this.c=qn(this.c,H.i.a-q.b),this.a=St(this.a,H.i.a+H.j.a+q.c),this.d=qn(this.d,H.i.b-q.d),this.b=St(this.b,H.i.b+H.j.b+q.a));for(W=new xe(l.b);W.a<W.c.c.length;)if(H=z(Ee(W),9),H.g!=(Ht(),Pr))switch(H.g.e){case 2:if(O=z(Se(H,(Ln(),di)),85),O==(qa(),dl)){H.i.a=this.c-10,MN(H,new qt).A(new Ib(H));break}if(O==bc){H.i.a=this.a+10,MN(H,new ln).A(new xu(H));break}if(R=z(Se(H,Nu),140),R==(ou(),Ch)){K5(H).A(new Rb(H)),H.i.b=this.d-10;break}if(R==Zd){K5(H).A(new l1(H)),H.i.b=this.b+10;break}break;default:throw new Gn("The node type "+H.g+" is not supported by the "+rX)}}},ie.a=Ii,ie.b=Ii,ie.c=ya,ie.d=ya;var rX=Le(rn,"InteractiveExternalPortPositioner",474);ke(475,1,va,qt),ie.B=function(l){return z(l,12).d.f},Le(rn,"InteractiveExternalPortPositioner/lambda$0$Type",475),ke(476,1,va,Ib),ie.B=function(l){return F7(this.a,l)},Le(rn,"InteractiveExternalPortPositioner/lambda$1$Type",476),ke(477,1,va,ln),ie.B=function(l){return z(l,12).c.f},Le(rn,"InteractiveExternalPortPositioner/lambda$2$Type",477),ke(478,1,va,xu),ie.B=function(l){return B7(this.a,l)},Le(rn,"InteractiveExternalPortPositioner/lambda$3$Type",478),ke(479,1,va,Rb),ie.B=function(l){return X7(this.a,l)},Le(rn,"InteractiveExternalPortPositioner/lambda$4$Type",479),ke(480,1,va,l1),ie.B=function(l){return Z7(this.a,l)},Le(rn,"InteractiveExternalPortPositioner/lambda$5$Type",480),ke(37,17,{37:1,3:1,23:1,17:1},Hn);var Hx,N0,Ux,Yx,bL,wL,_L,xL,Vx,Wy,EL,kL,CL,SL,gp,TL,AL,LL,Wx,Xy,Xx,ML,Zy,Ky,Qy,IL,Xd,Jy,RL,PL,DL,Zx,Kx,OL,$L,eb,tb,NL,FL,BL,Qx,Jx,eE,qL,jL,zL,GL,HL,UL,YL,zB=Sn(rn,"IntermediateProcessorStrategy",37,Vn,qH);ke(503,1,hr,fr),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge;for(xn(_,"Inverted port preprocessing",1),ce=l.c,ae=new nr(ce,0),R=null,Ge=new dt;ae.b<ae.d.Y();){for(qe=R,R=(Kt(ae.b<ae.d.Y()),z(ae.d.sb(ae.c=ae.b++),16)),be=new xe(Ge);be.a<be.c.c.length;)fe=z(Ee(be),9),Ti(fe,qe);for(Ge.c=ot(zt,At,1,0,4,1),_e=new xe(R.a);_e.a<_e.c.c.length;)if(fe=z(Ee(_e),9),fe.g==(Ht(),Pr)&&eu(z(Se(fe,(pt(),en)),28))){for($e=xT(fe,(ni(),Ra),(ht(),Pt)).mb();$e.G();)for(Ce=z($e.H(),7),ee=Ce.b,W=z(jr(ee,ot(Va,ja,12,ee.c.length,0,1)),47),q=0,H=W.length;q<H;++q)O=W[q],BY(l,Ce,O,Ge);for(Re=xT(fe,Ki,Ft).mb();Re.G();)for(Ce=z(Re.H(),7),ee=Ce.e,W=z(jr(ee,ot(Va,ja,12,ee.c.length,0,1)),47),q=0,H=W.length;q<H;++q)O=W[q],PU(l,Ce,O,Ge)}}for(pe=new xe(Ge);pe.a<pe.c.c.length;)fe=z(Ee(pe),9),Ti(fe,R);pn(_)},Le(rn,"InvertedPortProcessor",503),ke(481,1,hr,ar),ie.sc=function(l,_){xn(_,"Node and Port Label Placement and Node Sizing",1),jb((Nf(),Nf(),new wk(l,!1))),pn(_)},Le(rn,"LabelAndNodeSizeProcessor",481),ke(482,1,hr,_a),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe;for(xn(_,"Label dummy insertions",1),be=new dt,fe=z(Se(l,(pt(),jd)),15).a,pe=z(Se(l,vs),59),Ce=new xe(l.b);Ce.a<Ce.c.c.length;)for(_e=z(Ee(Ce),9),$e=new xe(_e.f);$e.a<$e.c.c.length;)for(Re=z(Ee($e),7),ee=new xe(Re.e);ee.a<ee.c.c.length;)if(W=z(Ee(ee),12),W.c.f!=W.d.f&&rD(W.b,GB)){for(Ge=Nl(W.b.c.length),R=new No(l),na(R,(Ht(),jo)),et(R,(tt(),Jt),W),et(R,NM,Ge),et(R,en,(Rr(),Zi)),et(R,Ma,W.c),et(R,wa,W.d),be.c[be.c.length]=R,p5(W,R),Xe=z(Se(W,zs),15).a,Xe<0&&(Xe=0,et(W,zs,new Nn(Xe))),qe=Math.floor(Xe/2),q=new xe(R.f);q.a<q.c.c.length;)O=z(Ee(q),7),O.i.b=qe;for(H=R.j,ae=new nr(W.b,0);ae.b<ae.d.Y();)ce=(Kt(ae.b<ae.d.Y()),z(ae.d.sb(ae.c=ae.b++),33)),Ot(Se(ce,uo))===Ot((su(),w0))&&(pe==(Fr(),Du)||pe==du?(H.a+=ce.j.a+fe,H.b=St(H.b,ce.j.b)):(H.a=St(H.a,ce.j.a),H.b+=ce.j.b+fe),Ge.c[Ge.c.length]=ce,ls(ae));(pe==(Fr(),Du)||pe==du)&&(H.a-=fe),H.b+=fe+Xe}_r(l.b,be),pn(_)};var GB;Le(rn,"LabelDummyInserter",482),ke(483,1,Xo,Rn),ie.D=function(l){return Ot(Se(z(l,33),(pt(),uo)))===Ot((su(),w0))},Le(rn,"LabelDummyInserter/1",483),ke(484,1,hr,Cr),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be;for(xn(_,"Label dummy removal",1),q=z(Se(l,(pt(),jd)),15).a,ee=z(Se(l,vs),59),W=new xe(l.c);W.a<W.c.c.length;)for(H=z(Ee(W),16),ce=new nr(H.a,0);ce.b<ce.d.Y();)ae=(Kt(ce.b<ce.d.Y()),z(ce.d.sb(ce.c=ce.b++),9)),ae.g==(Ht(),jo)&&(fe=z(Se(ae,(tt(),Jt)),12),be=z(Se(fe,zs),15).a,R=new qr(ae.i),Ot(Se(ae,Ko))===Ot((Ba(),Ou))&&(R.b+=be+q),O=new Wt(ae.j.a,ae.j.b-be-q),pe=z(Se(ae,NM),20),ee==(Fr(),Du)||ee==du?Bz(pe,R,q,O,Ot(Se(ae,Ko))!==Ot(Us)):Mz(pe,R,q,O),_r(fe.b,pe),e4(ae,!1),ls(ce));pn(_)},Le(rn,"LabelDummyRemover",484),ke(485,1,hr,gn),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge;for(xn(_,"Label dummy switching",1),R=new dt,pe=new dt,ee=new dt,_e=new dt,W=new xe(l.c);W.a<W.c.c.length;)for(H=z(Ee(W),16),fe=new xe(H.a);fe.a<fe.c.c.length;)if(ce=z(Ee(fe),9),ce.g==(Ht(),jo)){R.c[R.c.length]=ce,ee.c=ot(zt,At,1,0,4,1),_e.c=ot(zt,At,1,0,4,1),Re=ce;do Re=z(cn(wn(yi(Re))),12).c.f,Re.g==rr&&(ee.c[ee.c.length]=Re);while(Re.g==rr);Ge=ce;do Ge=z(cn(wn(pr(Ge))),12).d.f,Ge.g==rr&&(_e.c[_e.c.length]=Ge);while(Ge.g==rr);ae=ee.c.length,Ce=_e.c.length,ae>Ce+1?(be=(ae+Ce)/2|0,xt(pe,new ui(ce,(mr(be,ee.c.length),z(ee.c[be],9))))):Ce>ae+1&&(be=((Ce-ae)/2|0)-1,xt(pe,new ui(ce,(mr(be,_e.c.length),z(_e.c[be],9)))))}for(qe=new xe(pe);qe.a<qe.c.c.length;)$e=z(Ee(qe),27),dV(z($e.a,9),z($e.b,9));for(q=new xe(R);q.a<q.c.c.length;)O=z(Ee(q),9),nN(O,new Tn,(tt(),wa)),nN(O,new Sr,Ma);pn(_)},Le(rn,"LabelDummySwitcher",485),ke(486,1,va,Tn),ie.B=function(l){return z(cn(wn(yi(z(l,9)))),12).c.f},Le(rn,"LabelDummySwitcher/lambda$0$Type",486),ke(487,1,va,Sr),ie.B=function(l){return z(cn(wn(pr(z(l,9)))),12).d.f},Le(rn,"LabelDummySwitcher/lambda$1$Type",487),ke(488,1,hr,Yr),ie.sc=function(l,_){xn(_,"Label management",1),im(Se(l,(KC(),PA))),pn(_)},Le(rn,"LabelManagementProcessor",488),ke(489,1,hr,El),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re;switch(ae=z(Se(l,(Ln(),eg)),115),xn(_,"Label side selection ("+ae+")",1),ce=(tn(l),new cd(l)),ae.e){case 0:PH(ce);break;case 1:RH(ce);break;case 2:EU(ce);break;case 3:xU(ce);break;case 4:XV(ce)}for(ee=new xe(l.c);ee.a<ee.c.c.length;)for(W=z(Ee(ee),16),O=new xe(W.a);O.a<O.c.c.length;){for(R=z(Ee(O),9),_e=new xe(R.f);_e.a<_e.c.c.length;)for(pe=z(Ee(_e),7),H=new xe(pe.c);H.a<H.c.c.length;)q=z(Ee(H),33),Ot(Se(q,(tt(),Ko)))===Ot((Ba(),O0))&&et(q,Ko,HB);if(R.g==(Ht(),jo)&&Ot(Se(R,(tt(),Ko)))===Ot((Ba(),Us)))for(fe=z(Se(R,Jt),12),Re=z(Se(fe,(pt(),zs)),15).a,Ce=R.j.b-Math.ceil(Re/2),be=new xe(R.f);be.a<be.c.c.length;)pe=z(Ee(be),7),pe.i.b=Ce}pn(_)};var HB;Le(rn,"LabelSideSelector",489),ke(490,1,_i,Oa),ie.$b=function(l,_){return N9(z(l,7),z(_,7))},Le(rn,"LabelSideSelector/1",490),ke(495,1,hr,Ei),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe;if(xn(_,"Layer constraint application",1),ce=l.c,ce.c.length==0){pn(_);return}for(H=(mr(0,ce.c.length),z(ce.c[0],16)),W=z($t(ce,ce.c.length-1),16),Ge=new Hl(l),Xe=new Hl(l),ae=new xe(ce);ae.a<ae.c.c.length;)for(ee=z(Ee(ae),16),Re=z(jr(ee.a,ot(hi,Aa,9,ee.a.c.length,0,1)),51),be=0,Ce=Re.length;be<Ce;++be)switch(pe=Re[be],R=z(Se(pe,(Ln(),di)),85),R.e){case 1:Ti(pe,H),T5(pe,!1);break;case 2:Ti(pe,Ge),T5(pe,!0);break;case 3:Ti(pe,W),D5(pe);break;case 4:Ti(pe,Xe),D5(pe)}if(ce.c.length>=2){for(fe=!0,$e=(mr(1,ce.c.length),z(ce.c[1],16)),_e=new xe(H.a);_e.a<_e.c.c.length;){if(pe=z(Ee(_e),9),Ot(Se(pe,(Ln(),di)))===Ot((qa(),Th))){fe=!1;break}for(q=wn(pr(pe));vn(q);)if(O=z(cn(q),12),O.d.f.d==$e){fe=!1;break}if(!fe)break}if(fe){for(Re=z(jr(H.a,ot(hi,Aa,9,H.a.c.length,0,1)),51),be=0,Ce=Re.length;be<Ce;++be)pe=Re[be],Ti(pe,$e);gi(ce,H)}}if(ce.c.length>=2){for(fe=!0,qe=z($t(ce,ce.c.length-2),16),_e=new xe(W.a);_e.a<_e.c.c.length;){if(pe=z(Ee(_e),9),Ot(Se(pe,(Ln(),di)))===Ot((qa(),Th))){fe=!1;break}for(q=wn(yi(pe));vn(q);)if(O=z(cn(q),12),O.c.f.d==qe){fe=!1;break}if(!fe)break}if(fe){for(Re=z(jr(W.a,ot(hi,Aa,9,W.a.c.length,0,1)),51),be=0,Ce=Re.length;be<Ce;++be)pe=Re[be],Ti(pe,qe);gi(ce,W)}}ce.c.length==1&&(mr(0,ce.c.length),z(ce.c[0],16)).a.c.length==0&&eh(ce,0),Ge.a.c.length==0||(Zl(0,ce.c.length),pv(ce.c,0,Ge)),Xe.a.c.length==0||(ce.c[ce.c.length]=Xe),pn(_)},Le(rn,"LayerConstraintProcessor",495),ke(496,1,hr,si),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce;for(xn(_,"Layer size calculation",1),ce=Bs,ae=5e-324,W=new xe(l.c);W.a<W.c.c.length;)if(H=z(Ee(W),16),ee=H.c,ee.a=0,ee.b=0,H.a.c.length!=0){for(pe=new xe(H.a);pe.a<pe.c.c.length;)fe=z(Ee(pe),9),_e=fe.j,be=fe.e,ee.a=St(ee.a,_e.a+be.b+be.c);O=z($t(H.a,0),9),Ce=O.i.b-O.e.d,q=z($t(H.a,H.a.c.length-1),9),R=q.i.b+q.j.b+q.e.a,ee.b=R-Ce,ce=ce<Ce?ce:Ce,ae=ae>R?ae:R}l.e.b=ae-ce,l.d.b-=ce,pn(_)},Le(rn,"LayerSizeAndGraphHeightCalculator",496),ke(497,1,hr,ta),ie.sc=function(l,_){var R,O,q,H,W;for(xn(_,"Edge joining",1),R=bn(ct(_n(Se(l,(Ln(),OE))))),q=new xe(l.c);q.a<q.c.c.length;)for(O=z(Ee(q),16),W=new nr(O.a,0);W.b<W.d.Y();)H=(Kt(W.b<W.d.Y()),z(W.d.sb(W.c=W.b++),9)),H.g==(Ht(),rr)&&(e4(H,R),ls(W));pn(_)},Le(rn,"LongEdgeJoiner",497),ke(498,1,hr,Ks),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e;if(xn(_,"Edge splitting",1),l.c.c.length<=2){pn(_);return}for(H=new nr(l.c,0),W=(Kt(H.b<H.d.Y()),z(H.d.sb(H.c=H.b++),16));H.b<H.d.Y();)for(q=W,W=(Kt(H.b<H.d.Y()),z(H.d.sb(H.c=H.b++),16)),ae=new xe(q.a);ae.a<ae.c.c.length;)for(ee=z(Ee(ae),9),fe=new xe(ee.f);fe.a<fe.c.c.length;)for(ce=z(Ee(fe),7),O=new xe(ce.e);O.a<O.c.c.length;)R=z(Ee(O),12),be=R.d,pe=be.f.d,pe!=q&&pe!=W&&p5(R,(_e=new No(l),na(_e,(Ht(),rr)),et(_e,(tt(),Jt),R),et(_e,(pt(),en),(Rr(),Zi)),Ti(_e,W),_e));pn(_)},Le(rn,"LongEdgeSplitter",498),ke(499,1,hr,bu),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce;for(xn(_,"Node margin calculation",1),R=new Ab((Nf(),new wk(l,!0))),eG(R),ee=z(Se(l,(tt(),Ia)),15).a,q=new xe(l.c);q.a<q.c.c.length;)for(O=z(Ee(q),16),W=new xe(O.a);W.a<W.c.c.length;)H=z(Ee(W),9),bY(H,ee),ae=H.e,ce=z(Se(H,FM),65),ae.b=St(ae.b,ce.b),ae.c=St(ae.c,ce.c),ae.a=St(ae.a,ce.a),ae.d=St(ae.d,ce.d);pn(_)},Le(rn,B4,499),ke(491,1,hr,kc),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe;switch(xn(_,"Node promotion heuristic",1),this.g=l,hW(this),this.q=z(Se(l,(Ln(),bb)),109),ce=z(Se(this.g,GM),24).a,q=new zu,this.q.e){case 2:case 1:Pd(this,q);break;case 3:for(this.q=(nf(),rb),Pd(this,q),ee=0,W=new xe(this.a);W.a<W.c.c.length;)H=z(Ee(W),24),ee=Vi(ee,H.a);ee>this.j&&(this.q=F0,Pd(this,q));break;case 4:for(this.q=(nf(),rb),Pd(this,q),ae=0,O=new xe(this.b);O.a<O.c.c.length;)R=Cn(Ee(O)),ae=St(ae,(ti(R),R));ae>this.k&&(this.q=B0,Pd(this,q));break;case 6:pe=Wr(Q1(this.f.length*ce/100)),Pd(this,new Ac(pe));break;case 5:fe=Wr(Q1(this.d*ce/100)),Pd(this,new f1(fe));break;default:Pd(this,q)}HU(this,l),pn(_)},ie.d=0,ie.e=0,ie.i=0,ie.j=0,ie.k=0,ie.n=0,Le(rn,"NodePromotion",491),ke(492,1,va,zu),ie.B=function(l){return dr(),dr(),Qi},Le(rn,"NodePromotion/lambda$0$Type",492),ke(493,1,va,Ac),ie.B=function(l){return A9(this.a,l)},ie.a=0,Le(rn,"NodePromotion/lambda$1$Type",493),ke(494,1,va,f1),ie.B=function(l){return L9(this.a,l)},ie.a=0,Le(rn,"NodePromotion/lambda$2$Type",494),ke(109,17,{109:1,3:1,23:1,17:1},zf);var VL,F0,WL,XL,B0,ZL,nb,rb,UB=Sn(rn,"NodePromotionStrategy",109,Vn,Ej),YB;ke(500,1,hr,wu),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je;for(xn(_,J4,1),_e=z(Se(l,(pt(),ph)),122),q=new xe(l.c);q.a<q.c.c.length;)for(O=z(Ee(q),16),ae=z(jr(O.a,ot(hi,Aa,9,O.a.c.length,0,1)),51),W=0,ee=ae.length;W<ee;++W)if(H=ae[W],H.g==(Ht(),Kr)){if(_e==(rc(),vx))for(fe=new xe(H.f);fe.a<fe.c.c.length;)ce=z(Ee(fe),7),ce.b.c.length==0||PG(ce),ce.e.c.length==0||DG(ce);else if(yt(Se(H,(tt(),Jt)),12))Re=z(Se(H,Jt),12),$e=z(Zr(H,(ht(),Ft)).mb().H(),7),qe=z(Zr(H,Pt).mb().H(),7),Ge=z(Se($e,Jt),7),Xe=z(Se(qe,Jt),7),Ir(Re,Xe),gr(Re,Ge),Je=new qr(qe.f.i),Je.a=Jn(Ze(Ke(In,1),Mn,10,0,[Xe.f.i,Xe.i,Xe.a])).a,Un(Re.a,Je),Je=new qr($e.f.i),Je.a=Jn(Ze(Ke(In,1),Mn,10,0,[Ge.f.i,Ge.i,Ge.a])).a,Un(Re.a,Je);else{if(H.f.c.length>=2){for(Ce=!0,pe=new xe(H.f),R=z(Ee(pe),7);pe.a<pe.c.c.length;)if(be=R,R=z(Ee(pe),7),!hs(Se(be,Jt),Se(R,Jt))){Ce=!1;break}}else Ce=!1;for(fe=new xe(H.f);fe.a<fe.c.c.length;)ce=z(Ee(fe),7),ce.b.c.length==0||KU(ce,Ce),ce.e.c.length==0||QU(ce,Ce)}Ti(H,null)}pn(_)},Le(rn,"NorthSouthPortPostprocessor",500),ke(501,1,hr,Tf),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je;for(xn(_,J4,1),Ce=new dt,Je=new dt,ce=new xe(l.c);ce.a<ce.c.c.length;)for(ae=z(Ee(ce),16),$e=-1,_e=z(jr(ae.a,ot(hi,Aa,9,ae.a.c.length,0,1)),51),pe=0,be=_e.length;pe<be;++pe)if(fe=_e[pe],++$e,!!(fe.g==(Ht(),Pr)&&eu(z(Se(fe,(pt(),en)),28)))){for(la(z(Se(fe,(pt(),en)),28))||RU(fe),et(fe,(tt(),xf),fe),Ce.c=ot(zt,At,1,0,4,1),Je.c=ot(zt,At,1,0,4,1),R=new dt,Xe=new qi,wS(Xe,Zr(fe,(ht(),Yt))),m4(l,Xe,Ce,Je,R),ee=$e,H=new xe(Ce);H.a<H.c.c.length;)O=z(Ee(H),9),Ld(O,ee,ae),++$e,et(O,xf,fe),W=z($t(O.f,0),7),Re=z(Se(W,Jt),7),bn(ct(_n(Se(Re,(Ln(),UE)))))||z(Se(O,Qd),20).ib(fe);for(ku(Xe),Ge=Zr(fe,Qt).mb();Ge.G();)qe=z(Ge.H(),7),ci(Xe,qe,Xe.a,Xe.a.a);for(m4(l,Xe,Je,null,R),q=new xe(Je);q.a<q.c.c.length;)O=z(Ee(q),9),Ld(O,++$e,ae),et(O,xf,fe),W=z($t(O.f,0),7),Re=z(Se(W,Jt),7),bn(ct(_n(Se(Re,(Ln(),UE)))))||z(Se(fe,Qd),20).ib(O);R.c.length==0||et(fe,SM,R)}pn(_)},Le(rn,"NorthSouthPortPreprocessor",501),ke(502,1,_i,Gu),ie.$b=function(l,_){var R,O;return R=l.g,O=_.g,R!=O?R.e-O.e:l.k==_.k?0:R==(ht(),Yt)?l.k-_.k:_.k-l.k},Le(rn,"NorthSouthPortPreprocessor/lambda$0$Type",502),ke(504,1,hr,ca),ie.sc=function(l,_){var R,O,q,H,W,ee;for(xn(_,"Removing partition constraint edges",1),O=new xe(l.c);O.a<O.c.c.length;)for(R=z(Ee(O),16),H=new xe(R.a);H.a<H.c.c.length;)for(q=z(Ee(H),9),ee=new xe(q.f);ee.a<ee.c.c.length;)W=z(Ee(ee),7),bn(ct(_n(Se(W,(tt(),pb)))))&&Fg(ee);pn(_)},Le(rn,"PartitionPostprocessor",504),ke(505,1,hr,po),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe;for(xn(_,"Adding partition constraint edges",1),this.a=new dt,ee=new xe(l.b);ee.a<ee.c.c.length;)H=z(Ee(ee),9),q=z(Se(H,(pt(),VA)),24),Rj(this,q.a).ib(H);for(O=0;O<this.a.c.length-1;O++)for(W=z($t(this.a,O),20).mb();W.G();)for(H=z(W.H(),9),fe=new Br,Qn(fe,H),An(fe,(ht(),Pt)),et(fe,(tt(),pb),(dr(),dr(),Qi)),ce=z($t(this.a,O+1),20).mb();ce.G();)ae=z(ce.H(),9),pe=new Br,Qn(pe,ae),An(pe,Ft),et(pe,pb,Qi),R=new ru,et(R,pb,Qi),et(R,(pt(),XA),nn(20)),Ir(R,fe),gr(R,pe);this.a=null,pn(_)},Le(rn,"PartitionPreprocessor",505),ke(506,1,hr,Za),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re;for(xn(_,"Port distribution",1),R=I3(l),_e=0,fe=0,q=0,W=R.length;q<W;++q)for(O=R[q],ae=0,ce=O.length;ae<ce;++ae)for(ee=O[ae],ee.k=fe++,be=new xe(ee.f);be.a<be.c.c.length;)pe=z(Ee(be),7),pe.k=_e++;for(H=new xe(l.c);H.a<H.c.c.length;)O=z(Ee(H),16),hU(O);Re=z(Se(l,(tt(),Jd)),154),Ce=sh(Re,1)!=0?new ew(ot(Eb,Iy,26,_e,12,1)):new sk(ot(Eb,Iy,26,_e,12,1)),o3(Ce,R),pn(_)},Le(rn,"PortDistributionProcessor",506),ke(507,1,hr,Di),ie.sc=function(l,_){var R,O,q,H,W;for(xn(_,"Port order processing",1),W=new En,O=new xe(l.c);O.a<O.c.c.length;)for(R=z(Ee(O),16),H=new xe(R.a);H.a<H.c.c.length;)q=z(Ee(H),9),eu(z(Se(q,(pt(),en)),28))&&Oo(q.f,W);pn(_)},Le(rn,"PortListSorter",507),ke(508,1,_i,En),ie.$b=function(l,_){return CY(z(l,7),z(_,7))},Le(rn,"PortListSorter/PortComparator",508),ke(509,1,hr,es),ie.sc=function(l,_){var R,O,q,H,W;for(xn(_,"Port side processing",1),W=new xe(l.b);W.a<W.c.c.length;)q=z(Ee(W),9),O3(q);for(O=new xe(l.c);O.a<O.c.c.length;)for(R=z(Ee(O),16),H=new xe(R.a);H.a<H.c.c.length;)q=z(Ee(H),9),O3(q);pn(_)},Le(rn,"PortSideProcessor",509),ke(510,1,hr,Ih),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe;for(xn(_,"Restoring reversed edges",1),ee=new xe(l.c);ee.a<ee.c.c.length;)for(W=z(Ee(ee),16),ce=new xe(W.a);ce.a<ce.c.c.length;)for(ae=z(Ee(ce),9),pe=new xe(ae.f);pe.a<pe.c.c.length;)for(fe=z(Ee(pe),7),H=z(jr(fe.e,ot(Va,ja,12,fe.e.c.length,0,1)),47),O=0,q=H.length;O<q;++O)R=H[O],bn(ct(_n(Se(R,(tt(),Fu)))))&&uc(R,!1);pn(_)},Le(rn,"ReversedEdgeRestorer",510),ke(511,1,hr,tg),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt,Vt,Xt,yn,wr,Er;if(xn(_,"Sausage Folding",1),this.b=z(Se(l,(tt(),Ia)),15).a,this.a=this.b*z(Se(l,(Ln(),kp)),15).a,Ce=FH(this,l),_e=l.c.c.length,Re=EH(this,l),Xt=_e*Re,q=z(Se(l,(pt(),vs)),59),q==(Fr(),Ao)||q==za||q==ps?O=z(Se(l,Kd),15).a:O=1/z(Se(l,Kd),15).a,R=Xt/Ce,O>R){pn(_);return}Gt=0,H=Bs;do++Gt,R=Xt/Gt/(Ce*Gt),be=H,H=R-O<=0?0-(R-O):R-O;while(R>O);for(be<H&&--Gt,Tt=_e/(1>Gt?1:Gt)|0,ce=Tt,Je=Tt,Er=!0;ce<_e;){pe=z($t(l.c,ce),16),jt=!0,Ge=null,Xe=null;e:for(wr=new xe(pe.a);wr.a<wr.c.c.length;)for(yn=z(Ee(wr),9),ee=wn(yi(yn));vn(ee);){if(W=z(cn(ee),12),Ge&&Ge!=yn){jt=!1;break e}if(Ge=yn,Vt=W.c.f,Xe&&Xe!=Vt){jt=!1;break e}Xe=Vt}if(Er&&jt&&(Je=0,Er=!1),ce!=Je){for(gt=z($t(l.c,Je),16),qe=new xe(Yl(pe.a));qe.a<qe.c.c.length;)if($e=z(Ee(qe),9),Ld($e,gt.a.c.length,gt),Je==0)for(ee=new xe(Yl(yi($e)));ee.a<ee.c.c.length;)for(W=z(Ee(ee),12),uc(W,!0),et(l,MM,(dr(),dr(),Qi)),YY(l,W),ae=new dt,HY(l,W.c,W,ae),lt=new xe(ae);lt.a<lt.c.c.length;)mt=z(Ee(lt),9),Ld(mt,gt.a.c.length-1,gt)}Je>=Tt&&(Er=!0),++Je,++ce}for(fe=new nr(l.c,0);fe.b<fe.d.Y();)pe=(Kt(fe.b<fe.d.Y()),z(fe.d.sb(fe.c=fe.b++),16)),pe.a.c.length==0&&ls(fe);pn(_)},ie.a=0,ie.b=0,Le(rn,"SausageFolding",511),ke(512,1,hr,ng),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge;for(xn(_,"Self-loop processing",1),R=new dt,fe=new xe(l.c);fe.a<fe.c.c.length;){for(ce=z(Ee(fe),16),R.c=ot(zt,At,1,0,4,1),be=new xe(ce.a);be.a<be.c.c.length;)for(pe=z(Ee(be),9),Ce=new xe(pe.f);Ce.a<Ce.c.c.length;)for(_e=z(Ee(Ce),7),ae=z(jr(_e.e,ot(Va,ja,12,_e.e.c.length,0,1)),47),W=0,ee=ae.length;W<ee;++W)H=ae[W],H.c.f==H.d.f&&(Re=H.c,qe=H.d,$e=Re.g,Ge=qe.g,(($e==(ht(),Yt)||$e==Qt)&&Ge==Ft||$e==Qt&&Ge==Yt||$e==Pt&&Ge!=Pt)&&uc(H,!1),$e==Pt&&Ge==Ft?xt(R,o5(l,H,qe,Re)):$e==Ft&&Ge==Pt&&xt(R,o5(l,H,Re,qe)));for(q=new xe(R);q.a<q.c.c.length;)O=z(Ee(q),9),Ti(O,ce)}pn(_)},Le(rn,"SelfLoopProcessor",512),ke(513,1,hr,Rh),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce;for(xn(_,"Spline SelfLoop positioning",1),fe=z(Se(l,(Ln(),VE)),153),ce=new xe(l.c);ce.a<ce.c.c.length;)for(ae=z(Ee(ce),16),be=new xe(ae.a);be.a<be.c.c.length;){for(pe=z(Ee(be),9),W=z(Se(pe,(tt(),RE)),20),ee=new dt,q=W.mb();q.G();)R=z(q.H(),75),$G(R),(_e=AC(R.g),Ja(_e,R.i),_e).a.Y()==0?ee.c[ee.c.length]=R:(KY(R),R.g.a.Y()==0||HV(R));switch(fe.e){case 0:Ce=new DR(pe),cz(Ce),RW(Ce,ee);break;case 2:for(H=new xe(ee);H.a<H.c.c.length;)R=z(Ee(H),75),Kg(R,(da(),vu),!0);break;case 1:for(O=new xe(ee);O.a<O.c.c.length;)R=z(Ee(O),75),Kg(R,(da(),vu),!0)}switch(fe.e){case 0:case 1:mY(W);break;case 2:vY(W)}}pn(_)},Le(rn,"SplineSelfLoopPositioner",513),ke(515,1,{},DR),Le(rn,"SplineSelfLoopPositioner/DistributedLoopSidesCalculator",515),ke(516,1,{},E5),ie.d=!0,Le(rn,"SplineSelfLoopPositioner/DistributedLoopSidesCalculator/SortedLoopSides",516),ke(116,1,{116:1},bI),ie.a=0,ie.b=0,Le(rn,"SplineSelfLoopPositioner/DistributedLoopSidesCalculator/SortedLoopSides/SizeOfSide",116),ke(318,1,{},AT);var wf;Le(rn,"SplineSelfLoopPositioner/PortReadder",318),ke(514,1,_i,Ph),ie.$b=function(l,_){return S7(z(l,75),z(_,75))},Le(rn,"SplineSelfLoopPositioner/TextWidthComparator",514),ke(517,1,hr,Af),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge;for(xn(_,"Spline SelfLoop pre-processing.",1),fe=new Fa,be=new xe(l.b);be.a<be.c.c.length;){for(pe=z(Ee(be),9),iG(pe),fe.a.Q(),ee=wn(pr(pe));vn(ee);)H=z(cn(ee),12),Xl(H)&&(_e=fe.a.db(H,fe),_e==null);for(W=(Ce=new Dn(fe.a).a.bb().mb(),new Fn(Ce));W.a.G();)H=(ae=z(W.a.H(),21),z(ae.yb(),12)),qe=H.c.g,Ge=H.d.g,(qe==(ht(),Yt)&&(Ge==Pt||Ge==Qt)||qe==Pt&&Ge==Qt||qe==Qt&&Ge==Ft||qe==Ft&&(Ge==Yt||Ge==Pt))&&uc(H,!1);if(R=eU(fe,pe),et(pe,(tt(),RE),R),!la(z(Se(pe,(pt(),en)),28))){for($e=new $i,q=new xe(R);q.a<q.c.c.length;)O=z(Ee(q),75),Ja($e,w_(O)),Ja($e,O.i);for(ce=new nr(pe.f,0);ce.b<ce.d.Y();)Re=(Kt(ce.b<ce.d.Y()),z(ce.d.sb(ce.c=ce.b++),7)),$e.a.R(Re)&&ls(ce)}}pn(_)},Le(rn,"SplineSelfLoopPreProcessor",517),ke(518,1,hr,Dh),ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt,Vt,Xt,yn,wr;for(xn(_,"Spline SelfLoop routing",1),Gt=new Lf,be=new xe(l.c);be.a<be.c.c.length;)for(pe=z(Ee(be),16),Ge=new xe(pe.a);Ge.a<Ge.c.c.length;){for(qe=z(Ee(Ge),9),Je=qe.f,_e=new Fa,O=z(Se(qe,(tt(),RE)),20).mb();O.G();)R=z(O.H(),75),Ja(_e,R.a);for(gt=new dt,W=(Xe=new Dn(_e.a).a.bb().mb(),new Fn(Xe));W.a.G();){for(H=(ee=z(W.a.H(),21),z(ee.yb(),12)),Tt=H.c,Xt=H.d,fe=new xe(H.c.f.f),lt=0,Vt=0,ae=0,ce=0;ae<2;)q=z(Ee(fe),7),Tt==q&&(lt=ce,++ae),Xt==q&&(Vt=ce,++ae),++ce;mt=z(Se(H,V0),60),jt=mt==(da(),bs)||mt==Ys?Je.c.length-(Vt-lt<0?-(Vt-lt):Vt-lt)+1:Vt-lt<0?-(Vt-lt):Vt-lt,xt(gt,new dO(lt,Vt,jt,mt,H))}if(Oo(gt,Gt),Re=new $i,Ce=new xe(gt),Ce.a<Ce.c.c.length){for($e=h4(z(Ee(Ce),195),Re);Ce.a<Ce.c.c.length;)lS($e,h4(z(Ee(Ce),195),Re));et(qe,FM,(yn=new xg,wr=new A3(qe.j.a,qe.j.b),yn.d=St(0,wr.d-$e.d),yn.b=St(0,wr.b-$e.b),yn.a=St(0,$e.a-wr.a),yn.c=St(0,$e.c-wr.c),yn))}}pn(_)},Le(rn,"SplineSelfLoopRouter",518),ke(91,1,{91:1},Jg),ie.w=function(){return this.b+": "+this.d+" -> "+this.a+" "+hm(this.c)},ie.a=0,ie.b=0,ie.d=0,Le(rn,"SplineSelfLoopRouter/LoopPadding",91),ke(521,1,Xo,YP),ie.D=function(l){return TG(this,z(l,91))},ie.a=0,ie.c=0,Le(rn,"SplineSelfLoopRouter/LoopPadding/EnclosingPredicate",521),ke(520,1,_i,ag),ie.$b=function(l,_){return C7(z(l,91),z(_,91))},Le(rn,"SplineSelfLoopRouter/LoopPadding/MarginComparator",520),ke(196,1,Xo,Sl),ie.D=function(l){return z(l,91).c==this.a},Le(rn,"SplineSelfLoopRouter/LoopPadding/PortSidePredicate",196),ke(195,1,{195:1},dO),ie.c=0,ie.d=0,ie.e=0,Le(rn,"SplineSelfLoopRouter/SelfLoopEdge",195),ke(519,1,_i,Lf),ie.$b=function(l,_){return Xq(z(l,195),z(_,195))},Le(rn,"SplineSelfLoopRouter/SelfLoopEdge/StepSizeComparator",519),ke(82,25,{25:1,82:1},dT),ie.vc=function(){var l,_,R,O;for(_=zn(this.a,0);_.b!=_.d.c;)l=z($n(_),10),l.a=this.j.d;for(O=zn(this.c,0);O.b!=O.d.c;)R=z($n(O),10),R.a=this.j.d},ie.wc=function(){return this.b},ie.xc=function(){return this.e},ie.w=function(){return Xc(new Dn(this.d.a))},ie.b=0,ie.e=0,Le(gs,"CLEdge",82),ke(93,25,{25:1,93:1},S5),ie.vc=function(){this.b.i.a=this.j.d+this.b.e.b},ie.wc=function(){return this.b.g==(Ht(),yr)?0:this.a},ie.xc=function(){return this.b.g==(Ht(),yr)?0:this.c},ie.w=function(){return so(Se(this.b,(tt(),Jt)))},ie.a=0,ie.c=0,Le(gs,"CLNode",93),ke(175,17,{175:1,3:1,23:1,17:1},_k);var KL,tE,VB=Sn(gs,"ConstraintCalculationStrategy",175,Vn,j9),WB;ke(125,17,{125:1,3:1,23:1,17:1},Pg);var QL,JL,eM,tM,q0,nM,XB=Sn(gs,"GraphCompactionStrategy",125,Vn,K8),ZB;ke(455,1,hr,HR),ie.sc=function(l,_){var R,O,q;if(O=z(Se(l,(Ln(),wb)),125),O!=(Qg(),q0)){switch(xn(_,"Horizontal Compaction",1),this.a=l,q=new wR,R=new fT(eY(q,l)),hI(R,this.b),z(Se(l,YE),175).e){case 1:fI(R,KB);break;default:fI(R,(i_(),RB))}switch(O.e){case 1:Tu(R);break;case 2:Tu(lu(R,(Fr(),za)));break;case 3:Tu(sv(lu(Tu(R),(Fr(),za))));break;case 4:Tu(sv(tw(lu(Tu(R),(Fr(),za)),new rg)));break;case 5:Tu(Yq(R,QB))}lu(R,(Fr(),Ao)),R.e=!0,yY(q),pn(_)}};var KB,QB;Le(gs,"HorizontalGraphCompactor",455),ke(462,1,{},Pb),ie.tc=function(l,_){var R,O,q;return yt(l,82)&&yt(_,82)&&!$_(fS(z(l,82).d,z(_,82).d))||(R=null,yt(l,93)&&(R=z(l,93).b),O=null,yt(_,93)&&(O=z(_,93).b),R&&R.g==(Ht(),yr)||O&&O.g==(Ht(),yr))?0:(q=z(Se(this.a.a,(tt(),Cf)),134),qw(q,R?R.g:(Ht(),rr),O?O.g:(Ht(),rr)))},ie.uc=function(l,_){return yt(l,82)&&yt(_,82)&&!$_(fS(z(l,82).d,z(_,82).d))?1:qn(l.xc(),_.xc())},Le(gs,"HorizontalGraphCompactor/1",462),ke(456,317,{},VP),ie.Dc=function(l){var _,R,O;for(this.b=l,k2(this,new Cc,this.a),k2(this,new ig,this.a),_=ya,O=new xe(this.b.a.b);O.a<O.c.c.length;)R=z(Ee(O),25),!(yt(R,93)&&z(R,93).b.g==(Ht(),yr))&&(_=qn(_,ct(LI(this.a,R))));_==ya&&(_=0),k2(this,new Ip,new Yp(_))},Le(gs,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation",456),ke(457,1,va,Db),ie.B=function(l){return LI(this,l)},Le(gs,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$0$Type",457),ke(458,1,Xo,Cc),ie.D=function(l){return yt(z(l,25),82)},Le(gs,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$1$Type",458),ke(459,1,Xo,ig),ie.D=function(l){return yt(z(l,25),93)},Le(gs,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$2$Type",459),ke(460,1,Xo,Ip),ie.D=function(l){return!0},Le(gs,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$3$Type",460),ke(461,1,va,Yp),ie.B=function(l){return this.a},ie.a=0,Le(gs,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$4$Type",461),ke(463,1,va,rg),ie.B=function(l){return Fk(),dr(),DS(z(z(l,27).a,25).n,z(z(l,27).b,59))?Mr:Qi},Le(gs,"HorizontalGraphCompactor/lambda$0$Type",463),ke(553,1,{},wR),ie.c=!1,Le(gs,"LGraphToCGraphTransformer",553),ke(552,1,{},wl),ie.Cc=function(l){var _,R,O,q,H;for(this.a=l,this.d=new wg,this.c=ot(rM,At,61,this.a.a.a.c.length,0,1),this.b=0,R=new xe(this.a.a.a);R.a<R.c.c.length;)_=z(Ee(R),78),_.d=this.b,H=bv(PI(fk(new Ff,this.b),_),this.d),this.c[this.b]=H,++this.b;for(CV(this),bW(this),bU(this),CT(nC(this.d),new gm),q=new xe(this.a.a.b);q.a<q.c.c.length;)O=z(Ee(q),25),O.r=this.c[O.f.d].e+O.g.a,O.j.d=O.r},ie.b=0,Le(gs,"NetworkSimplexCompaction",552),ke(142,1,{142:1,23:1},e0),ie.F=function(l){return _j(this,z(l,142))},ie.c=!1,ie.d=!0,ie.i=0,ie.j=0,ie.k=0,ie.n=0,Le(gs,"VerticalSegment",142),ke(586,1,{},SR),ie.e=!1,Le(To,"AllCrossingsCounter",586),ke(339,1,{}),Le(To,"BetweenLayerEdgeAllCrossingsCounter",339),ke(613,1,{},l3),ie.c=0,ie.e=0,ie.i=0,Le(To,"BetweenLayerEdgeTwoNodeCrossingsCounter",613),ke(284,1,{284:1},S$),ie.w=function(){return"AdjacencyList [node="+this.d+", adjacencies= "+this.a+"]"},ie.b=0,ie.c=0,ie.f=0,Le(To,"BetweenLayerEdgeTwoNodeCrossingsCounter/AdjacencyList",284),ke(128,1,{128:1,23:1},lP),ie.F=function(l){return d9(this,z(l,128))},ie.w=function(){return"Adjacency [position="+this.c+", cardinality="+this.a+", currentCardinality="+this.b+"]"},ie.a=0,ie.b=0,ie.c=0,Le(To,"BetweenLayerEdgeTwoNodeCrossingsCounter/AdjacencyList/Adjacency",128),ke(610,339,{},iI),ie.Gc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt,Vt,Xt,yn,wr,Er,Pa,Xa,pl,vl,r1,qu,Ji,Da,ju,Pi,Hi,Ho,ml,yu,wc,Sf,Zs,_c,Ap,Qo,xc,Jo,go,Ec,Lp,Lh,Mh,yl,Mp,QE,Fq;for(Jo=0,wr=0,Xa=l.length;wr<Xa;++wr)if(Xt=l[wr],la(z(Se(Xt,(pt(),en)),28)))for(Hi=new xe(Xt.f);Hi.a<Hi.c.c.length;){for(Pi=z(Ee(Hi),7),ml=0,W=new xe(Pi.e);W.a<W.c.c.length;)H=z(Ee(W),12),Xt.d!=H.d.f.d&&++ml;ml>0&&(this.a[Pi.k]=Jo++)}else{for(vl=0,Hi=new xe(Xt.f);Hi.a<Hi.c.c.length;){for(Pi=z(Ee(Hi),7),W=new xe(Pi.e);W.a<W.c.c.length;)H=z(Ee(W),12),Xt.d!=H.d.f.d&&++vl;this.a[Pi.k]=Jo}vl>0&&++Jo}for(Mh=0,Er=0,pl=_.length;Er<pl;++Er)if(Xt=_[Er],la(z(Se(Xt,(pt(),en)),28))){for(r1=0,Hi=new xe(Xt.f);Hi.a<Hi.c.c.length&&(Pi=z(Ee(Hi),7),Pi.g==(ht(),Yt));)for(W=new xe(Pi.b);W.a<W.c.c.length;)if(H=z(Ee(W),12),Xt.d!=H.c.f.d){++r1;break}for(Ji=0,yu=new nr(Xt.f,Xt.f.c.length);yu.b>0;){for(Pi=(Kt(yu.b>0),z(yu.a.sb(yu.c=--yu.b),7)),ml=0,W=new xe(Pi.b);W.a<W.c.c.length;)H=z(Ee(W),12),Xt.d!=H.c.f.d&&++ml;ml>0&&(Pi.g==(ht(),Yt)?(this.a[Pi.k]=Mh,++Mh):(this.a[Pi.k]=Mh+r1+Ji,++Ji))}Mh+=Ji}else{for(vl=0,Hi=new xe(Xt.f);Hi.a<Hi.c.c.length;){for(Pi=z(Ee(Hi),7),W=new xe(Pi.b);W.a<W.c.c.length;)H=z(Ee(W),12),Xt.d!=H.c.f.d&&++vl;this.a[Pi.k]=Mh}vl>0&&++Mh}for(Ho=new kn,Re=new $i,yn=0,Pa=l.length;yn<Pa;++yn)for(Xt=l[yn],Lp=new xe(Xt.f);Lp.a<Lp.c.c.length;)for(Ec=z(Ee(Lp),7),W=new xe(Ec.e);W.a<W.c.c.length;)if(H=z(Ee(W),12),Mp=H.d,Xt.d!=Mp.f.d)if(go=z(ra(ia(Ho.d,Ec)),204),yl=z(ra(ia(Ho.d,Mp)),204),!go&&!yl)Ce=new hP,Re.a.db(Ce,Re),Un(Ce.a,H),Un(Ce.e,Ec),eo(Ho.d,Ec,Ce),Un(Ce.e,Mp),eo(Ho.d,Mp,Ce);else if(!go)Un(yl.a,H),Un(yl.e,Ec),eo(Ho.d,Ec,yl);else if(!yl)Un(go.a,H),Un(go.e,Mp),eo(Ho.d,Mp,go);else if(go==yl)Un(go.a,H);else{for(Un(go.a,H),ju=zn(yl.e,0);ju.b!=ju.d.c;)Da=z($n(ju),7),eo(Ho.d,Da,go);Ja(go.a,yl.a),Ja(go.e,yl.e),Re.a.eb(yl)!=null}for($e=z(h2(Re,ot(iX,{675:1,3:1,5:1,6:1},204,Re.a.Y(),0,1)),675),Vt=l[0].d,xc=_[0].d,be=0,_e=$e.length;be<_e;++be)for(pe=$e[be],pe.f=Jo,pe.g=Mh,Hi=zn(pe.e,0);Hi.b!=Hi.d.c;)Pi=z($n(Hi),7),wc=this.a[Pi.k],Pi.f.d==Vt?(wc<pe.f&&(pe.f=wc,pe.b=Ku(Pi)),wc>pe.c&&(pe.c=wc)):Pi.f.d==xc&&(wc<pe.g&&(pe.g=wc),wc>pe.d&&(pe.d=wc));for(Ad($e,0,$e.length,(Gf(),Gf(),Ah)),Lh=ot(Hr,zr,26,$e.length,12,1),R=ot(Hr,zr,26,Mh+1,12,1),Ge=0;Ge<$e.length;Ge++)Lh[Ge]=$e[Ge].g,R[Lh[Ge]]=1;for(q=0,Xe=0;Xe<R.length;Xe++)R[Xe]==1?R[Xe]=q:--q;for(Sf=0,Je=0;Je<Lh.length;Je++)Lh[Je]+=R[Lh[Je]],Sf=Vi(Sf,Lh[Je]+1);for(fe=1;fe<Sf;)fe*=2;for(Fq=2*fe-1,fe-=1,QE=ot(Hr,zr,26,Fq,12,1),O=0,ae=0,ce=Lh.length;ae<ce;++ae)for(ee=Lh[ae],mt=ee+fe,++QE[mt];mt>0;)mt%2>0&&(O+=QE[mt+1]),mt=(mt-1)/2|0,++QE[mt];for(Gt=ot(JB,At,158,$e.length*2,0,1),gt=0;gt<$e.length;gt++)Gt[2*gt]=new Mm($e[gt],$e[gt].f,$e[gt].c,0),Gt[2*gt+1]=new Mm($e[gt],$e[gt].c,$e[gt].f,1);for(Ad(Gt,0,Gt.length,Ah),qu=0,Tt=0,jt=Gt.length;Tt<jt;++Tt)switch(lt=Gt[Tt],lt.d){case 0:++qu;break;case 1:--qu,O+=qu}for(Qo=ot(JB,At,158,$e.length*2,0,1),qe=0;qe<$e.length;qe++)Qo[2*qe]=new Mm($e[qe],$e[qe].g,$e[qe].d,0),Qo[2*qe+1]=new Mm($e[qe],$e[qe].d,$e[qe].g,1);for(Ad(Qo,0,Qo.length,Ah),qu=0,_c=0,Ap=Qo.length;_c<Ap;++_c)switch(Zs=Qo[_c],Zs.d){case 0:++qu;break;case 1:--qu,O+=qu}return O},Le(To,"BetweenLayerHyperedgeAllCrossingsCounter",610),ke(204,1,{204:1,23:1},hP),ie.F=function(l){return cG(this,z(l,204))},ie.b=0,ie.c=0,ie.d=0,ie.f=0,ie.g=0;var iX=Le(To,"BetweenLayerHyperedgeAllCrossingsCounter/Hyperedge",204);ke(158,1,{158:1,23:1},Mm),ie.F=function(l){return KH(this,z(l,158))},ie.b=0,ie.c=0,ie.d=0;var JB=Le(To,"BetweenLayerHyperedgeAllCrossingsCounter/HyperedgeCorner",158);ke(611,339,{},aI),ie.Gc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt;for(Tt=0,H=0,ee=l[0].d,Je=_[0].d,fe=0,be=_.length;fe<be;++fe)if(ae=_[fe],la(z(Se(ae,(pt(),en)),28))){for(Ce=0,qe=new xe(ae.f);qe.a<qe.c.c.length&&($e=z(Ee(qe),7),$e.g==(ht(),Yt));)for(q=new xe($e.b);q.a<q.c.c.length;)if(O=z(Ee(q),12),O.c.f.d==ee){++Ce;break}for(Re=0,Xe=new nr(ae.f,ae.f.c.length);Xe.b>0;){for($e=(Kt(Xe.b>0),z(Xe.a.sb(Xe.c=--Xe.b),7)),Ge=0,q=new xe($e.b);q.a<q.c.c.length;)O=z(Ee(q),12),O.c.f.d==ee&&++Ge;Ge>0&&($e.g==(ht(),Yt)?(this.a[$e.k]=Tt,++Tt):(this.a[$e.k]=Tt+Ce+Re,++Re),H+=Ge)}Tt+=Re}else{for(_e=0,qe=new xe(ae.f);qe.a<qe.c.c.length;){for($e=z(Ee(qe),7),q=new xe($e.b);q.a<q.c.c.length;)O=z(Ee(q),12),O.c.f.d==ee&&++_e;this.a[$e.k]=Tt}_e>0&&(++Tt,H+=_e)}for(gt=ot(Hr,zr,26,H,12,1),W=0,ce=0,pe=l.length;ce<pe;++ce)if(ae=l[ce],la(z(Se(ae,(pt(),en)),28)))for(qe=new xe(ae.f);qe.a<qe.c.c.length;)for($e=z(Ee(qe),7),mt=W,q=new xe($e.e);q.a<q.c.c.length;)O=z(Ee(q),12),lt=O.d,lt.f.d==Je&&D$(gt,mt,W++,this.a[lt.k]);else for(mt=W,qe=new xe(ae.f);qe.a<qe.c.c.length;)for($e=z(Ee(qe),7),q=new xe($e.e);q.a<q.c.c.length;)O=z(Ee(q),12),lt=O.d,lt.f.d==Je&&D$(gt,mt,W++,this.a[lt.k]);return R=AH(Tt,H,gt),R},Le(To,"BetweenLayerStraightEdgeAllCrossingsCounter",611),ke(338,1,{},rT),ie.b=0,ie.e=!1,Le(To,"CrossingMatrixFiller",338),ke(447,1,hr,ns),ie.sc=function(l,_){var R,O,q,H;if(xn(_,"Greedy switch crossing reduction",1),this.e=z(Se(l,(Ln(),jE)),110),R=l.c.c.length,R<2||this.e==(a0(),kE)){pn(_);return}iV(this,l),this.e.b?(this.e.a?RS(this):tS(this),O=HG(this),q=this.e.a?this.c:p2(this.b,this.d),this.i=!this.i,this.d=this.g,this.e.a?RS(this):tS(this),H=this.e.a?this.c:p2(this.b,this.d),q<=H&&bS(this,O)):this.e.a?RS(this):tS(this),WH(this,this.a),pn(_)},ie.c=0,ie.i=!0,Le(To,"GreedySwitchProcessor",447),ke(340,1,{},OS),Le(To,"InLayerEdgeAllCrossingsCounter",340),ke(614,340,{},SP),ie.b=0,ie.d=0,Le(To,"InLayerEdgeTwoNodeCrossingCounter",614),ke(226,1,{226:1,23:1},MC),ie.F=function(l){return AG(this,z(l,226))},ie.w=function(){return"ComparableEdgeAndPort [port="+this.b+", edge="+this.a+", portPosition="+this.c+"]"},ie.c=0,Le(To,"InLayerEdgeTwoNodeCrossingCounter/ComparableEdgeAndPort",226),ke(612,1,{},JN),ie.e=!0,ie.f=0,ie.g=0,ie.k=!1,Le(To,"NorthSouthEdgeAllCrossingsCounter",612),ke(615,1,{},I$),ie.b=0,ie.d=0,ie.e=!1,Le(To,"NorthSouthEdgeNeighbouringNodeCrossingsCounter",615),ke(143,1,Zc,Bl),ie.mb=function(){return rf(this)},ie.b=0,Le(To,"PortIterable",143),ke(344,1,ei,qC),ie.H=function(){return z(dD(this.a),7)},ie.G=function(){return this.a.b>0},ie.I=function(){throw new Tr},Le(To,"PortIterable/1",344),ke(336,1,{},JS),Le(To,"SwitchDecider",336),ke(89,1,{89:1},Sc),ie.w=function(){return"NEdge[id="+this.b+" w="+this.f+" d="+this.a+"]"},ie.a=1,ie.b=0,ie.e=!1,ie.f=0;var e6=Le(up,"NEdge",89);ke(157,1,{},Cs),Le(up,"NEdge/NEdgeBuilder",157),ke(278,1,{},wg),Le(up,"NGraph",278),ke(61,1,{61:1},mO),ie.b=0,ie.d=-1,ie.e=0,ie.i=-1,ie.j=!1;var rM=Le(up,"NNode",61);ke(333,13,hA,tv),ie.rb=function(l,_){++this.d,Zl(l,this.c.length),pv(this.c,l,_)},ie.ib=function(l){return qc(this,l)},ie.jb=function(l){return++this.d,_r(this,l)},ie.Q=function(){++this.d,this.c=ot(zt,At,1,0,4,1)},ie.vb=function(l){return++this.d,eh(this,l)},ie.nb=function(l){return $k(this,l)},Le(up,"NNode/ChangeAwareArrayList",333),ke(199,1,{},Ff),Le(up,"NNode/NNodeBuilder",199),ke(595,1,{},og),ie.a=!1,ie.f=fi,ie.j=0,Le(up,"NetworkSimplex",595),ke(193,17,{180:1,193:1,3:1,23:1,17:1},xk),ie.rc=function(){switch(this.e){case 0:return new FP;case 1:return new Cb;default:throw new Gn("No implementation is available for the cycle breaker "+(this.d!=null?this.d:""+this.e))}};var nE,iM,t6=Sn(pA,"CycleBreakingStrategy",193,Vn,z9),n6;ke(539,1,qs,FP),ie.qc=function(l){return r6},ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt,Vt,Xt,yn,wr,Er;for(xn(_,"Greedy cycle removal",1),qe=l.b,Er=qe.c.length,this.a=ot(Hr,zr,26,Er,12,1),this.c=ot(Hr,zr,26,Er,12,1),this.b=ot(Hr,zr,26,Er,12,1),ee=0,Re=new xe(qe);Re.a<Re.c.c.length;){for(_e=z(Ee(Re),9),_e.k=ee,mt=new xe(_e.f);mt.a<mt.c.c.length;){for(Je=z(Ee(mt),7),H=new xe(Je.b);H.a<H.c.c.length;)R=z(Ee(H),12),R.c.f!=_e&&(jt=z(Se(R,(tt(),Go)),24).a,this.a[ee]+=jt>0?jt+1:1);for(q=new xe(Je.e);q.a<q.c.c.length;)R=z(Ee(q),12),R.d.f!=_e&&(jt=z(Se(R,(tt(),Go)),24).a,this.c[ee]+=jt>0?jt+1:1)}this.c[ee]==0?Un(this.d,_e):this.a[ee]==0&&Un(this.e,_e),++ee}for(be=-1,pe=1,ce=new dt,Gt=z(Se(l,(tt(),Jd)),154);Er>0;){for(;this.d.b!=0;)Xt=z(sC(this.d),9),this.b[Xt.k]=be--,TT(this,Xt),--Er;for(;this.e.b!=0;)yn=z(sC(this.e),9),this.b[yn.k]=pe++,TT(this,yn),--Er;if(Er>0){for(fe=Mu,$e=new xe(qe);$e.a<$e.c.c.length;)_e=z(Ee($e),9),this.b[_e.k]==0&&(Ge=this.c[_e.k]-this.a[_e.k],Ge>=fe&&(Ge>fe&&(ce.c=ot(zt,At,1,0,4,1),fe=Ge),ce.c[ce.c.length]=_e));ae=z($t(ce,GS(Gt,ce.c.length)),9),this.b[ae.k]=pe++,TT(this,ae),--Er}}for(Vt=qe.c.length+1,ee=0;ee<qe.c.length;ee++)this.b[ee]<0&&(this.b[ee]+=Vt);for(Ce=new xe(qe);Ce.a<Ce.c.c.length;)for(_e=z(Ee(Ce),9),Tt=z(jr(_e.f,ot(qB,Z4,7,_e.f.c.length,0,1)),346),gt=0,lt=Tt.length;gt<lt;++gt)for(Je=Tt[gt],Xe=z(jr(Je.e,ot(Va,ja,12,Je.e.c.length,0,1)),47),O=0,W=Xe.length;O<W;++O)R=Xe[O],wr=R.d.f.k,this.b[_e.k]>this.b[wr]&&(uc(R,!0),et(l,MM,(dr(),dr(),Qi)));this.a=null,this.c=null,this.b=null,ku(this.e),ku(this.d),pn(_)};var r6;Le(pA,"GreedyCycleBreaker",539),ke(540,1,qs,Cb),ie.qc=function(l){return i6},ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re;for(xn(_,"Interactive cycle breaking",1),fe=new dt,be=new xe(l.b);be.a<be.c.c.length;)for(pe=z(Ee(be),9),pe.k=1,_e=ZS(pe).a,ce=uu(pe,(ni(),Ki)).mb();ce.G();)for(ae=z(ce.H(),7),q=new xe(ae.e);q.a<q.c.c.length;)R=z(Ee(q),12),Ce=R.d.f,Ce!=pe&&(Re=ZS(Ce).a,Re<_e&&(fe.c[fe.c.length]=R));for(H=new xe(fe);H.a<H.c.c.length;)R=z(Ee(H),12),uc(R,!0);for(fe.c=ot(zt,At,1,0,4,1),ee=new xe(l.b);ee.a<ee.c.c.length;)W=z(Ee(ee),9),W.k>0&&T3(this,W,fe);for(O=new xe(fe);O.a<O.c.c.length;)R=z(Ee(O),12),uc(R,!0);fe.c=ot(zt,At,1,0,4,1),pn(_)};var i6;Le(pA,"InteractiveCycleBreaker",540),ke(543,1,qs,_l),ie.qc=function(l){return ha(Bc(new Lr,(bi(),Wx)),Jy)},ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re;for(xn(_,"Interactive node layering",1),R=new dt,pe=new xe(l.b);pe.a<pe.c.c.length;){for(ce=z(Ee(pe),9),ee=ce.i.a,W=ee+ce.j.a,W=ee+1>W?ee+1:W,Re=new nr(R,0),O=null;Re.b<Re.d.Y();)if(_e=(Kt(Re.b<Re.d.Y()),z(Re.d.sb(Re.c=Re.b++),239)),_e.c>=W){Kt(Re.b>0),Re.a.sb(Re.c=--Re.b);break}else _e.a>ee&&(O?(_r(O.b,_e.b),O.a=St(O.a,_e.a),ls(Re)):(xt(_e.b,ce),_e.c=qn(_e.c,ee),_e.a=St(_e.a,W),O=_e));O||(O=new _g,O.c=ee,O.a=W,Ju(Re,O),xt(O.b,ce))}for(H=l.c,ae=0,Ce=new xe(R);Ce.a<Ce.c.c.length;)for(_e=z(Ee(Ce),239),q=new Hl(l),q.k=ae++,H.c[H.c.length]=q,be=new xe(_e.b);be.a<be.c.c.length;)ce=z(Ee(be),9),Ti(ce,q),ce.k=0;for(fe=new xe(l.b);fe.a<fe.c.c.length;)ce=z(Ee(fe),9),ce.k==0&&_5(this,ce,l);for(;(mr(0,H.c.length),z(H.c[0],16)).a.c.length==0;)mr(0,H.c.length),H.c.splice(0,1);l.b.c=ot(zt,At,1,0,4,1),pn(_)},Le(Ry,"InteractiveLayerer",543),ke(239,1,{239:1},_g),ie.a=0,ie.c=0,Le(Ry,"InteractiveLayerer/LayerSpan",239),ke(173,17,{180:1,173:1,3:1,23:1,17:1},yw),ie.rc=function(){switch(this.e){case 0:return new $R;case 1:return new _s;case 2:return new _l;default:throw new Gn("No implementation is available for the layerer "+(this.d!=null?this.d:""+this.e))}};var aM,oM,rE,a6=Sn(Ry,"LayeringStrategy",173,Vn,t8),o6;ke(542,1,qs,_s),ie.qc=function(l){var _;return _=ym(s6),bn(ct(_n(Se(l,(Ln(),qE)))))||Ot(Se(l,Sp))===Ot((nc(),Tp))?vi(_,u6):Ot(Se(l,Sp))===Ot((nc(),J0))&&vi(_,c6),bn(ct(_n(Se(l,UM))))&&xo(_,(bi(),qL)),_},ie.sc=function(l,_){var R,O,q,H,W;for(xn(_,"Longest path layering",1),this.a=l,W=this.a.b,this.b=ot(Hr,zr,26,W.c.length,12,1),R=0,H=new xe(W);H.a<H.c.c.length;)O=z(Ee(H),9),O.k=R,this.b[R]=-1,++R;for(q=new xe(W);q.a<q.c.c.length;)O=z(Ee(q),9),n5(this,O);W.c=ot(zt,At,1,0,4,1),this.a=null,this.b=null,pn(_)};var s6,u6,c6;Le(Ry,"LongestPathLayerer",542),ke(541,1,qs,$R),ie.qc=function(l){var _;return _=ym(l6),bn(ct(_n(Se(l,(Ln(),qE)))))||Ot(Se(l,Sp))===Ot((nc(),Tp))?(vi(_,f6),this.d=(nc(),Tp)):Ot(Se(l,Sp))===Ot((nc(),J0))&&(vi(_,h6),this.d=J0),_},ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe;if(xn(_,"Network simplex layering",1),this.b=l,pe=z(Se(l,(Ln(),Cp)),24).a*4,fe=this.b.b,fe.c.length<1){pn(_);return}for(O=zn(wY(this,fe),0);O.b!=O.d.c;)for(R=z($n(O),20),H=pe*Wr(gR(R.Y())),q=pY(R),CT(dI(Vq(gI(nC(q),H),this.b),this.d==(nc(),Tp)),nh(_,1)),ee=this.b.c,ce=new xe(q.a);ce.a<ce.c.c.length;){for(ae=z(Ee(ce),61);ee.c.length<=ae.e;)ql(ee,ee.c.length,new Hl(this.b));W=z(ae.f,9),Ti(W,z($t(ee,ae.e),16))}fe.c=ot(zt,At,1,0,4,1),this.a=null,this.b=null,this.c=null,pn(_)};var l6,f6,h6;Le(Ry,"NetworkSimplexLayerer",541),ke(326,1,{}),Le(el,"AbstractPortDistributor",326),ke(558,1,_i,h1),ie.$b=function(l,_){return pG(this,z(l,7),z(_,7))},Le(el,"AbstractPortDistributor/1",558),ke(564,1,{},YO),Le(el,"BarycenterHeuristic",564),ke(272,1,{272:1},Tl),ie.b=0,ie.d=0,ie.e=!1;var d6=Le(el,"BarycenterHeuristic/BarycenterState",272);ke(565,1,_i,d1),ie.$b=function(l,_){return hH(this.a,l,_)},Le(el,"BarycenterHeuristic/lambda$0$Type",565),ke(192,17,{180:1,192:1,3:1,23:1,17:1},Ek),ie.rc=function(){switch(this.e){case 0:return new II;case 1:return new Nh;default:throw new Gn("No implementation is available for the crossing minimizer "+(this.d!=null?this.d:""+this.e))}};var iE,aE,g6=Sn(el,"CrossingMinimizationStrategy",192,Vn,G9),p6;ke(526,1,qs,Nh),ie.qc=function(l){var _;return _=ym(v6),z(Se(l,(tt(),Bi)),18).kb((oi(),Eh))&&ha(_,(bi(),Qx)),_},ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce;for(xn(_,"Interactive crossing minimization",1),be=0,q=new xe(l.c);q.a<q.c.c.length;){for(O=z(Ee(q),16),R=0,ce=0,ae=new xe(O.a);ae.a<ae.c.c.length;)for(W=z(Ee(ae),9),W.i.a>0&&(R+=W.i.a+W.j.a/2,++ce),pe=new xe(W.f);pe.a<pe.c.c.length;)fe=z(Ee(pe),7),fe.k=be++;for(R/=ce,Ce=ot(Wa,ga,26,O.a.c.length,12,1),H=0,ee=new xe(O.a);ee.a<ee.c.c.length;)W=z(Ee(ee),9),W.k=H++,Ce[W.k]=RV(W,R),W.g==(Ht(),rr)&&et(W,(tt(),DM),Ce[W.k]);Oo(O.a,new pg(Ce))}_e=new ew(ot(Eb,Iy,26,be,12,1)),o3(_e,I3(l)),pn(_)};var v6;Le(el,"InteractiveCrossingMinimizer",526),ke(527,1,_i,pg),ie.$b=function(l,_){return oH(this,z(l,9),z(_,9))},Le(el,"InteractiveCrossingMinimizer/1",527),ke(525,1,qs,II),ie.qc=function(l){var _;return _=ym(m6),z(Se(l,(tt(),Bi)),18).kb((oi(),Eh))&&ha(_,(bi(),Qx)),_},ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt,Vt,Xt,yn;if(xn(_,"Layer sweep crossing minimization",1),Vt=z(Se(l,(tt(),Jd)),154),$e=l.c.c.length,$e<2){pn(_);return}for(PW(this,l),O=fi,yn=z(Se(l,(Ln(),Cp)),24).a,R=ot(d6,wi,671,l.c.c.length,0,2),be=0,Re=new xe(l.c);Re.a<Re.c.c.length;){for(Ce=z(Ee(Re),16),Ce.k=be,R[be]=ot(d6,{671:1,3:1,5:1,6:1},272,Ce.a.c.length,0,1),_e=0,gt=new xe(Ce.a);gt.a<gt.c.c.length;)Je=z(Ee(gt),9),Je.k=_e,R[be][_e]=new Tl(Je),++_e;++be}for(q=new B3(R,this.g),H=new YO(R,q,Vt,this.j),lt=new ew(this.j),Xe=new sk(this.j),Xt=0;Xt<yn&&O>0;Xt++){fe=sh(Vt,1)!=0,ce=fe?0:$e-1,ae=this.b[ce],jt=sh(Vt,1)!=0?lt:Xe,PS(ae,H,fe,!1,!0),W=fi,ee=!0;do{if(pS(this.b,this.k),Gt=W,W=0,W+=rS(this.f,ae,ce),fe){for(qe=1;qe<$e;qe++)pe=this.b[qe],XC(jt,ae,(ni(),Ki)),PS(pe,H,!0,!ee,!1),W+=rS(this.f,pe,qe),this.d[qe]||this.c[qe-1]?W+=_4(this.e,ae,pe):W+=b4(this.i,ae,pe),ae=pe;ce=$e-1}else{for(qe=$e-2;qe>=0;qe--)pe=this.b[qe],XC(jt,ae,(ni(),Ra)),PS(pe,H,!1,!ee,!1),W+=rS(this.f,pe,qe),this.c[qe]||this.d[qe+1]?W+=_4(this.e,pe,ae):W+=b4(this.i,pe,ae),ae=pe;ce=0}ee=!1,fe=!fe}while(W<Gt&&W>0);(W<O||Gt<O)&&(W<=Gt?(pS(this.b,this.a),O=W):(pS(this.k,this.a),O=Gt))}for(Ge=new nr(l.c,0);Ge.b<Ge.d.Y();)for(Ce=(Kt(Ge.b<Ge.d.Y()),z(Ge.d.sb(Ge.c=Ge.b++),16)),Tt=this.a[Ge.b-1],mt=new nr(Ce.a,0);mt.b<mt.d.Y();)Kt(mt.b<mt.d.Y()),mt.d.sb(mt.c=mt.b++),rC(mt,Tt[mt.b-1]);this.j=null,this.a=null,this.b=null,this.k=null,this.i=null,this.e=null,this.c=null,this.d=null,CC(this.g),pn(_)};var m6;Le(el,"LayerSweepCrossingMinimizer",525),ke(327,326,{},sk),ie.Hc=function(l,_,R){var O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce;if(be=this.a,la(z(Se(l,(pt(),en)),28)))switch(R.e){case 1:{for(q=0,ee=0,pe=new xe(l.f);pe.a<pe.c.c.length;)ce=z(Ee(pe),7),ce.b.c.length!=0&&(++q,ce.g==(ht(),Yt)&&++ee);for(ae=_+ee,Ce=_+q,fe=uu(l,(ni(),Ra)).mb();fe.G();)ce=z(fe.H(),7),ce.g==(ht(),Yt)?(be[ce.k]=ae,--ae):(be[ce.k]=Ce,--Ce);return q}case 2:{for(_e=0,fe=uu(l,(ni(),Ki)).mb();fe.G();)ce=z(fe.H(),7),++_e,be[ce.k]=_+_e;return _e}default:throw new Ml}else{for(W=4,H=0,pe=uu(l,R).mb();pe.G();)ce=z(pe.H(),7),O=i5(R,ce.g),W=W<O-1?W:O-1,H=H>O?H:O;if(H>W){for(fe=uu(l,R).mb();fe.G();)ce=z(fe.H(),7),be[ce.k]=_+i5(R,ce.g)-W;return H-W}return 0}},Le(el,"LayerTotalPortDistributor",327),ke(274,326,{},ew),ie.Hc=function(l,_,R){var O,q,H,W,ee,ae,ce,fe,pe,be,_e;if(pe=this.a,la(z(Se(l,(pt(),en)),28)))switch(R.e){case 1:{for(q=0,H=0,fe=new xe(l.f);fe.a<fe.c.c.length;)ae=z(Ee(fe),7),ae.b.c.length!=0&&(++q,ae.g==(ht(),Yt)&&++H);for(O=1/(q+1),W=_+H*O,_e=_+1-O,ce=uu(l,(ni(),Ra)).mb();ce.G();)ae=z(ce.H(),7),ae.g==(ht(),Yt)?(pe[ae.k]=W,W-=O):(pe[ae.k]=_e,_e-=O);break}case 2:{for(ee=0,fe=new xe(l.f);fe.a<fe.c.c.length;)ae=z(Ee(fe),7),ae.e.c.length==0||++ee;for(O=1/(ee+1),be=_+O,ce=uu(l,(ni(),Ki)).mb();ce.G();)ae=z(ce.H(),7),pe[ae.k]=be,be+=O;break}default:throw new Gn(vA)}else for(ce=uu(l,R).mb();ce.G();)ae=z(ce.H(),7),pe[ae.k]=_+SU(R,ae.g);return 1},Le(el,"NodeRelativePortDistributor",274),ke(566,1,{},B3),Le(nF,"ForsterConstraintResolver",566),ke(102,1,{102:1},RD,t4),ie.w=function(){var l,_;for(_=new Tg,_.a+="[",l=0;l<this.d.length;l++)Uo(_,zD(this.d[l])),bo(this.g,this.d[0]).a!=null&&Uo(Uo((_.a+="<",_),$I(ct(bo(this.g,this.d[0]).a))),">"),l<this.d.length-1&&(_.a+=", ");return _.a+="]",_.a},ie.a=0,ie.c=0,ie.f=0;var y6=Le(nF,"ForsterConstraintResolver/ConstraintGroup",102);ke(331,1,{}),Le(g0,"AbstractCrossingsCounter",331),ke(568,331,{},JP),Le(g0,"BarthJuengerMutzelCrossingsCounter",568),ke(567,331,{},eD),Le(g0,"HyperedgeCrossingsCounter",567),ke(197,1,{197:1,23:1},yP),ie.F=function(l){return kG(this,z(l,197))},ie.b=0,ie.c=0,ie.e=0,ie.f=0;var aX=Le(g0,"HyperedgeCrossingsCounter/Hyperedge",197);ke(156,1,{156:1,23:1},Im),ie.F=function(l){return yU(this,z(l,156))},ie.b=0,ie.c=0;var b6=Le(g0,"HyperedgeCrossingsCounter/HyperedgeCorner",156);ke(242,17,{242:1,3:1,23:1,17:1},Tk);var j0,G0,oX=Sn(g0,"HyperedgeCrossingsCounter/HyperedgeCorner/Type",242,Vn,l8);ke(545,1,qs,Fh),ie.qc=function(l){return z(Se(l,(tt(),Bi)),18).kb((oi(),Ws))?w6:null},ie.sc=function(l,_){var R,O;for(xn(_,"Interactive node placement",1),this.a=z(Se(l,(tt(),Cf)),134),O=new xe(l.c);O.a<O.c.c.length;)R=z(Ee(O),16),BU(this,R);pn(_)};var w6;Le(v0,"InteractiveNodePlacer",545),ke(546,1,qs,Op),ie.qc=function(l){return z(Se(l,(tt(),Bi)),18).kb((oi(),Ws))?_6:null},ie.sc=function(l,_){xn(_,"Linear segments node placement",1),this.b=z(Se(l,(tt(),Cf)),134),qW(this,l),zY(this,l),vV(this,l),TW(this),this.a=null,this.b=null,pn(_)};var _6,ib,ab;Le(v0,"LinearSegmentsNodePlacer",546),ke(111,1,{111:1,23:1},M1),ie.F=function(l){return n7(this,z(l,111))},ie.t=function(l){var _;return yt(l,111)?(_=z(l,111),this.b==_.b):!1},ie.v=function(){return this.b},ie.w=function(){return"ls"+Xc(this.f)},ie.a=0,ie.b=0,ie.c=-1,ie.d=-1,ie.i=0;var x6=Le(v0,"LinearSegmentsNodePlacer/LinearSegment",111);ke(548,1,qs,Bh),ie.qc=function(l){return z(Se(l,(tt(),Bi)),18).kb((oi(),Ws))?E6:null},ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt,Vt,Xt,yn,wr,Er;for(yn=z(Se(l,(tt(),Cf)),134),Je=(Ar(),new kn),Xe=0,q=new wg,ae=new xe(l.c);ae.a<ae.c.c.length;)for(W=z(Ee(ae),16),Gt=null,jt=null,_e=new xe(W.a);_e.a<_e.c.c.length;)be=z(Ee(_e),9),++Xe,Ge=bv(new Ff,q),Ge.f=be,eo(Je.d,be,Ge),be.e.d=Q1(be.e.d),jt&&(qe=new Sc,qe.f=0,qe.a=Wr(Pk(Gt.e.d+Gt.j.b+Gt.e.a+kv(yn,z(jt.f,9),be))),qe.c=jt,qe.d=Ge,qc(jt.g,qe),qc(Ge.c,qe)),Gt=be,jt=Ge;for(ce=new xe(l.c);ce.a<ce.c.c.length;)for(W=z(Ee(ce),16),_e=new xe(W.a);_e.a<_e.c.c.length;)for(be=z(Ee(_e),9),lt=new xe(be.f);lt.a<lt.c.c.length;)mt=z(Ee(lt),7),Er=mt.i.b+mt.a.b,Er!=Math.floor(Er)&&(gt=Er-q8(Vj(Math.round(Er))),mt.i.b-=gt);for(ee=new xe(l.c);ee.a<ee.c.c.length;)for(W=z(Ee(ee),16),_e=new xe(W.a);_e.a<_e.c.c.length;)for(be=z(Ee(_e),9),pe=wn(pr(be));vn(pe);)fe=z(cn(pe),12),!Xl(fe)&&fe.d.f.d!=W&&(Xt=fe.c.f.e.d+fe.c.i.b+fe.c.a.b,wr=fe.d.f.e.d+fe.d.i.b+fe.d.a.b,R=wr-Xt,Tt=Wr(R),O=bv(new Ff,q),Ce=new Sc,Ce.f=ZN(fe),Ce.a=Tt>0?Tt:0,Ce.c=O,Ce.d=z(Bn(Je,fe.c.f),61),qc(Ce.c.g,Ce),qc(Ce.d.c,Ce),Vt=new Sc,Vt.f=ZN(fe),Vt.a=Tt<0?-Tt:0,Vt.c=O,Vt.d=z(Bn(Je,fe.d.f),61),qc(Vt.c.g,Vt),qc(Vt.d.c,Vt));for(H=z(Se(l,(Ln(),Cp)),24).a*Wr(Math.sqrt(Xe)),CT(dI(gI(nC(q),H),!1),nh(_,1)),$e=new xe(q.a);$e.a<$e.c.c.length;)Re=z(Ee($e),61),Re.f!=null&&(be=z(Re.f,9),be.i.b=Re.e+be.e.d)};var E6;Le(v0,"NetworkSimplexPlacer",548),ke(141,17,{180:1,141:1,3:1,23:1,17:1},hv),ie.rc=function(){switch(this.e){case 0:return new $p;case 1:return new Fh;case 2:return new Op;case 3:return new vR;case 4:return new Bh;default:throw new Gn("No implementation is available for the node placer "+(this.d!=null?this.d:""+this.e))}};var oE,sM,uM,cM,lM,k6=Sn(v0,"NodePlacementStrategy",141,Vn,gj),C6;ke(544,1,qs,$p),ie.qc=function(l){return z(Se(l,(tt(),Bi)),18).kb((oi(),Ws))?S6:null},ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe;for(xn(_,"Simple node placement",1),pe=z(Se(l,(tt(),Cf)),134),ee=0,H=new xe(l.c);H.a<H.c.c.length;){for(O=z(Ee(H),16),W=O.c,W.b=0,R=null,ce=new xe(O.a);ce.a<ce.c.c.length;)ae=z(Ee(ce),9),R&&(W.b+=qw(pe,ae.g,R.g)*pe.d),W.b+=ae.e.d+ae.j.b+ae.e.a,R=ae;ee=St(ee,W.b)}for(q=new xe(l.c);q.a<q.c.c.length;)for(O=z(Ee(q),16),W=O.c,fe=(ee-W.b)/2,R=null,ce=new xe(O.a);ce.a<ce.c.c.length;)ae=z(Ee(ce),9),R&&(fe+=qw(pe,ae.g,R.g)*pe.d),fe+=ae.e.d,ae.i.b=fe,fe+=ae.j.b+ae.e.a,R=ae;pn(_)};var S6;Le(v0,"SimpleNodePlacer",544),ke(81,1,{81:1},af),ie.w=function(){var l;return l="",this.c==(fs(),sl)?l+=rp:this.c==pu&&(l+=np),this.k==(Vo(),dc)?l+="DOWN":this.k==zo?l+="UP":l+="BALANCED",l},Le(js,"BKAlignedLayout",81),ke(248,17,{248:1,3:1,23:1,17:1},Ak);var pu,sl,sX=Sn(js,"BKAlignedLayout/HDirection",248,Vn,f8);ke(247,17,{247:1,3:1,23:1,17:1},Lk);var dc,zo,uX=Sn(js,"BKAlignedLayout/VDirection",247,Vn,h8);ke(596,1,{},fR),Le(js,"BKAligner",596),ke(599,1,{},a3),Le(js,"BKCompactor",599),ke(279,1,{279:1},Oh),ie.a=0,Le(js,"BKCompactor/ClassEdge",279),ke(200,1,{200:1},G),ie.a=0,ie.b=0,Le(js,"BKCompactor/ClassNode",200),ke(547,1,qs,vR),ie.qc=function(l){return z(Se(l,(tt(),Bi)),18).kb((oi(),Ws))?T6:null},ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe;switch(xn(_,"Brandes & Koepf node placement",1),this.b=l,this.d=jY(l),this.a=bn(ct(_n(Se(l,(Ln(),BM))))),this.e=Ot(Se(l,yb))===Ot((Wv(),wE)),IV(this,l),_e=(aa(4,uf),new Ta(4)),z(Se(l,yb),124).e){case 3:Ce=new af(l,this.d.d,(Vo(),dc),(fs(),pu)),_e.c[_e.c.length]=Ce;break;case 1:Re=new af(l,this.d.d,(Vo(),zo),(fs(),pu)),_e.c[_e.c.length]=Re;break;case 4:Ge=new af(l,this.d.d,(Vo(),dc),(fs(),sl)),_e.c[_e.c.length]=Ge;break;case 2:Xe=new af(l,this.d.d,(Vo(),zo),(fs(),sl)),_e.c[_e.c.length]=Xe;break;default:Ce=new af(l,this.d.d,(Vo(),dc),(fs(),pu)),Re=new af(l,this.d.d,zo,pu),Ge=new af(l,this.d.d,dc,sl),Xe=new af(l,this.d.d,zo,sl),_e.c[_e.c.length]=Ge,_e.c[_e.c.length]=Xe,_e.c[_e.c.length]=Ce,_e.c[_e.c.length]=Re}for(R=new fR(l,this.d),H=new xe(_e);H.a<H.c.c.length;)O=z(Ee(H),81),wW(R,O,this.c),XY(O);for(fe=new a3(l,this.d),W=new xe(_e);W.a<W.c.c.length;)O=z(Ee(W),81),iW(fe,O);if(this.a)for(ee=new xe(_e);ee.a<ee.c.c.length;)O=z(Ee(ee),81),Yf(),O+""+C2(O);if(ce=null,this.e&&(ae=mW(this,_e,this.d.d),P5(this,l,ae)&&(ce=ae)),!ce)for(ee=new xe(_e);ee.a<ee.c.c.length;)O=z(Ee(ee),81),P5(this,l,O)&&(!ce||C2(ce)>C2(O))&&(ce=O);for(!ce&&(ce=(mr(0,_e.c.length),z(_e.c[0],81))),be=new xe(l.c);be.a<be.c.c.length;)for(pe=z(Ee(be),16),qe=new xe(pe.a);qe.a<qe.c.c.length;)$e=z(Ee(qe),9),$e.i.b=ct(ce.n[$e.k])+ct(ce.d[$e.k]);for(this.a&&(Yf(),""+K3(ce),""+AU(ce)),q=new xe(_e);q.a<q.c.c.length;)O=z(Ee(q),81),O.f=null,O.b=null,O.a=null,O.d=null,O.i=null,O.g=null,O.n=null;az(this.d),this.c.a.Q(),pn(_)},ie.a=!1,ie.e=!1;var T6;Le(js,"BKNodePlacer",547),ke(194,17,{194:1,3:1,23:1,17:1},Mk);var sE,uE,A6=Sn(js,"CompactionStrategy",194,Vn,d8),L6;ke(597,1,{},$h),ie.d=0,Le(js,"NeighborhoodInformation",597),ke(598,1,_i,Es),ie.$b=function(l,_){return iz(this,z(l,27),z(_,27))},Le(js,"NeighborhoodInformation/NeighborComparator",598),ke(334,1,{}),Le(js,"ThresholdStrategy",334),ke(602,334,{},Xb),ie.Ic=function(l,_,R){return this.a.k==(Vo(),zo)?ya:Ii},ie.Jc=function(){},Le(js,"ThresholdStrategy/NullThresholdStrategy",602),ke(249,1,{249:1},hR),ie.c=!1,ie.d=!1,Le(js,"ThresholdStrategy/Postprocessable",249),ke(603,334,{},Zb),ie.Ic=function(l,_,R){var O,q,H;return q=_==R,O=this.a.a[R.k]==_,q||O?(H=l,this.a.c==(fs(),sl)?(q&&(H=R2(this,_,!0)),(H==1/0||H==-1/0)&&O&&(H=R2(this,R,!1))):(q&&(H=R2(this,_,!0)),(H==1/0||H==-1/0)&&O&&(H=R2(this,R,!1))),H):l},ie.Jc=function(){for(var l,_,R,O;this.d.b!=0;)O=z(n8(this.d),249),R=k5(this,O),R.a&&(l=R.a,this.c.a[l.c.f.d.k]!==this.c.a[l.d.f.d.k]&&(_=J3(this,O),_||ER(this.e,O)));for(;this.e.a.c.length!=0;)J3(this,z(Z$(this.e),249))},Le(js,"ThresholdStrategy/SimpleThresholdStrategy",603),ke(423,1,{180:1},i1),ie.rc=function(){switch(this.a.e){case 1:return new mR;case 3:return new cg;default:return new Np}},Le(cf,"EdgeRouterFactory",423),ke(538,1,qs,Np),ie.qc=function(l){var _,R;return R=z(Se(l,(tt(),Bi)),18),_=new Lr,R.kb((oi(),lb))&&(vi(_,P6),vi(_,fM)),(R.kb(Eh)||bn(ct(_n(Se(l,(Ln(),Q0))))))&&(vi(_,fM),R.kb(kh)&&vi(_,O6)),R.kb(Ws)&&vi(_,R6),R.kb(fb)&&vi(_,$6),R.kb(EE)&&vi(_,D6),R.kb(vp)&&vi(_,M6),R.kb(mp)&&vi(_,I6),_},ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce;xn(_,"Orthogonal edge routing",1),be=z(Se(l,(tt(),Cf)),134),bn(ct(_n(Se(l,(pt(),E0))))),fe=new m2(0,be.a),Ce=0,H=new nr(l.c,0),W=null,ee=null;do ae=H.b<H.d.Y()?(Kt(H.b<H.d.Y()),z(H.d.sb(H.c=H.b++),16)):null,ce=ae?ae.a:null,W&&(qT(W,Ce),Ce+=W.c.a),_e=W?Ce+be.b:Ce,pe=PT(fe,l,ee,ce,_e),O=!W||Pw(ee,(sy(),ob)),q=!ae||Pw(ce,(sy(),ob)),pe>0?(R=be.b+(pe-1)*be.a,ae&&(R+=be.b),R<be.f&&!O&&!q&&(R=be.f),Ce+=R):!O&&!q&&(Ce+=be.f),W=ae,ee=ce;while(ae);l.e.a=Ce,pn(_)};var M6,I6,R6,P6,D6,fM,O6,$6;Le(cf,"OrthogonalEdgeRouter",538),ke(277,1,{},m2),ie.a=0,ie.c=0,Le(cf,"OrthogonalRoutingGenerator",277),ke(118,1,{118:1},Ym),ie.w=function(){return this.a+"->"+this.b},ie.c=0,Le(cf,"OrthogonalRoutingGenerator/Dependency",118),ke(80,1,{80:1,23:1},P$),ie.F=function(l){return r7(this,z(l,80))},ie.t=function(l){var _;return yt(l,80)?(_=z(l,80),this.d==_.d):!1},ie.v=function(){return this.d},ie.w=function(){var l,_,R,O;for(l=new Sg("{"),O=new xe(this.g);O.a<O.c.c.length;)R=z(Ee(O),7),_=qm(R.f),_==null&&(_="n"+kP(R.f)),l.a+=""+_,O.a<O.c.c.length&&(l.a+=",");return l.a+="}",l.a},ie.a=NaN,ie.c=0,ie.d=0,ie.f=0,ie.i=0,ie.k=NaN,Le(cf,"OrthogonalRoutingGenerator/HyperNode",80),ke(580,1,{},p1),ie.Kc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe;for(pe=_+l.i*this.a.c,ee=new xe(l.g);ee.a<ee.c.c.length;)for(W=z(Ee(ee),7),ae=Jn(Ze(Ke(In,1),Mn,10,0,[W.f.i,W.i,W.a])).a,O=new xe(W.e);O.a<O.c.c.length;)R=z(Ee(O),12),ce=R.d,fe=Jn(Ze(Ke(In,1),Mn,10,0,[ce.f.i,ce.i,ce.a])).a,(ae-fe<=0?0-(ae-fe):ae-fe)>cc&&(q=new Wt(ae,pe),Un(R.a,q),r0(this.a,R,l,q,!1),H=new Wt(fe,pe),Un(R.a,H),r0(this.a,R,l,H,!1))},ie.Lc=function(l){return l.f.i.a+l.i.a+l.a.a},ie.Mc=function(){return ht(),Qt},ie.Nc=function(){return ht(),Yt},Le(cf,"OrthogonalRoutingGenerator/NorthToSouthRoutingStrategy",580),ke(581,1,{},v1),ie.Kc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe;for(pe=_-l.i*this.a.c,ee=new xe(l.g);ee.a<ee.c.c.length;)for(W=z(Ee(ee),7),ae=Jn(Ze(Ke(In,1),Mn,10,0,[W.f.i,W.i,W.a])).a,O=new xe(W.e);O.a<O.c.c.length;)R=z(Ee(O),12),ce=R.d,fe=Jn(Ze(Ke(In,1),Mn,10,0,[ce.f.i,ce.i,ce.a])).a,(ae-fe<=0?0-(ae-fe):ae-fe)>cc&&(q=new Wt(ae,pe),Un(R.a,q),r0(this.a,R,l,q,!1),H=new Wt(fe,pe),Un(R.a,H),r0(this.a,R,l,H,!1))},ie.Lc=function(l){return l.f.i.a+l.i.a+l.a.a},ie.Mc=function(){return ht(),Yt},ie.Nc=function(){return ht(),Qt},Le(cf,"OrthogonalRoutingGenerator/SouthToNorthRoutingStrategy",581),ke(579,1,{},$b),ie.Kc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe;for(pe=_+l.i*this.a.c,ee=new xe(l.g);ee.a<ee.c.c.length;)for(W=z(Ee(ee),7),ae=Jn(Ze(Ke(In,1),Mn,10,0,[W.f.i,W.i,W.a])).b,O=new xe(W.e);O.a<O.c.c.length;)R=z(Ee(O),12),ce=R.d,fe=Jn(Ze(Ke(In,1),Mn,10,0,[ce.f.i,ce.i,ce.a])).b,(ae-fe<=0?0-(ae-fe):ae-fe)>cc&&(q=new Wt(pe,ae),Un(R.a,q),r0(this.a,R,l,q,!0),H=new Wt(pe,fe),Un(R.a,H),r0(this.a,R,l,H,!0))},ie.Lc=function(l){return l.f.i.b+l.i.b+l.a.b},ie.Mc=function(){return ht(),Pt},ie.Nc=function(){return ht(),Ft},Le(cf,"OrthogonalRoutingGenerator/WestToEastRoutingStrategy",579),ke(535,1,qs,mR),ie.qc=function(l){var _,R;return R=z(Se(l,(tt(),Bi)),18),_=new Lr,(R.kb((oi(),Eh))||bn(ct(_n(Se(l,(Ln(),Q0))))))&&(vi(_,B6),R.kb(kh)&&vi(_,q6)),R.kb(vp)&&vi(_,N6),R.kb(mp)&&vi(_,F6),_},ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt;for(xn(_,"Polyline edge routing",1),pe=z(Se(l,(tt(),Ia)),15).a,R=z(Se(l,(Ln(),Bu)),15).a,$e=0,l.c.c.length!=0&&(qe=t5(z($t(l.c,0),16)),$e=.4*R*qe),H=new nr(l.c,0);H.b<H.d.Y();){for(q=(Kt(H.b<H.d.Y()),z(H.d.sb(H.c=H.b++),16)),O=Pw(q,ob),O&&$e>0&&($e-=pe),qT(q,$e),ae=0,fe=new xe(q.a);fe.a<fe.c.c.length;){for(ce=z(Ee(fe),9),ee=0,_e=wn(pr(ce));vn(_e);)be=z(cn(_e),12),Ce=Ca(be.c).b,Re=Ca(be.d).b,q==be.d.f.d&&(Ge=be.c,Xe=be.d,Je=(Jn(Ze(Ke(In,1),Mn,10,0,[Ge.f.i,Ge.i,Ge.a])).b+Jn(Ze(Ke(In,1),Mn,10,0,[Xe.f.i,Xe.i,Xe.a])).b)/2,Ge.g==(ht(),Pt)?gt=new Wt($e+Ge.f.d.c.a+.4*R*(Ce-Re<=0?0-(Ce-Re):Ce-Re),Je):gt=new Wt($e-.4*R*(Ce-Re<=0?0-(Ce-Re):Ce-Re),Je),lm(be.a,0,gt),be.c.g==Ft&&(Ce=0,Re=0)),ee=ee>(Re-Ce<=0?0-(Re-Ce):Re-Ce)?ee:Re-Ce<=0?0-(Re-Ce):Re-Ce;switch(ce.g.e){case 0:case 4:case 1:case 3:JY(this,ce,$e)}ae=ae>ee?ae:ee}H.b<H.d.Y()&&(qe=t5((Kt(H.b<H.d.Y()),z(H.d.sb(H.c=H.b++),16))),ae=ae>qe?ae:qe,Kt(H.b>0),H.a.sb(H.c=--H.b)),W=.4*R*ae,!O&&H.b<H.d.Y()&&(W+=pe),$e+=q.c.a+W}this.a.a.Q(),l.e.a=$e,pn(_)};var N6,F6,B6,q6,ob;Le(cf,"PolylineEdgeRouter",535),ke(536,1,Xo,a1),ie.D=function(l){return T$(z(l,9))},Le(cf,"PolylineEdgeRouter/1",536),ke(75,1,{75:1},hN),ie.w=function(){var l,_,R,O;for(R=new Tg,this.e&&Uo(Uo(R,hm(this.e)),": "),_=zn(w_(this),0);_.b!=_.d.c;)l=z($n(_),7),Uo(Uo(Bg(Uo(R,(O=MO(l),O==null?"p_"+l.k:"p_"+O)),32),hm(l.g))," / ");return R7(R,mv(R.a)-2-1)},ie.j=0,ie.k=0,Le(lf,"ConnectedSelfLoopComponent",75),ke(60,17,{60:1,3:1,23:1,17:1},iu),ie.c=0;var j6,z6,G6,gc,ul,Ys,cl,vu,bs,Vs,pc,vc,H6,U6,Y6,V6,W6,X6,Z6,K6,Q6,J6,tq,nq,rq,_f,_h,ll,fl,pp=Sn(lf,"LoopSide",60,Vn,kS);ke(203,1,{},PN,RT,qS),ie.w=function(){return this.b.w()},ie.c=0,ie.d=!1,ie.e=!1,ie.f=!1,ie.i=0,ie.j=0,Le(lf,"NubSpline",203),ke(92,1,{92:1},b_,m5),Le(lf,"NubSpline/PolarCP",92),ke(281,203,{},p_),Le(lf,"NubsSelfLoop",281),ke(112,1,{},A3,KN,Rv,v2,y2),ie.a=sA,ie.b=Bs,ie.c=sA,ie.d=Bs,Le(lf,"Rectangle",112),ke(537,1,qs,cg),ie.qc=function(l){var _,R;return _=new Lr,R=z(Se(l,(tt(),Bi)),18),R.kb((oi(),fb))&&vi(_,uq),R.kb(vp)&&vi(_,iq),(R.kb(Eh)||bn(ct(_n(Se(l,(Ln(),Q0))))))&&(vi(_,oq),R.kb(kh)&&vi(_,sq)),R.kb(mp)&&vi(_,aq),_},ie.sc=function(l,_){var R,O,q,H,W,ee,ae,ce,fe,pe,be,_e,Ce,Re,$e,qe,Ge,Xe,Je,gt,mt,lt,Tt,jt,Gt,Vt,Xt,yn,wr,Er,Pa,Xa;xn(_,"Spline edge routing",1),Je=z(Se(l,(tt(),Ia)),15).a,this.a=Je*z(Se(l,(Ln(),Bu)),15).a,Xa=0,$e=new xe(l.c),qe=null,Er=(Ar(),new kn),wr=new dt,ae=!0,ce=!0;do{for(lt=$e.a<$e.c.c.length?z(Ee($e),16):null,be=new dt,W=new dt,Ge=new Fa,jt=new Fa,Xt=new Fa,vW(new ui(qe,lt),new ui(Ge,jt),W,Er,wr,Xt),O2(Ge,jt,(Ul(),$u),!0,W,be),O2(Ge,jt,$u,!1,W,be),O2(Ge,jt,xh,!0,W,be),O2(Ge,jt,xh,!1,W,be),LY(W,Ge,jt,be),yn=new nr(be,0);yn.b<yn.d.Y();)for(fe=(Kt(yn.b<yn.d.Y()),z(yn.d.sb(yn.c=yn.b++),77)),Pa=new nr(be,yn.b);Pa.b<Pa.d.Y();)pe=(Kt(Pa.b<Pa.d.Y()),z(Pa.d.sb(Pa.c=Pa.b++),77)),cW(fe,pe);if(DW(be,z(Se(l,Jd),154)),DV(be),Tt=Xa+10,lt){for(ce=!lt||Pw(lt.a,(sy(),ob)),Xe=-1,q=new xe(be);q.a<q.c.c.length;)R=z(Ee(q),77),Xe=Vi(Xe,R.n);++Xe,Xe>0?(_e=(Xe+1)*this.a,_e<Je&&!ae&&!ce&&(_e=Je),Tt+=_e):ae||ce||AN(qe)||AN(lt)||(Tt+=Je),qT(lt,Tt)}for(Vt=(mt=new Dn(Xt.a).a.bb().mb(),new Fn(mt));Vt.a.G();)for(Gt=(ee=z(Vt.a.H(),21),z(ee.yb(),12)),gt=Gt.c.f.i,Gc(Gt.a,gt),Re=new xe(Gt.b);Re.a<Re.c.c.length;)Ce=z(Ee(Re),33),ur(Ce.i,gt);for(H=new xe(be);H.a<H.c.c.length;)R=z(Ee(H),77),R.f?YH(R,Xa):qY(this,R,Xa,Tt);if(lt)Xa=Tt+lt.c.a+10;else{for(Xe=-1,q=new xe(be);q.a<q.c.c.length;)R=z(Ee(q),77),Xe=Vi(Xe,R.n);Xe>=0&&(Xa+=(Xe+2)*this.a)}qe=lt,ae=ce}while(lt);for(O=new xe(wr);O.a<O.c.c.length;)R=z(Ee(O),12),LW(R,Er);l.e.a=Xa,pn(_)},ie.a=3;var iq,aq,oq,sq,uq;Le(lf,"SplineEdgeRouter",537),ke(117,1,{117:1},jm),ie.w=function(){return this.a+" ->("+this.c+") "+this.b},ie.c=0,Le(lf,"SplineEdgeRouter/Dependency",117),ke(223,17,{223:1,3:1,23:1,17:1},Ik);var $u,xh,cX=Sn(lf,"SplineEdgeRouter/SideToProcess",223,Vn,c8);ke(77,1,{77:1,23:1},D3,BT),ie.F=function(l){return i7(this,z(l,77))},ie.a=0,ie.b=0,ie.e=0,ie.f=!1,ie.i=0,ie.k=0,ie.n=0,ie.p=0,Le(lf,"SplineEdgeRouter/SplineHyperEdge",77),ke(123,17,{123:1,3:1,23:1,17:1},Dg);var cE,lE,fE,hE,dE,gE,pE=Sn(Pu,"ContentAlignment",123,Vn,Cj),cq;ke(218,17,{218:1,3:1,23:1,17:1},Sw);var sb,hM,H0,lX=Sn(Pu,"EdgeConstraint",218,Vn,M8);ke(115,17,{115:1,3:1,23:1,17:1},dv);var vE,ub,mE,yE,bE,lq=Sn(Pu,"EdgeLabelSideSelection",115,Vn,pj),fq;ke(124,17,{124:1,3:1,23:1,17:1},Og);var wE,dM,gM,_E,pM,vM,hq=Sn(Pu,"FixedAlignment",124,Vn,Sj),dq;ke(113,17,{113:1,3:1,23:1,17:1},Oc);var vp,xE,mp,Ws,lb,EE,Eh,kh,mM,fb,yM=Sn(Pu,"GraphProperties",113,Vn,oz);ke(110,17,{110:1,3:1,23:1,17:1},Jf),ie.a=!1,ie.b=!1,ie.c=!1;var kE,bM,wM,_M,xM,CE,EM,kM,gq=Sn(Pu,"GreedySwitchType",110,Vn,Hj),pq;ke(140,17,{140:1,3:1,23:1,17:1},Tw);var Zd,hb,Ch,fX=Sn(Pu,"InLayerConstraint",140,Vn,L8);ke(174,17,{174:1,3:1,23:1,17:1},Rk);var SE,CM,vq=Sn(Pu,"InteractiveReferencePoint",174,Vn,g8),mq,Kd,SM,TM,TE,hl,U0,Xs,yp,db,AM,yq,bp,LM,MM,AE,IM,Sh,gb,Ri,RM,Bi,LE,bq,Nu,xf,Qd,Ko,Ma,wa,Ef,wp,Jt,PM,DM,OM,ME,kf,pb,mu,yc,IE,Go,$M,Jd,NM,Fu,Ia,Cf,wq,V0,RE,FM,PE,xp;ke(85,17,{85:1,3:1,23:1,17:1},gv);var K0,dl,Ep,bc,Th,_q=Sn(Pu,"LayerConstraint",85,Vn,vj),xq;ke(219,17,{219:1,3:1,23:1,17:1},Aw);var Ra,Ki,DE,hX=Sn(Pu,"PortType",219,Vn,I8),OE,$E,NE,FE,vb,BE,BM,qE,eg,Eq,Bu,Q0,yb,jE,zE,di,qM,jM,zM,GE,HE,bb,GM,UE,kp,wb,YE,HM,UM,VE,Cp,Sp;ke(153,17,{153:1,3:1,23:1,17:1},Lw);var YM,VM,WE,kq=Sn(Pu,"SelfLoopPlacement",153,Vn,R8),Cq;ke(134,1,{134:1},l4),ie.a=0,ie.b=0,ie.c=0,ie.d=0,ie.e=0,ie.f=0,Le(Pu,"Spacings",134),ke(172,17,{172:1,3:1,23:1,17:1},Mw);var Tp,J0,_b,Sq=Sn(Pu,"WideNodesStrategy",172,Vn,P8),Tq;ke(644,1,{}),Le(Ty,"OutputStream",644),ke(645,644,{}),Le(Ty,"FilterOutputStream",645),ke(291,645,{},Mf),Le(Ty,"PrintStream",291),ke(255,1,{}),ie.w=function(){return this.a},Le(Mi,"AbstractStringBuilder",255),ke(621,95,Au,rv),Le(Mi,"ArrayIndexOutOfBoundsException",621),ke(290,72,Au,L1,vI),Le(Mi,"ArrayStoreException",290),ke(252,46,UT),Le(Mi,"Error",252),ke(84,252,UT,k1,R_),Le(Mi,"AssertionError",84),cF={3:1,349:1,23:1};var Mr,Qi,dX=Le(Mi,"Boolean",349);lF={3:1,23:1,184:1,231:1};var e1=Le(Mi,"Double",184);ke(15,231,{3:1,23:1,15:1,231:1},m1,Nn),ie.F=function(l){return P7(this,z(l,15))},ie.t=function(l){return yt(l,15)&&z(l,15).a==this.a},ie.v=function(){return Wr(this.a)},ie.w=function(){return g7(this.a)},ie.a=0;var gX=Le(Mi,"Float",15);ke(101,72,Au,Xh,Ic),Le(Mi,"IllegalStateException",101);var WM,Aq;ke(608,72,Au,mI),Le(Mi,"NegativeArraySizeException",608),ke(76,72,{3:1,54:1,76:1,46:1},Il,av),Le(Mi,"NullPointerException",76),ke(130,29,{3:1,54:1,29:1,130:1,46:1},D1,F1),Le(Mi,"NumberFormatException",130),ke(146,1,{3:1,146:1},m_),ie.t=function(l){var _;return yt(l,146)?(_=z(l,146),this.c==_.c&&ao(this.d,_.d)&&ao(this.a,_.a)&&ao(this.b,_.b)):!1},ie.v=function(){return Y_(Ze(Ke(zt,1),At,1,4,[nn(this.c),this.a,this.d,this.b]))},ie.w=function(){return this.a+"."+this.d+"("+(this.b!=null?this.b:"Unknown Source")+(this.c>=0?":"+this.c:"")+")"},ie.c=0;var Lq=Le(Mi,"StackTraceElement",146);ke(98,255,{345:1},Tg,iw,Sg),Le(Mi,"StringBuilder",98);var Mq,XM;ke(45,72,{3:1,54:1,46:1,45:1},Tr,Kh),Le(Mi,"UnsupportedOperationException",45),ke(213,638,Dd),ie.Q=function(){Wo(this)},ie.R=function(l){return _d(this,l)},ie.ab=function(l){return tN(this,l,this.e)||tN(this,l,this.d)},ie.bb=function(){return new rs(this)},ie.cb=function(l){return Bn(this,l)},ie.db=function(l,_){return Kn(this,l,_)},ie.eb=function(l){return Vf(this,l)},ie.Y=function(){return V1(this)},Le(sn,"AbstractHashMap",213),ke(120,641,ua,rs),ie.Q=function(){this.a.Q()},ie.kb=function(l){return GC(this,l)},ie.mb=function(){return new ih(this.a)},ie.nb=function(l){var _;return GC(this,l)?(_=z(l,21).yb(),this.a.eb(_),!0):!1},ie.Y=function(){return this.a.Y()},Le(sn,"AbstractHashMap/EntrySet",120),ke(148,1,ei,ih),ie.H=function(){return Ug(this)},ie.G=function(){return this.b},ie.I=function(){JC(this)},ie.b=!1,Le(sn,"AbstractHashMap/EntrySetIterator",148),ke(162,1,ei,Uu),ie.G=function(){return this.b<this.d.Y()},ie.H=function(){return Kt(this.G()),this.d.sb(this.c=this.b++)},ie.I=function(){ls(this)},ie.b=0,ie.c=-1,Le(sn,"AbstractList/IteratorImpl",162),ke(43,162,$d,nr),ie.J=function(l){Ju(this,l)},ie.K=function(){return this.b>0},ie.L=function(){return this.b},ie.M=function(){return dD(this)},ie.N=function(){return this.b-1},ie.O=function(l){rC(this,l)},Le(sn,"AbstractList/ListIteratorImpl",43),ke(258,647,Od,E_),ie.rb=function(l,_){Zl(l,this.b),this.c.rb(this.a+l,_),++this.b},ie.sb=function(l){return mr(l,this.b),this.c.sb(this.a+l)},ie.vb=function(l){var _;return mr(l,this.b),_=this.c.vb(this.a+l),--this.b,_},ie.wb=function(l,_){return mr(l,this.b),this.c.wb(this.a+l,_)},ie.Y=function(){return this.b},ie.a=0,ie.b=0,Le(sn,"AbstractList/SubList",258),ke(36,641,ua,Dn),ie.Q=function(){this.a.Q()},ie.kb=function(l){return this.a.R(l)},ie.mb=function(){var l;return l=this.a.bb().mb(),new Fn(l)},ie.nb=function(l){return this.a.R(l)?(this.a.eb(l),!0):!1},ie.Y=function(){return this.a.Y()},Le(sn,"AbstractMap/1",36),ke(40,1,ei,Fn),ie.G=function(){return this.a.G()},ie.H=function(){var l;return l=z(this.a.H(),21),l.yb()},ie.I=function(){this.a.I()},Le(sn,"AbstractMap/1/1",40),ke(211,640,tp,Df),ie.Q=function(){this.a.Q()},ie.kb=function(l){return this.a.ab(l)},ie.mb=function(){var l;return l=this.a.bb().mb(),new Hh(l)},ie.Y=function(){return this.a.Y()},Le(sn,"AbstractMap/2",211),ke(212,1,ei,Hh),ie.G=function(){return this.a.G()},ie.H=function(){var l;return l=z(this.a.H(),21),l.zb()},ie.I=function(){this.a.I()},Le(sn,"AbstractMap/2/1",212),ke(210,1,{210:1,21:1}),ie.t=function(l){var _;return yt(l,21)?(_=z(l,21),ao(this.d,_.yb())&&ao(this.e,_.zb())):!1},ie.yb=function(){return this.d},ie.zb=function(){return this.e},ie.v=function(){return Fw(this.d)^Fw(this.e)},ie.Ab=function(l){return oC(this,l)},ie.w=function(){return this.d+"="+this.e},Le(sn,"AbstractMap/AbstractEntry",210),ke(163,210,{210:1,163:1,21:1},tm),Le(sn,"AbstractMap/SimpleEntry",163),ke(652,1,u0),ie.t=function(l){var _;return yt(l,21)?(_=z(l,21),ao(this.yb(),_.yb())&&ao(this.zb(),_.zb())):!1},ie.v=function(){return Fw(this.yb())^Fw(this.zb())},ie.w=function(){return this.yb()+"="+this.zb()},Le(sn,A4,652),ke(639,638,Dd),ie._=function(l){return NO(this,l)},ie.R=function(l){return Iw(this,l)},ie.bb=function(){return new ks(this)},ie.cb=function(l){return ra(AS(this,l))},ie.W=function(){return new Yu(this)},Le(sn,"AbstractNavigableMap",639),ke(287,641,ua,ks),ie.kb=function(l){return yt(l,21)&&NO(this.b,z(l,21))},ie.mb=function(){return new Ev(this.b)},ie.nb=function(l){var _;return yt(l,21)?(_=z(l,21),HO(this.b,_)):!1},ie.Y=function(){return this.b.c},Le(sn,"AbstractNavigableMap/EntrySet",287),ke(229,641,QT,Yu),ie.Q=function(){N1(this.a)},ie.kb=function(l){return Iw(this.a,l)},ie.mb=function(){var l;return l=new Ev(new _v(this.a).b),new vg(l)},ie.nb=function(l){return Iw(this.a,l)?(Tv(this.a,l),!0):!1},ie.Y=function(){return this.a.c},Le(sn,"AbstractNavigableMap/NavigableKeySet",229),ke(230,1,ei,vg),ie.G=function(){return bw(this.a.a)},ie.H=function(){var l;return l=Uw(this.a),l.yb()},ie.I=function(){WP(this.a)},Le(sn,"AbstractNavigableMap/NavigableKeySet/1",230),ke(4,1,ei,xe),ie.G=function(){return $l(this)},ie.H=function(){return Ee(this)},ie.I=function(){Fg(this)},ie.a=0,ie.b=-1,Le(sn,"ArrayList/1",4),ke(94,647,aF,vo),ie.kb=function(l){return Kj(this,l)!=-1},ie.sb=function(l){return iD(this,l)},ie.wb=function(l,_){var R;return R=(mr(l,this.a.length),this.a[l]),Po(this.a,l,_),R},ie.Y=function(){return this.a.length},ie.ob=function(){return QN(this,ot(zt,At,1,this.a.length,4,1))},ie.pb=function(l){return QN(this,l)},Le(sn,"Arrays/ArrayList",94);var gl,ZM,XE;ke(413,1,_i,Of),ie.$b=function(l,_){return _D(_,l)},Le(sn,"Collections/2",413),ke(406,647,aF,Qr),ie.kb=function(l){return!1},ie.sb=function(l){return mr(l,0),null},ie.mb=function(){return jn(),kw(),ZE},ie.tb=function(){return jn(),kw(),ZE},ie.Y=function(){return 0},Le(sn,"Collections/EmptyList",406),ke(407,1,$d,Ui),ie.J=function(l){throw new Tr},ie.G=function(){return!1},ie.K=function(){return!1},ie.H=function(){throw new $a},ie.L=function(){return 0},ie.M=function(){throw new $a},ie.N=function(){return-1},ie.I=function(){throw new Xh},ie.O=function(l){throw new Xh};var ZE;Le(sn,"Collections/EmptyListIterator",407),ke(409,638,Fd,sg),ie.R=function(l){return!1},ie.ab=function(l){return!1},ie.bb=function(){return jn(),XE},ie.cb=function(l){return null},ie.W=function(){return jn(),XE},ie.Y=function(){return 0},ie.fb=function(){return jn(),gl},Le(sn,"Collections/EmptyMap",409),ke(408,641,Bd,If),ie.kb=function(l){return!1},ie.mb=function(){return jn(),kw(),ZE},ie.Y=function(){return 0},Le(sn,"Collections/EmptySet",408),ke(410,1,_i,Rf),ie.$b=function(l,_){return h7(z(l,23),z(_,23))};var Iq;Le(sn,"Collections/ReverseComparator",410),ke(411,647,{3:1,22:1,19:1,20:1},Nb),ie.kb=function(l){return ao(this.a,l)},ie.sb=function(l){return mr(l,1),this.a},ie.Y=function(){return 1},Le(sn,"Collections/SingletonList",411),ke(217,1,tp,Vu),ie.ib=function(l){return he()},ie.jb=function(l){return we()},ie.Q=function(){Me()},ie.kb=function(l){return this.b.kb(l)},ie.lb=function(l){return this.b.lb(l)},ie.V=function(){return this.b.V()},ie.mb=function(){return new Al(this.b.mb())},ie.nb=function(l){return Ue()},ie.Y=function(){return this.b.Y()},ie.ob=function(){return this.b.ob()},ie.pb=function(l){return this.b.pb(l)},ie.w=function(){return so(this.b)},Le(sn,"Collections/UnmodifiableCollection",217),ke(152,1,ei,Al),ie.G=function(){return this.b.G()},ie.H=function(){return this.b.H()},ie.I=function(){rt()},Le(sn,"Collections/UnmodifiableCollectionIterator",152),ke(233,217,Od,fm),ie.rb=function(l,_){throw new Tr},ie.t=function(l){return this.a.t(l)},ie.sb=function(l){return this.a.sb(l)},ie.v=function(){return this.a.v()},ie.V=function(){return this.a.V()},ie.tb=function(){return new Uk(this.a.ub(0))},ie.ub=function(l){return new Uk(this.a.ub(l))},ie.vb=function(l){throw new Tr},ie.wb=function(l,_){throw new Tr},ie.xb=function(l,_){return new fm(this.a.xb(l,_))},Le(sn,"Collections/UnmodifiableList",233),ke(309,152,$d,Uk),ie.J=function(l){throw new Tr},ie.K=function(){return this.a.K()},ie.L=function(){return this.a.L()},ie.M=function(){return this.a.M()},ie.N=function(){return this.a.N()},ie.O=function(l){throw new Tr},Le(sn,"Collections/UnmodifiableListIterator",309),ke(305,1,Dd,Uh),ie.Q=function(){throw new Tr},ie.R=function(l){return this.c.R(l)},ie.ab=function(l){return nR(this,l)},ie.bb=function(){return Eo(this)},ie.t=function(l){return OI(this,l)},ie.cb=function(l){return this.c.cb(l)},ie.v=function(){return this.c.v()},ie.V=function(){return this.c.V()},ie.W=function(){return AD(this)},ie.db=function(l,_){throw new Tr},ie.eb=function(l){throw new Tr},ie.Y=function(){return this.c.Y()},ie.w=function(){return so(this.c)},ie.fb=function(){return MD(this)},Le(sn,"Collections/UnmodifiableMap",305),ke(151,217,ua,qf),ie.t=function(l){return DI(this,l)},ie.v=function(){return this.b.v()},Le(sn,"Collections/UnmodifiableSet",151),ke(412,151,ua,CI),ie.kb=function(l){return kk(this,l)},ie.lb=function(l){return rR(this,l)},ie.mb=function(){var l;return l=this.b.mb(),new y1(l)},ie.ob=function(){return FD(this)},ie.pb=function(l){return OC(this,l)},Le(sn,"Collections/UnmodifiableMap/UnmodifiableEntrySet",412),ke(263,1,ei,y1),ie.H=function(){return new Wu(z(this.a.H(),21))},ie.G=function(){return this.a.G()},ie.I=function(){throw new Tr},Le(sn,"Collections/UnmodifiableMap/UnmodifiableEntrySet/1",263),ke(306,1,u0,Wu),ie.t=function(l){return this.a.t(l)},ie.yb=function(){return this.a.yb()},ie.zb=function(){return this.a.zb()},ie.v=function(){return this.a.v()},ie.Ab=function(l){throw new Tr},ie.w=function(){return so(this.a)},Le(sn,"Collections/UnmodifiableMap/UnmodifiableEntrySet/UnmodifiableEntry",306),ke(307,233,q2,lk),Le(sn,"Collections/UnmodifiableRandomAccessList",307),ke(308,151,QT,Yk),ie.t=function(l){return this.a.t(l)},ie.v=function(){return this.a.v()},Le(sn,"Collections/UnmodifiableSortedSet",308);var Ah;ke(522,1,_i,Rp),ie.$b=function(l,_){return ti(l),ti(_),vS(z(l,23),_)},Le(sn,"Comparators/1",522),ke(202,72,Au,Oi),Le(sn,"ConcurrentModificationException",202),ke(609,72,Au,kg),Le(sn,"EmptyStackException",609),ke(319,638,Dd,$S),ie.db=function(l,_){return iC(this,l,_)},ie.Q=function(){TD(this)},ie.R=function(l){return yC(this.a,l)},ie.ab=function(l){var _,R;for(R=new sd(this.a);R.a<R.c.a.length;)if(_=Wl(R),ao(l,this.b[_.e]))return!0;return!1},ie.bb=function(){return new Ll(this)},ie.cb=function(l){return bd(this,l)},ie.eb=function(l){return zC(this,l)},ie.Y=function(){return this.a.c},Le(sn,"EnumMap",319),ke(236,641,ua,Ll),ie.Q=function(){TD(this.a)},ie.kb=function(l){return sO(this,l)},ie.mb=function(){return new Cm(this.a)},ie.nb=function(l){var _;return sO(this,l)?(_=z(l,21).yb(),zC(this.a,_),!0):!1},ie.Y=function(){return this.a.a.c},Le(sn,"EnumMap/EntrySet",236),ke(237,1,ei,Cm),ie.H=function(){return this.b=Wl(this.a),new em(this.c,this.b)},ie.G=function(){return sm(this.a)},ie.I=function(){Hf(!!this.b),zC(this.c,this.b),this.b=null},Le(sn,"EnumMap/EntrySetIterator",237),ke(238,652,u0,em),ie.yb=function(){return this.a},ie.zb=function(){return this.b.b[this.a.e]},ie.Ab=function(l){return c_(this.b,this.a.e,l)},Le(sn,"EnumMap/MapEntry",238),ke(86,641,{22:1,19:1,86:1,18:1}),Le(sn,"EnumSet",86),ke(66,86,{22:1,19:1,86:1,66:1,18:1},Xi),ie.ib=function(l){return oa(this,z(l,17))},ie.kb=function(l){return yC(this,l)},ie.mb=function(){return new sd(this)},ie.nb=function(l){return uD(this,l)},ie.Y=function(){return this.c},ie.c=0,Le(sn,"EnumSet/EnumSetImpl",66),ke(167,1,ei,sd),ie.H=function(){return Wl(this)},ie.G=function(){return sm(this)},ie.I=function(){Hf(this.b!=-1),Po(this.c.b,this.b,null),--this.c.c,this.b=-1},ie.a=-1,ie.b=-1,Le(sn,"EnumSet/EnumSetImpl/IteratorImpl",167),ke(30,213,oF,kn,_w,kR),ie.Uc=function(l,_){return Ot(l)===Ot(_)||l!=null&&hs(l,_)},ie.Vc=function(l){var _;return _=Ns(l),_|0},Le(sn,"HashMap",30),ke(50,641,sF,$i,ow,mC),ie.ib=function(l){return lr(this,l)},ie.Q=function(){this.a.Q()},ie.Wc=function(){return new mC(this)},ie.kb=function(l){return Pl(this,l)},ie.V=function(){return this.a.Y()==0},ie.mb=function(){var l;return l=new Dn(this.a).a.bb().mb(),new Fn(l)},ie.nb=function(l){return Bw(this,l)},ie.Y=function(){return this.a.Y()},ie.w=function(){return Xc(new Dn(this.a))},Le(sn,"HashSet",50),ke(418,1,Zc,jR),ie.mb=function(){return new NC(this)},ie.c=0,Le(sn,"InternalHashCodeMap",418),ke(312,1,ei,NC),ie.H=function(){return this.d=this.a[this.c++],this.d},ie.G=function(){var l;return this.c<this.a.length?!0:(l=this.b.next(),l.done?!1:(this.a=l.value[1],this.c=0,!0))},ie.I=function(){S2(this.e,this.d.yb()),this.c!=0&&--this.c},ie.c=0,ie.d=null,Le(sn,"InternalHashCodeMap/1",312);var Rq;ke(382,1,Zc,zR),ie.mb=function(){return new VC(this)},ie.c=0,ie.d=0,Le(sn,"InternalStringMap",382),ke(293,1,ei,VC),ie.H=function(){return this.c=this.a,this.a=this.b.next(),new HP(this.d,this.c,this.d.d)},ie.G=function(){return!this.a.done},ie.I=function(){j$(this.d,this.c.value[0])},Le(sn,"InternalStringMap/1",293),ke(383,652,u0,HP),ie.yb=function(){return this.b.value[0]},ie.zb=function(){return this.a.d!=this.c?pR(this.a,this.b.value[0]):this.b.value[1]},ie.Ab=function(l){return J_(this.a,this.b.value[0],l)},ie.c=0,Le(sn,"InternalStringMap/2",383),ke(155,30,oF,zg,VO),ie.Q=function(){OP(this)},ie.R=function(l){return _d(this.c,l)},ie.ab=function(l){var _;for(_=this.b.a;_!=this.b;){if(ao(_.e,l))return!0;_=_.a}return!1},ie.bb=function(){return new Wp(this)},ie.cb=function(l){return P_(this,l)},ie.db=function(l,_){return Hv(this,l,_)},ie.eb=function(l){return iS(this,l)},ie.Y=function(){return V1(this.c)},ie.a=!1,Le(sn,"LinkedHashMap",155),ke(176,163,{210:1,163:1,176:1,21:1},bP,hC),Le(sn,"LinkedHashMap/ChainEntry",176),ke(270,641,ua,Wp),ie.Q=function(){OP(this.a)},ie.kb=function(l){return uO(this,l)},ie.mb=function(){return new g_(this)},ie.nb=function(l){var _;return uO(this,l)?(_=z(l,21).yb(),iS(this.a,_),!0):!1},ie.Y=function(){return V1(this.a.c)},Le(sn,"LinkedHashMap/EntrySet",270),ke(271,1,ei,g_),ie.H=function(){return QC(this)},ie.G=function(){return this.b!=this.c.a.b},ie.I=function(){Hf(!!this.a),s_(this.c.a.c,this),gC(this.a),Vf(this.c.a.c,this.a.d),Hk(this.c.a.c,this),this.a=null},Le(sn,"LinkedHashMap/EntrySet/EntryIterator",271),ke(70,50,sF,Fa,cP,r_),ie.Wc=function(){return new r_(this)},Le(sn,"LinkedHashSet",70),ke(372,1,$d,GP),ie.J=function(l){Sv(this,l)},ie.G=function(){return this.b!=this.d.c},ie.K=function(){return this.b.b!=this.d.a},ie.H=function(){return $n(this)},ie.L=function(){return this.a},ie.M=function(){return Av(this)},ie.N=function(){return this.a-1},ie.I=function(){uS(this)},ie.O=function(l){Hf(!!this.c),this.c.c=l},ie.a=0,ie.c=null,Le(sn,"LinkedList/ListIteratorImpl",372),ke(259,1,{},vr),Le(sn,"LinkedList/Node",259),ke(74,72,{3:1,54:1,46:1,74:1},$a),Le(sn,"NoSuchElementException",74),ke(154,1,{154:1},pN,t$),ie.a=0,ie.b=0;var KM,QM,pX=0;Le(sn,"Random",154),ke(607,647,uF),ie.rb=function(l,_){bm(l,this.a.c.length+1),ql(this.a,l,_)},ie.ib=function(l){return xt(this.a,l)},ie.jb=function(l){return _r(this.a,l)},ie.Q=function(){this.a.c=ot(zt,At,1,0,4,1)},ie.kb=function(l){return Sa(this.a,l,0)!=-1},ie.lb=function(l){return Hc(this.a,l)},ie.sb=function(l){return bm(l,this.a.c.length),$t(this.a,l)},ie.V=function(){return this.a.c.length==0},ie.mb=function(){return new xe(this.a)},ie.vb=function(l){return bm(l,this.a.c.length),eh(this.a,l)},ie.Xb=function(l,_){ZD(this.a,l,_)},ie.wb=function(l,_){return bm(l,this.a.c.length),Vl(this.a,l,_)},ie.Y=function(){return this.a.c.length},ie.xb=function(l,_){return new E_(this.a,l,_)},ie.ob=function(){return uP(this.a)},ie.pb=function(l){return jr(this.a,l)},ie.w=function(){return Xc(this.a)},Le(sn,"Vector",607),ke(337,607,uF,vt),Le(sn,"Stack",337),ke(253,639,Fd,iR,BC),ie.Q=function(){N1(this)},ie.bb=function(){return new _v(this)},ie.db=function(l,_){return X$(this,l,_)},ie.eb=function(l){return Tv(this,l)},ie.Y=function(){return this.c},ie.c=0,Le(sn,"TreeMap",253),ke(182,1,ei,Ev),ie.H=function(){return Uw(this)},ie.G=function(){return bw(this.a)},ie.I=function(){WP(this)},Le(sn,"TreeMap/EntryIterator",182),ke(209,287,ua,_v),ie.Q=function(){N1(this.a)},Le(sn,"TreeMap/EntrySet",209),ke(183,163,{210:1,163:1,21:1,183:1},M_),ie.b=!1;var vX=Le(sn,"TreeMap/Node",183);ke(254,1,{},Yi),ie.w=function(){return"State: mv="+this.c+" value="+this.d+" done="+this.a+" found="+this.b},ie.a=!1,ie.b=!1,ie.c=!1,Le(sn,"TreeMap/State",254),ke(138,17,rx,J1),ie.Xc=function(){return!1},ie.Yc=function(){return!1};var JM,Pq,Dq,Oq,KE=Sn(sn,"TreeMap/SubMapType",138,Vn,ij);ke(352,138,rx,VR),ie.Yc=function(){return!0},Sn(sn,"TreeMap/SubMapType/1",352,KE,null),ke(353,138,rx,JR),ie.Xc=function(){return!0},ie.Yc=function(){return!0},Sn(sn,"TreeMap/SubMapType/2",353,KE,null),ke(354,138,rx,WR),ie.Xc=function(){return!0},Sn(sn,"TreeMap/SubMapType/3",354,KE,null),ke(191,641,{3:1,22:1,19:1,18:1,137:1,191:1},uk,NI),ie.ib=function(l){return EC(this,l)},ie.Q=function(){N1(this.a)},ie.kb=function(l){return Iw(this.a,l)},ie.mb=function(){var l;return l=new Ev(new _v(new Yu(this.a).a).b),new vg(l)},ie.nb=function(l){return vP(this,l)},ie.Y=function(){return this.a.c},Le(sn,"TreeSet",191);var mX=0,eI,tI=0,xb,Hr=Am("int","I"),n1=Am("boolean","Z"),$q=Am("char","C"),Wa=Am("double","D"),Eb=Am("float","F"),kb=H8,Nq=Nq=uH;Zj(Dp),gz("permProps",[[["locale","default"],["user.agent","gecko1_8"]]]),Nq(null,"klay",null)})()}(klay$1)),klayExports}(function(e,t){(function(s,u){e.exports=u(requireKlay())})(commonjsGlobal,function(n){return function(s){var u={};function f(d){if(u[d])return u[d].exports;var g=u[d]={i:d,l:!1,exports:{}};return s[d].call(g.exports,g,g.exports,f),g.l=!0,g.exports}return f.m=s,f.c=u,f.i=function(d){return d},f.d=function(d,g,v){f.o(d,g)||Object.defineProperty(d,g,{configurable:!1,enumerable:!0,get:v})},f.n=function(d){var g=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(g,"a",g),g},f.o=function(d,g){return Object.prototype.hasOwnProperty.call(d,g)},f.p="",f(f.s=3)}([function(s,u,f){var d=f(4),g=f(1),v=f(2),S={addUnnecessaryBendpoints:"de.cau.cs.kieler.klay.layered.unnecessaryBendpoints",alignment:"de.cau.cs.kieler.alignment",aspectRatio:"de.cau.cs.kieler.aspectRatio",borderSpacing:"borderSpacing",compactComponents:"de.cau.cs.kieler.klay.layered.components.compact",compactionStrategy:"de.cau.cs.kieler.klay.layered.nodeplace.compactionStrategy",contentAlignment:"de.cau.cs.kieler.klay.layered.contentAlignment",crossingMinimization:"de.cau.cs.kieler.klay.layered.crossMin",cycleBreaking:"de.cau.cs.kieler.klay.layered.cycleBreaking",debugMode:"de.cau.cs.kieler.debugMode",direction:"de.cau.cs.kieler.direction",edgeLabelSideSelection:"de.cau.cs.kieler.klay.layered.edgeLabelSideSelection",edgeRouting:"de.cau.cs.kieler.edgeRouting",edgeSpacingFactor:"de.cau.cs.kieler.klay.layered.edgeSpacingFactor",feedbackEdges:"de.cau.cs.kieler.klay.layered.feedBackEdges",fixedAlignment:"de.cau.cs.kieler.klay.layered.fixedAlignment",greedySwitchCrossingMinimization:"de.cau.cs.kieler.klay.layered.greedySwitch",hierarchyHandling:"de.cau.cs.kieler.hierarchyHandling",inLayerSpacingFactor:"de.cau.cs.kieler.klay.layered.inLayerSpacingFactor",interactiveReferencePoint:"de.cau.cs.kieler.klay.layered.interactiveReferencePoint",layerConstraint:"de.cau.cs.kieler.klay.layered.layerConstraint",layoutHierarchy:"de.cau.cs.kieler.layoutHierarchy",linearSegmentsDeflectionDampening:"de.cau.cs.kieler.klay.layered.linearSegmentsDeflectionDampening",mergeEdges:"de.cau.cs.kieler.klay.layered.mergeEdges",mergeHierarchyCrossingEdges:"de.cau.cs.kieler.klay.layered.mergeHierarchyEdges",noLayout:"de.cau.cs.kieler.noLayout",nodeLabelPlacement:"de.cau.cs.kieler.nodeLabelPlacement",nodeLayering:"de.cau.cs.kieler.klay.layered.nodeLayering",nodePlacement:"de.cau.cs.kieler.klay.layered.nodePlace",portAlignment:"de.cau.cs.kieler.portAlignment",portAlignmentEastern:"de.cau.cs.kieler.portAlignment.east",portAlignmentNorth:"de.cau.cs.kieler.portAlignment.north",portAlignmentSouth:"de.cau.cs.kieler.portAlignment.south",portAlignmentWest:"de.cau.cs.kieler.portAlignment.west",portConstraints:"de.cau.cs.kieler.portConstraints",portLabelPlacement:"de.cau.cs.kieler.portLabelPlacement",portOffset:"de.cau.cs.kieler.offset",portSide:"de.cau.cs.kieler.portSide",portSpacing:"de.cau.cs.kieler.portSpacing",postCompaction:"de.cau.cs.kieler.klay.layered.postCompaction",priority:"de.cau.cs.kieler.priority",randomizationSeed:"de.cau.cs.kieler.randomSeed",routeSelfLoopInside:"de.cau.cs.kieler.selfLoopInside",separateConnectedComponents:"de.cau.cs.kieler.separateConnComp",sizeConstraint:"de.cau.cs.kieler.sizeConstraint",sizeOptions:"de.cau.cs.kieler.sizeOptions",spacing:"de.cau.cs.kieler.spacing",splineSelfLoopPlacement:"de.cau.cs.kieler.klay.layered.splines.selfLoopPlacement",thoroughness:"de.cau.cs.kieler.klay.layered.thoroughness",wideNodesOnMultipleLayers:"de.cau.cs.kieler.klay.layered.wideNodesOnMultipleLayers"},M=function(Z){for(var Q=Object.keys(Z),J={},te=0;te<Q.length;te++){var oe=Q[te],ue=S[oe],se=Z[oe];J[ue]=se}return J},I={interactiveReferencePoint:"CENTER"},P=function(Z){for(var Q=Z.parent(),J=Z.scratch("klay"),te={x:J.x,y:J.y};Q.nonempty();){var oe=Q.scratch("klay");te.x+=oe.x,te.y+=oe.y,Q=Q.parent()}return te},N=function(Z,Q){var J=Z.layoutDimensions(Q),te=Z.numericStyle("padding"),oe={_cyEle:Z,id:Z.id(),padding:{top:te,left:te,bottom:te,right:te}};return Z.isParent()||(oe.width=J.w,oe.height=J.h),Z.scratch("klay",oe),oe},F=function(Z,Q){var J={_cyEle:Z,id:Z.id(),source:Z.data("source"),target:Z.data("target"),properties:{}},te=Q.priority(Z);return te!=null&&(J.properties.priority=te),Z.scratch("klay",J),J},j=function(Z,Q,J){for(var te=[],oe=[],ue={},se={id:"root",children:[],edges:[]},le=0;le<Z.length;le++){var de=Z[le],ge=N(de,J);te.push(ge),ue[de.id()]=ge}for(var ve=0;ve<Q.length;ve++){var me=Q[ve],ye=F(me,J);oe.push(ye),ue[me.id()]=ye}for(var Ae=0;Ae<te.length;Ae++){var Te=te[Ae],Oe=Te._cyEle;if(!Oe.isChild())se.children.push(Te);else{var Ie=Oe.parent(),Be=ue[Ie.id()],De=Be.children=Be.children||[];De.push(Te)}}for(var Pe=0;Pe<oe.length;Pe++){var Ne=oe[Pe],He=Ne._cyEle;He.source().parent(),He.target().parent(),se.edges.push(Ne)}return se};function U(V){var Z=V.klay;this.options=g({},v,V),this.options.klay=g({},v.klay,Z,I)}U.prototype.run=function(){var V=this,Z=this.options,Q=Z.eles,J=Q.nodes(),te=Q.edges(),oe=j(J,te,Z);return d.layout({graph:oe,options:M(Z.klay),success:function(){},error:function(se){throw se}}),J.filter(function(ue){return!ue.isParent()}).layoutPositions(V,Z,P),this},U.prototype.stop=function(){return this},U.prototype.destroy=function(){return this},s.exports=U},function(s,u,f){s.exports=Object.assign!=null?Object.assign.bind(Object):function(d){for(var g=arguments.length,v=Array(g>1?g-1:0),S=1;S<g;S++)v[S-1]=arguments[S];return v.filter(function(M){return M!=null}).forEach(function(M){Object.keys(M).forEach(function(I){return d[I]=M[I]})}),d}},function(s,u,f){var d={nodeDimensionsIncludeLabels:!1,fit:!0,padding:20,animate:!1,animateFilter:function(v,S){return!0},animationDuration:500,animationEasing:void 0,transform:function(v,S){return S},ready:void 0,stop:void 0,klay:{addUnnecessaryBendpoints:!1,aspectRatio:1.6,borderSpacing:20,compactComponents:!1,crossingMinimization:"LAYER_SWEEP",cycleBreaking:"GREEDY",direction:"UNDEFINED",edgeRouting:"ORTHOGONAL",edgeSpacingFactor:.5,feedbackEdges:!1,fixedAlignment:"NONE",inLayerSpacingFactor:1,layoutHierarchy:!1,linearSegmentsDeflectionDampening:.3,mergeEdges:!1,mergeHierarchyCrossingEdges:!0,nodeLayering:"NETWORK_SIMPLEX",nodePlacement:"BRANDES_KOEPF",randomizationSeed:1,routeSelfLoopInside:!1,separateConnectedComponents:!0,spacing:20,thoroughness:7},priority:function(v){return null}};s.exports=d},function(s,u,f){var d=f(0),g=function(S){S&&S("layout","klay",d)};typeof cytoscape<"u"&&g(cytoscape),s.exports=g},function(s,u){s.exports=n}])})})(cytoscapeKlay);const klay=getDefaultExportFromCjs(cytoscapeKlayExports);var cytoscapeCoseBilkentExports={},cytoscapeCoseBilkent={get exports(){return cytoscapeCoseBilkentExports},set exports(e){cytoscapeCoseBilkentExports=e}},coseBaseExports={},coseBase={get exports(){return coseBaseExports},set exports(e){coseBaseExports=e}},hasRequiredCoseBase;function requireCoseBase(){return hasRequiredCoseBase||(hasRequiredCoseBase=1,function(e,t){(function(s,u){e.exports=u(requireLayoutBase())})(commonjsGlobal,function(n){return function(s){var u={};function f(d){if(u[d])return u[d].exports;var g=u[d]={i:d,l:!1,exports:{}};return s[d].call(g.exports,g,g.exports,f),g.l=!0,g.exports}return f.m=s,f.c=u,f.i=function(d){return d},f.d=function(d,g,v){f.o(d,g)||Object.defineProperty(d,g,{configurable:!1,enumerable:!0,get:v})},f.n=function(d){var g=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(g,"a",g),g},f.o=function(d,g){return Object.prototype.hasOwnProperty.call(d,g)},f.p="",f(f.s=7)}([function(s,u){s.exports=n},function(s,u,f){var d=f(0).FDLayoutConstants;function g(){}for(var v in d)g[v]=d[v];g.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,g.DEFAULT_RADIAL_SEPARATION=d.DEFAULT_EDGE_LENGTH,g.DEFAULT_COMPONENT_SEPERATION=60,g.TILE=!0,g.TILING_PADDING_VERTICAL=10,g.TILING_PADDING_HORIZONTAL=10,g.TREE_REDUCTION_ON_INCREMENTAL=!1,s.exports=g},function(s,u,f){var d=f(0).FDLayoutEdge;function g(S,M,I){d.call(this,S,M,I)}g.prototype=Object.create(d.prototype);for(var v in d)g[v]=d[v];s.exports=g},function(s,u,f){var d=f(0).LGraph;function g(S,M,I){d.call(this,S,M,I)}g.prototype=Object.create(d.prototype);for(var v in d)g[v]=d[v];s.exports=g},function(s,u,f){var d=f(0).LGraphManager;function g(S){d.call(this,S)}g.prototype=Object.create(d.prototype);for(var v in d)g[v]=d[v];s.exports=g},function(s,u,f){var d=f(0).FDLayoutNode,g=f(0).IMath;function v(M,I,P,N){d.call(this,M,I,P,N)}v.prototype=Object.create(d.prototype);for(var S in d)v[S]=d[S];v.prototype.move=function(){var M=this.graphManager.getLayout();this.displacementX=M.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=M.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>M.coolingFactor*M.maxNodeDisplacement&&(this.displacementX=M.coolingFactor*M.maxNodeDisplacement*g.sign(this.displacementX)),Math.abs(this.displacementY)>M.coolingFactor*M.maxNodeDisplacement&&(this.displacementY=M.coolingFactor*M.maxNodeDisplacement*g.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),M.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},v.prototype.propogateDisplacementToChildren=function(M,I){for(var P=this.getChild().getNodes(),N,F=0;F<P.length;F++)N=P[F],N.getChild()==null?(N.moveBy(M,I),N.displacementX+=M,N.displacementY+=I):N.propogateDisplacementToChildren(M,I)},v.prototype.setPred1=function(M){this.pred1=M},v.prototype.getPred1=function(){return pred1},v.prototype.getPred2=function(){return pred2},v.prototype.setNext=function(M){this.next=M},v.prototype.getNext=function(){return next},v.prototype.setProcessed=function(M){this.processed=M},v.prototype.isProcessed=function(){return processed},s.exports=v},function(s,u,f){var d=f(0).FDLayout,g=f(4),v=f(3),S=f(5),M=f(2),I=f(1),P=f(0).FDLayoutConstants,N=f(0).LayoutConstants,F=f(0).Point,j=f(0).PointD,U=f(0).Layout,V=f(0).Integer,Z=f(0).IGeometry,Q=f(0).LGraph,J=f(0).Transform;function te(){d.call(this),this.toBeTiled={}}te.prototype=Object.create(d.prototype);for(var oe in d)te[oe]=d[oe];te.prototype.newGraphManager=function(){var ue=new g(this);return this.graphManager=ue,ue},te.prototype.newGraph=function(ue){return new v(null,this.graphManager,ue)},te.prototype.newNode=function(ue){return new S(this.graphManager,ue)},te.prototype.newEdge=function(ue){return new M(null,null,ue)},te.prototype.initParameters=function(){d.prototype.initParameters.call(this,arguments),this.isSubLayout||(I.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=I.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=I.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=P.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=P.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=P.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=P.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=P.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=P.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/P.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=P.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},te.prototype.layout=function(){var ue=N.DEFAULT_CREATE_BENDS_AS_NEEDED;return ue&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},te.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(I.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var se=new Set(this.getAllNodes()),le=this.nodesWithGravity.filter(function(ve){return se.has(ve)});this.graphManager.setAllNodesToApplyGravitation(le)}}else{var ue=this.getFlatForest();if(ue.length>0)this.positionNodesRadially(ue);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var se=new Set(this.getAllNodes()),le=this.nodesWithGravity.filter(function(de){return se.has(de)});this.graphManager.setAllNodesToApplyGravitation(le),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},te.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%P.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var ue=new Set(this.getAllNodes()),se=this.nodesWithGravity.filter(function(ge){return ue.has(ge)});this.graphManager.setAllNodesToApplyGravitation(se),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=P.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=P.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var le=!this.isTreeGrowing&&!this.isGrowthFinished,de=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(le,de),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},te.prototype.getPositionsData=function(){for(var ue=this.graphManager.getAllNodes(),se={},le=0;le<ue.length;le++){var de=ue[le].rect,ge=ue[le].id;se[ge]={id:ge,x:de.getCenterX(),y:de.getCenterY(),w:de.width,h:de.height}}return se},te.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var ue=!1;if(P.ANIMATE==="during")this.emit("layoutstarted");else{for(;!ue;)ue=this.tick();this.graphManager.updateBounds()}},te.prototype.calculateNodesToApplyGravitationTo=function(){var ue=[],se,le=this.graphManager.getGraphs(),de=le.length,ge;for(ge=0;ge<de;ge++)se=le[ge],se.updateConnected(),se.isConnected||(ue=ue.concat(se.getNodes()));return ue},te.prototype.createBendpoints=function(){var ue=[];ue=ue.concat(this.graphManager.getAllEdges());var se=new Set,le;for(le=0;le<ue.length;le++){var de=ue[le];if(!se.has(de)){var ge=de.getSource(),ve=de.getTarget();if(ge==ve)de.getBendpoints().push(new j),de.getBendpoints().push(new j),this.createDummyNodesForBendpoints(de),se.add(de);else{var me=[];if(me=me.concat(ge.getEdgeListToNode(ve)),me=me.concat(ve.getEdgeListToNode(ge)),!se.has(me[0])){if(me.length>1){var ye;for(ye=0;ye<me.length;ye++){var Ae=me[ye];Ae.getBendpoints().push(new j),this.createDummyNodesForBendpoints(Ae)}}me.forEach(function(Te){se.add(Te)})}}}if(se.size==ue.length)break}},te.prototype.positionNodesRadially=function(ue){for(var se=new F(0,0),le=Math.ceil(Math.sqrt(ue.length)),de=0,ge=0,ve=0,me=new j(0,0),ye=0;ye<ue.length;ye++){ye%le==0&&(ve=0,ge=de,ye!=0&&(ge+=I.DEFAULT_COMPONENT_SEPERATION),de=0);var Ae=ue[ye],Te=U.findCenterOfTree(Ae);se.x=ve,se.y=ge,me=te.radialLayout(Ae,Te,se),me.y>de&&(de=Math.floor(me.y)),ve=Math.floor(me.x+I.DEFAULT_COMPONENT_SEPERATION)}this.transform(new j(N.WORLD_CENTER_X-me.x/2,N.WORLD_CENTER_Y-me.y/2))},te.radialLayout=function(ue,se,le){var de=Math.max(this.maxDiagonalInTree(ue),I.DEFAULT_RADIAL_SEPARATION);te.branchRadialLayout(se,null,0,359,0,de);var ge=Q.calculateBounds(ue),ve=new J;ve.setDeviceOrgX(ge.getMinX()),ve.setDeviceOrgY(ge.getMinY()),ve.setWorldOrgX(le.x),ve.setWorldOrgY(le.y);for(var me=0;me<ue.length;me++){var ye=ue[me];ye.transform(ve)}var Ae=new j(ge.getMaxX(),ge.getMaxY());return ve.inverseTransformPoint(Ae)},te.branchRadialLayout=function(ue,se,le,de,ge,ve){var me=(de-le+1)/2;me<0&&(me+=180);var ye=(me+le)%360,Ae=ye*Z.TWO_PI/360,Te=ge*Math.cos(Ae),Oe=ge*Math.sin(Ae);ue.setCenter(Te,Oe);var Ie=[];Ie=Ie.concat(ue.getEdges());var Be=Ie.length;se!=null&&Be--;for(var De=0,Pe=Ie.length,Ne,He=ue.getEdgesBetween(se);He.length>1;){var je=He[0];He.splice(0,1);var ze=Ie.indexOf(je);ze>=0&&Ie.splice(ze,1),Pe--,Be--}se!=null?Ne=(Ie.indexOf(He[0])+1)%Pe:Ne=0;for(var Ve=Math.abs(de-le)/Be,Ye=Ne;De!=Be;Ye=++Ye%Pe){var nt=Ie[Ye].getOtherEnd(ue);if(nt!=se){var Fe=(le+De*Ve)%360,Qe=(Fe+Ve)%360;te.branchRadialLayout(nt,ue,Fe,Qe,ge+ve,ve),De++}}},te.maxDiagonalInTree=function(ue){for(var se=V.MIN_VALUE,le=0;le<ue.length;le++){var de=ue[le],ge=de.getDiagonal();ge>se&&(se=ge)}return se},te.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},te.prototype.groupZeroDegreeMembers=function(){var ue=this,se={};this.memberGroups={},this.idToDummyNode={};for(var le=[],de=this.graphManager.getAllNodes(),ge=0;ge<de.length;ge++){var ve=de[ge],me=ve.getParent();this.getNodeDegreeWithChildren(ve)===0&&(me.id==null||!this.getToBeTiled(me))&&le.push(ve)}for(var ge=0;ge<le.length;ge++){var ve=le[ge],ye=ve.getParent().id;typeof se[ye]>"u"&&(se[ye]=[]),se[ye]=se[ye].concat(ve)}Object.keys(se).forEach(function(Ae){if(se[Ae].length>1){var Te="DummyCompound_"+Ae;ue.memberGroups[Te]=se[Ae];var Oe=se[Ae][0].getParent(),Ie=new S(ue.graphManager);Ie.id=Te,Ie.paddingLeft=Oe.paddingLeft||0,Ie.paddingRight=Oe.paddingRight||0,Ie.paddingBottom=Oe.paddingBottom||0,Ie.paddingTop=Oe.paddingTop||0,ue.idToDummyNode[Te]=Ie;var Be=ue.getGraphManager().add(ue.newGraph(),Ie),De=Oe.getChild();De.add(Ie);for(var Pe=0;Pe<se[Ae].length;Pe++){var Ne=se[Ae][Pe];De.remove(Ne),Be.add(Ne)}}})},te.prototype.clearCompounds=function(){var ue={},se={};this.performDFSOnCompounds();for(var le=0;le<this.compoundOrder.length;le++)se[this.compoundOrder[le].id]=this.compoundOrder[le],ue[this.compoundOrder[le].id]=[].concat(this.compoundOrder[le].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[le].getChild()),this.compoundOrder[le].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(ue,se)},te.prototype.clearZeroDegreeMembers=function(){var ue=this,se=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(le){var de=ue.idToDummyNode[le];se[le]=ue.tileNodes(ue.memberGroups[le],de.paddingLeft+de.paddingRight),de.rect.width=se[le].width,de.rect.height=se[le].height})},te.prototype.repopulateCompounds=function(){for(var ue=this.compoundOrder.length-1;ue>=0;ue--){var se=this.compoundOrder[ue],le=se.id,de=se.paddingLeft,ge=se.paddingTop;this.adjustLocations(this.tiledMemberPack[le],se.rect.x,se.rect.y,de,ge)}},te.prototype.repopulateZeroDegreeMembers=function(){var ue=this,se=this.tiledZeroDegreePack;Object.keys(se).forEach(function(le){var de=ue.idToDummyNode[le],ge=de.paddingLeft,ve=de.paddingTop;ue.adjustLocations(se[le],de.rect.x,de.rect.y,ge,ve)})},te.prototype.getToBeTiled=function(ue){var se=ue.id;if(this.toBeTiled[se]!=null)return this.toBeTiled[se];var le=ue.getChild();if(le==null)return this.toBeTiled[se]=!1,!1;for(var de=le.getNodes(),ge=0;ge<de.length;ge++){var ve=de[ge];if(this.getNodeDegree(ve)>0)return this.toBeTiled[se]=!1,!1;if(ve.getChild()==null){this.toBeTiled[ve.id]=!1;continue}if(!this.getToBeTiled(ve))return this.toBeTiled[se]=!1,!1}return this.toBeTiled[se]=!0,!0},te.prototype.getNodeDegree=function(ue){ue.id;for(var se=ue.getEdges(),le=0,de=0;de<se.length;de++){var ge=se[de];ge.getSource().id!==ge.getTarget().id&&(le=le+1)}return le},te.prototype.getNodeDegreeWithChildren=function(ue){var se=this.getNodeDegree(ue);if(ue.getChild()==null)return se;for(var le=ue.getChild().getNodes(),de=0;de<le.length;de++){var ge=le[de];se+=this.getNodeDegreeWithChildren(ge)}return se},te.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},te.prototype.fillCompexOrderByDFS=function(ue){for(var se=0;se<ue.length;se++){var le=ue[se];le.getChild()!=null&&this.fillCompexOrderByDFS(le.getChild().getNodes()),this.getToBeTiled(le)&&this.compoundOrder.push(le)}},te.prototype.adjustLocations=function(ue,se,le,de,ge){se+=de,le+=ge;for(var ve=se,me=0;me<ue.rows.length;me++){var ye=ue.rows[me];se=ve;for(var Ae=0,Te=0;Te<ye.length;Te++){var Oe=ye[Te];Oe.rect.x=se,Oe.rect.y=le,se+=Oe.rect.width+ue.horizontalPadding,Oe.rect.height>Ae&&(Ae=Oe.rect.height)}le+=Ae+ue.verticalPadding}},te.prototype.tileCompoundMembers=function(ue,se){var le=this;this.tiledMemberPack=[],Object.keys(ue).forEach(function(de){var ge=se[de];le.tiledMemberPack[de]=le.tileNodes(ue[de],ge.paddingLeft+ge.paddingRight),ge.rect.width=le.tiledMemberPack[de].width,ge.rect.height=le.tiledMemberPack[de].height})},te.prototype.tileNodes=function(ue,se){var le=I.TILING_PADDING_VERTICAL,de=I.TILING_PADDING_HORIZONTAL,ge={rows:[],rowWidth:[],rowHeight:[],width:0,height:se,verticalPadding:le,horizontalPadding:de};ue.sort(function(ye,Ae){return ye.rect.width*ye.rect.height>Ae.rect.width*Ae.rect.height?-1:ye.rect.width*ye.rect.height<Ae.rect.width*Ae.rect.height?1:0});for(var ve=0;ve<ue.length;ve++){var me=ue[ve];ge.rows.length==0?this.insertNodeToRow(ge,me,0,se):this.canAddHorizontal(ge,me.rect.width,me.rect.height)?this.insertNodeToRow(ge,me,this.getShortestRowIndex(ge),se):this.insertNodeToRow(ge,me,ge.rows.length,se),this.shiftToLastRow(ge)}return ge},te.prototype.insertNodeToRow=function(ue,se,le,de){var ge=de;if(le==ue.rows.length){var ve=[];ue.rows.push(ve),ue.rowWidth.push(ge),ue.rowHeight.push(0)}var me=ue.rowWidth[le]+se.rect.width;ue.rows[le].length>0&&(me+=ue.horizontalPadding),ue.rowWidth[le]=me,ue.width<me&&(ue.width=me);var ye=se.rect.height;le>0&&(ye+=ue.verticalPadding);var Ae=0;ye>ue.rowHeight[le]&&(Ae=ue.rowHeight[le],ue.rowHeight[le]=ye,Ae=ue.rowHeight[le]-Ae),ue.height+=Ae,ue.rows[le].push(se)},te.prototype.getShortestRowIndex=function(ue){for(var se=-1,le=Number.MAX_VALUE,de=0;de<ue.rows.length;de++)ue.rowWidth[de]<le&&(se=de,le=ue.rowWidth[de]);return se},te.prototype.getLongestRowIndex=function(ue){for(var se=-1,le=Number.MIN_VALUE,de=0;de<ue.rows.length;de++)ue.rowWidth[de]>le&&(se=de,le=ue.rowWidth[de]);return se},te.prototype.canAddHorizontal=function(ue,se,le){var de=this.getShortestRowIndex(ue);if(de<0)return!0;var ge=ue.rowWidth[de];if(ge+ue.horizontalPadding+se<=ue.width)return!0;var ve=0;ue.rowHeight[de]<le&&de>0&&(ve=le+ue.verticalPadding-ue.rowHeight[de]);var me;ue.width-ge>=se+ue.horizontalPadding?me=(ue.height+ve)/(ge+se+ue.horizontalPadding):me=(ue.height+ve)/ue.width,ve=le+ue.verticalPadding;var ye;return ue.width<se?ye=(ue.height+ve)/se:ye=(ue.height+ve)/ue.width,ye<1&&(ye=1/ye),me<1&&(me=1/me),me<ye},te.prototype.shiftToLastRow=function(ue){var se=this.getLongestRowIndex(ue),le=ue.rowWidth.length-1,de=ue.rows[se],ge=de[de.length-1],ve=ge.width+ue.horizontalPadding;if(ue.width-ue.rowWidth[le]>ve&&se!=le){de.splice(-1,1),ue.rows[le].push(ge),ue.rowWidth[se]=ue.rowWidth[se]-ve,ue.rowWidth[le]=ue.rowWidth[le]+ve,ue.width=ue.rowWidth[instance.getLongestRowIndex(ue)];for(var me=Number.MIN_VALUE,ye=0;ye<de.length;ye++)de[ye].height>me&&(me=de[ye].height);se>0&&(me+=ue.verticalPadding);var Ae=ue.rowHeight[se]+ue.rowHeight[le];ue.rowHeight[se]=me,ue.rowHeight[le]<ge.height+ue.verticalPadding&&(ue.rowHeight[le]=ge.height+ue.verticalPadding);var Te=ue.rowHeight[se]+ue.rowHeight[le];ue.height+=Te-Ae,this.shiftToLastRow(ue)}},te.prototype.tilingPreLayout=function(){I.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},te.prototype.tilingPostLayout=function(){I.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},te.prototype.reduceTrees=function(){for(var ue=[],se=!0,le;se;){var de=this.graphManager.getAllNodes(),ge=[];se=!1;for(var ve=0;ve<de.length;ve++)le=de[ve],le.getEdges().length==1&&!le.getEdges()[0].isInterGraph&&le.getChild()==null&&(ge.push([le,le.getEdges()[0],le.getOwner()]),se=!0);if(se==!0){for(var me=[],ye=0;ye<ge.length;ye++)ge[ye][0].getEdges().length==1&&(me.push(ge[ye]),ge[ye][0].getOwner().remove(ge[ye][0]));ue.push(me),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=ue},te.prototype.growTree=function(ue){for(var se=ue.length,le=ue[se-1],de,ge=0;ge<le.length;ge++)de=le[ge],this.findPlaceforPrunedNode(de),de[2].add(de[0]),de[2].add(de[1],de[1].source,de[1].target);ue.splice(ue.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},te.prototype.findPlaceforPrunedNode=function(ue){var se,le,de=ue[0];de==ue[1].source?le=ue[1].target:le=ue[1].source;var ge=le.startX,ve=le.finishX,me=le.startY,ye=le.finishY,Ae=0,Te=0,Oe=0,Ie=0,Be=[Ae,Oe,Te,Ie];if(me>0)for(var De=ge;De<=ve;De++)Be[0]+=this.grid[De][me-1].length+this.grid[De][me].length-1;if(ve<this.grid.length-1)for(var De=me;De<=ye;De++)Be[1]+=this.grid[ve+1][De].length+this.grid[ve][De].length-1;if(ye<this.grid[0].length-1)for(var De=ge;De<=ve;De++)Be[2]+=this.grid[De][ye+1].length+this.grid[De][ye].length-1;if(ge>0)for(var De=me;De<=ye;De++)Be[3]+=this.grid[ge-1][De].length+this.grid[ge][De].length-1;for(var Pe=V.MAX_VALUE,Ne,He,je=0;je<Be.length;je++)Be[je]<Pe?(Pe=Be[je],Ne=1,He=je):Be[je]==Pe&&Ne++;if(Ne==3&&Pe==0)Be[0]==0&&Be[1]==0&&Be[2]==0?se=1:Be[0]==0&&Be[1]==0&&Be[3]==0?se=0:Be[0]==0&&Be[2]==0&&Be[3]==0?se=3:Be[1]==0&&Be[2]==0&&Be[3]==0&&(se=2);else if(Ne==2&&Pe==0){var ze=Math.floor(Math.random()*2);Be[0]==0&&Be[1]==0?ze==0?se=0:se=1:Be[0]==0&&Be[2]==0?ze==0?se=0:se=2:Be[0]==0&&Be[3]==0?ze==0?se=0:se=3:Be[1]==0&&Be[2]==0?ze==0?se=1:se=2:Be[1]==0&&Be[3]==0?ze==0?se=1:se=3:ze==0?se=2:se=3}else if(Ne==4&&Pe==0){var ze=Math.floor(Math.random()*4);se=ze}else se=He;se==0?de.setCenter(le.getCenterX(),le.getCenterY()-le.getHeight()/2-P.DEFAULT_EDGE_LENGTH-de.getHeight()/2):se==1?de.setCenter(le.getCenterX()+le.getWidth()/2+P.DEFAULT_EDGE_LENGTH+de.getWidth()/2,le.getCenterY()):se==2?de.setCenter(le.getCenterX(),le.getCenterY()+le.getHeight()/2+P.DEFAULT_EDGE_LENGTH+de.getHeight()/2):de.setCenter(le.getCenterX()-le.getWidth()/2-P.DEFAULT_EDGE_LENGTH-de.getWidth()/2,le.getCenterY())},s.exports=te},function(s,u,f){var d={};d.layoutBase=f(0),d.CoSEConstants=f(1),d.CoSEEdge=f(2),d.CoSEGraph=f(3),d.CoSEGraphManager=f(4),d.CoSELayout=f(6),d.CoSENode=f(5),s.exports=d}])})}(coseBase)),coseBaseExports}(function(e,t){(function(s,u){e.exports=u(requireCoseBase())})(commonjsGlobal,function(n){return function(s){var u={};function f(d){if(u[d])return u[d].exports;var g=u[d]={i:d,l:!1,exports:{}};return s[d].call(g.exports,g,g.exports,f),g.l=!0,g.exports}return f.m=s,f.c=u,f.i=function(d){return d},f.d=function(d,g,v){f.o(d,g)||Object.defineProperty(d,g,{configurable:!1,enumerable:!0,get:v})},f.n=function(d){var g=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(g,"a",g),g},f.o=function(d,g){return Object.prototype.hasOwnProperty.call(d,g)},f.p="",f(f.s=1)}([function(s,u){s.exports=n},function(s,u,f){var d=f(0).layoutBase.LayoutConstants,g=f(0).layoutBase.FDLayoutConstants,v=f(0).CoSEConstants,S=f(0).CoSELayout,M=f(0).CoSENode,I=f(0).layoutBase.PointD,P=f(0).layoutBase.DimensionD,N={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function F(Z,Q){var J={};for(var te in Z)J[te]=Z[te];for(var te in Q)J[te]=Q[te];return J}function j(Z){this.options=F(N,Z),U(this.options)}var U=function(Q){Q.nodeRepulsion!=null&&(v.DEFAULT_REPULSION_STRENGTH=g.DEFAULT_REPULSION_STRENGTH=Q.nodeRepulsion),Q.idealEdgeLength!=null&&(v.DEFAULT_EDGE_LENGTH=g.DEFAULT_EDGE_LENGTH=Q.idealEdgeLength),Q.edgeElasticity!=null&&(v.DEFAULT_SPRING_STRENGTH=g.DEFAULT_SPRING_STRENGTH=Q.edgeElasticity),Q.nestingFactor!=null&&(v.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=g.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=Q.nestingFactor),Q.gravity!=null&&(v.DEFAULT_GRAVITY_STRENGTH=g.DEFAULT_GRAVITY_STRENGTH=Q.gravity),Q.numIter!=null&&(v.MAX_ITERATIONS=g.MAX_ITERATIONS=Q.numIter),Q.gravityRange!=null&&(v.DEFAULT_GRAVITY_RANGE_FACTOR=g.DEFAULT_GRAVITY_RANGE_FACTOR=Q.gravityRange),Q.gravityCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_STRENGTH=g.DEFAULT_COMPOUND_GRAVITY_STRENGTH=Q.gravityCompound),Q.gravityRangeCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=g.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=Q.gravityRangeCompound),Q.initialEnergyOnIncremental!=null&&(v.DEFAULT_COOLING_FACTOR_INCREMENTAL=g.DEFAULT_COOLING_FACTOR_INCREMENTAL=Q.initialEnergyOnIncremental),Q.quality=="draft"?d.QUALITY=0:Q.quality=="proof"?d.QUALITY=2:d.QUALITY=1,v.NODE_DIMENSIONS_INCLUDE_LABELS=g.NODE_DIMENSIONS_INCLUDE_LABELS=d.NODE_DIMENSIONS_INCLUDE_LABELS=Q.nodeDimensionsIncludeLabels,v.DEFAULT_INCREMENTAL=g.DEFAULT_INCREMENTAL=d.DEFAULT_INCREMENTAL=!Q.randomize,v.ANIMATE=g.ANIMATE=d.ANIMATE=Q.animate,v.TILE=Q.tile,v.TILING_PADDING_VERTICAL=typeof Q.tilingPaddingVertical=="function"?Q.tilingPaddingVertical.call():Q.tilingPaddingVertical,v.TILING_PADDING_HORIZONTAL=typeof Q.tilingPaddingHorizontal=="function"?Q.tilingPaddingHorizontal.call():Q.tilingPaddingHorizontal};j.prototype.run=function(){var Z,Q,J=this.options;this.idToLNode={};var te=this.layout=new S,oe=this;oe.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var ue=te.newGraphManager();this.gm=ue;var se=this.options.eles.nodes(),le=this.options.eles.edges();this.root=ue.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(se),te);for(var de=0;de<le.length;de++){var ge=le[de],ve=this.idToLNode[ge.data("source")],me=this.idToLNode[ge.data("target")];if(ve!==me&&ve.getEdgesBetween(me).length==0){var ye=ue.add(te.newEdge(),ve,me);ye.id=ge.id()}}var Ae=function(Ie,Be){typeof Ie=="number"&&(Ie=Be);var De=Ie.data("id"),Pe=oe.idToLNode[De];return{x:Pe.getRect().getCenterX(),y:Pe.getRect().getCenterY()}},Te=function Oe(){for(var Ie=function(){J.fit&&J.cy.fit(J.eles,J.padding),Z||(Z=!0,oe.cy.one("layoutready",J.ready),oe.cy.trigger({type:"layoutready",layout:oe}))},Be=oe.options.refresh,De,Pe=0;Pe<Be&&!De;Pe++)De=oe.stopped||oe.layout.tick();if(De){te.checkLayoutSuccess()&&!te.isSubLayout&&te.doPostLayout(),te.tilingPostLayout&&te.tilingPostLayout(),te.isLayoutFinished=!0,oe.options.eles.nodes().positions(Ae),Ie(),oe.cy.one("layoutstop",oe.options.stop),oe.cy.trigger({type:"layoutstop",layout:oe}),Q&&cancelAnimationFrame(Q),Z=!1;return}var Ne=oe.layout.getPositionsData();J.eles.nodes().positions(function(He,je){if(typeof He=="number"&&(He=je),!He.isParent()){for(var ze=He.id(),Ve=Ne[ze],Ye=He;Ve==null&&(Ve=Ne[Ye.data("parent")]||Ne["DummyCompound_"+Ye.data("parent")],Ne[ze]=Ve,Ye=Ye.parent()[0],Ye!=null););return Ve!=null?{x:Ve.x,y:Ve.y}:{x:He.position("x"),y:He.position("y")}}}),Ie(),Q=requestAnimationFrame(Oe)};return te.addListener("layoutstarted",function(){oe.options.animate==="during"&&(Q=requestAnimationFrame(Te))}),te.runLayout(),this.options.animate!=="during"&&(oe.options.eles.nodes().not(":parent").layoutPositions(oe,oe.options,Ae),Z=!1),this},j.prototype.getTopMostNodes=function(Z){for(var Q={},J=0;J<Z.length;J++)Q[Z[J].id()]=!0;var te=Z.filter(function(oe,ue){typeof oe=="number"&&(oe=ue);for(var se=oe.parent()[0];se!=null;){if(Q[se.id()])return!1;se=se.parent()[0]}return!0});return te},j.prototype.processChildrenList=function(Z,Q,J){for(var te=Q.length,oe=0;oe<te;oe++){var ue=Q[oe],se=ue.children(),le,de=ue.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(ue.outerWidth()!=null&&ue.outerHeight()!=null?le=Z.add(new M(J.graphManager,new I(ue.position("x")-de.w/2,ue.position("y")-de.h/2),new P(parseFloat(de.w),parseFloat(de.h)))):le=Z.add(new M(this.graphManager)),le.id=ue.data("id"),le.paddingLeft=parseInt(ue.css("padding")),le.paddingTop=parseInt(ue.css("padding")),le.paddingRight=parseInt(ue.css("padding")),le.paddingBottom=parseInt(ue.css("padding")),this.options.nodeDimensionsIncludeLabels&&ue.isParent()){var ge=ue.boundingBox({includeLabels:!0,includeNodes:!1}).w,ve=ue.boundingBox({includeLabels:!0,includeNodes:!1}).h,me=ue.css("text-halign");le.labelWidth=ge,le.labelHeight=ve,le.labelPos=me}if(this.idToLNode[ue.data("id")]=le,isNaN(le.rect.x)&&(le.rect.x=0),isNaN(le.rect.y)&&(le.rect.y=0),se!=null&&se.length>0){var ye;ye=J.getGraphManager().add(J.newGraph(),le),this.processChildrenList(ye,se,J)}}},j.prototype.stop=function(){return this.stopped=!0,this};var V=function(Q){Q("layout","cose-bilkent",j)};typeof cytoscape<"u"&&V(cytoscape),s.exports=V}])})})(cytoscapeCoseBilkent);const coseBilkent=getDefaultExportFromCjs(cytoscapeCoseBilkentExports);var cytoscapeColaExports={},cytoscapeCola={get exports(){return cytoscapeColaExports},set exports(e){cytoscapeColaExports=e}};(function(e,t){(function(s,u){e.exports=u(dist$1)})(commonjsGlobal,function(n){return function(s){var u={};function f(d){if(u[d])return u[d].exports;var g=u[d]={i:d,l:!1,exports:{}};return s[d].call(g.exports,g,g.exports,f),g.l=!0,g.exports}return f.m=s,f.c=u,f.i=function(d){return d},f.d=function(d,g,v){f.o(d,g)||Object.defineProperty(d,g,{configurable:!1,enumerable:!0,get:v})},f.n=function(d){var g=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(g,"a",g),g},f.o=function(d,g){return Object.prototype.hasOwnProperty.call(d,g)},f.p="",f(f.s=3)}([function(s,u,f){var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},g=f(1),v=f(2),S=f(5)||(typeof window<"u"?window.cola:null),M=f(4),I=function(Q){return(typeof Q>"u"?"undefined":d(Q))===d("")},P=function(Q){return(typeof Q>"u"?"undefined":d(Q))===d(0)},N=function(Q){return Q!=null&&(typeof Q>"u"?"undefined":d(Q))===d({})},F=function(Q){return Q!=null&&(typeof Q>"u"?"undefined":d(Q))===d(function(){})},j=function(){},U=function(Q,J){if(F(Q)){var te=Q;return te.apply(J,[J])}else return Q};function V(Z){this.options=g({},v,Z)}V.prototype.run=function(){var Z=this,Q=this.options;Z.manuallyStopped=!1;var J=Q.cy,te=Q.eles,oe=te.nodes(),ue=te.edges(),se=!1,le=function(at){return at.isParent()},de=oe.filter(le),ge=oe.subtract(de),ve=Q.boundingBox||{x1:0,y1:0,w:J.width(),h:J.height()};ve.x2===void 0&&(ve.x2=ve.x1+ve.w),ve.w===void 0&&(ve.w=ve.x2-ve.x1),ve.y2===void 0&&(ve.y2=ve.y1+ve.h),ve.h===void 0&&(ve.h=ve.y2-ve.y1);var me=function(){for(var at=0;at<oe.length;at++){var wt=oe[at],st=wt.layoutDimensions(Q),ft=wt.scratch("cola");if(!ft.updatedDims){var Dt=U(Q.nodeSpacing,wt);ft.width=st.w+2*Dt,ft.height=st.h+2*Dt}}oe.positions(function(ut){var _t=ut.scratch().cola,Bt=void 0;return!ut.grabbed()&&ge.contains(ut)&&(Bt={x:ve.x1+_t.x,y:ve.y1+_t.y},(!P(Bt.x)||!P(Bt.y))&&(Bt=void 0)),Bt}),oe.updateCompoundBounds(),se||(Ae(),se=!0),Q.fit&&J.fit(Q.padding)},ye=function(){Q.ungrabifyWhileSimulating&&Ie.grabify(),J.off("destroy",Be),oe.off("grab free position",De),oe.off("lock unlock",Pe),Z.one("layoutstop",Q.stop),Z.trigger({type:"layoutstop",layout:Z})},Ae=function(){Z.one("layoutready",Q.ready),Z.trigger({type:"layoutready",layout:Z})},Te=Q.refresh;Q.refresh<0?Te=1:Te=Math.max(1,Te);var Oe=Z.adaptor=S.adaptor({trigger:function(at){var wt=S.EventType?S.EventType.tick:null,st=S.EventType?S.EventType.end:null;switch(at.type){case"tick":case wt:Q.animate&&me();break;case"end":case st:me(),Q.infinite||ye();break}},kick:function(){var at=!0,wt=function(){if(Z.manuallyStopped)return ye(),!0;var ut=Oe.tick();return!Q.infinite&&!at&&Oe.convergenceThreshold(Q.convergenceThreshold),at=!1,ut&&Q.infinite&&Oe.resume(),ut},st=function(){for(var ut=void 0,_t=0;_t<Te&&!ut;_t++)ut=ut||wt();return ut};if(Q.animate){var ft=function Dt(){st()||M(Dt)};M(ft)}else for(;!wt(););},on:j,drag:j});Z.adaptor=Oe;var Ie=oe.filter(":grabbable");Q.ungrabifyWhileSimulating&&Ie.ungrabify();var Be=void 0;J.one("destroy",Be=function(){Z.stop()});var De=void 0;oe.on("grab free position",De=function(at){var wt=this,st=wt.scratch().cola,ft=wt.position(),Dt=at.cyTarget===wt||at.target===wt;if(Dt)switch(at.type){case"grab":Oe.dragstart(st);break;case"free":Oe.dragend(st);break;case"position":(st.px!==ft.x-ve.x1||st.py!==ft.y-ve.y1)&&(st.px=ft.x-ve.x1,st.py=ft.y-ve.y1);break}});var Pe=void 0;oe.on("lock unlock",Pe=function(){var at=this,wt=at.scratch().cola;wt.fixed=at.locked(),at.locked()?Oe.dragstart(wt):Oe.dragend(wt)}),Oe.nodes(ge.map(function(it,at){var wt=U(Q.nodeSpacing,it),st=it.position(),ft=it.layoutDimensions(Q),Dt=it.scratch().cola={x:Q.randomize&&!it.locked()||st.x===void 0?Math.round(Math.random()*ve.w):st.x,y:Q.randomize&&!it.locked()||st.y===void 0?Math.round(Math.random()*ve.h):st.y,width:ft.w+2*wt,height:ft.h+2*wt,index:at,fixed:it.locked()};return Dt}));var Ne=[];if(Q.alignment){if(Q.alignment.vertical){var He=Q.alignment.vertical;He.forEach(function(it){var at=[];it.forEach(function(wt){var st=wt.node,ft=st.scratch().cola,Dt=ft.index;at.push({node:Dt,offset:wt.offset?wt.offset:0})}),Ne.push({type:"alignment",axis:"x",offsets:at})})}if(Q.alignment.horizontal){var je=Q.alignment.horizontal;je.forEach(function(it){var at=[];it.forEach(function(wt){var st=wt.node,ft=st.scratch().cola,Dt=ft.index;at.push({node:Dt,offset:wt.offset?wt.offset:0})}),Ne.push({type:"alignment",axis:"y",offsets:at})})}}Q.gapInequalities&&Q.gapInequalities.forEach(function(it){var at=it.left.scratch().cola.index,wt=it.right.scratch().cola.index;Ne.push({axis:it.axis,left:at,right:wt,gap:it.gap,equality:it.equality})}),Ne.length>0&&Oe.constraints(Ne),Oe.groups(de.map(function(it,at){var wt=U(Q.nodeSpacing,it),st=function(mn){return parseFloat(it.style("padding-"+mn))},ft=st("left")+wt,Dt=st("right")+wt,ut=st("top")+wt,_t=st("bottom")+wt;return it.scratch().cola={index:at,padding:Math.max(ft,Dt,ut,_t),leaves:it.children().intersection(ge).map(function(Bt){return Bt[0].scratch().cola.index}),fixed:it.locked()},it}).map(function(it){return it.scratch().cola.groups=it.children().intersection(de).map(function(at){return at.scratch().cola.index}),it.scratch().cola}));var ze=void 0,Ve=void 0;Q.edgeLength!=null?(ze=Q.edgeLength,Ve="linkDistance"):Q.edgeSymDiffLength!=null?(ze=Q.edgeSymDiffLength,Ve="symmetricDiffLinkLengths"):Q.edgeJaccardLength!=null?(ze=Q.edgeJaccardLength,Ve="jaccardLinkLengths"):(ze=100,Ve="linkDistance");var Ye=function(at){return at.calcLength};if(Oe.links(ue.stdFilter(function(it){return ge.contains(it.source())&&ge.contains(it.target())}).map(function(it){var at=it.scratch().cola={source:it.source()[0].scratch().cola.index,target:it.target()[0].scratch().cola.index};return ze!=null&&(at.calcLength=U(ze,it)),at})),Oe.size([ve.w,ve.h]),ze!=null&&Oe[Ve](Ye),Q.flow){var nt=void 0,Fe="y",Qe=50;I(Q.flow)?nt={axis:Q.flow,minSeparation:Qe}:P(Q.flow)?nt={axis:Fe,minSeparation:Q.flow}:N(Q.flow)?(nt=Q.flow,nt.axis=nt.axis||Fe,nt.minSeparation=nt.minSeparation!=null?nt.minSeparation:Qe):nt={axis:Fe,minSeparation:Qe},Oe.flowLayout(nt.axis,nt.minSeparation)}return Z.trigger({type:"layoutstart",layout:Z}),Oe.avoidOverlaps(Q.avoidOverlap).handleDisconnected(Q.handleDisconnected).start(Q.unconstrIter,Q.userConstIter,Q.allConstIter,void 0,void 0,Q.centerGraph),Q.infinite||setTimeout(function(){Z.manuallyStopped||Oe.stop()},Q.maxSimulationTime),this},V.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},s.exports=V},function(s,u,f){s.exports=Object.assign!=null?Object.assign.bind(Object):function(d){for(var g=arguments.length,v=Array(g>1?g-1:0),S=1;S<g;S++)v[S-1]=arguments[S];return v.filter(function(M){return M!=null}).forEach(function(M){Object.keys(M).forEach(function(I){return d[I]=M[I]})}),d}},function(s,u,f){var d={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,convergenceThreshold:.01,nodeSpacing:function(v){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,centerGraph:!0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};s.exports=d},function(s,u,f){var d=f(0),g=function(S){S&&S("layout","cola",d)};typeof cytoscape<"u"&&g(cytoscape),s.exports=g},function(s,u,f){var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},g=void 0;(typeof window>"u"?"undefined":d(window))!=="undefined"?g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(v){return setTimeout(v,16)}:g=function(S){S()},s.exports=g},function(s,u){s.exports=n}])})})(cytoscapeCola);const cola=getDefaultExportFromCjs(cytoscapeColaExports);var cytoscapeCiseExports={},cytoscapeCise={get exports(){return cytoscapeCiseExports},set exports(e){cytoscapeCiseExports=e}};(function(e,t){(function(s,u){e.exports=u(requireAvsdfBase(),requireCoseBase())})(commonjsGlobal,function(n,s){return function(u){var f={};function d(g){if(f[g])return f[g].exports;var v=f[g]={i:g,l:!1,exports:{}};return u[g].call(v.exports,v,v.exports,d),v.l=!0,v.exports}return d.m=u,d.c=f,d.i=function(g){return g},d.d=function(g,v,S){d.o(g,v)||Object.defineProperty(g,v,{configurable:!1,enumerable:!0,get:S})},d.n=function(g){var v=g&&g.__esModule?function(){return g.default}:function(){return g};return d.d(v,"a",v),v},d.o=function(g,v){return Object.prototype.hasOwnProperty.call(g,v)},d.p="",d(d.s=15)}([function(u,f){u.exports=n},function(u,f,d){var g=d(0).layoutBase.FDLayoutConstants;function v(){}for(var S in g)v[S]=g[S];v.DEFAULT_SPRING_STRENGTH=1.5*g.DEFAULT_SPRING_STRENGTH,v.DEFAULT_NODE_SEPARATION=g.DEFAULT_EDGE_LENGTH/4,v.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF=1.4,v.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE=!1,v.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=.1,v.DEFAULT_INNER_EDGE_LENGTH=g.DEFAULT_EDGE_LENGTH/3,v.MAX_ROTATION_ANGLE=Math.PI/36,v.MIN_ROTATION_ANGLE=-v.MAX_ROTATION_ANGLE,v.SWAP_IDLE_DURATION=45,v.SWAP_PREPERATION_DURATION=5,v.SWAP_PERIOD=v.SWAP_IDLE_DURATION+v.SWAP_PREPERATION_DURATION,v.SWAP_HISTORY_CLEARANCE_PERIOD=6*v.SWAP_PERIOD,v.MIN_DISPLACEMENT_FOR_SWAP=6,v.REVERSE_PERIOD=25,u.exports=v},function(u,f,d){u.exports=Object.assign!=null?Object.assign.bind(Object):function(g){for(var v=arguments.length,S=Array(v>1?v-1:0),M=1;M<v;M++)S[M-1]=arguments[M];return S.forEach(function(I){Object.keys(I).forEach(function(P){return g[P]=I[P]})}),g}},function(u,f){u.exports=s},function(u,f,d){u.exports=d(16)},function(u,f,d){var g=d(0).layoutBase.LGraph,v=d(0).layoutBase.IGeometry,S=d(0).layoutBase.NeedlemanWunsch,M=d(14),I=d(1),P=d(8),N=d(9);function F(U,V,Z){g.call(this,U,V,Z),this.intraClusterEdges=null,this.interClusterEdges=null,this.inNodes=[],this.outNodes=[],this.onCircleNodes=[],this.inCircleNodes=[],this.radius=0,this.orderMatrix=null,this.mayBeReversed=!0}F.prototype=Object.create(g.prototype);for(var j in g)F[j]=g[j];F.prototype.setRadius=function(U){this.radius=U},F.prototype.getRadius=function(){return this.radius},F.prototype.getInNodes=function(){return this.inNodes},F.prototype.getOutNodes=function(){return this.outNodes},F.prototype.getOnCircleNodes=function(){return this.onCircleNodes},F.prototype.getInCircleNodes=function(){return this.inCircleNodes},F.prototype.setMayNotBeReversed=function(){this.mayBeReversed=!1},F.prototype.getMayBeReversed=function(){return this.mayBeReversed},F.prototype.getChildAt=function(U){return this.onCircleNodes[U]},F.prototype.getInterClusterEdges=function(){var U=this;return this.interClusterEdges===null&&(this.interClusterEdges=[],this.outNodes.forEach(function(V){for(var Z=V.getOnCircleNodeExt().getInterClusterEdges(),Q=0;Q<Z.length;Q++)U.interClusterEdges.push(Z[Q])})),this.interClusterEdges},F.prototype.getIntraClusterEdges=function(){var U=this;if(this.intraClusterEdges===null){this.intraClusterEdges=[];var V=this.getEdges();V.forEach(function(Z){Z.isIntraEdge()&&U.intraClusterEdges.push(Z)})}return this.intraClusterEdges},F.prototype.calculateParentNodeDimension=function(){for(var U=this,V=Number.MIN_SAFE_INTEGER,Z=0;Z<this.onCircleNodes.length;Z++){var Q=this.onCircleNodes[Z];Q.getWidth()>V&&(V=Q.getWidth()),Q.getHeight()>V&&(V=Q.getHeight())}var J=2*(U.radius+U.margin)+V,te=U.getParent();te.setHeight(J),te.setWidth(J)},F.prototype.computeOrderMatrix=function(){var U=this.onCircleNodes.length;this.orderMatrix=new Array(U);for(var V=0;V<this.orderMatrix.length;V++)this.orderMatrix[V]=new Array(U);for(var Z=0;Z<U;Z++)for(var Q=0;Q<U;Q++)if(Q>Z){var J=this.onCircleNodes[Q].getOnCircleNodeExt().getAngle()-this.onCircleNodes[Z].getOnCircleNodeExt().getAngle();J<0&&(J+=v.TWO_PI),J<=Math.PI?(this.orderMatrix[Z][Q]=!0,this.orderMatrix[Q][Z]=!1):(this.orderMatrix[Z][Q]=!1,this.orderMatrix[Q][Z]=!0)}},F.prototype.rotate=function(){var U=this.getParent(),V=this.getOnCircleNodes().length,Z=U.rotationAmount/V,Q=this.getGraphManager().getLayout();if(Z!==0){var J=Z/this.radius;J>I.MAX_ROTATION_ANGLE?J=I.MAX_ROTATION_ANGLE:J<I.MIN_ROTATION_ANGLE&&(J=I.MIN_ROTATION_ANGLE);for(var te=0;te<V;te++){var oe=this.getChildAt(te),ue=oe.getOnCircleNodeExt();ue.setAngle(ue.getAngle()+J),ue.updatePosition()}Q.totalDisplacement+=U.rotationAmount,U.rotationAmount=0}},F.prototype.getOrder=function(U,V){return this.orderMatrix[U.getOnCircleNodeExt().getIndex()][V.getOnCircleNodeExt().getIndex()]},F.prototype.getThisEnd=function(U){var V=U.getSource(),Z=U.getTarget();return V.getOwner()===this?V:Z},F.prototype.getOtherEnd=function(U){var V=U.getSource(),Z=U.getTarget();return V.getOwner()===this?Z:V},F.prototype.decomposeForce=function(U){var V=void 0;if(U.displacementX!==0||U.displacementY!==0){var Z=this.getParent(),Q=Z.getCenterX(),J=Z.getCenterY(),te=U.getCenterX(),oe=U.getCenterY(),ue=U.displacementX,se=U.displacementY,le=v.angleOfVector(Q,J,te,oe),de=v.angleOfVector(0,0,ue,se),ge=le+Math.PI,ve=void 0;Math.PI<=ge&&ge<v.TWO_PI?ve=le<=de&&de<ge:(ge-=v.TWO_PI,ve=!(ge<=de&&de<le));var me=Math.abs(le-de),ye=Math.sqrt(ue*ue+se*se),Ae=Math.abs(Math.sin(me)*ye);ve||(Ae=-Ae),V=new M(Ae,ue,se)}else V=new M(0,0,0);return V},F.prototype.swapNodes=function(U,V){var Z=U,Q=V,J=U.getOnCircleNodeExt(),te=V.getOnCircleNodeExt();if(Z.getOnCircleNodeExt().getIndex()>V.getOnCircleNodeExt().getIndex()&&(Z=V,Q=U),Z.getOnCircleNodeExt().getPrevNode()===Q){var oe=Q;Q=Z,Z=oe}var ue=Z.getOnCircleNodeExt(),se=Q.getOnCircleNodeExt(),le=ue.getPrevNode(),de=this.getGraphManager().getLayout(),ge=de.getNodeSeparation(),ve=(le.getOnCircleNodeExt().getAngle()+(le.getHalfTheDiagonal()+Q.getHalfTheDiagonal()+ge)/this.radius)%(2*Math.PI);se.setAngle(ve),ve=(se.getAngle()+(Q.getHalfTheDiagonal()+Z.getHalfTheDiagonal()+ge)/this.radius)%(2*Math.PI),ue.setAngle(ve),ue.updatePosition(),se.updatePosition();var me=J.getIndex();J.setIndex(te.getIndex()),te.setIndex(me),this.getOnCircleNodes()[J.getIndex()]=U,this.getOnCircleNodes()[te.getIndex()]=V,J.updateSwappingConditions(),te.updateSwappingConditions(),J.getNextNode()===V?(J.getPrevNode().getOnCircleNodeExt().updateSwappingConditions(),te.getNextNode().getOnCircleNodeExt().updateSwappingConditions()):(J.getNextNode().getOnCircleNodeExt().updateSwappingConditions(),te.getPrevNode().getOnCircleNodeExt().updateSwappingConditions())},F.prototype.checkAndReverseIfReverseIsBetter=function(){for(var U=this.getInterClusterEdges(),V=new Array(U.length),Z=void 0,Q=this.getParent().getCenter(),J=void 0,te=void 0,oe=void 0,ue=void 0,se=this.onCircleNodes.length,le=new Array(se),de=0;de<se;de++)le[de]=0;for(var ge=0,ve=0;ve<U.length;ve++)J=U[ve],oe=this.getOtherEnd(J),ue=oe.getCenter(),Z=v.angleOfVector(Q.x,Q.y,ue.x,ue.y),V[ve]=new P(J,Z),te=this.getThisEnd(J),le[te.getOnCircleNodeExt().getIndex()]++,le[te.getOnCircleNodeExt().getIndex()]>1&&ge++;for(var me=this.onCircleNodes,ye=se+ge,Ae=new Array(2*ye),Te=new Array(2*ye),Oe=void 0,Ie=-1,Be=0;Be<se;Be++){Oe=me[Be],le[Be]===0&&(le[Be]=1);for(var De=0;De<le[Be];De++)Ie++,Ae[Ie]=Ae[ye+Ie]=Te[ye-1-Ie]=Te[2*ye-1-Ie]=Oe.getOnCircleNodeExt().getCharCode()}new N(this,V);for(var Pe=new Array(V.length),Ne=0;Ne<V.length;Ne++)J=V[Ne].getEdge(),te=this.getThisEnd(J),Pe[Ne]=te.getOnCircleNodeExt().getCharCode();var He=this.computeAlignmentScore(Ae,Pe);if(He!==-1){var je=this.computeAlignmentScore(Te,Pe);if(je!==-1&&je>He)return this.reverseNodes(),this.setMayNotBeReversed(),!0}return!1},F.prototype.computeAlignmentScore=function(U,V){var Z=new S(U,V,20,-1,-2);return Z.getScore()},F.prototype.reverseNodes=function(){for(var U=this.getOnCircleNodes(),V=this.getOnCircleNodes().length,Z=0;Z<V;Z++){var Q=U[Z],J=Q.getOnCircleNodeExt();J.setIndex((V-J.getIndex())%V)}this.reCalculateNodeAnglesAndPositions()},F.prototype.moveOnCircleNodeInside=function(U){var V=this.onCircleNodes.indexOf(U);V>-1&&this.onCircleNodes.splice(V,1),this.inCircleNodes.push(U);for(var Z=0;Z<this.onCircleNodes.length;Z++){var Q=this.onCircleNodes[Z];Q.getOnCircleNodeExt().setIndex(Z)}U.setAsNonOnCircleNode(),this.reCalculateCircleSizeAndRadius(),this.reCalculateNodeAnglesAndPositions(),U.setCenter(this.getParent().getCenterX(),this.getParent().getCenterY())},F.prototype.reCalculateCircleSizeAndRadius=function(){for(var U=0,V=this.getOnCircleNodes(),Z=0;Z<V.length;Z++){var Q=V[Z],J=Q.getWidth()*Q.getWidth()+Q.getHeight()*Q.getHeight();U+=Math.sqrt(J)}var te=this.getGraphManager().getLayout(),oe=te.getNodeSeparation(),ue=U+this.getOnCircleNodes().length*oe;this.radius=ue/(2*Math.PI),this.calculateParentNodeDimension()},F.prototype.reCalculateNodeAnglesAndPositions=function(){var U=this.getGraphManager().getLayout(),V=U.getNodeSeparation(),Z=this.onCircleNodes;Z.sort(function(le,de){return le.getOnCircleNodeExt().getIndex()-de.getOnCircleNodeExt().getIndex()});for(var Q=this.getParent().getCenterX(),J=this.getParent().getCenterY(),te=0;te<Z.length;te++){var oe=Z[te],ue=void 0;if(te===0)ue=0;else{var se=Z[te-1];ue=se.getOnCircleNodeExt().getAngle()+(oe.getHalfTheDiagonal()+V+se.getHalfTheDiagonal())/this.radius}oe.getOnCircleNodeExt().setAngle(ue),oe.setCenter(Q+this.radius*Math.cos(ue),J+this.radius*Math.sin(ue))}},u.exports=F},function(u,f,d){var g=d(0).layoutBase.FDLayoutEdge;function v(M,I,P){g.call(this,M,I,P),this.isIntraCluster=!0}v.prototype=Object.create(g.prototype);for(var S in g)v[S]=g[S];v.prototype.isIntraEdge=function(){return this.isIntraCluster},v.prototype.crossesWithEdge=function(M){var I=!1,P=this.getSource().getOnCircleNodeExt(),N=this.getTarget().getOnCircleNodeExt(),F=M.getSource().getOnCircleNodeExt(),j=M.getTarget().getOnCircleNodeExt(),U=-1,V=-1,Z=-1,Q=-1;if(P!==null&&(U=P.getIndex()),N!==null&&(V=N.getIndex()),F!==null&&(Z=F.getIndex()),j!==null&&(Q=j.getIndex()),!this.isInterGraph&&!M.isInterGraph)if(this.source.getOwner()!==this.target.getOwner())I=!1;else{(U===-1||V===-1||Z===-1||Q===-1)&&(I=!1);var J=F.getCircDistWithTheNode(P),te=j.getCircDistWithTheNode(P),oe=N.getCircDistWithTheNode(P);oe<Math.max(J,te)&&oe>Math.min(J,te)&&te!==0&&J!==0&&(I=!0)}else I=!0;return I},v.prototype.calculateTotalCrossingWithList=function(M){for(var I=0,P=0;P<M.length;P++)I+=this.crossingWithEdge(M[P]);return I},v.prototype.crossingWithEdge=function(M){var I=this.crossesWithEdge(M),P=0;return I&&(P=1),P},u.exports=v},function(u,f,d){var g=d(0).layoutBase.LGraphManager;function v(M){g.call(this,M),this.onCircleNodes=[],this.inCircleNodes=[],this.nonOnCircleNodes=[]}v.prototype=Object.create(g.prototype);for(var S in g)v[S]=g[S];v.prototype.getOnCircleNodes=function(){return this.onCircleNodes},v.prototype.getInCircleNodes=function(){return this.inCircleNodes},v.prototype.getNonOnCircleNodes=function(){return this.nonOnCircleNodes},v.prototype.setOnCircleNodes=function(M){this.onCircleNodes=M},v.prototype.setInCircleNodes=function(M){this.inCircleNodes=M},v.prototype.setNonOnCircleNodes=function(M){this.nonOnCircleNodes=M},u.exports=v},function(u,f,d){function g(v,S){this.edge=v,this.angle=S}g.prototype=Object.create(null),g.prototype.getEdge=function(){return this.edge},g.prototype.getAngle=function(){return this.angle},u.exports=g},function(u,f,d){var g=function(){function M(I,P){for(var N=0;N<P.length;N++){var F=P[N];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(I,F.key,F)}}return function(I,P,N){return P&&M(I.prototype,P),N&&M(I,N),I}}();function v(M,I){if(!(M instanceof I))throw new TypeError("Cannot call a class as a function")}var S=function(){function M(I,P){v(this,M),this.ownerCircle=I,this._quicksort(P,0,P.length-1)}return g(M,[{key:"compareFunction",value:function(P,N){return N.getAngle()>P.getAngle()?!0:N.getAngle()===P.getAngle()?P===N?!1:this.ownerCircle.getOrder(this.ownerCircle.getThisEnd(P.getEdge()),this.ownerCircle.getThisEnd(N.getEdge())):!1}},{key:"_quicksort",value:function(P,N,F){if(N<F){var j=this._partition(P,N,F);this._quicksort(P,N,j),this._quicksort(P,j+1,F)}}},{key:"_partition",value:function(P,N,F){for(var j=this._get(P,N),U=N,V=F;;){for(;this.compareFunction(j,this._get(P,V));)V--;for(;this.compareFunction(this._get(P,U),j);)U++;if(U<V)this._swap(P,U,V),U++,V--;else return V}}},{key:"_get",value:function(P,N){return P[N]}},{key:"_set",value:function(P,N,F){P[N]=F}},{key:"_swap",value:function(P,N,F){var j=this._get(P,N);this._set(P,N,this._get(P,F)),this._set(P,F,j)}}]),M}();u.exports=S},function(u,f,d){var g=d(0).layoutBase.FDLayout,v=d(0).layoutBase.HashMap,S=d(0).layoutBase.PointD,M=d(0).layoutBase.DimensionD,I=d(0).AVSDFConstants,P=d(0).AVSDFLayout,N=d(3).CoSELayout;d(3).CoSEConstants;var F=d(1),j=d(7),U=d(5),V=d(11),Z=d(6),Q=d(13);function J(){g.call(this),this.incremental=F.INCREMENTAL,this.nodeSeparation=F.DEFAULT_NODE_SEPARATION,this.idealInterClusterEdgeLengthCoefficient=F.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF,this.allowNodesInsideCircle=F.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE,this.maxRatioOfNodesInsideCircle=F.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE,this.step=J.STEP_NOT_STARTED,this.phase=J.PHASE_NOT_STARTED,this.swappedPairsInLastIteration=[],this.iterations=0,this.oldTotalDisplacement=0,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/F.CONVERGENCE_CHECK_PERIOD}J.prototype=Object.create(g.prototype);for(var te in g)J[te]=g[te];J.STEP_NOT_STARTED=0,J.STEP_1=1,J.STEP_2=2,J.STEP_3=3,J.STEP_4=4,J.STEP_5=5,J.PHASE_NOT_STARTED=0,J.PHASE_SWAP_PREPERATION=1,J.PHASE_PERFORM_SWAP=2,J.PHASE_OTHER=3,J.prototype.newGraphManager=function(){return this.graphManager=new j(this),this.graphManager},J.prototype.newCircleLGraph=function(oe){return new U(null,this.graphManager,oe)},J.prototype.newNode=function(oe,ue){return new V(this.graphManager,oe,ue,null)},J.prototype.newCiSEOnCircleNode=function(oe,ue){var se=this.newNode(oe,ue);return se.setAsOnCircleNode(),se},J.prototype.newEdge=function(oe,ue,se){return new Z(oe,ue,se)},J.prototype.getNodeSeparation=function(){return this.nodeSeparation},J.prototype.convertToClusteredGraph=function(oe,ue,se){for(var le=this,de=this,ge={},ve=this.graphManager.getRoot(),me=new v,ye=0;ye<oe.length;ye++)me.put(oe[ye].data("id"),oe[ye]);if(typeof se=="function"){for(var Ae=[],Te=[],Oe=0;Oe<oe.length;Oe++){var Ie=se(oe[Oe]);if(Ie>0&&Ie!==null&&Ie!==void 0){var Be=Ae.indexOf(Ie);Be>-1?Te[Be].push(oe[Oe].data("id")):(Ae.push(Ie),Te.push([oe[Oe].data("id")]))}}se=Te}for(var De=function(ut){if(se[ut].length===0)return"continue";var _t=le.newNode(null);_t.setClusterId(ut),ve.add(_t);var Bt=le.newCircleLGraph(null);le.graphManager.add(Bt,_t),Bt.margin=Bt.margin+15,se[ut].forEach(function(mn){var dn=me.get(mn),Zt=dn.layoutDimensions({nodeDimensionsIncludeLabels:!1}),Mt=de.newCiSEOnCircleNode(new S(dn.position("x")-Zt.w/2,dn.position("y")-Zt.h/2),new M(parseFloat(Zt.w),parseFloat(Zt.h)));Mt.setId(mn),Mt.setClusterId(ut),Bt.getOnCircleNodes().push(Mt),Bt.add(Mt),Bt.getInNodes().push(Mt),ge[Mt.getId()]=Mt})},Pe=0;Pe<se.length;Pe++)var Ne=De(Pe);for(var He=function(ut){var _t=!1;if(se.forEach(function(Zt){Zt.includes(oe[ut].data("id"))&&(_t=!0)}),!_t){var Bt=oe[ut],mn=Bt.layoutDimensions({nodeDimensionsIncludeLabels:!1}),dn=le.newNode(new S(Bt.position("x")-mn.w/2,Bt.position("y")-mn.h/2),new M(parseFloat(mn.w),parseFloat(mn.h)));dn.setClusterId(-1),dn.setId(oe[ut].data("id")),ve.add(dn),ge[dn.getId()]=dn}},je=0;je<oe.length;je++)He(je);for(var ze=0;ze<ue.length;ze++){var Ve=ue[ze],Ye=ge[Ve.data("source")],nt=ge[Ve.data("target")],Fe=Ye.getClusterId(),Qe=nt.getClusterId();if(Ye!==nt){var it=de.newEdge(Ye,nt,null);Fe===Qe&&Fe!==-1&&Qe!==-1?(it.isIntraCluster=!0,it.getSource().getOwner().add(it,it.getSource(),it.getTarget())):(it.isIntraCluster=!1,this.graphManager.add(it,it.getSource(),it.getTarget()))}}for(var at=[],wt=[],st=this.graphManager.getAllNodes(),ft=0;ft<st.length;ft++)st[ft].getOnCircleNodeExt()?at.push(st[ft]):wt.push(st[ft]);return this.graphManager.setOnCircleNodes(at),this.graphManager.setNonOnCircleNodes(wt),this.graphManager.edges.forEach(function(Dt){var ut=Dt.getSource(),_t=Dt.getTarget(),Bt=ut.getClusterId(),mn=_t.getClusterId();if(Bt!==-1){var dn=ut.getOwner(),Zt=dn.getInNodes().indexOf(ut);Zt>-1&&(dn.getInNodes().splice(Zt,1),dn.getOutNodes().push(ut))}if(mn!==-1){var Mt=_t.getOwner(),We=Mt.getInNodes().indexOf(_t);We>-1&&(Mt.getInNodes().splice(We,1),Mt.getOutNodes().push(_t))}}),ge},J.prototype.doStep1=function(){this.step=J.STEP_1,this.phase=J.PHASE_OTHER;for(var oe=new v,ue=this.graphManager.getGraphs(),se=0;se<ue.length;se++){var le=ue[se];if(le instanceof U){I.DEFAULT_NODE_SEPARATION=this.nodeSeparation;for(var de=new P,ge=de.graphManager.addRoot(),ve=le.getOnCircleNodes(),me=0;me<ve.length;me++){var ye=ve[me],Ae=de.newNode(null),Te=ye.getLocation();Ae.setLocation(Te.x,Te.y),Ae.setWidth(ye.getWidth()),Ae.setHeight(ye.getHeight()),ge.add(Ae),oe.put(ye,Ae)}for(var Oe=this.getAllEdges(),Ie=0;Ie<Oe.length;Ie++){var Be=Oe[Ie];if(ve.includes(Be.getSource())&&ve.includes(Be.getTarget())){var De=oe.get(Be.getSource()),Pe=oe.get(Be.getTarget()),Ne=de.newEdge("");ge.add(Ne,De,Pe)}}de.layout();for(var He=de.initPostProcess(),je=0;je<He.length;je++)de.oneStepPostProcess(He[je]);de.updateNodeAngles(),de.updateNodeCoordinates();for(var ze=0;ze<ve.length;ze++){var Ve=ve[ze],Ye=oe.get(Ve),nt=Ye.getLocation();Ve.setLocation(nt.x,nt.y),Ve.getOnCircleNodeExt().setIndex(Ye.getIndex()),Ve.getOnCircleNodeExt().setAngle(Ye.getAngle())}if(ve.sort(function(it,at){return it.getOnCircleNodeExt().getIndex()-at.getOnCircleNodeExt().getIndex()}),ge.getNodes().length>0){var Fe=le.getParent(),Qe=ge.getParent();Fe.setLocation(Qe.getLocation().x,Qe.getLocation().y),le.setRadius(ge.getRadius()),le.calculateParentNodeDimension()}}}},J.prototype.doStep2=function(){this.step=J.STEP_2,this.phase=J.PHASE_OTHER;var oe=[],ue=new v,se=new v,le=new N;le.isSubLayout=!1,le.useMultiLevelScaling=!1,le.useFRGridVariant=!0,le.springConstant*=1.5;for(var de=le.newGraphManager(),ge=de.addRoot(),ve=this.graphManager.getNonOnCircleNodes(),me=0;me<ve.length;me++){var ye=ve[me],Ae=le.newNode(null),Te=ye.getLocation();Ae.setLocation(Te.x,Te.y),Ae.setWidth(ye.getWidth()),Ae.setHeight(ye.getHeight()),ye.getChild()!=null&&(Ae.setWidth(1.2*Ae.getWidth()),Ae.setHeight(1.2*Ae.getHeight())),Ae.id=me,ge.add(Ae),oe.push(Ae),ue.put(ye,Ae)}for(var Oe=new Array(oe.length),Ie=0;Ie<Oe.length;Ie++)Oe[Ie]=new Array(oe.length);for(var Be=this.graphManager.getAllEdges(),De=0;De<Be.length;De++){var Pe=Be[De],Ne=Pe.getSource(),He=Pe.getTarget();Ne.getOnCircleNodeExt()!=null&&(Ne=Pe.getSource().getOwner().getParent()),He.getOnCircleNodeExt()!=null&&(He=Pe.getTarget().getOwner().getParent());var je=ue.get(Ne),ze=ue.get(He),Ve=oe.indexOf(je),Ye=oe.indexOf(ze),nt=void 0;Ve!==Ye&&(Oe[Ve][Ye]==null&&Oe[Ye][Ve]==null?(nt=le.newEdge(null),ge.add(nt,je,ze),se.put(nt,[]),Oe[Ve][Ye]=nt,Oe[Ye][Ve]=nt):nt=Oe[Ve][Ye],se.get(nt).push(Pe))}le.runLayout();for(var Fe=0;Fe<ve.length;Fe++){var Qe=ve[Fe],it=ue.get(Qe),at=it.getLocation();Qe.setLocation(at.x,at.y)}for(var wt=this.graphManager.getOnCircleNodes(),st=0;st<wt.length;st++){var ft=wt[st],Dt=ft.getLocation(),ut=ft.getOwner().getParent().getLocation();ft.setLocation(Dt.x+ut.x,Dt.y+ut.y)}},J.prototype.step3Init=function(){this.step=J.STEP_3,this.phase=J.PHASE_OTHER,this.initSpringEmbedder(),this.coolingCycle=0},J.prototype.step4Init=function(){this.step=J.STEP_4,this.phase=J.PHASE_OTHER,this.initSpringEmbedder();for(var oe=0;oe<this.graphManager.getOnCircleNodes().length;oe++)this.graphManager.getOnCircleNodes()[oe].getOnCircleNodeExt().updateSwappingConditions();this.coolingCycle=0},J.prototype.step5Init=function(){this.step=J.STEP_5,this.phase=J.PHASE_OTHER,this.initSpringEmbedder(),this.coolingCycle=0},J.prototype.runSpringEmbedderTick=function(){if(this.iterations++,this.totalIterations=this.iterations,this.iterations%F.CONVERGENCE_CHECK_PERIOD===0){var oe=this.step!==J.STEP_4||this.iterations>this.maxIterations/4;if(oe&&this.isConverged())return!0;this.coolingFactor=this.initialCoolingFactor*((this.maxIterations-this.iterations)/this.maxIterations)}if(this.totalDisplacement=0,this.step===J.STEP_3)this.iterations%F.REVERSE_PERIOD===0&&this.checkAndReverseIfReverseIsBetter();else if(this.step===J.STEP_4){this.iterations%F.SWAP_HISTORY_CLEARANCE_PERIOD===0&&(this.swappedPairsInLastIteration=[]);var ue=this.iterations%F.SWAP_PERIOD;ue>=F.SWAP_IDLE_DURATION?this.phase=J.PHASE_SWAP_PREPERATION:ue===0?this.phase=J.PHASE_PERFORM_SWAP:this.phase=J.PHASE_OTHER}return this.calcSpringForces(),this.calcRepulsionForces(),this.calcGravitationalForces(),this.calcTotalForces(),this.moveNodes(),this.iterations>=this.maxIterations},J.prototype.prepareCirclesForReversal=function(){var oe=this.graphManager.getRoot().getNodes();oe.forEach(function(ue){var se=ue.getChild();se!=null&&(se.getInterClusterEdges().length<2&&se.setMayNotBeReversed(),se.computeOrderMatrix())})},J.prototype.calcIdealEdgeLengths=function(oe){for(var ue=this.graphManager.getAllEdges(),se=0;se<ue.length;se++){var le=ue[se];oe?le.idealLength=1.5*this.idealEdgeLength*this.idealInterClusterEdgeLengthCoefficient:le.idealLength=this.idealEdgeLength*this.idealInterClusterEdgeLengthCoefficient}for(var de=this.graphManager.getInCircleNodes(),ge=0;ge<de.length;ge++){var ve=de[ge];ve.getEdges().forEach(function(me){me.idealLength=F.DEFAULT_INNER_EDGE_LENGTH})}},J.prototype.calcSpringForces=function(){for(var oe=this.graphManager.getAllEdges(),ue=0;ue<oe.length;ue++){var se=oe[ue],le=se.getSource(),de=se.getTarget();se.isIntraCluster&&le.getOnCircleNodeExt()!=null&&de.getOnCircleNodeExt()!=null||this.calcSpringForce(se,se.idealLength)}},J.prototype.calcRepulsionForces=function(){for(var oe=this.graphManager.getNonOnCircleNodes(),ue=0;ue<oe.length;ue++)for(var se=oe[ue],le=ue+1;le<oe.length;le++){var de=oe[le];this.calcRepulsionForce(se,de)}for(var ge=this.graphManager.getInCircleNodes(),ve=0;ve<ge.length;ve++)for(var me=ge[ve],ye=me.getOwner(),Ae=ye.getNodes(),Te=0;Te<Ae.length;Te++){var Oe=Ae[Te];Oe!==me&&this.calcRepulsionForce(me,Oe)}},J.prototype.calcGravitationalForces=function(){if(!this.graphManager.rootGraph.isConnected)for(var oe=this.graphManager.getNonOnCircleNodes(),ue=0;ue<oe.length;ue++){var se=oe[ue];this.calcGravitationalForce(se)}for(var le=this.graphManager.getInCircleNodes(),de=0;de<le.length;de++){var ge=le[de];this.calcGravitationalForce(ge)}},J.prototype.calcTotalForces=function(){for(var oe=this.graphManager.getAllNodes(),ue=0;ue<oe.length;ue++){var se=oe[ue];se.displacementX=this.coolingFactor*(se.springForceX+se.repulsionForceX+se.gravitationForceX),se.displacementY=this.coolingFactor*(se.springForceY+se.repulsionForceY+se.gravitationForceY),se.rotationAmount=0,se.springForceX=0,se.springForceY=0,se.repulsionForceX=0,se.repulsionForceY=0,se.gravitationForceX=0,se.gravitationForceY=0}for(var le=this.graphManager.getOnCircleNodes(),de=0;de<le.length;de++){var ge=le[de],ve=ge.getOwner().getParent(),me=ge.getOwner().decomposeForce(ge);this.phase===J.PHASE_SWAP_PREPERATION&&ge.getOnCircleNodeExt().addDisplacementForSwap(me.getRotationAmount()),ve.displacementX+=me.getDisplacementX(),ve.displacementY+=me.getDisplacementY(),ge.displacementX=0,ge.displacementY=0,ve.rotationAmount+=me.getRotationAmount(),ge.rotationAmount=0}},J.prototype.moveNodes=function(){if(this.phase!==J.PHASE_PERFORM_SWAP){for(var oe=this.graphManager.getNonOnCircleNodes(),ue=0;ue<oe.length;ue++)oe[ue].move(),oe[ue].getChild()!==null&&oe[ue].getChild()!==void 0&&oe[ue].getChild().rotate();for(var se=this.graphManager.getInCircleNodes(),le=void 0,de=0;de<se.length;de++)le=se[de],le.displacementX/=20,le.displacementY/=20,le.move()}else{for(var ge=this.graphManager.getOnCircleNodes(),ve=ge.length,me=[],ye=[],Ae=[],Te=[],Oe=void 0,Ie=void 0,Be=void 0,De=void 0,Pe=void 0,Ne=void 0,He=void 0,je=void 0,ze=0;ze<ve;ze++)if(Oe=ge[ze],Ie=Oe.getOnCircleNodeExt().getNextNode(),Be=Oe.getOnCircleNodeExt(),De=Ie.getOnCircleNodeExt(),!(!Be.canSwapWithNext||!De.canSwapWithPrev)&&(Pe=Be.getDisplacementForSwap(),Ne=De.getDisplacementForSwap(),He=Pe-Ne,!(He<0))){je=Pe>0&&Ne>0||Pe<0&&Ne<0;var Ve=new Q(Oe,Ie,He,je);Pe===0||Ne===0?ye.push(Ve):me.push(Ve)}var Ye=void 0,nt=!0,Fe=void 0;for(me.sort(function(ut,_t){return ut.getDiscrepancy()-_t.getDiscrepancy()});nt&&me.length>0;){if(Ye=me[me.length-1],Oe=Ye.getFirstNode(),Ie=Ye.getSecondNode(),Be=Oe.getOnCircleNodeExt(),De=Ie.getOnCircleNodeExt(),this.isSwappedPreviously(Ye)){me.pop(),Te.push(Ye);continue}var Qe=Be.getInterClusterIntersections(De);Ye.swap(),Fe=!1;var it=Be.getInterClusterIntersections(De);if(Fe=it>Qe,!Fe&&it===Qe&&(Fe=Ye.inSameDirection()||Ye.getDiscrepancy()<F.MIN_DISPLACEMENT_FOR_SWAP),Fe){Ye.swap(),me.pop();continue}Ae.push(Ye.getFirstNode()),Ae.push(Ye.getSecondNode()),Te.push(Ye),nt=!1}for(var at=0;at<ye.length;at++){var wt=ye[at];wt.inSameDirection()||wt.getDiscrepancy()<F.MIN_DISPLACEMENT_FOR_SWAP||Ae.includes(wt.getFirstNode())||Ae.includes(wt.getSecondNode())||(this.isSwappedPreviously(wt)||(wt.swap(),Ae.push(wt.getFirstNode()),Ae.push(wt.getSecondNode())),Te.push(wt))}this.swappedPairsInLastIteration=[];for(var st=0;st<Te.length;st++)this.swappedPairsInLastIteration.push(Te[st]);for(var ft=void 0,Dt=0;Dt<ve;Dt++)ft=ge[Dt],ft.getOnCircleNodeExt().setDisplacementForSwap(0)}},J.prototype.isSwappedPreviously=function(oe){for(var ue=0;ue<this.swappedPairsInLastIteration.length;ue++){var se=this.swappedPairsInLastIteration[ue];if(se.getFirstNode()===oe.getFirstNode()&&se.getSecondNode()===oe.getSecondNode()||se.getSecondNode()===oe.getFirstNode()&&se.getFirstNode()===oe.getSecondNode())return!0}return!1},J.prototype.checkAndReverseIfReverseIsBetter=function(){for(var oe=this.getGraphManager(),ue=oe.getRoot().getNodes(),se=void 0,le=void 0,de=0;de<ue.length;de++)if(se=ue[de],le=se.getChild(),le!=null&&le.getMayBeReversed()&&le.getNodes().length<=52&&le.checkAndReverseIfReverseIsBetter())return!0;return!1},J.prototype.findAndMoveInnerNodes=function(){if(this.allowNodesInsideCircle)for(var oe=this.graphManager.getGraphs(),ue=0;ue<oe.length;ue++){var se=oe[ue],le=0;if(se!==this.getGraphManager().getRoot())for(var de=se.getNodes().length*this.maxRatioOfNodesInsideCircle,ge=this.findInnerNode(se);ge!=null&&le<de;)this.moveInnerNode(ge),le++,le<de&&(ge=this.findInnerNode(se))}},J.prototype.findInnerNode=function(oe){var ue=null,se=oe.getOnCircleNodes().length,le=oe.getOnCircleNodes();le.sort(function(Ne,He){return Ne.getEdges().length-He.getEdges().length});for(var de=se-1;de>=0&&ue==null;de--){var ge=le[de];if(ge.getOnCircleNodeExt().getInterClusterEdges().length===0){var ve=this.findMinimalSpanningSegment(ge);if(ve.length!==0){for(var me=!1,ye=0;ye<ve.length;ye++){var Ae=ve[ye];if(me)break;for(var Te=Ae.getNeighborsList(),Oe=0;Oe<Te.length;Oe++){var Ie=Te[Oe];if(Ie!==ge&&Ie.getOwner()===oe&&Ie.getOnCircleNodeExt()!=null&&Ie.getOnCircleNodeExt()!=null){var Be=Ae.getOnCircleNodeExt().getIndex(),De=Ie.getOnCircleNodeExt().getIndex(),Pe=Be-De;if(Pe+=se,Pe%=se,Pe>1&&(Pe=De-Be,Pe+=se,Pe%=se),Pe>1){me=!0;break}}}}me||(ue=ge)}}}return ue},J.prototype.moveInnerNode=function(oe){var ue=oe.getOwner();ue.moveOnCircleNodeInside(oe);var se=this.graphManager.getOnCircleNodes(),le=se.indexOf(oe);le>-1&&se.splice(le,1),this.graphManager.inCircleNodes.push(oe)},J.prototype.findMinimalSpanningSegment=function(oe){var ue=[],se=oe.getOnCircleNeighbors();if(se.length===0)return ue;se.sort(function(He,je){return He.getOnCircleNodeExt().getIndex()-je.getOnCircleNodeExt().getIndex()});var le=oe.getOwner().getOnCircleNodes();le.sort(function(He,je){return He.getOnCircleNodeExt().getIndex()-je.getOnCircleNodeExt().getIndex()});var de=null,ge=null,ve=le.length,me=le.length,ye=se.length,Ae=void 0,Te=void 0,Oe=void 0,Ie=void 0,Be=void 0;for(Ae=0;Ae<ye;Ae++)Te=(Ae-1+ye)%ye,Oe=se[Ae],Ie=se[Te],Be=(Ie.getOnCircleNodeExt().getIndex()-Oe.getOnCircleNodeExt().getIndex()+me)%me+1,Be<ve&&(de=Oe,ge=Ie,ve=Be);for(var De=!1,Pe=de;!De;)if(Pe!==oe&&ue.push(Pe),Pe===ge)De=!0;else{var Ne=Pe.getOnCircleNodeExt().getIndex()+1;Ne===le.length&&(Ne=0),Pe=le[Ne]}return ue},u.exports=J},function(u,f,d){var g=d(0).layoutBase.FDLayoutNode,v=d(0).layoutBase.IMath,S=d(1),M=d(12);function I(N,F,j,U){g.call(this,N,F,j,U),this.rotationAmount=null,this.onCircleNodeExt=null,this.clusterID=null,this.ID=null}I.prototype=Object.create(g.prototype);for(var P in g)I[P]=g[P];I.prototype.setClusterId=function(N){this.clusterID=N},I.prototype.getClusterId=function(){return this.clusterID},I.prototype.setId=function(N){this.ID=N},I.prototype.getId=function(){return this.ID},I.prototype.setAsOnCircleNode=function(){return this.onCircleNodeExt=new M(this),this.onCircleNodeExt},I.prototype.setAsNonOnCircleNode=function(){this.onCircleNodeExt=null},I.prototype.getOnCircleNodeExt=function(){return this.onCircleNodeExt},I.prototype.getLimitedDisplacement=function(N){return Math.abs(N)>S.MAX_NODE_DISPLACEMENT&&(N=S.MAX_NODE_DISPLACEMENT*v.sign(N)),N},I.prototype.getOnCircleNeighbors=function(){for(var N=Array.from(this.getNeighborsList()),F=[],j=0;j<N.length;j++){var U=N[j];U.getOnCircleNodeExt()!==null&&U.getClusterId()===this.getClusterId()&&F.push(U)}return F},I.prototype.getNoOfChildren=function(){return this.getChild()===null||this.getChild()===void 0?1:this.getChild().getNodes().length},I.prototype.move=function(){var N=this.getOwner().getGraphManager().getLayout();if(this.displacementX=this.getLimitedDisplacement(this.displacementX),this.displacementY=this.getLimitedDisplacement(this.displacementY),this.getChild()!==null&&this.getChild()!==void 0){var F=this.getChild().getNodes().length;this.displacementX/=F,this.displacementY/=F;for(var j=this.getChild().getNodes(),U=0;U<j.length;U++){var V=j[U];V.moveBy(this.displacementX,this.displacementY),N.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)}}this.moveBy(this.displacementX,this.displacementY),N.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.getChild()!==null&&this.getChild()!==void 0&&this.getChild().updateBounds(!0)},I.prototype.reset=function(){this.displacementX=0,this.displacementY=0},u.exports=I},function(u,f,d){var g=d(0).layoutBase.IGeometry;function v(S){this.ciseNode=S,this.intraClusterEdges=null,this.interClusterEdges=null,this.angle=-1,this.orderIndex=-1,this.canSwapWithNext=null,this.canSwapWithPrevious=null,this.displacementForSwap=null}v.prototype=Object.create(null),v.prototype.getCiseNode=function(){return this.ciseNode},v.prototype.getAngle=function(){return this.angle},v.prototype.setAngle=function(S){this.angle=S%g.TWO_PI,this.angle<0&&(this.angle+=g.TWO_PI)},v.prototype.getIndex=function(){return this.orderIndex},v.prototype.setIndex=function(S){this.orderIndex=S},v.prototype.getCharCode=function(){var S=void 0;return this.orderIndex<26?S=String.fromCharCode(97+this.orderIndex):this.orderIndex<52?S=String.fromCharCode(65+this.orderIndex):S="?",S},v.prototype.getNextNode=function(){var S=this.ciseNode.getOwner(),M=S.getOnCircleNodes().length,I=this.orderIndex+1;return I===M&&(I=0),S.getOnCircleNodes()[I]},v.prototype.getPrevNode=function(){var S=this.ciseNode.getOwner(),M=this.orderIndex-1;return M===-1&&(M=S.getOnCircleNodes().length-1),S.getOnCircleNodes()[M]},v.prototype.getNextNodeExt=function(){return this.getNextNode().getOnCircleNodeExt()},v.prototype.prevNextNodeExt=function(){return this.getPrevNode().getOnCircleNodeExt()},v.prototype.canSwapWithNext=function(){return this.canSwapWithNext},v.prototype.canSwapWithPrev=function(){return this.canSwapWithPrev},v.prototype.getDisplacementForSwap=function(){return this.displacementForSwap},v.prototype.setDisplacementForSwap=function(S){this.displacementForSwap=S},v.prototype.addDisplacementForSwap=function(S){this.displacementForSwap=S},v.prototype.updatePosition=function(){var S=this.ciseNode.getOwner(),M=S.getParent(),I=M.getCenterX(),P=M.getCenterY(),N=S.getRadius()*Math.cos(this.angle),F=S.getRadius()*Math.sin(this.angle);this.ciseNode.setCenter(I+N,P+F)},v.prototype.getCircDistWithTheNode=function(S){var M=S.getIndex();if(M===-1||this.getIndex()===-1)return-1;var I=this.getIndex()-M;return I<0&&(I+=this.ciseNode.getOwner().getOnCircleNodes().length),I},v.prototype.calculateTotalCrossing=function(){var S=this.getIntraClusterEdges(),M=0,I=[];return this.ciseNode.getOwner().getIntraClusterEdges().forEach(function(P){I.push(P)}),this.ciseNode.getEdges().forEach(function(P){var N=I.indexOf(P);N>-1&&I.splice(N,1)}),S.forEach(function(P){M+=P.calculateTotalCrossingWithList(I)}),M},v.prototype.updateSwappingConditions=function(){var S=this.calculateTotalCrossing(),M=this.orderIndex,I=this.getNextNode().getOnCircleNodeExt();this.orderIndex=I.getIndex(),I.setIndex(M);var P=this.calculateTotalCrossing();this.canSwapWithNext=P<=S,I.setIndex(this.orderIndex),this.setIndex(M);var N=this.getPrevNode().getOnCircleNodeExt();this.orderIndex=N.getIndex(),N.setIndex(M),P=this.calculateTotalCrossing(),this.canSwapWithPrevious=P<=S,N.setIndex(this.orderIndex),this.setIndex(M)},v.prototype.swapWith=function(S){this.ciseNode.getOwner().swapNodes(this.ciseNode,S.ciseNode)},v.prototype.getInterClusterIntersections=function(S){for(var M=0,I=this.getInterClusterEdges(),P=S.getInterClusterEdges(),N=0;N<I.length;N++)for(var F=I[N],j=this.ciseNode.getCenter(),U=F.getOtherEnd(this.ciseNode).getCenter(),V=0;V<P.length;V++){var Z=P[V],Q=S.ciseNode.getCenter(),J=Z.getOtherEnd(S.ciseNode).getCenter();if(F.getOtherEnd(this.ciseNode)!==Z.getOtherEnd(S.ciseNode)){var te=g.doIntersect(j,U,Q,J);te&&M++}}return M},v.prototype.getInterClusterEdges=function(){if(this.interClusterEdges===null){this.interClusterEdges=[];for(var S=this.ciseNode.getEdges(),M=0;M<S.length;M++){var I=S[M];I.isIntraCluster||this.interClusterEdges.push(I)}}return this.interClusterEdges},v.prototype.getIntraClusterEdges=function(){if(this.intraClusterEdges===null){this.intraClusterEdges=[];for(var S=this.ciseNode.getEdges(),M=0;M<S.length;M++){var I=S[M];I.isIntraCluster&&this.intraClusterEdges.push(I)}}return this.intraClusterEdges},u.exports=v},function(u,f,d){function g(v,S,M,I){this.firstNode=v,this.secondNode=S,this.discrepancy=M,this.inSameDir=I}g.prototype=Object.create,g.prototype.getDiscrepancy=function(){return this.discrepancy},g.prototype.inSameDirection=function(){return this.inSameDir},g.prototype.getFirstNode=function(){return this.firstNode},g.prototype.getSecondNode=function(){return this.secondNode},g.prototype.compareTo=function(v){return this.getDiscrepancy()-v.getDiscrepancy()},g.prototype.swap=function(){this.getFirstNode().getOnCircleNodeExt().swapWith(this.getSecondNode().getOnCircleNodeExt())},g.prototype.equals=function(v){var S=v instanceof g;if(S){var M=v;S&=this.firstNode.equals(M.getFirstNode())&&this.secondNode.equals(M.getSecondNode())||this.secondNode.equals(M.getFirstNode())&&this.firstNode.equals(M.getSecondNode())}return S},g.prototype.hashCode=function(){return this.firstNode.hashCode()+this.secondNode.hashCode()},g.prototype.toString=function(){var v="Swap: "+this.getFirstNode().label;return v+="<->"+this.getSecondNode().label,v+=", "+this.getDiscrepancy(),v},u.exports=g},function(u,f,d){function g(v,S,M){this.rotationAmount=v,this.displacementX=S,this.displacementY=M}g.prototype.getRotationAmount=function(){return this.rotationAmount},g.prototype.setRotationAmount=function(v){this.rotationAmount=v},g.prototype.getDisplacementX=function(){return this.displacementX},g.prototype.setDisplacementX=function(v){this.displacementX=v},g.prototype.getDisplacementY=function(){return this.displacementY},g.prototype.setDisplacementY=function(v){this.displacementY=v},u.exports=g},function(u,f,d){var g=d(4),v=function(M){M&&M("layout","cise",g)};typeof cytoscape<"u"&&v(cytoscape),u.exports=v},function(u,f,d){var g=function(){function Q(J,te){for(var oe=0;oe<te.length;oe++){var ue=te[oe];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(J,ue.key,ue)}}return function(J,te,oe){return te&&Q(J.prototype,te),oe&&Q(J,oe),J}}(),v=function Q(J,te,oe){J===null&&(J=Function.prototype);var ue=Object.getOwnPropertyDescriptor(J,te);if(ue===void 0){var se=Object.getPrototypeOf(J);return se===null?void 0:Q(se,te,oe)}else{if("value"in ue)return ue.value;var le=ue.get;return le===void 0?void 0:le.call(oe)}};function S(Q,J){if(!(Q instanceof J))throw new TypeError("Cannot call a class as a function")}function M(Q,J){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:Q}function I(Q,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);Q.prototype=Object.create(J&&J.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,J):Q.__proto__=J)}var P=d(10),N=d(1),F=d(0).layoutBase.FDLayoutConstants,j=d(18),U=j.defaults,V=d(2),Z=function(Q){I(J,Q);function J(te){S(this,J);var oe=M(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,V({},U,te)));return te.nodeSeparation!==null&&te.nodeSeparation!==void 0?N.DEFAULT_NODE_SEPARATION=te.nodeSeparation:N.DEFAULT_NODE_SEPARATION=F.DEFAULT_EDGE_LENGTH/4,te.idealInterClusterEdgeLengthCoefficient!==null&&te.idealInterClusterEdgeLengthCoefficient!==void 0?N.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF=te.idealInterClusterEdgeLengthCoefficient:N.DEFAULT_IDEAL_INTER_CLUSTER_EDGE_LENGTH_COEFF=1.4,te.allowNodesInsideCircle!==null&&te.allowNodesInsideCircle!==void 0?N.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE=te.allowNodesInsideCircle:N.DEFAULT_ALLOW_NODES_INSIDE_CIRCLE=!1,te.maxRatioOfNodesInsideCircle!==null&&te.maxRatioOfNodesInsideCircle!==void 0?N.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=te.maxRatioOfNodesInsideCircle:N.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=.1,te.springCoeff!==null&&te.springCoeff!==void 0?N.DEFAULT_SPRING_STRENGTH=te.springCoeff:N.DEFAULT_SPRING_STRENGTH=1.5*F.DEFAULT_SPRING_STRENGTH,te.nodeRepulsion!=null&&(N.DEFAULT_REPULSION_STRENGTH=F.DEFAULT_REPULSION_STRENGTH=te.nodeRepulsion),te.gravity!=null&&(N.DEFAULT_GRAVITY_STRENGTH=F.DEFAULT_GRAVITY_STRENGTH=te.gravity),te.gravityRange!=null&&(N.DEFAULT_GRAVITY_RANGE_FACTOR=F.DEFAULT_GRAVITY_RANGE_FACTOR=te.gravityRange),te.maxRatioOfNodesInsideCircle!==null&&te.maxRatioOfNodesInsideCircle!==void 0?N.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=te.maxRatioOfNodesInsideCircle:N.DEFAULT_MAX_RATIO_OF_NODES_INSIDE_CIRCLE=.1,oe}return g(J,[{key:"prerun",value:function(){var oe=this.state,ue=[[]];this.options.clusters!==null&&this.options.clusters!==void 0&&(ue=this.options.clusters);var se=oe.nodes,le=oe.edges,de=this.ciseLayout=new P,ge=this.graphManager=de.newGraphManager(),ve=this.root=ge.addRoot();this.idToLNode=de.convertToClusteredGraph(se,le,ue),ve.updateConnected(),ve.calcEstimatedSize(),de.calcNoOfChildrenForAllNodes(),de.doStep1(),de.doStep2(),ve.updateBounds(!0),ve.estimatedSize=Math.max(ve.right-ve.left,ve.bottom-ve.top),de.prepareCirclesForReversal(),de.calcIdealEdgeLengths(!1),this.initializerIndex=0,this.isDone=!1,this.isStepDone=!1,this.timeToSwitchNextStep=!0}},{key:"tick",value:function(){var oe=this,ue=this,se=this.state;if(se.nodes.forEach(function(le){var de=oe.getScratch(le),ge=ue.idToLNode[le.data("id")];de.x=ge.getCenterX(),de.y=ge.getCenterY()}),this.timeToSwitchNextStep){switch(this.initializerIndex){case 0:this.ciseLayout.step5Init();break;case 1:this.ciseLayout.step3Init();break;case 2:this.ciseLayout.step5Init();break;case 3:this.ciseLayout.step4Init();break;case 4:this.ciseLayout.findAndMoveInnerNodes(),this.ciseLayout.calcIdealEdgeLengths(!0),this.ciseLayout.step5Init();break}this.initializerIndex++,this.ciseLayout.iterations=0,this.ciseLayout.totalDisplacement=1e3,this.timeToSwitchNextStep=!1}return this.isStepDone=this.ciseLayout.runSpringEmbedderTick(),this.isStepDone&&this.initializerIndex<5&&(this.timeToSwitchNextStep=!0),this.isStepDone&&this.timeToSwitchNextStep===!1&&(this.isDone=!0),this.isDone}},{key:"postrun",value:function(){}},{key:"destroy",value:function(){return v(J.prototype.__proto__||Object.getPrototypeOf(J.prototype),"destroy",this).call(this),this}}]),J}(j);u.exports=Z},function(u,f,d){u.exports=Object.freeze({animate:!1,refresh:10,maxIterations:2500,maxSimulationTime:5e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,infinite:!1})},function(u,f,d){var g=function(){function Q(J,te){for(var oe=0;oe<te.length;oe++){var ue=te[oe];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(J,ue.key,ue)}}return function(J,te,oe){return te&&Q(J.prototype,te),oe&&Q(J,oe),J}}();function v(Q,J){if(!(Q instanceof J))throw new TypeError("Cannot call a class as a function")}var S=d(2),M=d(17),I=d(19),P=d(20),N=P.setInitialPositionState,F=P.refreshPositions,j=P.getNodePositionData,U=d(21),V=U.multitick,Z=function(){function Q(J){v(this,Q);var te=this.options=S({},M,J),oe=this.state=S({},te,{layout:this,nodes:te.eles.nodes(),edges:te.eles.edges(),tickIndex:0,firstUpdate:!0});oe.animateEnd=te.animate&&te.animate==="end",oe.animateContinuously=te.animate&&!oe.animateEnd}return g(Q,[{key:"getScratch",value:function(te){var oe=this.state.name,ue=te.scratch(oe);return ue||(ue={},te.scratch(oe,ue)),ue}},{key:"run",value:function(){var te=this,oe=this.state;if(oe.tickIndex=0,oe.firstUpdate=!0,oe.startTime=Date.now(),oe.running=!0,oe.currentBoundingBox=I(oe.boundingBox,oe.cy),oe.ready&&te.one("ready",oe.ready),oe.stop&&te.one("stop",oe.stop),oe.nodes.forEach(function(Ne){return N(Ne,oe)}),te.prerun(oe),oe.animateContinuously){var ue=function(He){if(oe.ungrabifyWhileSimulating){var je=j(He,oe).grabbable=He.grabbable();je&&He.ungrabify()}},se=function(He){if(oe.ungrabifyWhileSimulating){var je=j(He,oe).grabbable;je&&He.grabify()}},le=function(He){return j(He,oe).grabbed=He.grabbed()},de=function(He){var je=He.target;le(je)},ge=de,ve=function(He){var je=He.target,ze=j(je,oe),Ve=je.position();ze.x=Ve.x,ze.y=Ve.y},me=function(He){He.on("grab",de),He.on("free",ge),He.on("drag",ve)},ye=function(He){He.removeListener("grab",de),He.removeListener("free",ge),He.removeListener("drag",ve)},Ae=function(){oe.fit&&oe.animateContinuously&&oe.cy.fit(oe.padding)},Te=function(){F(oe.nodes,oe),Ae(),requestAnimationFrame(Oe)},Oe=function(){V(oe,Te,Ie)},Ie=function(){F(oe.nodes,oe),Ae(),oe.nodes.forEach(function(He){se(He),ye(He)}),oe.running=!1,te.emit("layoutstop")};te.emit("layoutstart"),oe.nodes.forEach(function(Ne){ue(Ne),me(Ne)}),Oe()}else{for(var Be=!1,De=function(){},Pe=function(){return Be=!0};!Be;)V(oe,De,Pe);oe.eles.layoutPositions(this,oe,function(Ne){var He=j(Ne,oe);return{x:He.x,y:He.y}})}return te.postrun(oe),this}},{key:"prerun",value:function(){}},{key:"postrun",value:function(){}},{key:"tick",value:function(){}},{key:"stop",value:function(){return this.state.running=!1,this}},{key:"destroy",value:function(){return this}}]),Q}();u.exports=Z},function(u,f,d){u.exports=function(g,v){return g==null?g={x1:0,y1:0,w:v.width(),h:v.height()}:g={x1:g.x1,x2:g.x2,y1:g.y1,y2:g.y2,w:g.w,h:g.h},g.x2==null&&(g.x2=g.x1+g.w),g.w==null&&(g.w=g.x2-g.x1),g.y2==null&&(g.y2=g.y1+g.h),g.h==null&&(g.h=g.y2-g.y1),g}},function(u,f,d){var g=d(2),v=function(P,N){var F=P.position(),j=N.currentBoundingBox,U=P.scratch(N.name);U==null&&(U={},P.scratch(N.name,U)),g(U,N.randomize?{x:j.x1+Math.round(Math.random()*j.w),y:j.y1+Math.round(Math.random()*j.h)}:{x:F.x,y:F.y}),U.locked=P.locked()},S=function(P,N){return P.scratch(N.name)},M=function(P,N){P.positions(function(F){var j=F.scratch(N.name);return{x:j.x,y:j.y}})};u.exports={setInitialPositionState:v,getNodePositionData:S,refreshPositions:M}},function(u,f,d){var g=function(){},v=function(I){var P=I,N=I.layout,F=N.tick(P);return P.firstUpdate&&(P.animateContinuously&&P.layout.emit("layoutready"),P.firstUpdate=!1),P.tickIndex++,!P.infinite&&F},S=function(I){for(var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,F=!1,j=I,U=0;U<j.refresh&&(F=!j.running||v(j),!F);U++);F?N():P()};u.exports={tick:v,multitick:S}}])})})(cytoscapeCise);const cise=getDefaultExportFromCjs(cytoscapeCiseExports);var cytoscapeEulerExports={},cytoscapeEuler={get exports(){return cytoscapeEulerExports},set exports(e){cytoscapeEulerExports=e}};(function(e,t){(function(s,u){e.exports=u()})(commonjsGlobal,function(){return function(n){var s={};function u(f){if(s[f])return s[f].exports;var d=s[f]={i:f,l:!1,exports:{}};return n[f].call(d.exports,d,d.exports,u),d.l=!0,d.exports}return u.m=n,u.c=s,u.i=function(f){return f},u.d=function(f,d,g){u.o(f,d)||Object.defineProperty(f,d,{configurable:!1,enumerable:!0,get:g})},u.n=function(f){var d=f&&f.__esModule?function(){return f.default}:function(){return f};return u.d(d,"a",d),d},u.o=function(f,d){return Object.prototype.hasOwnProperty.call(f,d)},u.p="",u(u.s=11)}([function(n,s,u){n.exports=Object.assign!=null?Object.assign.bind(Object):function(f){for(var d=arguments.length,g=Array(d>1?d-1:0),v=1;v<d;v++)g[v-1]=arguments[v];return g.forEach(function(S){Object.keys(S).forEach(function(M){return f[M]=S[M]})}),f}},function(n,s,u){var f=u(0),d=Object.freeze({source:null,target:null,length:80,coeff:2e-4,weight:1});function g(S){return f({},d,S)}function v(S){var M=S.source,I=S.target,P=S.length<0?d.length:S.length,N=I.pos.x-M.pos.x,F=I.pos.y-M.pos.y,j=Math.sqrt(N*N+F*F);j===0&&(N=(Math.random()-.5)/50,F=(Math.random()-.5)/50,j=Math.sqrt(N*N+F*F));var U=j-P,V=(!S.coeff||S.coeff<0?d.springCoeff:S.coeff)*U/j*S.weight;M.force.x+=V*N,M.force.y+=V*F,I.force.x-=V*N,I.force.y-=V*F}n.exports={makeSpring:g,applySpring:v}},function(n,s,u){var f=function(){function ye(Ae,Te){for(var Oe=0;Oe<Te.length;Oe++){var Ie=Te[Oe];Ie.enumerable=Ie.enumerable||!1,Ie.configurable=!0,"value"in Ie&&(Ie.writable=!0),Object.defineProperty(Ae,Ie.key,Ie)}}return function(Ae,Te,Oe){return Te&&ye(Ae.prototype,Te),Oe&&ye(Ae,Oe),Ae}}();function d(ye,Ae){if(!(ye instanceof Ae))throw new TypeError("Cannot call a class as a function")}function g(ye,Ae){if(!ye)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ae&&(typeof Ae=="object"||typeof Ae=="function")?Ae:ye}function v(ye,Ae){if(typeof Ae!="function"&&Ae!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ae);ye.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:ye,enumerable:!1,writable:!0,configurable:!0}}),Ae&&(Object.setPrototypeOf?Object.setPrototypeOf(ye,Ae):ye.__proto__=Ae)}var S=u(13),M=u(0),I=u(4),P=u(10),N=P.tick,F=u(7),j=F.makeQuadtree,U=u(3),V=U.makeBody,Z=u(1),Q=Z.makeSpring,J=function(Ae){return typeof Ae=="function"},te=function(Ae){return Ae.isParent()},oe=function(Ae){return!te(Ae)},ue=function(Ae){return te(Ae.source())||te(Ae.target())},se=function(Ae){return!ue(Ae)},le=function(Ae){return Ae.scratch("euler").body},de=function(Ae){return te(Ae)?Ae.descendants().filter(oe):Ae},ge=function(Ae){var Te=Ae.scratch("euler");return Te||(Te={},Ae.scratch("euler",Te)),Te},ve=function(Ae,Te){return J(Ae)?Ae(Te):Ae},me=function(ye){v(Ae,ye);function Ae(Te){return d(this,Ae),g(this,(Ae.__proto__||Object.getPrototypeOf(Ae)).call(this,M({},I,Te)))}return f(Ae,[{key:"prerun",value:function(Oe){var Ie=Oe;Ie.quadtree=j();var Be=Ie.bodies=[];Ie.nodes.filter(function(Pe){return oe(Pe)}).forEach(function(Pe){var Ne=ge(Pe),He=V({pos:{x:Ne.x,y:Ne.y},mass:ve(Ie.mass,Pe),locked:Ne.locked});He._cyNode=Pe,Ne.body=He,He._scratch=Ne,Be.push(He)});var De=Ie.springs=[];Ie.edges.filter(se).forEach(function(Pe){var Ne=Q({source:le(Pe.source()),target:le(Pe.target()),length:ve(Ie.springLength,Pe),coeff:ve(Ie.springCoeff,Pe)});Ne._cyEdge=Pe;var He=ge(Pe);Ne._scratch=He,He.spring=Ne,De.push(Ne)}),Ie.edges.filter(ue).forEach(function(Pe){var Ne=de(Pe.source()),He=de(Pe.target());Ne=[Ne[0]],He=[He[0]],Ne.forEach(function(je){He.forEach(function(ze){De.push(Q({source:le(je),target:le(ze),length:ve(Ie.springLength,Pe),coeff:ve(Ie.springCoeff,Pe)}))})})})}},{key:"tick",value:function(Oe){var Ie=N(Oe),Be=Ie<=Oe.movementThreshold;return Be}}]),Ae}(S);n.exports=me},function(n,s,u){var f=Object.freeze({pos:{x:0,y:0},prevPos:{x:0,y:0},force:{x:0,y:0},velocity:{x:0,y:0},mass:1}),d=function(I){return{x:I.x,y:I.y}},g=function(I,P){return I??P},v=function(I,P){return d(g(I,P))};function S(M){var I={};return I.pos=v(M.pos,f.pos),I.prevPos=v(M.prevPos,I.pos),I.force=v(M.force,f.force),I.velocity=v(M.velocity,f.velocity),I.mass=M.mass!=null?M.mass:f.mass,I.locked=M.locked,I}n.exports={makeBody:S}},function(n,s,u){var f=Object.freeze({springLength:function(g){return 80},springCoeff:function(g){return 8e-4},mass:function(g){return 4},gravity:-1.2,pull:.001,theta:.666,dragCoeff:.02,movementThreshold:1,timeStep:20});n.exports=f},function(n,s,u){var f=.02;function d(g,v){var S=void 0;v!=null?S=v:g.dragCoeff!=null?S=g.dragCoeff:S=f,g.force.x-=S*g.velocity.x,g.force.y-=S*g.velocity.y}n.exports={applyDrag:d}},function(n,s,u){function f(d,g){var v=0,S=0,M=0,I=0,P,N=d.length;if(N===0)return 0;for(P=0;P<N;++P){var F=d[P],j=g/F.mass;if(!F.grabbed){F.locked?(F.velocity.x=0,F.velocity.y=0):(F.velocity.x+=j*F.force.x,F.velocity.y+=j*F.force.y);var U=F.velocity.x,V=F.velocity.y,Z=Math.sqrt(U*U+V*V);Z>1&&(F.velocity.x=U/Z,F.velocity.y=V/Z),v=g*F.velocity.x,M=g*F.velocity.y,F.pos.x+=v,F.pos.y+=M,S+=Math.abs(v),I+=Math.abs(M)}}return(S*S+I*I)/N}n.exports={integrate:f}},function(n,s,u){var f=u(9),d=u(8),g=function(N){N.x=0,N.y=0},v=function(N,F){var j=1e-8,U=Math.abs(N.x-F.x),V=Math.abs(N.y-F.y);return U<j&&V<j};function S(){var P=[],N=new d,F=[],j=0,U=V();function V(){var te=F[j];return te?(te.quad0=null,te.quad1=null,te.quad2=null,te.quad3=null,te.body=null,te.mass=te.massX=te.massY=0,te.left=te.right=te.top=te.bottom=0):(te=new f,F[j]=te),++j,te}function Z(te,oe,ue,se){var le=P,de=void 0,ge=void 0,ve=void 0,me=void 0,ye=0,Ae=0,Te=1,Oe=0,Ie=1;le[0]=U,g(te.force);var Be=-te.pos.x,De=-te.pos.y,Pe=Math.sqrt(Be*Be+De*De),Ne=te.mass*se/Pe;for(ye+=Ne*Be,Ae+=Ne*De;Te;){var He=le[Oe],je=He.body;Te-=1,Oe+=1;var ze=je!==te;je&&ze?(ge=je.pos.x-te.pos.x,ve=je.pos.y-te.pos.y,me=Math.sqrt(ge*ge+ve*ve),me===0&&(ge=(Math.random()-.5)/50,ve=(Math.random()-.5)/50,me=Math.sqrt(ge*ge+ve*ve)),de=oe*je.mass*te.mass/(me*me*me),ye+=de*ge,Ae+=de*ve):ze&&(ge=He.massX/He.mass-te.pos.x,ve=He.massY/He.mass-te.pos.y,me=Math.sqrt(ge*ge+ve*ve),me===0&&(ge=(Math.random()-.5)/50,ve=(Math.random()-.5)/50,me=Math.sqrt(ge*ge+ve*ve)),(He.right-He.left)/me<ue?(de=oe*He.mass*te.mass/(me*me*me),ye+=de*ge,Ae+=de*ve):(He.quad0&&(le[Ie]=He.quad0,Te+=1,Ie+=1),He.quad1&&(le[Ie]=He.quad1,Te+=1,Ie+=1),He.quad2&&(le[Ie]=He.quad2,Te+=1,Ie+=1),He.quad3&&(le[Ie]=He.quad3,Te+=1,Ie+=1)))}te.force.x+=ye,te.force.y+=Ae}function Q(te){if(te.length!==0){var oe=Number.MAX_VALUE,ue=Number.MAX_VALUE,se=Number.MIN_VALUE,le=Number.MIN_VALUE,de=void 0,ge=te.length;for(de=ge;de--;){var ve=te[de].pos.x,me=te[de].pos.y;ve<oe&&(oe=ve),ve>se&&(se=ve),me<ue&&(ue=me),me>le&&(le=me)}var ye=se-oe,Ae=le-ue;for(ye>Ae?le=ue+ye:se=oe+Ae,j=0,U=V(),U.left=oe,U.right=se,U.top=ue,U.bottom=le,de=ge-1,de>=0&&(U.body=te[de]);de--;)J(te[de])}}function J(te){for(N.reset(),N.push(U,te);!N.isEmpty();){var oe=N.pop(),ue=oe.node,se=oe.body;if(ue.body){var Oe=ue.body;if(ue.body=null,v(Oe.pos,se.pos)){var Ie=3;do{var Be=Math.random(),De=(ue.right-ue.left)*Be,Pe=(ue.bottom-ue.top)*Be;Oe.pos.x=ue.left+De,Oe.pos.y=ue.top+Pe,Ie-=1}while(Ie>0&&v(Oe.pos,se.pos));if(Ie===0&&v(Oe.pos,se.pos))return}N.push(ue,Oe),N.push(ue,se)}else{var le=se.pos.x,de=se.pos.y;ue.mass=ue.mass+se.mass,ue.massX=ue.massX+se.mass*le,ue.massY=ue.massY+se.mass*de;var ge=0,ve=ue.left,me=(ue.right+ve)/2,ye=ue.top,Ae=(ue.bottom+ye)/2;le>me&&(ge=ge+1,ve=me,me=ue.right),de>Ae&&(ge=ge+2,ye=Ae,Ae=ue.bottom);var Te=M(ue,ge);Te?N.push(Te,se):(Te=V(),Te.left=ve,Te.top=ye,Te.right=me,Te.bottom=Ae,Te.body=se,I(ue,ge,Te))}}}return{insertBodies:Q,updateBodyForce:Z}}function M(P,N){return N===0?P.quad0:N===1?P.quad1:N===2?P.quad2:N===3?P.quad3:null}function I(P,N,F){N===0?P.quad0=F:N===1?P.quad1=F:N===2?P.quad2=F:N===3&&(P.quad3=F)}n.exports={makeQuadtree:S}},function(n,s,u){n.exports=f;function f(){this.stack=[],this.popIdx=0}f.prototype={isEmpty:function(){return this.popIdx===0},push:function(v,S){var M=this.stack[this.popIdx];M?(M.node=v,M.body=S):this.stack[this.popIdx]=new d(v,S),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}};function d(g,v){this.node=g,this.body=v}},function(n,s,u){n.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0}},function(n,s,u){var f=u(6),d=f.integrate,g=u(5),v=g.applyDrag,S=u(1),M=S.applySpring;function I(P){var N=P.bodies,F=P.springs,j=P.quadtree,U=P.timeStep,V=P.gravity,Z=P.theta,Q=P.dragCoeff,J=P.pull;N.forEach(function(de){var ge=de._scratch;ge&&(de.locked=ge.locked,de.grabbed=ge.grabbed,de.pos.x=ge.x,de.pos.y=ge.y)}),j.insertBodies(N);for(var te=0;te<N.length;te++){var oe=N[te];j.updateBodyForce(oe,V,Z,J),v(oe,Q)}for(var ue=0;ue<F.length;ue++){var se=F[ue];M(se)}var le=d(N,U);return N.forEach(function(de){var ge=de._scratch;ge&&(ge.x=de.pos.x,ge.y=de.pos.y)}),le}n.exports={tick:I}},function(n,s,u){var f=u(2),d=function(v){v&&v("layout","euler",f)};typeof cytoscape<"u"&&d(cytoscape),n.exports=d},function(n,s,u){n.exports=Object.freeze({animate:!0,refresh:10,maxIterations:1e3,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,infinite:!1})},function(n,s,u){var f=function(){function V(Z,Q){for(var J=0;J<Q.length;J++){var te=Q[J];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(Z,te.key,te)}}return function(Z,Q,J){return Q&&V(Z.prototype,Q),J&&V(Z,J),Z}}();function d(V,Z){if(!(V instanceof Z))throw new TypeError("Cannot call a class as a function")}var g=u(0),v=u(12),S=u(14),M=u(15),I=M.setInitialPositionState,P=M.refreshPositions,N=M.getNodePositionData,F=u(16),j=F.multitick,U=function(){function V(Z){d(this,V);var Q=this.options=g({},v,Z),J=this.state=g({},Q,{layout:this,nodes:Q.eles.nodes(),edges:Q.eles.edges(),tickIndex:0,firstUpdate:!0});J.animateEnd=Q.animate&&Q.animate==="end",J.animateContinuously=Q.animate&&!J.animateEnd}return f(V,[{key:"run",value:function(){var Q=this,J=this.state;if(J.tickIndex=0,J.firstUpdate=!0,J.startTime=Date.now(),J.running=!0,J.currentBoundingBox=S(J.boundingBox,J.cy),J.ready&&Q.one("ready",J.ready),J.stop&&Q.one("stop",J.stop),J.nodes.forEach(function(De){return I(De,J)}),Q.prerun(J),J.animateContinuously){var te=function(Pe){if(J.ungrabifyWhileSimulating){var Ne=N(Pe,J).grabbable=Pe.grabbable();Ne&&Pe.ungrabify()}},oe=function(Pe){if(J.ungrabifyWhileSimulating){var Ne=N(Pe,J).grabbable;Ne&&Pe.grabify()}},ue=function(Pe){return N(Pe,J).grabbed=Pe.grabbed()},se=function(Pe){var Ne=Pe.target;ue(Ne)},le=se,de=function(Pe){var Ne=Pe.target,He=N(Ne,J),je=Ne.position();He.x=je.x,He.y=je.y},ge=function(Pe){Pe.on("grab",se),Pe.on("free",le),Pe.on("drag",de)},ve=function(Pe){Pe.removeListener("grab",se),Pe.removeListener("free",le),Pe.removeListener("drag",de)},me=function(){J.fit&&J.animateContinuously&&J.cy.fit(J.padding)},ye=function(){P(J.nodes,J),me(),requestAnimationFrame(Ae)},Ae=function(){j(J,ye,Te)},Te=function(){P(J.nodes,J),me(),J.nodes.forEach(function(Pe){oe(Pe),ve(Pe)}),J.running=!1,Q.emit("layoutstop")};Q.emit("layoutstart"),J.nodes.forEach(function(De){te(De),ge(De)}),Ae()}else{for(var Oe=!1,Ie=function(){},Be=function(){return Oe=!0};!Oe;)j(J,Ie,Be);J.eles.layoutPositions(this,J,function(De){var Pe=N(De,J);return{x:Pe.x,y:Pe.y}})}return Q.postrun(J),this}},{key:"prerun",value:function(){}},{key:"postrun",value:function(){}},{key:"tick",value:function(){}},{key:"stop",value:function(){return this.state.running=!1,this}},{key:"destroy",value:function(){return this}}]),V}();n.exports=U},function(n,s,u){n.exports=function(f,d){return f==null?f={x1:0,y1:0,w:d.width(),h:d.height()}:f={x1:f.x1,x2:f.x2,y1:f.y1,y2:f.y2,w:f.w,h:f.h},f.x2==null&&(f.x2=f.x1+f.w),f.w==null&&(f.w=f.x2-f.x1),f.y2==null&&(f.y2=f.y1+f.h),f.h==null&&(f.h=f.y2-f.y1),f}},function(n,s,u){var f=u(0),d=function(M,I){var P=M.position(),N=I.currentBoundingBox,F=M.scratch(I.name);F==null&&(F={},M.scratch(I.name,F)),f(F,I.randomize?{x:N.x1+Math.random()*N.w,y:N.y1+Math.random()*N.h}:{x:P.x,y:P.y}),F.locked=M.locked()},g=function(M,I){return M.scratch(I.name)},v=function(M,I){M.positions(function(P){var N=P.scratch(I.name);return{x:N.x,y:N.y}})};n.exports={setInitialPositionState:d,getNodePositionData:g,refreshPositions:v}},function(n,s,u){var f=function(){},d=function(S){var M=S,I=S.layout,P=I.tick(M);M.firstUpdate&&(M.animateContinuously&&M.layout.emit("layoutready"),M.firstUpdate=!1),M.tickIndex++;var N=Date.now()-M.startTime;return!M.infinite&&(P||M.tickIndex>=M.maxIterations||N>=M.maxSimulationTime)},g=function(S){for(var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f,P=!1,N=S,F=0;F<N.refresh&&(P=!N.running||d(N),!P);F++);P?I():M()};n.exports={tick:d,multitick:g}}])})})(cytoscapeEuler);const euler=getDefaultExportFromCjs(cytoscapeEulerExports);var cytoscapeSpreadExports={},cytoscapeSpread={get exports(){return cytoscapeSpreadExports},set exports(e){cytoscapeSpreadExports=e}},weaverExports={},weaver={get exports(){return weaverExports},set exports(e){weaverExports=e}};/*!
Copyright  2016 Max Franz

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the Software), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/var hasRequiredWeaver;function requireWeaver(){return hasRequiredWeaver||(hasRequiredWeaver=1,function(module,exports){(function(e){module.exports=e()})(function(){return function e(t,n,s){function u(g,v){if(!n[g]){if(!t[g]){var S=typeof commonjsRequire=="function"&&commonjsRequire;if(!v&&S)return S(g,!0);if(f)return f(g,!0);var M=new Error("Cannot find module '"+g+"'");throw M.code="MODULE_NOT_FOUND",M}var I=n[g]={exports:{}};t[g][0].call(I.exports,function(P){var N=t[g][1][P];return u(N||P)},I,I.exports,e,t,n,s)}return n[g].exports}for(var f=typeof commonjsRequire=="function"&&commonjsRequire,d=0;d<s.length;d++)u(s[d]);return u}({1:[function(e,t,n){var s=e("./is"),u=e("./util"),f=e("./promise"),d=e("./event"),g={event:{regex:/(\w+)(\.\w+)?/,optionalTypeRegex:/(\w+)?(\.\w+)?/,falseCallback:function(){return!1}},on:function(v){var S={unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1};return v=u.extend({},S,v),function(I,P,N){var F=this,j=F.length!==void 0,U=j?F:[F],V=s.string(I),Z=v;if((s.fn(P)||P===!1)&&(N=P,P=void 0),!(s.fn(N)||N===!1)&&V)return F;if(V){var Q={};Q[I]=N,I=Q}for(var J in I)if(N=I[J],N===!1&&(N=g.event.falseCallback),!!s.fn(N)){J=J.split(/\s+/);for(var te=0;te<J.length;te++){var oe=J[te];if(!s.emptyString(oe)){var ue=oe.match(g.event.regex);if(ue)for(var se=ue[1],le=ue[2]?ue[2]:void 0,de={callback:N,data:P,type:se,namespace:le,unbindSelfOnTrigger:Z.unbindSelfOnTrigger,unbindAllBindersOnTrigger:Z.unbindAllBindersOnTrigger,binders:U},ge=0;ge<U.length;ge++){var ve=U[ge]._private;ve.listeners=ve.listeners||[],ve.listeners.push(de)}}}}return F}},eventAliasesOn:function(v){var S=v;S.addListener=S.listen=S.bind=S.on,S.removeListener=S.unlisten=S.unbind=S.off,S.emit=S.trigger,S.pon=S.promiseOn=function(M,I){var P=this,N=Array.prototype.slice.call(arguments,0);return new f(function(F,j){var U=function(Q){P.off.apply(P,Z),F(Q)},V=N.concat([U]),Z=V.concat([]);P.on.apply(P,V)})}},off:function(S){var M={};return S=u.extend({},M,S),function(I,P){var N=this,F=N.length!==void 0,j=F?N:[N],U=s.string(I);if(arguments.length===0){for(var V=0;V<j.length;V++)j[V]._private.listeners=[];return N}if(U){var Z={};Z[I]=P,I=Z}for(var Q in I){P=I[Q],P===!1&&(P=g.event.falseCallback),Q=Q.split(/\s+/);for(var J=0;J<Q.length;J++){var te=Q[J];if(!s.emptyString(te)){var oe=te.match(g.event.optionalTypeRegex);if(oe)for(var ue=oe[1]?oe[1]:void 0,se=oe[2]?oe[2]:void 0,V=0;V<j.length;V++)for(var le=j[V]._private.listeners=j[V]._private.listeners||[],de=0;de<le.length;de++){var ge=le[de],ve=!se||se===ge.namespace,me=!ue||ge.type===ue,ye=!P||P===ge.callback,Ae=ve&&me&&ye;Ae&&(le.splice(de,1),de--)}}}}return N}},trigger:function(v){var S={};return v=u.extend({},S,v),function(I,P,N){var F=this,j=F.length!==void 0,U=j?F:[F],V=s.string(I),Z=s.plainObject(I),Q=s.event(I);if(V){var J=I.split(/\s+/);I=[];for(var te=0;te<J.length;te++){var oe=J[te];if(!s.emptyString(oe)){var ue=oe.match(g.event.regex),se=ue[1],le=ue[2]?ue[2]:void 0;I.push({type:se,namespace:le})}}}else if(Z){var de=I;I=[de]}P?s.array(P)||(P=[P]):P=[];for(var te=0;te<I.length;te++)for(var ge=I[te],ve=0;ve<U.length;ve++){var me=U[ve],ye=me._private.listeners=me._private.listeners||[],oe;Q?oe=ge:oe=new d(ge,{namespace:ge.namespace}),N&&(ye=[{namespace:oe.namespace,type:oe.type,callback:N}]);for(var Ae=0;Ae<ye.length;Ae++){var Te=ye[Ae],Oe=!Te.namespace||Te.namespace===oe.namespace,Ie=Te.type===oe.type,Be=!0,De=Oe&&Ie&&Be;if(De){var Pe=[oe];if(Pe=Pe.concat(P),Te.data?oe.data=Te.data:oe.data=void 0,(Te.unbindSelfOnTrigger||Te.unbindAllBindersOnTrigger)&&(ye.splice(Ae,1),Ae--),Te.unbindAllBindersOnTrigger)for(var Ne=Te.binders,He=0;He<Ne.length;He++){var je=Ne[He];if(!(!je||je===me))for(var ze=je._private.listeners,Ve=0;Ve<ze.length;Ve++){var Ye=ze[Ve];Ye===Te&&(ze.splice(Ve,1),Ve--)}}var nt=me,Fe=Te.callback.apply(nt,Pe);(Fe===!1||oe.isPropagationStopped())&&Fe===!1&&(oe.stopPropagation(),oe.preventDefault())}}}return F}}};t.exports=g},{"./event":2,"./is":5,"./promise":6,"./util":8}],2:[function(e,t,n){var s=function(d,g){if(!(this instanceof s))return new s(d,g);d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented?f:u):this.type=d,g&&(this.type=g.type!==void 0?g.type:this.type,this.namespace=g.namespace,this.layout=g.layout,this.data=g.data,this.message=g.message),this.timeStamp=d&&d.timeStamp||+new Date};function u(){return!1}function f(){return!0}s.prototype={instanceString:function(){return"event"},preventDefault:function(){this.isDefaultPrevented=f;var d=this.originalEvent;d&&d.preventDefault&&d.preventDefault()},stopPropagation:function(){this.isPropagationStopped=f;var d=this.originalEvent;d&&d.stopPropagation&&d.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=f,this.stopPropagation()},isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u},t.exports=s},{}],3:[function(e,t,n){var s=e("./is"),u=e("./util"),f=e("./thread"),d=e("./promise"),g=e("./define"),v=function(P){if(!(this instanceof v))return new v(P);this._private={pass:[]};var N=4;if(s.number(P),typeof navigator<"u"&&navigator.hardwareConcurrency!=null)P=navigator.hardwareConcurrency;else try{P=e("os").cpus().length}catch{P=N}for(var F=0;F<P;F++)this[F]=new f;this.length=P},S=v.prototype;u.extend(S,{instanceString:function(){return"fabric"},require:function(P,N){for(var F=0;F<this.length;F++){var j=this[F];j.require(P,N)}return this},random:function(){var P=Math.round((this.length-1)*Math.random()),N=this[P];return N},run:function(P){var N=this._private.pass.shift();return this.random().pass(N).run(P)},message:function(P){return this.random().message(P)},broadcast:function(P){for(var N=0;N<this.length;N++){var F=this[N];F.message(P)}return this},stop:function(){for(var P=0;P<this.length;P++){var N=this[P];N.stop()}return this},pass:function(P){var N=this._private.pass;if(s.array(P))N.push(P);else throw"Only arrays may be used with fabric.pass()";return this},spreadSize:function(){var P=Math.ceil(this._private.pass[0].length/this.length);return P=Math.max(1,P),P},spread:function(P){for(var N=this,F=N._private,j=N.spreadSize(),U=F.pass.shift().concat([]),V=[],Z=0;Z<this.length;Z++){var Q=this[Z],J=U.splice(0,j),te=Q.pass(J).run(P);V.push(te);var oe=U.length===0;if(oe)break}return d.all(V).then(function(ue){for(var se=[],le=0,de=0;de<ue.length;de++)for(var ge=ue[de],ve=0;ve<ge.length;ve++){var me=ge[ve];se[le++]=me}return se})},map:function(P){var N=this;return N.require(P,"_$_$_fabmap"),N.spread(function(F){var j=[],U=resolve;resolve=function(te){j.push(te)};for(var V=0;V<F.length;V++){var Z=j.length,Q=_$_$_fabmap(F[V]),J=Z===j.length;J&&j.push(Q)}return resolve=U,j})},filter:function(P){var N=this._private,F=N.pass[0];return this.map(P).then(function(j){for(var U=[],V=0;V<F.length;V++){var Z=F[V],Q=j[V];Q&&U.push(Z)}return U})},sort:function(P){var N=this,F=this._private.pass[0].length,j=this.spreadSize();return P=P||function(U,V){return U<V?-1:U>V?1:0},N.require(P,"_$_$_cmp"),N.spread(function(U){var V=U.sort(_$_$_cmp);resolve(V)}).then(function(U){for(var V=function(J,te,oe){te=Math.min(te,F),oe=Math.min(oe,F);for(var ue=J,se=te,le=[],de=ue;de<oe;de++){var ge=U[J],ve=U[te];J<se&&(te>=oe||P(ge,ve)<=0)?(le.push(ge),J++):(le.push(ve),te++)}for(var de=0;de<le.length;de++){var me=ue+de;U[me]=le[de]}},Z=j;Z<F;Z*=2)for(var Q=0;Q<F;Q+=2*Z)V(Q,Q+Z,Q+2*Z);return U})}});var M=function(P){return P=P||{},function(N,F){var j=this._private.pass.shift();return this.random().pass(j)[P.threadFn](N,F)}};u.extend(S,{randomMap:M({threadFn:"map"}),reduce:M({threadFn:"reduce"}),reduceRight:M({threadFn:"reduceRight"})});var I=S;I.promise=I.run,I.terminate=I.halt=I.stop,I.include=I.require,u.extend(S,{on:g.on(),one:g.on({unbindSelfOnTrigger:!0}),off:g.off(),trigger:g.trigger()}),g.eventAliasesOn(S),t.exports=v},{"./define":1,"./is":5,"./promise":6,"./thread":7,"./util":8,os:void 0}],4:[function(e,t,n){var s=e("./thread"),u=e("./fabric"),f=function(){};f.version="1.2.0",f.thread=f.Thread=f.worker=f.Worker=s,f.fabric=f.Fabric=u,t.exports=f},{"./fabric":3,"./thread":7}],5:[function(e,t,n){var s="string",u=typeof{},f="function",d=function(v){return v&&v.instanceString&&g.fn(v.instanceString)?v.instanceString():null},g={defined:function(v){return v!=null},string:function(v){return v!=null&&typeof v==s},fn:function(v){return v!=null&&typeof v===f},array:function(v){return Array.isArray?Array.isArray(v):v!=null&&v instanceof Array},plainObject:function(v){return v!=null&&typeof v===u&&!g.array(v)&&v.constructor===Object},object:function(v){return v!=null&&typeof v===u},number:function(v){return v!=null&&typeof v=="number"&&!isNaN(v)},integer:function(v){return g.number(v)&&Math.floor(v)===v},bool:function(v){return v!=null&&typeof v=="boolean"},event:function(v){return d(v)==="event"},thread:function(v){return d(v)==="thread"},fabric:function(v){return d(v)==="fabric"},emptyString:function(v){if(v){if(g.string(v)&&(v===""||v.match(/^\s+$/)))return!0}else return!0;return!1},nonemptyString:function(v){return!!(v&&g.string(v)&&v!==""&&!v.match(/^\s+$/))}};t.exports=g},{}],6:[function(e,t,n){var s=0,u=1,f=2,d=function(N){if(!(this instanceof d))return new d(N);this.id="Thenable/1.0.7",this.state=s,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof N=="function"&&N.call(this,this.fulfill.bind(this),this.reject.bind(this))};d.prototype={fulfill:function(N){return g(this,u,"fulfillValue",N)},reject:function(N){return g(this,f,"rejectReason",N)},then:function(N,F){var j=this,U=new d;return j.onFulfilled.push(M(N,U,"fulfill")),j.onRejected.push(M(F,U,"reject")),v(j),U.proxy}};var g=function(N,F,j,U){return N.state===s&&(N.state=F,N[j]=U,v(N)),N},v=function(N){N.state===u?S(N,"onFulfilled",N.fulfillValue):N.state===f&&S(N,"onRejected",N.rejectReason)},S=function(N,F,j){if(N[F].length!==0){var U=N[F];N[F]=[];var V=function(){for(var Z=0;Z<U.length;Z++)U[Z](j)};typeof setImmediate=="function"?setImmediate(V):setTimeout(V,0)}},M=function(N,F,j){return function(U){if(typeof N!="function")F[j].call(F,U);else{var V;try{V=N(U)}catch(Z){F.reject(Z);return}I(F,V)}}},I=function(N,F){if(N===F||N.proxy===F){N.reject(new TypeError("cannot resolve promise with itself"));return}var j;if(typeof F=="object"&&F!==null||typeof F=="function")try{j=F.then}catch(V){N.reject(V);return}if(typeof j=="function"){var U=!1;try{j.call(F,function(V){U||(U=!0,V===F?N.reject(new TypeError("circular thenable chain")):I(N,V))},function(V){U||(U=!0,N.reject(V))})}catch(V){U||N.reject(V)}return}N.fulfill(F)},P=typeof P>"u"?d:P;P.all=P.all||function(N){return new P(function(F,j){for(var U=new Array(N.length),V=0,Z=function(J,te){U[J]=te,V++,V===N.length&&F(U)},Q=0;Q<N.length;Q++)(function(J){var te=N[J],oe=te.then!=null;if(oe)te.then(function(se){Z(J,se)},function(se){j(se)});else{var ue=te;Z(J,ue)}})(Q)})},t.exports=P},{}],7:[function(_dereq_,module,exports){var window=_dereq_("./window"),util=_dereq_("./util"),Promise=_dereq_("./promise"),Event=_dereq_("./event"),define=_dereq_("./define"),is=_dereq_("./is"),Thread=function(e){if(!(this instanceof Thread))return new Thread(e);var t=this._private={requires:[],files:[],queue:null,pass:[],disabled:!1};is.plainObject(e)&&e.disabled!=null&&(t.disabled=!!e.disabled)},thdfn=Thread.prototype,stringifyFieldVal=function(e){var t=is.fn(e)?e.toString():"JSON.parse('"+JSON.stringify(e)+"')";return t},fnAsRequire=function(e){var t,n;is.object(e)&&e.fn?(t=fnAs(e.fn,e.name),n=e.name,e=e.fn):is.fn(e)?(t=e.toString(),n=e.name):is.string(e)?t=e:is.object(e)&&(e.proto?t="":t=e.name+" = {};",n=e.name,e=e.obj),t+=`
`;var s=function(M,I){if(M.prototype){var P=!1;for(var N in M.prototype){P=!0;break}P&&(t+=fnAsRequire({name:I,obj:M,proto:!0}))}};if(e.prototype&&n!=null)for(var u in e.prototype){var f="",d=e.prototype[u],g=stringifyFieldVal(d),v=n+".prototype."+u;f+=v+" = "+g+`;
`,f&&(t+=f),s(d,v)}if(!is.string(e))for(var u in e){var S="";if(e.hasOwnProperty(u)){var d=e[u],g=stringifyFieldVal(d),v=n+'["'+u+'"]';S+=v+" = "+g+`;
`}S&&(t+=S),s(d,v)}return t},isPathStr=function(e){return is.string(e)&&e.match(/\.js$/)};util.extend(thdfn,{instanceString:function(){return"thread"},require:function(e,t){var n=this._private.requires;if(isPathStr(e))return this._private.files.push(e),this;if(t)is.fn(e)?e={name:t,fn:e}:e={name:t,obj:e};else if(is.fn(e)){if(!e.name)throw'The function name could not be automatically determined.  Use thread.require( someFunction, "someFunction" )';e={name:e.name,fn:e}}return n.push(e),this},pass:function(e){return this._private.pass.push(e),this},run:function(fn,pass){var self=this,_p=this._private;if(pass=pass||_p.pass.shift(),_p.stopped)throw"Attempted to run a stopped thread!  Start a new thread or do not stop the existing thread and reuse it.";if(_p.running)return _p.queue=_p.queue.then(function(){return self.run(fn,pass)});var useWW=window!=null&&!_p.disabled,useNode=!window&&typeof module<"u"&&!_p.disabled;self.trigger("run");var runP=new Promise(function(resolve,reject){_p.running=!0;var threadTechAlreadyExists=_p.ran,fnImplStr=is.string(fn)?fn:fn.toString(),fnStr=`
`+_p.requires.map(function(e){return fnAsRequire(e)}).concat(_p.files.map(function(e){if(useWW){var t=function(n){return n.match(/^\.\//)||n.match(/^\.\./)?window.location.origin+window.location.pathname+n:n.match(/^\//)?window.location.origin+"/"+n:n};return'importScripts("'+t(e)+'");'}else{if(useNode)return'eval( require("fs").readFileSync("'+e+'", { encoding: "utf8" }) );';throw"External file `"+e+"` can not be required without any threading technology."}})).concat(["( function(){","var ret = ("+fnImplStr+")("+JSON.stringify(pass)+");","if( ret !== undefined ){ resolve(ret); }",`} )()
`]).join(`
`);if(_p.requires=[],_p.files=[],useWW){var fnBlob,fnUrl;if(!threadTechAlreadyExists){var fnPre=fnStr+"";fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };","function message(m){ postMessage(m); };","function listen(fn){",'  self.addEventListener("message", function(m){ ','    if( typeof m === "object" && (m.data.$$eval || m.data === "$$start") ){',"    } else { ","      fn( m.data );","    }","  });","};",'self.addEventListener("message", function(m){  if( m.data.$$eval ){ eval( m.data.$$eval ); }  });',"function resolve(v){ postMessage({ $$resolve: v }); };","function reject(v){ postMessage({ $$reject: v }); };"].join(`
`),fnStr+=fnPre,fnBlob=new Blob([fnStr],{type:"application/javascript"}),fnUrl=window.URL.createObjectURL(fnBlob)}var ww=_p.webworker=_p.webworker||new Worker(fnUrl);threadTechAlreadyExists&&ww.postMessage({$$eval:fnStr});var cb;ww.addEventListener("message",cb=function(e){var t=is.object(e)&&is.object(e.data);t&&"$$resolve"in e.data?(ww.removeEventListener("message",cb),resolve(e.data.$$resolve)):t&&"$$reject"in e.data?(ww.removeEventListener("message",cb),reject(e.data.$$reject)):self.trigger(new Event(e,{type:"message",message:e.data}))},!1),threadTechAlreadyExists||ww.postMessage("$$start")}else if(useNode){_p.child||(_p.child=_dereq_("child_process").fork(_dereq_("path").join(__dirname,"thread-node-fork")));var child=_p.child,cb;child.on("message",cb=function(t){is.object(t)&&"$$resolve"in t?(child.removeListener("message",cb),resolve(t.$$resolve)):is.object(t)&&"$$reject"in t?(child.removeListener("message",cb),reject(t.$$reject)):self.trigger(new Event({},{type:"message",message:t}))}),child.send({$$eval:fnStr})}else{var timer=_p.timer=_p.timer||{listeners:[],exec:function(){fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };",'function message(m){ self.trigger( new Event({}, { type: "message", message: m }) ); };',"function listen(fn){ timer.listeners.push( fn ); };","function resolve(v){ promiseResolve(v); };","function reject(v){ promiseReject(v); };"].join(`
`)+fnStr,eval(fnStr)},message:function(e){for(var t=timer.listeners,n=0;n<t.length;n++){var s=t[n];s(e)}}};timer.exec()}}).then(function(e){return _p.running=!1,_p.ran=!0,self.trigger("ran"),e});return _p.queue==null&&(_p.queue=runP),runP},message:function(e){var t=this._private;return t.webworker&&t.webworker.postMessage(e),t.child&&t.child.send(e),t.timer&&t.timer.message(e),this},stop:function(){var e=this._private;return e.webworker&&e.webworker.terminate(),e.child&&e.child.kill(),e.timer,e.stopped=!0,this.trigger("stop")},stopped:function(){return this._private.stopped}});var fnAs=function(e,t){var n=e.toString();return n=n.replace(/function\s*?\S*?\s*?\(/,"function "+t+"("),n},defineFnal=function(e){return e=e||{},function(n,s){var u=fnAs(n,"_$_$_"+e.name);return this.require(u),this.run(["function( data ){","  var origResolve = resolve;","  var res = [];","  ","  resolve = function( val ){","    res.push( val );","  };","  ","  var ret = data."+e.name+"( _$_$_"+e.name+(arguments.length>1?", "+JSON.stringify(s):"")+" );","  ","  resolve = origResolve;","  resolve( res.length > 0 ? res : ret );","}"].join(`
`))}};util.extend(thdfn,{reduce:defineFnal({name:"reduce"}),reduceRight:defineFnal({name:"reduceRight"}),map:defineFnal({name:"map"})});var fn=thdfn;fn.promise=fn.run,fn.terminate=fn.halt=fn.stop,fn.include=fn.require,util.extend(thdfn,{on:define.on(),one:define.on({unbindSelfOnTrigger:!0}),off:define.off(),trigger:define.trigger()}),define.eventAliasesOn(thdfn),module.exports=Thread},{"./define":1,"./event":2,"./is":5,"./promise":6,"./util":8,"./window":9,child_process:void 0,path:void 0}],8:[function(e,t,n){var s=e("./is"),u;u={extend:function(){var f,d,g,v,S,M,I=arguments[0]||{},P=1,N=arguments.length,F=!1;for(typeof I=="boolean"&&(F=I,I=arguments[1]||{},P=2),typeof I!="object"&&!s.fn(I)&&(I={}),N===P&&(I=this,--P);P<N;P++)if((f=arguments[P])!=null)for(d in f)g=I[d],v=f[d],I!==v&&(F&&v&&(s.plainObject(v)||(S=s.array(v)))?(S?(S=!1,M=g&&s.array(g)?g:[]):M=g&&s.plainObject(g)?g:{},I[d]=u.extend(F,M,v)):v!==void 0&&(I[d]=v));return I},error:function(f){if(console)if(console.error)console.error.apply(console,arguments);else if(console.log)console.log.apply(console,arguments);else throw f;else throw f}},t.exports=u},{"./is":5}],9:[function(e,t,n){t.exports=typeof window>"u"?null:window},{}]},{},[4])(4)})}(weaver)),weaverExports}(function(e,t){(function(s,u){e.exports=u(requireWeaver())})(commonjsGlobal,function(n){return function(s){var u={};function f(d){if(u[d])return u[d].exports;var g=u[d]={i:d,l:!1,exports:{}};return s[d].call(g.exports,g,g.exports,f),g.l=!0,g.exports}return f.m=s,f.c=u,f.i=function(d){return d},f.d=function(d,g,v){f.o(d,g)||Object.defineProperty(d,g,{configurable:!1,enumerable:!0,get:v})},f.n=function(d){var g=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(g,"a",g),g},f.o=function(d,g){return Object.prototype.hasOwnProperty.call(d,g)},f.p="",f(f.s=1)}([function(s,u,f){var d=f(3).Thread,g=f(2),v={animate:!0,ready:void 0,stop:void 0,fit:!0,minDist:20,padding:20,expandingFactor:-1,prelayout:{name:"cose"},maxExpandIterations:4,boundingBox:void 0,randomize:!1};function S(M){var I=this.options={};for(var P in v)I[P]=v[P];for(var P in M)I[P]=M[P]}S.prototype.run=function(){var M=this,I=this.options,P=I.cy,N=I.boundingBox||{x1:0,y1:0,w:P.width(),h:P.height()};N.x2===void 0&&(N.x2=N.x1+N.w),N.w===void 0&&(N.w=N.x2-N.x1),N.y2===void 0&&(N.y2=N.y1+N.h),N.h===void 0&&(N.h=N.y2-N.y1);var F=P.nodes(),j=P.edges(),U=P.width(),V=P.height(),Z=N,Q=I.padding,J=Math.max(1,Math.log(F.length)*.8);F.length<100&&(J/=2),M.trigger({type:"layoutstart",layout:M});var te={x1:0,y1:0,x2:U*J,y2:V*J};Z&&(te.x1=Z.x1,te.y1=Z.y1,te.x2=Z.x2,te.y2=Z.y2),te.x1+=Q,te.y1+=Q,te.x2-=Q,te.y2-=Q;var oe=te.x2-te.x1,ue=te.y2-te.y1,se=Date.now();if(F.size()<=1){F.positions({x:Math.round((te.x1+te.x2)/2),y:Math.round((te.y1+te.y2)/2)}),I.fit&&P.fit(I.padding);var le=Date.now();console.info("Layout on "+F.size()+" nodes took "+(le-se)+" ms"),M.one("layoutready",I.ready),M.trigger("layoutready"),M.one("layoutstop",I.stop),M.trigger("layoutstop");return}for(var de={width:oe,height:ue,minDist:I.minDist,expFact:I.expandingFactor,expIt:0,maxExpIt:I.maxExpandIterations,vertices:[],edges:[],startTime:se},ge=F.length-1;ge>=0;ge--){var ve=F[ge].id(),me=F[ge].position();I.randomize&&(me={x:Math.round(te.x1+(te.x2-te.x1)*Math.random()),y:Math.round(te.y1+(te.y2-te.y1)*Math.random())}),de.vertices.push({id:ve,x:me.x,y:me.y})}for(var ge=j.length-1;ge>=0;ge--){var ye=j[ge].source().id(),Ae=j[ge].target().id();de.edges.push({src:ye,tgt:Ae})}var Te=M.thread;(!Te||Te.stopped())&&(Te=M.thread=d(),Te.require(g,"Voronoi"));function Oe(Ne){for(var He=Ne.vertices,je=[],ze=0;ze<He.length;++ze){var Ve=He[ze];je[Ve.id]={x:Ve.x,y:Ve.y}}F.positions(function(Ye,nt){typeof Ye=="number"&&(Ye=nt);var Fe=Ye.id(),Qe=je[Fe];return{x:Math.round(te.x1+Qe.x),y:Math.round(te.y1+Qe.y)}}),I.fit&&P.fit(I.padding)}var Ie=!1;if(Te.on("message",function(Ne){var He=Ne.message;I.animate&&(Oe(He),Ie||(M.trigger("layoutready"),Ie=!0))}),M.one("layoutready",I.ready),I.prelayout){var Be=P.makeLayout(I.prelayout),De=Be.promiseOn("layoutstop");De.then(Pe),Be.run()}else Pe();function Pe(){Te.pass(de).run(function(Ne){function He(gn){for(var Tn=gn.halfedges,Sr=0,Yr=0,Oa=0,Ei,si,ca,ta=0;ta<Tn.length;++ta)Ei=Tn[ta].getEndpoint(),si=Tn[ta].getStartpoint(),Sr+=Ei.x*si.y,Sr-=Ei.y*si.x,ca=Ei.x*si.y-si.x*Ei.y,Yr+=(Ei.x+si.x)*ca,Oa+=(Ei.y+si.y)*ca;return Sr/=2,ca=Sr*6,{x:Yr/ca,y:Oa/ca}}function je(gn,Tn){var Sr=gn.x-Tn.x,Yr=gn.y-Tn.y;return Math.sqrt(Sr*Sr+Yr*Yr)}g=_ref_("Voronoi");var ze=Ne.width,Ve=Ne.height,Ye=Ne.minDist,nt=Ne.expFact,Fe=Ne.maxExpIt,Qe=function(){Ne.width=ze,Ne.height=Ve,Ne.expIt=ar,Ne.expFact=nt,Ne.vertices=[];for(var gn=0;gn<_t.length;++gn)Ne.vertices.push({id:_t[gn].label,x:_t[gn].x,y:_t[gn].y})},it=function(){broadcast(Ne)},at=Ne.vertices;Ne.edges;var wt=1/0,st=-1/0,ft=1/0,Dt=-1/0;at.forEach(function(gn){wt=Math.min(gn.x,wt),st=Math.max(gn.x,st),ft=Math.min(gn.y,ft),Dt=Math.max(gn.y,Dt)});var ut=function(gn,Tn,Sr,Yr,Oa){var Ei=(gn-Tn)/(Sr-Tn);return isNaN(Ei)&&(Ei=Math.random()),Yr+(Oa-Yr)*Ei},_t=at.map(function(gn){return{label:gn.id,x:ut(gn.x,wt,st,0,ze),y:ut(gn.y,ft,Dt,0,Ve)}});if(Qe(),it(),Fe<=0)return Ne;for(var Bt=new g,mn={xl:0,xr:ze,yt:0,yb:Ve},dn=[],Zt=0;Zt<_t.length;++Zt)dn[_t[Zt].label]=_t[Zt];function Mt(gn){for(var Tn=0,Sr=0;Sr<gn.length;++Sr){var Yr=gn[Sr];Yr.lSite!=null&&Yr.rSite!=null&&je(Yr.lSite,Yr.rSite)<Ye&&++Tn}return Tn}for(var We=Bt.compute(_t,mn),bt=We.cells,Zt=0;Zt<bt.length;++Zt){var Nt=bt[Zt],It=Nt.site,Lt=He(Nt),Pn=dn[It.label];Pn.x=Lt.x,Pn.y=Lt.y}nt<0&&(nt=Math.max(.05,Math.min(.1,Ye/Math.sqrt(ze*Ve/_t.length)*.5)));for(var qt=Mt(We.edges),ln=qt<=0||Fe<=0,fr=0,ar=0;!ln;){++fr;for(var Rn=0;Rn<=4;++Rn){Bt.recycle(We),We=Bt.compute(_t,mn);for(var Zt=0;Zt<bt.length;++Zt){var Nt=bt[Zt],It=Nt.site,Lt=He(Nt),Pn=dn[It.label];Pn.x=Lt.x,Pn.y=Lt.y}}var Cr=Mt(We.edges);Cr<=0?ln=!0:(Cr>=qt||fr>=4)&&(ar>=Fe?ln=!0:(ze+=ze*nt,Ve+=Ve*nt,mn={xl:0,xr:ze,yt:0,yb:Ve},++ar,fr=0)),qt=Cr,Qe(),it()}return Qe(),Ne}).then(function(Ne){var He=Ne.vertices;Oe(Ne);var je=Ne.startTime,ze=new Date;console.info("Layout on "+He.length+" nodes took "+(ze-je)+" ms"),M.one("layoutstop",I.stop),I.animate||M.trigger("layoutready"),M.trigger("layoutstop"),Te.stop()})}return this},S.prototype.stop=function(){this.thread&&this.thread.stop(),this.trigger("layoutstop")},S.prototype.destroy=function(){this.thread&&this.thread.stop()},s.exports=S},function(s,u,f){var d=f(0),g=function(v){v("layout","spread",d)};typeof cytoscape<"u"&&g(cytoscape),s.exports=g},function(s,u){/*!
Copyright (C) 2010-2013 Raymond Hill: https://github.com/gorhill/Javascript-Voronoi
MIT License: See https://github.com/gorhill/Javascript-Voronoi/LICENSE.md
*/function f(){this.vertices=null,this.edges=null,this.cells=null,this.toRecycle=null,this.beachsectionJunkyard=[],this.circleEventJunkyard=[],this.vertexJunkyard=[],this.edgeJunkyard=[],this.cellJunkyard=[]}f.prototype.reset=function(){if(this.beachline||(this.beachline=new this.RBTree),this.beachline.root)for(var d=this.beachline.getFirst(this.beachline.root);d;)this.beachsectionJunkyard.push(d),d=d.rbNext;this.beachline.root=null,this.circleEvents||(this.circleEvents=new this.RBTree),this.circleEvents.root=this.firstCircleEvent=null,this.vertices=[],this.edges=[],this.cells=[]},f.prototype.sqrt=function(d){return Math.sqrt(d)},f.prototype.abs=function(d){return Math.abs(d)},f.prototype.=f.=1e-9,f.prototype.inv=f.inv=1/f.,f.prototype.equalWithEpsilon=function(d,g){return this.abs(d-g)<1e-9},f.prototype.greaterThanWithEpsilon=function(d,g){return d-g>1e-9},f.prototype.greaterThanOrEqualWithEpsilon=function(d,g){return g-d<1e-9},f.prototype.lessThanWithEpsilon=function(d,g){return g-d>1e-9},f.prototype.lessThanOrEqualWithEpsilon=function(d,g){return d-g<1e-9},f.prototype.RBTree=function(){this.root=null},f.prototype.RBTree.prototype.rbInsertSuccessor=function(d,g){var v;if(d){if(g.rbPrevious=d,g.rbNext=d.rbNext,d.rbNext&&(d.rbNext.rbPrevious=g),d.rbNext=g,d.rbRight){for(d=d.rbRight;d.rbLeft;)d=d.rbLeft;d.rbLeft=g}else d.rbRight=g;v=d}else this.root?(d=this.getFirst(this.root),g.rbPrevious=null,g.rbNext=d,d.rbPrevious=g,d.rbLeft=g,v=d):(g.rbPrevious=g.rbNext=null,this.root=g,v=null);g.rbLeft=g.rbRight=null,g.rbParent=v,g.rbRed=!0;var S,M;for(d=g;v&&v.rbRed;)S=v.rbParent,v===S.rbLeft?(M=S.rbRight,M&&M.rbRed?(v.rbRed=M.rbRed=!1,S.rbRed=!0,d=S):(d===v.rbRight&&(this.rbRotateLeft(v),d=v,v=d.rbParent),v.rbRed=!1,S.rbRed=!0,this.rbRotateRight(S))):(M=S.rbLeft,M&&M.rbRed?(v.rbRed=M.rbRed=!1,S.rbRed=!0,d=S):(d===v.rbLeft&&(this.rbRotateRight(v),d=v,v=d.rbParent),v.rbRed=!1,S.rbRed=!0,this.rbRotateLeft(S))),v=d.rbParent;this.root.rbRed=!1},f.prototype.RBTree.prototype.rbRemoveNode=function(d){d.rbNext&&(d.rbNext.rbPrevious=d.rbPrevious),d.rbPrevious&&(d.rbPrevious.rbNext=d.rbNext),d.rbNext=d.rbPrevious=null;var g=d.rbParent,v=d.rbLeft,S=d.rbRight,M;v?S?M=this.getFirst(S):M=v:M=S,g?g.rbLeft===d?g.rbLeft=M:g.rbRight=M:this.root=M;var I;if(v&&S?(I=M.rbRed,M.rbRed=d.rbRed,M.rbLeft=v,v.rbParent=M,M!==S?(g=M.rbParent,M.rbParent=d.rbParent,d=M.rbRight,g.rbLeft=d,M.rbRight=S,S.rbParent=M):(M.rbParent=g,g=M,d=M.rbRight)):(I=d.rbRed,d=M),d&&(d.rbParent=g),!I){if(d&&d.rbRed){d.rbRed=!1;return}var P;do{if(d===this.root)break;if(d===g.rbLeft){if(P=g.rbRight,P.rbRed&&(P.rbRed=!1,g.rbRed=!0,this.rbRotateLeft(g),P=g.rbRight),P.rbLeft&&P.rbLeft.rbRed||P.rbRight&&P.rbRight.rbRed){(!P.rbRight||!P.rbRight.rbRed)&&(P.rbLeft.rbRed=!1,P.rbRed=!0,this.rbRotateRight(P),P=g.rbRight),P.rbRed=g.rbRed,g.rbRed=P.rbRight.rbRed=!1,this.rbRotateLeft(g),d=this.root;break}}else if(P=g.rbLeft,P.rbRed&&(P.rbRed=!1,g.rbRed=!0,this.rbRotateRight(g),P=g.rbLeft),P.rbLeft&&P.rbLeft.rbRed||P.rbRight&&P.rbRight.rbRed){(!P.rbLeft||!P.rbLeft.rbRed)&&(P.rbRight.rbRed=!1,P.rbRed=!0,this.rbRotateLeft(P),P=g.rbLeft),P.rbRed=g.rbRed,g.rbRed=P.rbLeft.rbRed=!1,this.rbRotateRight(g),d=this.root;break}P.rbRed=!0,d=g,g=g.rbParent}while(!d.rbRed);d&&(d.rbRed=!1)}},f.prototype.RBTree.prototype.rbRotateLeft=function(d){var g=d,v=d.rbRight,S=g.rbParent;S?S.rbLeft===g?S.rbLeft=v:S.rbRight=v:this.root=v,v.rbParent=S,g.rbParent=v,g.rbRight=v.rbLeft,g.rbRight&&(g.rbRight.rbParent=g),v.rbLeft=g},f.prototype.RBTree.prototype.rbRotateRight=function(d){var g=d,v=d.rbLeft,S=g.rbParent;S?S.rbLeft===g?S.rbLeft=v:S.rbRight=v:this.root=v,v.rbParent=S,g.rbParent=v,g.rbLeft=v.rbRight,g.rbLeft&&(g.rbLeft.rbParent=g),v.rbRight=g},f.prototype.RBTree.prototype.getFirst=function(d){for(;d.rbLeft;)d=d.rbLeft;return d},f.prototype.RBTree.prototype.getLast=function(d){for(;d.rbRight;)d=d.rbRight;return d},f.prototype.Diagram=function(d){this.site=d},f.prototype.Cell=function(d){this.site=d,this.halfedges=[],this.closeMe=!1},f.prototype.Cell.prototype.init=function(d){return this.site=d,this.halfedges=[],this.closeMe=!1,this},f.prototype.createCell=function(d){var g=this.cellJunkyard.pop();return g?g.init(d):new this.Cell(d)},f.prototype.Cell.prototype.prepareHalfedges=function(){for(var d=this.halfedges,g=d.length,v;g--;)v=d[g].edge,(!v.vb||!v.va)&&d.splice(g,1);return d.sort(function(S,M){return M.angle-S.angle}),d.length},f.prototype.Cell.prototype.getNeighborIds=function(){for(var d=[],g=this.halfedges.length,v;g--;)v=this.halfedges[g].edge,v.lSite!==null&&v.lSite.voronoiId!=this.site.voronoiId?d.push(v.lSite.voronoiId):v.rSite!==null&&v.rSite.voronoiId!=this.site.voronoiId&&d.push(v.rSite.voronoiId);return d},f.prototype.Cell.prototype.getBbox=function(){for(var d=this.halfedges,g=d.length,v=1/0,S=1/0,M=-1/0,I=-1/0,P,N,F;g--;)P=d[g].getStartpoint(),N=P.x,F=P.y,N<v&&(v=N),F<S&&(S=F),N>M&&(M=N),F>I&&(I=F);return{x:v,y:S,width:M-v,height:I-S}},f.prototype.Cell.prototype.pointIntersection=function(d,g){for(var v=this.halfedges,S=v.length,M,I,P,N;S--;){if(M=v[S],I=M.getStartpoint(),P=M.getEndpoint(),N=(g-I.y)*(P.x-I.x)-(d-I.x)*(P.y-I.y),!N)return 0;if(N>0)return-1}return 1},f.prototype.Vertex=function(d,g){this.x=d,this.y=g},f.prototype.Edge=function(d,g){this.lSite=d,this.rSite=g,this.va=this.vb=null},f.prototype.Halfedge=function(d,g,v){if(this.site=g,this.edge=d,v)this.angle=Math.atan2(v.y-g.y,v.x-g.x);else{var S=d.va,M=d.vb;this.angle=d.lSite===g?Math.atan2(M.x-S.x,S.y-M.y):Math.atan2(S.x-M.x,M.y-S.y)}},f.prototype.createHalfedge=function(d,g,v){return new this.Halfedge(d,g,v)},f.prototype.Halfedge.prototype.getStartpoint=function(){return this.edge.lSite===this.site?this.edge.va:this.edge.vb},f.prototype.Halfedge.prototype.getEndpoint=function(){return this.edge.lSite===this.site?this.edge.vb:this.edge.va},f.prototype.createVertex=function(d,g){var v=this.vertexJunkyard.pop();return v?(v.x=d,v.y=g):v=new this.Vertex(d,g),this.vertices.push(v),v},f.prototype.createEdge=function(d,g,v,S){var M=this.edgeJunkyard.pop();return M?(M.lSite=d,M.rSite=g,M.va=M.vb=null):M=new this.Edge(d,g),this.edges.push(M),v&&this.setEdgeStartpoint(M,d,g,v),S&&this.setEdgeEndpoint(M,d,g,S),this.cells[d.voronoiId].halfedges.push(this.createHalfedge(M,d,g)),this.cells[g.voronoiId].halfedges.push(this.createHalfedge(M,g,d)),M},f.prototype.createBorderEdge=function(d,g,v){var S=this.edgeJunkyard.pop();return S?(S.lSite=d,S.rSite=null):S=new this.Edge(d,null),S.va=g,S.vb=v,this.edges.push(S),S},f.prototype.setEdgeStartpoint=function(d,g,v,S){!d.va&&!d.vb?(d.va=S,d.lSite=g,d.rSite=v):d.lSite===v?d.vb=S:d.va=S},f.prototype.setEdgeEndpoint=function(d,g,v,S){this.setEdgeStartpoint(d,v,g,S)},f.prototype.Beachsection=function(){},f.prototype.createBeachsection=function(d){var g=this.beachsectionJunkyard.pop();return g||(g=new this.Beachsection),g.site=d,g},f.prototype.leftBreakPoint=function(d,g){var v=d.site,S=v.x,M=v.y,I=M-g;if(!I)return S;var P=d.rbPrevious;if(!P)return-1/0;v=P.site;var N=v.x,F=v.y,j=F-g;if(!j)return N;var U=N-S,V=1/I-1/j,Z=U/j;return V?(-Z+this.sqrt(Z*Z-2*V*(U*U/(-2*j)-F+j/2+M-I/2)))/V+S:(S+N)/2},f.prototype.rightBreakPoint=function(d,g){var v=d.rbNext;if(v)return this.leftBreakPoint(v,g);var S=d.site;return S.y===g?S.x:1/0},f.prototype.detachBeachsection=function(d){this.detachCircleEvent(d),this.beachline.rbRemoveNode(d),this.beachsectionJunkyard.push(d)},f.prototype.removeBeachsection=function(d){var g=d.circleEvent,v=g.x,S=g.ycenter,M=this.createVertex(v,S),I=d.rbPrevious,P=d.rbNext,N=[d],F=Math.abs;this.detachBeachsection(d);for(var j=I;j.circleEvent&&F(v-j.circleEvent.x)<1e-9&&F(S-j.circleEvent.ycenter)<1e-9;)I=j.rbPrevious,N.unshift(j),this.detachBeachsection(j),j=I;N.unshift(j),this.detachCircleEvent(j);for(var U=P;U.circleEvent&&F(v-U.circleEvent.x)<1e-9&&F(S-U.circleEvent.ycenter)<1e-9;)P=U.rbNext,N.push(U),this.detachBeachsection(U),U=P;N.push(U),this.detachCircleEvent(U);var V=N.length,Z;for(Z=1;Z<V;Z++)U=N[Z],j=N[Z-1],this.setEdgeStartpoint(U.edge,j.site,U.site,M);j=N[0],U=N[V-1],U.edge=this.createEdge(j.site,U.site,void 0,M),this.attachCircleEvent(j),this.attachCircleEvent(U)},f.prototype.addBeachsection=function(d){for(var g=d.x,v=d.y,S,M,I,P,N=this.beachline.root;N;)if(I=this.leftBreakPoint(N,v)-g,I>1e-9)N=N.rbLeft;else if(P=g-this.rightBreakPoint(N,v),P>1e-9){if(!N.rbRight){S=N;break}N=N.rbRight}else{I>-1e-9?(S=N.rbPrevious,M=N):P>-1e-9?(S=N,M=N.rbNext):S=M=N;break}var F=this.createBeachsection(d);if(this.beachline.rbInsertSuccessor(S,F),!(!S&&!M)){if(S===M){this.detachCircleEvent(S),M=this.createBeachsection(S.site),this.beachline.rbInsertSuccessor(F,M),F.edge=M.edge=this.createEdge(S.site,F.site),this.attachCircleEvent(S),this.attachCircleEvent(M);return}if(S&&!M){F.edge=this.createEdge(S.site,F.site);return}if(S!==M){this.detachCircleEvent(S),this.detachCircleEvent(M);var j=S.site,U=j.x,V=j.y,Z=d.x-U,Q=d.y-V,J=M.site,te=J.x-U,oe=J.y-V,ue=2*(Z*oe-Q*te),se=Z*Z+Q*Q,le=te*te+oe*oe,de=this.createVertex((oe*se-Q*le)/ue+U,(Z*le-te*se)/ue+V);this.setEdgeStartpoint(M.edge,j,J,de),F.edge=this.createEdge(j,d,void 0,de),M.edge=this.createEdge(d,J,void 0,de),this.attachCircleEvent(S),this.attachCircleEvent(M);return}}},f.prototype.CircleEvent=function(){this.arc=null,this.rbLeft=null,this.rbNext=null,this.rbParent=null,this.rbPrevious=null,this.rbRed=!1,this.rbRight=null,this.site=null,this.x=this.y=this.ycenter=0},f.prototype.attachCircleEvent=function(d){var g=d.rbPrevious,v=d.rbNext;if(!(!g||!v)){var S=g.site,M=d.site,I=v.site;if(S!==I){var P=M.x,N=M.y,F=S.x-P,j=S.y-N,U=I.x-P,V=I.y-N,Z=2*(F*V-j*U);if(!(Z>=-2e-12)){var Q=F*F+j*j,J=U*U+V*V,te=(V*Q-j*J)/Z,oe=(F*J-U*Q)/Z,ue=oe+N,se=this.circleEventJunkyard.pop();se||(se=new this.CircleEvent),se.arc=d,se.site=M,se.x=te+P,se.y=ue+this.sqrt(te*te+oe*oe),se.ycenter=ue,d.circleEvent=se;for(var le=null,de=this.circleEvents.root;de;)if(se.y<de.y||se.y===de.y&&se.x<=de.x)if(de.rbLeft)de=de.rbLeft;else{le=de.rbPrevious;break}else if(de.rbRight)de=de.rbRight;else{le=de;break}this.circleEvents.rbInsertSuccessor(le,se),le||(this.firstCircleEvent=se)}}}},f.prototype.detachCircleEvent=function(d){var g=d.circleEvent;g&&(g.rbPrevious||(this.firstCircleEvent=g.rbNext),this.circleEvents.rbRemoveNode(g),this.circleEventJunkyard.push(g),d.circleEvent=null)},f.prototype.connectEdge=function(d,g){var v=d.vb;if(v)return!0;var S=d.va,M=g.xl,I=g.xr,P=g.yt,N=g.yb,F=d.lSite,j=d.rSite,U=F.x,V=F.y,Z=j.x,Q=j.y,J=(U+Z)/2,te=(V+Q)/2,oe,ue;if(this.cells[F.voronoiId].closeMe=!0,this.cells[j.voronoiId].closeMe=!0,Q!==V&&(oe=(U-Z)/(Q-V),ue=te-oe*J),oe===void 0){if(J<M||J>=I)return!1;if(U>Z){if(!S||S.y<P)S=this.createVertex(J,P);else if(S.y>=N)return!1;v=this.createVertex(J,N)}else{if(!S||S.y>N)S=this.createVertex(J,N);else if(S.y<P)return!1;v=this.createVertex(J,P)}}else if(oe<-1||oe>1)if(U>Z){if(!S||S.y<P)S=this.createVertex((P-ue)/oe,P);else if(S.y>=N)return!1;v=this.createVertex((N-ue)/oe,N)}else{if(!S||S.y>N)S=this.createVertex((N-ue)/oe,N);else if(S.y<P)return!1;v=this.createVertex((P-ue)/oe,P)}else if(V<Q){if(!S||S.x<M)S=this.createVertex(M,oe*M+ue);else if(S.x>=I)return!1;v=this.createVertex(I,oe*I+ue)}else{if(!S||S.x>I)S=this.createVertex(I,oe*I+ue);else if(S.x<M)return!1;v=this.createVertex(M,oe*M+ue)}return d.va=S,d.vb=v,!0},f.prototype.clipEdge=function(d,g){var v=d.va.x,S=d.va.y,M=d.vb.x,I=d.vb.y,P=0,N=1,F=M-v,j=I-S,U=v-g.xl;if(F===0&&U<0)return!1;var V=-U/F;if(F<0){if(V<P)return!1;V<N&&(N=V)}else if(F>0){if(V>N)return!1;V>P&&(P=V)}if(U=g.xr-v,F===0&&U<0)return!1;if(V=U/F,F<0){if(V>N)return!1;V>P&&(P=V)}else if(F>0){if(V<P)return!1;V<N&&(N=V)}if(U=S-g.yt,j===0&&U<0)return!1;if(V=-U/j,j<0){if(V<P)return!1;V<N&&(N=V)}else if(j>0){if(V>N)return!1;V>P&&(P=V)}if(U=g.yb-S,j===0&&U<0)return!1;if(V=U/j,j<0){if(V>N)return!1;V>P&&(P=V)}else if(j>0){if(V<P)return!1;V<N&&(N=V)}return P>0&&(d.va=this.createVertex(v+P*F,S+P*j)),N<1&&(d.vb=this.createVertex(v+N*F,S+N*j)),(P>0||N<1)&&(this.cells[d.lSite.voronoiId].closeMe=!0,this.cells[d.rSite.voronoiId].closeMe=!0),!0},f.prototype.clipEdges=function(d){for(var g=this.edges,v=g.length,S,M=Math.abs;v--;)S=g[v],(!this.connectEdge(S,d)||!this.clipEdge(S,d)||M(S.va.x-S.vb.x)<1e-9&&M(S.va.y-S.vb.y)<1e-9)&&(S.va=S.vb=null,g.splice(v,1))},f.prototype.closeCells=function(d){for(var g=d.xl,v=d.xr,S=d.yt,M=d.yb,I=this.cells,P=I.length,N,F,j,U,V,Z,Q,J,te,oe=Math.abs;P--;)if(N=I[P],!!N.prepareHalfedges()&&N.closeMe){for(j=N.halfedges,U=j.length,F=0;F<U;){if(Z=j[F].getEndpoint(),J=j[(F+1)%U].getStartpoint(),oe(Z.x-J.x)>=1e-9||oe(Z.y-J.y)>=1e-9)switch(!0){case(this.equalWithEpsilon(Z.x,g)&&this.lessThanWithEpsilon(Z.y,M)):if(te=this.equalWithEpsilon(J.x,g),Q=this.createVertex(g,te?J.y:M),V=this.createBorderEdge(N.site,Z,Q),F++,j.splice(F,0,this.createHalfedge(V,N.site,null)),U++,te)break;Z=Q;case(this.equalWithEpsilon(Z.y,M)&&this.lessThanWithEpsilon(Z.x,v)):if(te=this.equalWithEpsilon(J.y,M),Q=this.createVertex(te?J.x:v,M),V=this.createBorderEdge(N.site,Z,Q),F++,j.splice(F,0,this.createHalfedge(V,N.site,null)),U++,te)break;Z=Q;case(this.equalWithEpsilon(Z.x,v)&&this.greaterThanWithEpsilon(Z.y,S)):if(te=this.equalWithEpsilon(J.x,v),Q=this.createVertex(v,te?J.y:S),V=this.createBorderEdge(N.site,Z,Q),F++,j.splice(F,0,this.createHalfedge(V,N.site,null)),U++,te)break;Z=Q;case(this.equalWithEpsilon(Z.y,S)&&this.greaterThanWithEpsilon(Z.x,g)):if(te=this.equalWithEpsilon(J.y,S),Q=this.createVertex(te?J.x:g,S),V=this.createBorderEdge(N.site,Z,Q),F++,j.splice(F,0,this.createHalfedge(V,N.site,null)),U++,te||(Z=Q,te=this.equalWithEpsilon(J.x,g),Q=this.createVertex(g,te?J.y:M),V=this.createBorderEdge(N.site,Z,Q),F++,j.splice(F,0,this.createHalfedge(V,N.site,null)),U++,te)||(Z=Q,te=this.equalWithEpsilon(J.y,M),Q=this.createVertex(te?J.x:v,M),V=this.createBorderEdge(N.site,Z,Q),F++,j.splice(F,0,this.createHalfedge(V,N.site,null)),U++,te)||(Z=Q,te=this.equalWithEpsilon(J.x,v),Q=this.createVertex(v,te?J.y:S),V=this.createBorderEdge(N.site,Z,Q),F++,j.splice(F,0,this.createHalfedge(V,N.site,null)),U++,te))break;default:throw"Voronoi.closeCells() > this makes no sense!"}F++}N.closeMe=!1}},f.prototype.quantizeSites=function(d){for(var g=this.,v=d.length,S;v--;)S=d[v],S.x=Math.floor(S.x/g)*g,S.y=Math.floor(S.y/g)*g},f.prototype.recycle=function(d){if(d)if(d instanceof this.Diagram)this.toRecycle=d;else throw"Voronoi.recycleDiagram() > Need a Diagram object."},f.prototype.compute=function(d,g){var v=new Date;this.reset(),this.toRecycle&&(this.vertexJunkyard=this.vertexJunkyard.concat(this.toRecycle.vertices),this.edgeJunkyard=this.edgeJunkyard.concat(this.toRecycle.edges),this.cellJunkyard=this.cellJunkyard.concat(this.toRecycle.cells),this.toRecycle=null);var S=d.slice(0);S.sort(function(Z,Q){var J=Q.y-Z.y;return J||Q.x-Z.x});for(var M=S.pop(),I=0,P,N,F=this.cells,j;;)if(j=this.firstCircleEvent,M&&(!j||M.y<j.y||M.y===j.y&&M.x<j.x))(M.x!==P||M.y!==N)&&(F[I]=this.createCell(M),M.voronoiId=I++,this.addBeachsection(M),N=M.y,P=M.x),M=S.pop();else if(j)this.removeBeachsection(j.arc);else break;this.clipEdges(g),this.closeCells(g);var U=new Date,V=new this.Diagram;return V.cells=this.cells,V.edges=this.edges,V.vertices=this.vertices,V.execTime=U.getTime()-v.getTime(),this.reset(),V},s.exports=f},function(s,u){s.exports=n}])})})(cytoscapeSpread);const spread=getDefaultExportFromCjs(cytoscapeSpreadExports),functionOptions={concentric:["concentric","levelWidth"],cose:["nodeRepulsion","idealEdgeLength","edgeElasticity"],dagre:["minLen","edgeWeight"],fcose:["nodeRepulsion","idealEdgeLength","edgeElasticity","tilingPaddingVertical","tilingPaddingHorizontal"],euler:["springLength","springCoeff","mass"],Klay:["priority"],"cose-bilkent":["tilingPaddingVertical","tilingPaddingHorizontal"]},getVal=e=>{if(typeof e=="number")return()=>e;if("expression"in e)return constructExpressionFunction({calculate:e.expression});if("field"in e)return t=>t[e.field]},layoutCytoscape=(nodes,links,spec)=>{const elements=[...nodes.map(e=>({data:e})),...links.map(e=>({data:Object.assign(Object.assign({},e),{source:e.source.id,target:e.target.id})}))];if(spec.algorithm in functionOptions)for(const option of functionOptions[spec.algorithm])option in spec&&(typeof spec[option]=="object"&&"expression"in spec[option]?spec[option]=eval("(n) =>"+spec[option].expression):spec[option]=getVal(spec[option]));cytoscape_cjs.use(avsdf),cytoscape_cjs.use(dagre),cytoscape_cjs.use(klay),cytoscape_cjs.use(coseBilkent),cytoscape_cjs.use(cola),cytoscape_cjs.use(cise),cytoscape_cjs.use(euler),cytoscape_cjs.use(spread);const cy=cytoscape_cjs({elements});return spec.animate=!1,cy.layout(Object.assign(Object.assign({},spec),{name:spec.algorithm||"grid"})).run(),cy.nodes().map(e=>e._private.position)};var __awaiter$5=globalThis&&globalThis.__awaiter||function(e,t,n,s){function u(f){return f instanceof n?f:new n(function(d){d(f)})}return new(n||(n=Promise))(function(f,d){function g(M){try{S(s.next(M))}catch(I){d(I)}}function v(M){try{S(s.throw(M))}catch(I){d(I)}}function S(M){M.done?f(M.value):u(M.value).then(g,v)}S((s=s.apply(e,t||[])).next())})};const layoutTulip=(e,t,n)=>__awaiter$5(void 0,void 0,void 0,function*(){var s;const u={network:{nodes:e,links:t.map(d=>({source:d.source.id,target:d.target.id}))},options:Object.assign({algorithm:n.algorithm},n.options||[])};let f=(s=n.server)!==null&&s!==void 0?s:"http://localhost:8080";return f=f.endsWith("/")?f:f+"/",yield fetch(f+"layout",{method:"POST",mode:"cors",body:JSON.stringify(u),headers:{"Content-Type":"application/json"}}).then(d=>d.json())}),getId=e=>typeof e=="object"?e.id:e,applyOrderOrScale=(e,t,n)=>{if("value"in t)return t.value;if("order"in t&&typeof t.order=="string")return n[t.order].get(getId(e));if("order"in t){const s="field"in t.order&&t.order.field?select(e,t.order.field):e;return n[t.order.order].get(getId(s))}else{const s=n[t.scale];return s(select(e,t.field))}},getTicks=(e,t)=>{if("order"in e||"value"in e)return[];const n=t[e.scale];return typeof n.ticks>"u"?n.domain().map(s=>[n(s),s]):n.ticks().map(s=>[n(s),s])},getSize=(e,t,n,s)=>{if(t){if(typeof t=="number")return t;if("scale"in t){const u=n[t.scale];return u(e[t.field])}else{if("field"in t)return select(e,t.field);if("expression"in t)return constructExpressionFunction({calculate:t.expression})(e,null,n)}}else return s??10},scaleIndependently=(e,t,n,s,u)=>{let f=!1;const d=e,g=new Map;if(Array.isArray(e)){f=!0;for(const I in e)g.set(I,e[I]);e=g}let v=0,S=1/0,M=!0;for(const I of e.keys()){const P=e.get(I)[t];v=Math.max(v,P),S=Math.min(S,P),M=M&&Number.isInteger(P)}for(const I of e.keys())M?e.get(I)[t]=u[0]+(u[1]-u[0])*(e.get(I)[t]-S)/(1+v-S):e.get(I)[t]=u[0]+(u[1]-u[0])*(e.get(I)[t]-S)/(v-S);if(f)for(const[I,P]of e)d[I]=P},scale=(e,t,n,s,u,f)=>{const d=new Map;let g=0;for(const S of e.keys()){const M=e.get(S),I=M[n];d.has(I)||d.set(I,[]),d.get(I).push(M),M[t]>g&&(g=M[t])}const v=new Map;if(s&&u!=="none"){g=0;for(const S of d.keys()){const M=d.get(S),I=M.map(N=>N[t]);I.sort((N,F)=>N-F);const P=[];for(const N of e.keys()){const F=e.get(N);P[N]=Object.assign(Object.assign({},F),{[t]:I.indexOf(F[t])})}d.set(S,P);for(const N of M)N[t]=I.indexOf(N[t]);v.set(S,I.length),I.length>g&&(g=I.length)}}else for(const S of d.keys()){const M=d.get(S);v.set(S,+max$3(M.map(I=>I[t])))}for(const S of e.keys()){const M=e.get(S),I=v.get(M[n]);let P;u==="start"||u==="none"||!u?P=M[t]:u==="end"?P=M[t]+(g-I):u==="middle"?P=M[t]+(g-I)/2:u==="distribute"&&(P=M[t]*(g/I)),f?M[t]=f[0]+f[1]*(P/g):M[t]=P}},rescaleLayout=(e,t,n,s,u,f,d)=>{const g=[...n];s.has("#TOP_LEFT_CORNER")&&g.push({id:"#TOP_LEFT_CORNER"}),s.has("#BOTTOM_RIGHT_CORNER")&&g.push({id:"#BOTTOM_RIGHT_CORNER"});for(const F of g){const j=s.get(F.id),U="width"in e?e.width:void 0;j.width=getSize(F,U,t,j.width);const V="height"in e?e.height:void 0;j.height=getSize(F,V,t,j.height)}const v=+max$3(g.map(F=>s.get(F.id).x+s.get(F.id).width))||0,S=+min$3(g.map(F=>s.get(F.id).x))||0,M=+max$3(g.map(F=>s.get(F.id).y+s.get(F.id).height)),I=+min$3(g.map(F=>s.get(F.id).y));let P=v===S?1:u.width/(v-S),N=M===I?1:u.height/(M-I);if(d){const F=Math.min(P,N);P=F,N=F}console.log({minY:I,maxY:M,xScaling:P,yScaling:N});for(const F of g){const j=s.get(F.id);v===S?s.get(F.id).x=Math.min(Math.max(v,0),u.width):s.get(F.id).x=P*(j.x-S),M===I?s.get(F.id).y=Math.min(Math.max(M,0),u.width):s.get(F.id).y=N*(j.y-I),s.get(F.id).width*=P,s.get(F.id).height*=N}for(const F of f||[])if(console.log({minY:I,maxY:M,xScaling:P,yScaling:N}),F.type==="cartesian"){for(const Q of F.ticks)v===S?Q.x=Math.min(Math.max(v,0),u.width):Q.x=P*(Q.x-S),M===I?Q.y=Math.min(Math.max(M,0),u.width):Q.y=N*(Q.y-I);if(F.extend==="x")F.x=S,F.x2=v;else if(F.extend==="y")F.y=I,F.y=M;else if(F.extend==="radial"){const Q=Math.max(v,M),J=Math.sqrt(Math.pow(F.x2,2)+Math.pow(F.y2,2));F.x=0,F.y=0,F.x2=F.x2*(Q/J),F.y2=F.y2*(Q/J)}const{x:j,y:U}=scalePoint(F.x,F.y,S,v,I,M,P,N,u);F.x=j,F.y=U;const{x:V,y:Z}=scalePoint(F.x2,F.y2,S,v,I,M,P,N,u);F.x2=V,F.y2=Z}else F.type==="polar"&&(F.r=F.r*P,F.x=P*(0-S),F.y=P*(0-I))},scalePoint=(e,t,n,s,u,f,d,g,v)=>(s===n?e=Math.min(Math.max(s,0),v.width):e=d*(e-n),f===u?t=Math.min(Math.max(f,0),v.width):t=g*(t-u),{x:e,y:t}),constructAdjacencyList=(e,t,n)=>{const s=new Map,u=new Map,f=new Map;for(const d of t){const g=d.source.id,v=d.target.id;s.has(g)||(s.set(g,[]),u.set(g,[]),f.set(g,[])),s.has(v)||(s.set(v,[]),u.set(v,[]),f.set(v,[])),d.directed&&!n?(s.has(v)||s.set(v,[]),s.get(v).push(d),u.has(g)||u.set(g,[]),u.get(g).push(d)):(f.has(g)||f.set(g,[]),f.get(g).push(d),f.has(v)||f.set(v,[]),g!==v&&f.get(v).push(d))}return{inLinks:s,outLinks:u,undirectedLinks:f}},layoutBioFabric=(e,t,n,s,u)=>{var f,d,g;const v=constructAdjacencyList(e,t,!0),S=new Map;for(const de of t)S.has(de.source.id)||S.set(de.source.id,new Set),S.get(de.source.id).add(de.target.id),S.has(de.target.id)||S.set(de.target.id,new Set),S.get(de.target.id).add(de.source.id);const M=new Map;for(const de of S.keys())M.set(de,S.get(de).size);const I=Array.from(M.keys()).sort((de,ge)=>M.get(de)-M.get(ge));let P=1;const N=new Map,F=new Map;let j=[...I];for(;j.length>0;){const de=j.pop();N.set(de,P),F.set(P,de),P+=1;const ve=v.undirectedLinks.get(de).map(me=>me.source.id===de?me.target:me.source).sort((me,ye)=>M.get(ye.id)-M.get(me.id));for(const me of ve)j.includes(me.id)&&(N.set(me.id,P),F.set(P,me.id),P+=1,j=j.filter(ye=>ye!==me.id))}let U=1;const V=new Map,Z=new Map;for(let de=1;de<I.length;de+=1){const ge=F.get(de),ve=v.undirectedLinks.get(ge),me=new Map;for(const Ae of ve){const Te=Ae.source.id===ge?Ae.target.id:Ae.source.id;N.get(Te)<de||(me.has(Te)?me.get(Te).push(Ae):me.set(Te,[Ae]))}const ye=Array.from(me.keys()).sort((Ae,Te)=>N.get(Ae)-N.get(Te));for(const Ae of ye){const Te=(f=n.linkTypeColName)!==null&&f!==void 0?f:"id",Oe=me.get(Ae).sort((Ie,Be)=>compare(Ie,Be,Te));for(const Ie of Oe)V.set(Ie.id,U),Z.set(U,Ie.id),U+=1}}const Q=[],J=[];let te=new Map,oe=0;const ue=(d=n.saveIdAs)!==null&&d!==void 0?d:"_originalId";for(const de of t){const ge=Object.assign(Object.assign({},de.source),{id:oe++,[ue]:de.source.id}),ve=Object.assign(Object.assign({},de.target),{id:oe++,[ue]:de.target.id});Q.push(ge),Q.push(ve),J.push(Object.assign(Object.assign({},de),{source:ge,target:ve})),te.set(ge.id,{x:V.get(de.id),y:N.get(de.source.id),width:1,height:1}),te.set(ve.id,{x:V.get(de.id),y:N.get(de.target.id),width:1,height:1})}const se=(g=n.newNetworkName)!==null&&g!==void 0?g:`${n.network}#BioFabric`,le={nodes:Q,links:J};return u(se,le),{layout:te,reshapedNetwork:le}},compare=(e,t,n)=>{const s=select(e,n),u=select(t,n);return s<u?1:s===u?0:-1};let _sets$1;function computeSets(e,t,n,s){_sets$1=n;let u=[];return t?t.partition?u=partitionSet(e,t):t.collect?u=collectSet(e,t):t.expr?(u=exprSet(e,t,s),t.name&&(u._setName=t.name)):typeof t=="string"?(u=existingSet(e,t),u._setName=t):t.forEach((f,d)=>{u.push(computeSets(e,f,_sets$1,d))}):u=[e],u}function contains(e,t){return e.indexOf(t)!==-1}function partitionSet(e,t){const n={};return e.forEach(s=>{let u=s[t.partition];t.partition==="parent"&&u&&(u=u._id),!(t.exclude&&contains(t.exclude,u))&&(t.include&&!contains(t.include,u)||(n[u]||(n[u]=[]),n[u].push(s)))}),Object.keys(n).forEach(s=>{n[s][t.partition]=n[s][0][t.partition]}),Object.keys(n).map(s=>(n[s]._setName=s,n[s]))}function collectSet(e,t){const n={};return e.forEach(s=>{let u=[];t.collect.forEach(f=>{switch(f){case"node":u.push(s);break;case"node.firstchild":s.firstchild&&(u=u.concat(s.firstchild));break;case"node.sources":u=u.concat(s.getSources());break;case"node.targets":u=u.concat(s.getTargets());break;case"node.neighbors":u=u.concat(s.getNeighbors());break;default:if(f.indexOf("sort")!==-1){let d=s.getTargets();const v=d.map(M=>M.value).sort(),S=d.filter(M=>M.value===v[0]);S[0]&&(u=u.concat(S[0]))}else if(f.indexOf("min")!==-1){const d=f.split(/[(,)]/g)[2],g=f.split(/[(,)]/g)[1].replace(/'/g,"");let v;switch(d){case"node.children":let S=s.getTargets();const M=Math.min.apply(null,S.map(I=>I[g]));v=S.filter(I=>I[g]===M)[0],s[g]&&v&&v[g]<s[g]&&(v=null);break}v&&(u=u.concat(v))}else console.error(`Unknown collection parameter '${f}'`)}}),u.length>1&&(n[s._id]=u)}),Object.keys(n).map(s=>n[s])}function exprSet(elements,definition,index){const set=[];return elements.forEach(element=>{const matches=definition.expr.match(/node\.[a-zA-Z.0-9]+/g);let expr=definition.expr;matches.forEach(e=>{const t=e.replace("node.","").split(".");let n;for(let s=0;s<t.length;s++)n=element[t[s]];expr=expr.replace(e,JSON.stringify(n))}),eval(expr)&&set.push(element)}),set._exprIndex=index,set}function existingSet(e,t){return _sets$1[t]}let _graphNodes,_graphLinks,_groups$1,_gap$1;function computeConstraints(e,t,n,s,u,f,d){_graphNodes=u,_graphLinks=f,_groups$1=d,_gap$1=s;let g=[];const v=`${n}_${t.constraint}`;switch(t.constraint){case"align":g=g.concat(alignment(e,t,v));break;case"order":g=g.concat(orderElements(e,t,v));break;case"position":g=g.concat(position(e,t,v));break;case"circle":circle(e,t,v);break;case"hull":hull(e,t,v);break;case"cluster":cluster(e,t,v);break;case"padding":padding(e,t);break;default:console.error(`Unknown constraint type '${t.type}'`)}return g}function alignment(e,t,n){const s=e,u={};s.forEach(d=>{switch(t.orientation){case"top":u[d._id]=d.height/2;break;case"bottom":u[d._id]=-d.height/2;break;case"left":u[d._id]=d.width/2;break;case"right":u[d._id]=-d.width/2;break;default:u[d._id]=0}});let f=[];return f=f.concat(CoLaAlignment(s,t.axis,u,n)),f}function generateOrderFunc(e){let t;return e.hasOwnProperty("order")?(e.hasOwnProperty("reverse")&&e.reverse&&e.order.reverse(),t=(n,s)=>e.order.indexOf(n[e.by])-e.order.indexOf(s[e.by])):e.hasOwnProperty("reverse")&&e.reverse?t=(n,s)=>n[e.by]-s[e.by]:t=(n,s)=>s[e.by]-n[e.by],t}function orderElements(e,t,n){return e[0]instanceof Array?orderSets(e,t,n):orderNodes(e,t,n)}function orderNodes(e,t,n){const s=generateOrderFunc(t);e=e.sort(s);const u=[],f=t.axis,d=t.gap?t.gap:_gap$1;for(let g=0;g<e.length-1;g++){const v=e[g+1],S=e[g];u.push(CoLaPosition(v,S,f,n,d))}return u}function orderSets(e,t,n){const s=generateOrderFunc(t);e=e.sort(s);let u,f,d,g,v;t.band?(u=e.length,f=t.band,d=0,g=1,v=!0):(u=e.length-2,f=_gap$1,d=-1,g=0,v=!0);const S=[],M=1,I=0;for(let N=0;N<=u;N++){const F={_cid:n,_temp:!0,fixed:v,width:M,height:M,padding:0};F.name=`${n}_boundary_${N}`;const j=_graphNodes().filter(V=>V._temp).length,U=t.axis=="x"?"y":"x";F.boundary=t.axis,t.band||(Math.sqrt(e[N+1].length)+2)*e[N+1][0].size+I,F[t.axis]=N*f,F[U]=j*M*10,S.push(F),_graphNodes(_graphNodes().concat([F]))}const P=[];return e.forEach((N,F)=>{const j=S[F+d],U=S[F+g],V=t.gap?t.gap:_gap$1;[].concat.apply([],N).forEach(Q=>{(t.hasOwnProperty("band")||F!=0)&&P.push(CoLaPosition(j,Q,t.axis,n,V)),(t.hasOwnProperty("band")||F!=e.length-1)&&P.push(CoLaPosition(Q,U,t.axis,n,V))})}),P}function position(e,t,n){let s;e[0]instanceof Array?s=[].concat.apply([],e):s=e;const u=_graphNodes().filter(g=>g.name===t.of&&g._guide)[0],f=[],d=t.gap||_gap$1;for(let g=0;g<s.length;g++)switch(t.position){case"left":f.push(CoLaPosition(s[g],u,"x",n,d));break;case"right":f.push(CoLaPosition(u,s[g],"x",n,d));break;case"above":f.push(CoLaPosition(s[g],u,"y",n,d));break;case"below":f.push(CoLaPosition(u,s[g],"y",n,d));break;default:console.error(`Unknown position: '${t.position}'`)}return f}function circle(e,t,n){const s=e,u=t.gap||_gap$1,f=360/s.length,d=Math.sqrt(2*u**2-2*u**2*Math.cos(f/180*Math.PI));_graphLinks().forEach(S=>{const M=_graphNodes()[S.source],I=_graphNodes()[S.target];(s.indexOf(M)!=-1||s.indexOf(I)!=-1)&&(S.circle=!0)});const g=[];for(let S=0;S<s.length;S++){const M=S==0?s.length-1:S-1,I=_graphNodes().indexOf(s[M]),P=_graphNodes().indexOf(s[S]);g.push({source:I,target:P,length:d,_temp:!0})}let v;switch(t.around){case"center":v={name:`${n}_center`,_temp:!0,_cid:n},_graphNodes(_graphNodes().concat([v]));break;default:console.error("Missing or unknown center point for the circle constraint.")}s.forEach(S=>{g.push({source:v._id,target:S._id,length:u,_temp:!0})}),_graphLinks(_graphLinks().concat(g))}function hull(e,t,n){const u={leaves:e.map(f=>f._id),_cid:n};t.style&&(u.style=t.style),_groups$1(_groups$1().concat([u]))}function cluster(e,t,n){const s=e;s.forEach((u,f)=>{for(let d=f+1;d<s.length;d++)_graphLinks(_graphLinks().concat([{source:u._id,target:s[d]._id,length:1,_temp:!0,_cid:n}]))})}function padding(e,t,n){e.forEach(s=>{s.pad=t.amount,s.cid=t.cid,s.spacing=!0})}function CoLaAlignment(e,t,n,s){const u={type:"alignment",axis:t=="x"?"y":"x",offsets:[],_type:s};return e.forEach(f=>{u.offsets.push({node:f._id,offset:n[f._id]})}),u}function CoLaPosition(e,t,n,s,u){return{axis:n,left:e._id,right:t._id,gap:u,_type:s}}let _nodes,_links,_sets,_gap,_guides,_groups,_constraintDefs,INDEX;function constraints(e){return e===void 0?_constraintDefs:(_constraintDefs=e,setcola)}function gap(e){return e===void 0?_gap:(_gap=e,setcola)}function groups(e){return e===void 0?_groups:(_groups=e,setcola)}function guides(e){return e===void 0?_guides:(_guides=e,_nodes=_nodes.filter(t=>!t._guide),e.map(generateGuides),setcola)}function links(e){return e===void 0?_links:(_links=e,_links.map(setLinkID),setcola)}function nodes(e){return e===void 0?_nodes:(_nodes=e,_nodes.map(setID),setcola)}function sets(){return _sets}function layout(){INDEX=-1,_nodes||console.error("No graph nodes defined."),_links||links([]),_groups||groups([]),_guides||guides([]),_constraintDefs||constraints([]),_gap||gap(20),_nodes=_nodes.filter(t=>!t._cid),_links=_links.filter(t=>!t._cid),_groups=_groups.filter(t=>!t._cid),computeBuiltInProperties(_constraintDefs),_sets={};for(let t=0;t<_constraintDefs.length;t++){const n=generateSets(_constraintDefs[t]);_sets[n.name]=n.sets}_constraintDefs.forEach(()=>{});const e=[].concat.apply([],_constraintDefs.map(generateConstraints));return{nodes:nodes(),links:links(),groups:groups(),guides:guides(),constraints:e,constraintDefs:constraints()}}function generateGuides(e){const t={_guide:!0,_temp:!0,fixed:!0,width:1,height:1,padding:0,x:Math.random()*100,y:Math.random()*100,boundary:""};let n=!1;return e.hasOwnProperty("x")&&(t.x=e.x,t.boundary+="x",n=!0),e.hasOwnProperty("y")&&(t.y=e.y,t.boundary+="y",n=!0),n||console.error("Guide must have an x and/or y position: ",e),e.hasOwnProperty("name")?_nodes.filter(u=>u.name===e.name).length>0?console.error(`A node with the name '${e.name}' already exists.`):t.name=e.name:console.error("Guide must have a name: ",e),_nodes.push(t),t._id=_nodes.indexOf(t),t}function generateSets(e){let t=_nodes.filter(n=>!n._temp);return e.from&&typeof e.from=="string"?t=_sets[e.from]:e.from&&(t=computeSets(_nodes,e.from,_sets)),e.name||(e.name=`_set${++INDEX}`),{name:e.name,sets:computeSets(t,e.sets,_sets)}}function generateConstraints(e){let t=[];return(e.forEach||[]).forEach(n=>{(_sets[e.name]||[]).forEach(s=>{t=t.concat(computeConstraints(s,n,e.name,_gap,nodes,links,groups))})}),t}function computeBuiltInProperties(e){_nodes.forEach(setID),_links.forEach(setLinkID);const t=(n,s)=>JSON.stringify(n).indexOf(s)!=-1;t(e,"depth")&&(calculateDepths(),_nodes.forEach(n=>{delete n.visited})),t(e,"degree")&&calculateDegree(),_nodes.forEach(n=>{n.getSources=function(){return getSources(this)},n.getTargets=function(){return getTargets(this)},n.getNeighbors=function(){return getNeighbors(this)},n.getIncoming=function(){return getIncoming(this)},n.getOutgoing=function(){return getOutgoing(this)},n.getEdges=function(){return getEdges(this)},n.getFirstChild=function(){return getFirstChild(this)}})}function setID(e){e._id=e._id||_nodes.indexOf(e)}function setLinkID(e){e._linkid=e._linkid||_links.indexOf(e)}function graphSources(){return _nodes.filter(e=>e.hasOwnProperty("_isSource")?e._isSource:getIncoming(e).filter(n=>n.source!==n.target).length===0)}function calculateDepths(){graphSources().length===0&&_nodes.length!==0&&console.error("No roots exist, so cannot compute node depth. Please assign a '_isSource' property to the root and try again."),_nodes.forEach(getDepth)}function calculateDegree(){_nodes.forEach(e=>{e.degree=e.degree||getDegree(e)})}function getSources(e){return getIncoming(e).map(n=>typeof n.source=="object"?n.source:_nodes[n.source])}function getTargets(e){return getOutgoing(e).map(n=>typeof n.target=="object"?n.target:_nodes[n.target])}function getNeighbors(e){const t=e.sources||getSources(e),n=e.targets||getTargets(e);return t.concat(n)}function getIncoming(e){const t=e._id;return _links.filter(n=>{const s=typeof n.source=="object"?n.source._id:n.source;return(typeof n.target=="object"?n.target._id:n.target)==t&&s!==t})}function getOutgoing(e){const t=e._id;return _links.filter(n=>{const s=typeof n.source=="object"?n.source._id:n.source,u=typeof n.target=="object"?n.target._id:n.target;return s==t&&u!==t})}function getEdges(e){const t=e.incoming||getIncoming(e),n=e.outgoing||getOutgoing(e);return t.concat(n)}function getDegree(e){const t=e.incoming||getIncoming(e),n=e.outgoing||getOutgoing(e);return t.length+n.length}function getDepth(e){return e.hasOwnProperty("depth")||(e.visited&&console.error("Cannot compute the depth for a graph with cycles."),e.visited=!0,e.depth=Math.max(0,Math.max(...getSources(e).map(getDepth))+1)),e.depth}function getFirstChild(e){let t=e.outgoing||getOutgoing(e);return t=t.sort((n,s)=>n._id-s._id),t=t.filter(n=>n.target!==n.source),t.length==0?null:_nodes[t[0].target]}const layoutSetCola=(e,t,n)=>{var s,u,f;const d=nodes(e).links(t).guides(n.guides||[]).constraints(n.constraints||[]).layout(),g=(s=n.linkDist)!==null&&s!==void 0?s:115,v=(u=n.nodeSize)!==null&&u!==void 0?u:14,S=0;d.nodes.forEach(function(I){I._width=I.width||I.size||v,I._height=I.height||I.size||v,I.pad=I.pad||S,I.width=I._width+2*I.pad,I.height=I._height+2*I.pad});const M=new dist$1.Layout().nodes(d.nodes).links(d.links).groups(d.groups).constraints(d.constraints);n.size&&M.size(n.size),n.avoidOverlaps&&M.avoidOverlaps(n.avoidOverlaps),n.convergenceThreshold&&M.convergenceThreshold(n.convergenceThreshold),M.linkDistance(function(I){let P=g;return I.hasOwnProperty("temp")&&(P=v/2),I.hasOwnProperty("length")&&(P=I.length),P}),M.start((f=n.numIterations)!==null&&f!==void 0?f:100)},squishOrder=(e,t)=>{const n=[];for(const f of e.entries()){const[d,g]=f;n[g]=d}let s=0;const u=new Map;for(const f in n){const d=n[f];t.includes(d)&&(u.set(d,s),s++)}return u},layoutBipartite=(e,t,n,s,u)=>{var f;const d=[],g=[],v=constructExpressionFunction({calculate:n.inFirstLayer});for(const Z of e)v(Z,null,s)?d.push(Z):g.push(Z);const S=(f=n.fixedLayer)!==null&&f!==void 0?f:1,M=S===1?d:g,I=S===1?g:d,P=S===1?100:1,N=S===1?1:100,F="x"in n?n.x:n.y,j="order"in F?{order:F.order}:F,U=new Map;"order"in j&&(s[j.order+"_SQUISHED"]=squishOrder(s[j.order],M.map(Z=>Z.id)),j.order=j.order+"_SQUISHED");for(const Z of M){const Q=applyOrderOrScale(Z,j,s);"x"in n?U.set(Z.id,{x:Q,y:N,width:1,height:1}):U.set(Z.id,{x:N,y:Q,width:1,height:1})}const V=M.map(Z=>Z.id);for(const Z of I){const Q=[];for(const oe of t)oe.source.id===Z.id&&V.includes(oe.target.id)&&Q.push(oe.target.id),oe.target.id===Z.id&&V.includes(oe.source.id)&&Q.push(oe.source.id);const J=oe=>oe.reduce((ue,se)=>ue+se,0)/oe.length,te=[...new Set(Q)];if("x"in n){const oe=J(te.map(ue=>U.get(ue).x));U.set(Z.id,{x:oe,y:P,width:1,height:1})}else{const oe=J(te.map(ue=>U.get(ue).y));U.set(Z.id,{x:P,y:oe,width:1,height:1})}}return U};var __awaiter$4=globalThis&&globalThis.__awaiter||function(e,t,n,s){function u(f){return f instanceof n?f:new n(function(d){d(f)})}return new(n||(n=Promise))(function(f,d){function g(M){try{S(s.next(M))}catch(I){d(I)}}function v(M){try{S(s.throw(M))}catch(I){d(I)}}function S(M){M.done?f(M.value):u(M.value).then(g,v)}S((s=s.apply(e,t||[])).next())})};const computeTopologicalLayout=(e,t,n,s)=>__awaiter$4(void 0,void 0,void 0,function*(){t.network;let u=new Map,f=e[t.network];if(t.type==="d3-force"){layoutD3Force(f.nodes,f.links,t,e,n);for(const d of f.nodes)u.set(d.id,{x:d.x,y:d.y})}else if(t.type==="webcola"){layoutCola(f.nodes,f.links,t);for(const d of f.nodes)u.set(d.id,{x:d.x,y:d.y})}else if(t.type==="setcola"){layoutSetCola(f.nodes,f.links,t);for(const d of f.nodes)u.set(d.id,{x:d.x,y:d.y})}else if(t.type==="tulip")u=yield layoutTulip(f.nodes,f.links,t);else if(t.type==="bioFabric"){const d=layoutBioFabric(f.nodes,f.links,t,e,s);u=d.layout,f=d.reshapedNetwork}else if(t.type==="bipartite")u=layoutBipartite(f.nodes,f.links,t,e);else{const d=JSON.parse(JSON.stringify(f.nodes)),g=layoutCytoscape(d,f.links,t);for(let v=0;v<f.nodes.length;v++){const S=f.nodes[v];u.set(S.id,{x:g[v].x,y:g[v].y})}}return rescaleLayout(t,e,f.nodes,u,n,[],!0),[u,[]]}),computeMapLayout=(e,t,n)=>{let s;"data"in t?s=e[t.data]:"network"in t&&(s=e[t.network].nodes);const u=new Map,f=e[t.map+"#leafletMap"],d=e[t.map+"#config"];for(const g of s){const v=convertVal(t.lng,g,e),S=convertVal(t.lat,g,e);if(f)return[e[t.name],[]];{const M=latLngToContainerPoint({lat:S,lng:v},Object.assign(Object.assign({},t),{center:d.center,zoomLevel:d.zoomLevel}));u.set(g.id,{x:M.x,y:M.y,width:0,height:0})}}return[u,[]]},earthRadius=6378137,project$1=e=>{const t=85.0511287798,n=Math.PI/180,s=t,u=Math.max(Math.min(s,e.lat),-s),f=Math.sin(u*n);return{x:earthRadius*e.lng*n,y:earthRadius*Math.log((1+f)/(1-f))/2}},transform=(e,t,n)=>{const s=t,u=.5,f=-t,d=.5,g=n||1;return{x:g*(s*e.x+u),y:g*(f*e.y+d)}},latLngToContainerPoint=(e,t)=>{var n,s;const u=(n=t.width)!==null&&n!==void 0?n:1e3,f=(s=t.height)!==null&&s!==void 0?s:1e3,d=t.zoomLevel,g=.5/(Math.PI*earthRadius),v=256*Math.pow(2,d),S=transform(project$1({lat:t.center[0],lng:t.center[1]}),g,v),M=transform(project$1(e),g,v);return{x:M.x-(S.x-u/2),y:M.y-(S.y-f/2)}};var quadprogExports={},quadprog$1={get exports(){return quadprogExports},set exports(e){quadprogExports=e}},quadprog={};let epsilon=1e-60,tmpa,tmpb;do epsilon+=epsilon,tmpa=1+.1*epsilon,tmpb=1+.2*epsilon;while(tmpa<=1||tmpb<=1);var vsmall$1=epsilon;function dpori$1(e,t,n){let s,u;for(let f=1;f<=n;f+=1){e[f][f]=1/e[f][f],u=-e[f][f];for(let d=1;d<f;d+=1)e[d][f]*=u;if(s=f+1,n<s)break;for(let d=s;d<=n;d+=1){u=e[f][d],e[f][d]=0;for(let g=1;g<=f;g+=1)e[g][d]+=u*e[g][f]}}}var dpori_1=dpori$1;function dposl$1(e,t,n,s){let u,f;for(u=1;u<=n;u+=1){f=0;for(let d=1;d<u;d+=1)f+=e[d][u]*s[d];s[u]=(s[u]-f)/e[u][u]}for(let d=1;d<=n;d+=1){u=n+1-d,s[u]/=e[u][u],f=-s[u];for(let g=1;g<u;g+=1)s[g]+=f*e[g][u]}}var dposl_1=dposl$1;function dpofa$1(e,t,n,s){let u,f,d;for(let g=1;g<=n;g+=1){if(s[1]=g,d=0,u=g-1,u<1){if(d=e[g][g]-d,d<=0)break;e[g][g]=Math.sqrt(d)}else{for(let v=1;v<=u;v+=1){f=e[v][g];for(let S=1;S<v;S+=1)f-=e[S][g]*e[S][v];f/=e[v][v],e[v][g]=f,d+=f*f}if(d=e[g][g]-d,d<=0)break;e[g][g]=Math.sqrt(d)}s[1]=0}}var dpofa_1=dpofa$1;const vsmall=vsmall$1,dpori=dpori_1,dposl=dposl_1,dpofa=dpofa_1;function qpgen2$1(e,t,n,s,u,f,d,g,v,S,M,I,P,N=0,F,j,U){let V,Z,Q,J,te,oe,ue,se,le,de,ge,ve,me,ye;const Ae=Math.min(s,M);let Te=2*s+Ae*(Ae+5)/2+2*M+1;for(let Fe=1;Fe<=s;Fe+=1)j[Fe]=t[Fe];for(let Fe=s+1;Fe<=Te;Fe+=1)j[Fe]=0;for(let Fe=1;Fe<=M;Fe+=1)P[Fe]=0,f[Fe]=0;const Oe=[];if(U[1]===0){if(dpofa(e,n,s,Oe),Oe[1]!==0){U[1]=2;return}dposl(e,n,s,t),dpori(e,n,s)}else{for(let Fe=1;Fe<=s;Fe+=1){u[Fe]=0;for(let Qe=1;Qe<=Fe;Qe+=1)u[Fe]+=e[Qe][Fe]*t[Qe]}for(let Fe=1;Fe<=s;Fe+=1){t[Fe]=0;for(let Qe=Fe;Qe<=s;Qe+=1)t[Fe]+=e[Fe][Qe]*u[Qe]}}d[1]=0;for(let Fe=1;Fe<=s;Fe+=1){u[Fe]=t[Fe],d[1]+=j[Fe]*u[Fe],j[Fe]=0;for(let Qe=Fe+1;Qe<=s;Qe+=1)e[Qe][Fe]=0}d[1]=-d[1]/2,U[1]=0;const Ie=s,Be=Ie+s,De=Be+Ae,Pe=De+Ae+1,Ne=Pe+Ae*(Ae+1)/2,He=Ne+M;for(let Fe=1;Fe<=M;Fe+=1){oe=0;for(let Qe=1;Qe<=s;Qe+=1)oe+=g[Qe][Fe]*g[Qe][Fe];j[He+Fe]=Math.sqrt(oe)}J=N,F[1]=0,F[2]=0;function je(){F[1]+=1,Te=Ne;for(let Fe=1;Fe<=M;Fe+=1){Te+=1,oe=-v[Fe];for(let Qe=1;Qe<=s;Qe+=1)oe+=g[Qe][Fe]*u[Qe];if(Math.abs(oe)<vsmall&&(oe=0),Fe>I)j[Te]=oe;else if(j[Te]=-Math.abs(oe),oe>0){for(let Qe=1;Qe<=s;Qe+=1)g[Qe][Fe]=-g[Qe][Fe];v[Fe]=-v[Fe]}}for(let Fe=1;Fe<=J;Fe+=1)j[Ne+P[Fe]]=0;Q=0,te=0;for(let Fe=1;Fe<=M;Fe+=1)j[Ne+Fe]<te*j[He+Fe]&&(Q=Fe,te=j[Ne+Fe]/j[He+Fe]);if(Q===0){for(let Fe=1;Fe<=J;Fe+=1)f[P[Fe]]=j[De+Fe];return 999}return 0}function ze(){for(let Fe=1;Fe<=s;Fe+=1){oe=0;for(let Qe=1;Qe<=s;Qe+=1)oe+=e[Qe][Fe]*g[Qe][Q];j[Fe]=oe}V=Ie;for(let Fe=1;Fe<=s;Fe+=1)j[V+Fe]=0;for(let Fe=J+1;Fe<=s;Fe+=1)for(let Qe=1;Qe<=s;Qe+=1)j[V+Qe]=j[V+Qe]+e[Qe][Fe]*j[Fe];ve=!0;for(let Fe=J;Fe>=1;Fe-=1){oe=j[Fe],Te=Pe+Fe*(Fe+3)/2,V=Te-Fe;for(let Qe=Fe+1;Qe<=J;Qe+=1)oe-=j[Te]*j[Be+Qe],Te+=Qe;oe/=j[V],j[Be+Fe]=oe,!(P[Fe]<=I)&&(oe<=0||(ve=!1,Z=Fe))}if(!ve){ue=j[De+Z]/j[Be+Z];for(let Fe=1;Fe<=J;Fe+=1)P[Fe]<=I||j[Be+Fe]<=0||(te=j[De+Fe]/j[Be+Fe],te<ue&&(ue=te,Z=Fe))}oe=0;for(let Fe=Ie+1;Fe<=Ie+s;Fe+=1)oe+=j[Fe]*j[Fe];if(Math.abs(oe)<=vsmall){if(ve)return U[1]=1,999;for(let Fe=1;Fe<=J;Fe+=1)j[De+Fe]=j[De+Fe]-ue*j[Be+Fe];return j[De+J+1]=j[De+J+1]+ue,700}oe=0;for(let Fe=1;Fe<=s;Fe+=1)oe+=j[Ie+Fe]*g[Fe][Q];se=-j[Ne+Q]/oe,me=!0,ve||ue<se&&(se=ue,me=!1);for(let Fe=1;Fe<=s;Fe+=1)u[Fe]+=se*j[Ie+Fe],Math.abs(u[Fe])<vsmall&&(u[Fe]=0);d[1]+=se*oe*(se/2+j[De+J+1]);for(let Fe=1;Fe<=J;Fe+=1)j[De+Fe]=j[De+Fe]-se*j[Be+Fe];if(j[De+J+1]=j[De+J+1]+se,me){J+=1,P[J]=Q,Te=Pe+(J-1)*J/2+1;for(let Fe=1;Fe<=J-1;Fe+=1)j[Te]=j[Fe],Te+=1;if(J===s)j[Te]=j[s];else{for(let Fe=s;Fe>=J+1;Fe-=1)if(j[Fe]!==0&&(le=Math.max(Math.abs(j[Fe-1]),Math.abs(j[Fe])),de=Math.min(Math.abs(j[Fe-1]),Math.abs(j[Fe])),j[Fe-1]>=0?te=Math.abs(le*Math.sqrt(1+de*de/(le*le))):te=-Math.abs(le*Math.sqrt(1+de*de/(le*le))),le=j[Fe-1]/te,de=j[Fe]/te,le!==1))if(le===0){j[Fe-1]=de*te;for(let Qe=1;Qe<=s;Qe+=1)te=e[Qe][Fe-1],e[Qe][Fe-1]=e[Qe][Fe],e[Qe][Fe]=te}else{j[Fe-1]=te,ge=de/(1+le);for(let Qe=1;Qe<=s;Qe+=1)te=le*e[Qe][Fe-1]+de*e[Qe][Fe],e[Qe][Fe]=ge*(e[Qe][Fe-1]+te)-e[Qe][Fe],e[Qe][Fe-1]=te}j[Te]=j[J]}}else{oe=-v[Q];for(let Fe=1;Fe<=s;Fe+=1)oe+=u[Fe]*g[Fe][Q];if(Q>I)j[Ne+Q]=oe;else if(j[Ne+Q]=-Math.abs(oe),oe>0){for(let Fe=1;Fe<=s;Fe+=1)g[Fe][Q]=-g[Fe][Q];v[Q]=-v[Q]}return 700}return 0}function Ve(){if(Te=Pe+Z*(Z+1)/2+1,V=Te+Z,j[V]===0||(le=Math.max(Math.abs(j[V-1]),Math.abs(j[V])),de=Math.min(Math.abs(j[V-1]),Math.abs(j[V])),j[V-1]>=0?te=Math.abs(le*Math.sqrt(1+de*de/(le*le))):te=-Math.abs(le*Math.sqrt(1+de*de/(le*le))),le=j[V-1]/te,de=j[V]/te,le===1))return 798;if(le===0){for(let Fe=Z+1;Fe<=J;Fe+=1)te=j[V-1],j[V-1]=j[V],j[V]=te,V+=Fe;for(let Fe=1;Fe<=s;Fe+=1)te=e[Fe][Z],e[Fe][Z]=e[Fe][Z+1],e[Fe][Z+1]=te}else{ge=de/(1+le);for(let Fe=Z+1;Fe<=J;Fe+=1)te=le*j[V-1]+de*j[V],j[V]=ge*(j[V-1]+te)-j[V],j[V-1]=te,V+=Fe;for(let Fe=1;Fe<=s;Fe+=1)te=le*e[Fe][Z]+de*e[Fe][Z+1],e[Fe][Z+1]=ge*(e[Fe][Z]+te)-e[Fe][Z+1],e[Fe][Z]=te}return 0}function Ye(){V=Te-Z;for(let Fe=1;Fe<=Z;Fe+=1)j[V]=j[Te],Te+=1,V+=1;return j[De+Z]=j[De+Z+1],P[Z]=P[Z+1],Z+=1,Z<J?797:0}function nt(){return j[De+J]=j[De+J+1],j[De+J+1]=0,P[J]=0,J-=1,F[2]+=1,0}for(ye=0;;){if(ye=je(),ye===999)return;for(;ye=ze(),ye!==0;){if(ye===999)return;if(ye===700)if(Z===J)nt();else{for(;Ve(),ye=Ye(),ye===797;);nt()}}}}var qpgen2_1=qpgen2$1;const qpgen2=qpgen2_1;function solveQP(e,t,n,s=[],u=0,f=[0,0]){const d=[],g=[],v=[],S=[],M=[],I=[];let P="";const N=e.length-1,F=n[1].length-1;if(!s)for(let V=1;V<=F;V+=1)s[V]=0;if(N!==e[1].length-1&&(P="Dmat is not symmetric!"),N!==t.length-1&&(P="Dmat and dvec are incompatible!"),N!==n.length-1&&(P="Amat and dvec are incompatible!"),F!==s.length-1&&(P="Amat and bvec are incompatible!"),(u>F||u<0)&&(P="Value of meq is invalid!"),P!=="")return{message:P};for(let V=1;V<=F;V+=1)g[V]=0,S[V]=0;const j=0,U=Math.min(N,F);for(let V=1;V<=N;V+=1)v[V]=0;d[1]=0;for(let V=1;V<=2*N+U*(U+5)/2+2*F+1;V+=1)M[V]=0;for(let V=1;V<=2;V+=1)I[V]=0;return qpgen2(e,t,N,N,v,S,d,n,s,N,F,u,g,j,I,M,f),f[1]===1&&(P="constraints are inconsistent, no solution!"),f[1]===2&&(P="matrix D in quadratic function is not positive definite!"),{solution:v,Lagrangian:S,value:d,unconstrained_solution:t,iterations:I,iact:g,message:P}}quadprog.solveQP=solveQP;(function(e){e.exports=quadprog})(quadprog$1);var numeric1_2_6={};(function(exports){var numeric=exports;typeof commonjsGlobal<"u"&&(commonjsGlobal.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(t,n){var s,u,f,d;for(typeof n>"u"&&(n=15),f=.5,s=new Date;;){for(f*=2,d=f;d>3;d-=4)t(),t(),t(),t();for(;d>0;)t(),d--;if(u=new Date,u-s>n)break}for(d=f;d>3;d-=4)t(),t(),t(),t();for(;d>0;)t(),d--;return u=new Date,1e3*(3*f-1)/(u-s)},numeric._myIndexOf=function(t){var n=this.length,s;for(s=0;s<n;++s)if(this[s]===t)return s;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(t){function n(f){if(f===0)return"0";if(isNaN(f))return"NaN";if(f<0)return"-"+n(-f);if(isFinite(f)){var d=Math.floor(Math.log(f)/Math.log(10)),g=f/Math.pow(10,d),v=g.toPrecision(numeric.precision);return parseFloat(v)===10&&(d++,g=1,v=g.toPrecision(numeric.precision)),parseFloat(v).toString()+"e"+d.toString()}return"Infinity"}var s=[];function u(f){var d;if(typeof f>"u")return s.push(Array(numeric.precision+8).join(" ")),!1;if(typeof f=="string")return s.push('"'+f+'"'),!1;if(typeof f=="boolean")return s.push(f.toString()),!1;if(typeof f=="number"){var g=n(f),v=f.toPrecision(numeric.precision),S=parseFloat(f.toString()).toString(),M=[g,v,S,parseFloat(v).toString(),parseFloat(S).toString()];for(d=1;d<M.length;d++)M[d].length<g.length&&(g=M[d]);return s.push(Array(numeric.precision+8-g.length).join(" ")+g),!1}if(f===null)return s.push("null"),!1;if(typeof f=="function"){s.push(f.toString());var I=!1;for(d in f)f.hasOwnProperty(d)&&(I?s.push(`,
`):s.push(`
{`),I=!0,s.push(d),s.push(`: 
`),u(f[d]));return I&&s.push(`}
`),!0}if(f instanceof Array){if(f.length>numeric.largeArray)return s.push("...Large Array..."),!0;var I=!1;for(s.push("["),d=0;d<f.length;d++)d>0&&(s.push(","),I&&s.push(`
 `)),I=u(f[d]);return s.push("]"),!0}s.push("{");var I=!1;for(d in f)f.hasOwnProperty(d)&&(I&&s.push(`,
`),I=!0,s.push(d),s.push(`: 
`),u(f[d]));return s.push("}"),!0}return u(t),s.join("")},numeric.parseDate=function(t){function n(s){if(typeof s=="string")return Date.parse(s.replace(/-/g,"/"));if(!(s instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var u=[],f;for(f=0;f<s.length;f++)u[f]=n(s[f]);return u}return n(t)},numeric.parseFloat=function(t){function n(s){if(typeof s=="string")return parseFloat(s);if(!(s instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var u=[],f;for(f=0;f<s.length;f++)u[f]=n(s[f]);return u}return n(t)},numeric.parseCSV=function(t){var n=t.split(`
`),s,u,f=[],d=/(([^'",]*)|('[^']*')|("[^"]*")),/g,g=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,v=function(P){return P.substr(0,P.length-1)},S=0;for(u=0;u<n.length;u++){var M=(n[u]+",").match(d),I;if(M.length>0){for(f[S]=[],s=0;s<M.length;s++)I=v(M[s]),g.test(I)?f[S][s]=parseFloat(I):f[S][s]=I;S++}}return f},numeric.toCSV=function(t){var n=numeric.dim(t),s,u,f,d,g;for(f=n[0],n[1],g=[],s=0;s<f;s++){for(d=[],u=0;u<f;u++)d[u]=t[s][u].toString();g[s]=d.join(", ")}return g.join(`
`)+`
`},numeric.getURL=function(t){var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(),n},numeric.imageURL=function(t){function n(V){var Z=V.length,Q,J,te,oe,ue,se,le,de,ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ve="";for(Q=0;Q<Z;Q+=3)J=V[Q],te=V[Q+1],oe=V[Q+2],ue=J>>2,se=((J&3)<<4)+(te>>4),le=((te&15)<<2)+(oe>>6),de=oe&63,Q+1>=Z?le=de=64:Q+2>=Z&&(de=64),ve+=ge.charAt(ue)+ge.charAt(se)+ge.charAt(le)+ge.charAt(de);return ve}function s(V,Z,Q){typeof Z>"u"&&(Z=0),typeof Q>"u"&&(Q=V.length);var J=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],te=-1,oe=0;V.length;var ue;for(ue=Z;ue<Q;ue++)oe=(te^V[ue])&255,te=te>>>8^J[oe];return te^-1}var u=t[0].length,f=t[0][0].length,d,g,v,S,M,I,P,N,F,j,U=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,f>>24&255,f>>16&255,f>>8&255,f&255,u>>24&255,u>>16&255,u>>8&255,u&255,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(j=s(U,12,29),U[29]=j>>24&255,U[30]=j>>16&255,U[31]=j>>8&255,U[32]=j&255,d=1,g=0,P=0;P<u;P++){for(P<u-1?U.push(0):U.push(1),M=3*f+1+(P===0)&255,I=3*f+1+(P===0)>>8&255,U.push(M),U.push(I),U.push(~M&255),U.push(~I&255),P===0&&U.push(0),N=0;N<f;N++)for(v=0;v<3;v++)M=t[v][P][N],M>255?M=255:M<0?M=0:M=Math.round(M),d=(d+M)%65521,g=(g+d)%65521,U.push(M);U.push(0)}return F=(g<<16)+d,U.push(F>>24&255),U.push(F>>16&255),U.push(F>>8&255),U.push(F&255),S=U.length-41,U[33]=S>>24&255,U[34]=S>>16&255,U[35]=S>>8&255,U[36]=S&255,j=s(U,37),U.push(j>>24&255),U.push(j>>16&255),U.push(j>>8&255),U.push(j&255),U.push(0),U.push(0),U.push(0),U.push(0),U.push(73),U.push(69),U.push(78),U.push(68),U.push(174),U.push(66),U.push(96),U.push(130),"data:image/png;base64,"+n(U)},numeric._dim=function(t){for(var n=[];typeof t=="object";)n.push(t.length),t=t[0];return n},numeric.dim=function(t){var n,s;return typeof t=="object"?(n=t[0],typeof n=="object"?(s=n[0],typeof s=="object"?numeric._dim(t):[t.length,n.length]):[t.length]):[]},numeric.mapreduce=function(t,n){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+n+`;
if(typeof x === "number") { var xi = x; `+t+`; return accum; }
if(typeof _s === "undefined") _s = numeric.dim(x);
if(typeof _k === "undefined") _k = 0;
var _n = _s[_k];
var i,xi;
if(_k < _s.length-1) {
    for(i=_n-1;i>=0;i--) {
        accum = arguments.callee(x[i],accum,_s,_k+1);
    }    return accum;
}
for(i=_n-1;i>=1;i-=2) { 
    xi = x[i];
    `+t+`;
    xi = x[i-1];
    `+t+`;
}
if(i === 0) {
    xi = x[i];
    `+t+`
}
return accum;`)},numeric.mapreduce2=function(t,n){return Function("x",`var n = x.length;
var i,xi;
`+n+`;
for(i=n-1;i!==-1;--i) { 
    xi = x[i];
    `+t+`;
}
return accum;`)},numeric.same=function e(t,n){var s,u;if(!(t instanceof Array)||!(n instanceof Array)||(u=t.length,u!==n.length))return!1;for(s=0;s<u;s++)if(t[s]!==n[s])if(typeof t[s]=="object"){if(!e(t[s],n[s]))return!1}else return!1;return!0},numeric.rep=function(t,n,s){typeof s>"u"&&(s=0);var u=t[s],f=Array(u),d;if(s===t.length-1){for(d=u-2;d>=0;d-=2)f[d+1]=n,f[d]=n;return d===-1&&(f[0]=n),f}for(d=u-1;d>=0;d--)f[d]=numeric.rep(t,n,s+1);return f},numeric.dotMMsmall=function(t,n){var s,u,f,d,g,v,S,M,I,P,N;for(d=t.length,g=n.length,v=n[0].length,S=Array(d),s=d-1;s>=0;s--){for(M=Array(v),I=t[s],f=v-1;f>=0;f--){for(P=I[g-1]*n[g-1][f],u=g-2;u>=1;u-=2)N=u-1,P+=I[u]*n[u][f]+I[N]*n[N][f];u===0&&(P+=I[0]*n[0][f]),M[f]=P}S[s]=M}return S},numeric._getCol=function(t,n,s){var u=t.length,f;for(f=u-1;f>0;--f)s[f]=t[f][n],--f,s[f]=t[f][n];f===0&&(s[0]=t[0][n])},numeric.dotMMbig=function(t,n){var s=numeric._getCol,u=n.length,f=Array(u),d=t.length,g=n[0].length,v=new Array(d),S,M=numeric.dotVV,I,P;for(--u,--d,I=d;I!==-1;--I)v[I]=Array(g);for(--g,I=g;I!==-1;--I)for(s(n,I,f),P=d;P!==-1;--P)S=t[P],v[P][I]=M(S,f);return v},numeric.dotMV=function(t,n){var s=t.length;n.length;var u,f=Array(s),d=numeric.dotVV;for(u=s-1;u>=0;u--)f[u]=d(t[u],n);return f},numeric.dotVM=function(t,n){var s,u,f,d,g,v,S;for(f=t.length,d=n[0].length,g=Array(d),u=d-1;u>=0;u--){for(v=t[f-1]*n[f-1][u],s=f-2;s>=1;s-=2)S=s-1,v+=t[s]*n[s][u]+t[S]*n[S][u];s===0&&(v+=t[0]*n[0][u]),g[u]=v}return g},numeric.dotVV=function(t,n){var s,u=t.length,f,d=t[u-1]*n[u-1];for(s=u-2;s>=1;s-=2)f=s-1,d+=t[s]*n[s]+t[f]*n[f];return s===0&&(d+=t[0]*n[0]),d},numeric.dot=function(t,n){var s=numeric.dim;switch(s(t).length*1e3+s(n).length){case 2002:return n.length<10?numeric.dotMMsmall(t,n):numeric.dotMMbig(t,n);case 2001:return numeric.dotMV(t,n);case 1002:return numeric.dotVM(t,n);case 1001:return numeric.dotVV(t,n);case 1e3:return numeric.mulVS(t,n);case 1:return numeric.mulSV(t,n);case 0:return t*n;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(t){var n,s,u,f=t.length,d=Array(f),g;for(n=f-1;n>=0;n--){for(g=Array(f),s=n+2,u=f-1;u>=s;u-=2)g[u]=0,g[u-1]=0;for(u>n&&(g[u]=0),g[n]=t[n],u=n-1;u>=1;u-=2)g[u]=0,g[u-1]=0;u===0&&(g[0]=0),d[n]=g}return d},numeric.getDiag=function(e){var t=Math.min(e.length,e[0].length),n,s=Array(t);for(n=t-1;n>=1;--n)s[n]=e[n][n],--n,s[n]=e[n][n];return n===0&&(s[0]=e[0][0]),s},numeric.identity=function(t){return numeric.diag(numeric.rep([t],1))},numeric.pointwise=function(t,n,s){typeof s>"u"&&(s="");var u=[],f,d=/\[i\]$/,g,v="",S=!1;for(f=0;f<t.length;f++)d.test(t[f])?(g=t[f].substring(0,t[f].length-3),v=g):g=t[f],g==="ret"&&(S=!0),u.push(g);return u[t.length]="_s",u[t.length+1]="_k",u[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+v+`);
if(typeof _k === "undefined") _k = 0;
var _n = _s[_k];
var i`+(S?"":", ret = Array(_n)")+`;
if(_k < _s.length-1) {
    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee(`+t.join(",")+`,_s,_k+1);
    return ret;
}
`+s+`
for(i=_n-1;i!==-1;--i) {
    `+n+`
}
return ret;`,Function.apply(null,u)},numeric.pointwise2=function(t,n,s){typeof s>"u"&&(s="");var u=[],f,d=/\[i\]$/,g,v="",S=!1;for(f=0;f<t.length;f++)d.test(t[f])?(g=t[f].substring(0,t[f].length-3),v=g):g=t[f],g==="ret"&&(S=!0),u.push(g);return u[t.length]="var _n = "+v+`.length;
var i`+(S?"":", ret = Array(_n)")+`;
`+s+`
for(i=_n-1;i!==-1;--i) {
`+n+`
}
return ret;`,Function.apply(null,u)},numeric._biforeach=function e(t,n,s,u,f){if(u===s.length-1){f(t,n);return}var d,g=s[u];for(d=g-1;d>=0;d--)e(typeof t=="object"?t[d]:t,typeof n=="object"?n[d]:n,s,u+1,f)},numeric._biforeach2=function e(t,n,s,u,f){if(u===s.length-1)return f(t,n);var d,g=s[u],v=Array(g);for(d=g-1;d>=0;--d)v[d]=e(typeof t=="object"?t[d]:t,typeof n=="object"?n[d]:n,s,u+1,f);return v},numeric._foreach=function e(t,n,s,u){if(s===n.length-1){u(t);return}var f,d=n[s];for(f=d-1;f>=0;f--)e(t[f],n,s+1,u)},numeric._foreach2=function e(t,n,s,u){if(s===n.length-1)return u(t);var f,d=n[s],g=Array(d);for(f=d-1;f>=0;f--)g[f]=e(t[f],n,s+1,u);return g},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var e,t;for(e=0;e<numeric.mathfuns2.length;++e)t=numeric.mathfuns2[e],numeric.ops2[t]=t;for(e in numeric.ops2)if(numeric.ops2.hasOwnProperty(e)){t=numeric.ops2[e];var n,s,u="";numeric.myIndexOf.call(numeric.mathfuns2,e)!==-1?(u="var "+t+" = Math."+t+`;
`,n=function(f,d,g){return f+" = "+t+"("+d+","+g+")"},s=function(f,d){return f+" = "+t+"("+f+","+d+")"}):(n=function(f,d,g){return f+" = "+d+" "+t+" "+g},numeric.opseq.hasOwnProperty(e+"eq")?s=function(f,d){return f+" "+t+"= "+d}:s=function(f,d){return f+" = "+f+" "+t+" "+d}),numeric[e+"VV"]=numeric.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),u),numeric[e+"SV"]=numeric.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),u),numeric[e+"VS"]=numeric.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),u),numeric[e]=Function(`var n = arguments.length, i, x = arguments[0], y;
var VV = numeric.`+e+"VV, VS = numeric."+e+"VS, SV = numeric."+e+`SV;
var dim = numeric.dim;
for(i=1;i!==n;++i) { 
  y = arguments[i];
  if(typeof x === "object") {
      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);
      else x = numeric._biforeach2(x,y,dim(x),0,VS);
  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);
  else `+s("x","y")+`
}
return x;
`),numeric[t]=numeric[e],numeric[e+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],s("ret[i]","x[i]"),u),numeric[e+"eqS"]=numeric.pointwise2(["ret[i]","x"],s("ret[i]","x"),u),numeric[e+"eq"]=Function(`var n = arguments.length, i, x = arguments[0], y;
var V = numeric.`+e+"eqV, S = numeric."+e+`eqS
var s = numeric.dim(x);
for(i=1;i!==n;++i) { 
  y = arguments[i];
  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);
  else numeric._biforeach(x,y,s,0,S);
}
return x;
`)}for(e=0;e<numeric.mathfuns2.length;++e)t=numeric.mathfuns2[e],delete numeric.ops2[t];for(e=0;e<numeric.mathfuns.length;++e)t=numeric.mathfuns[e],numeric.ops1[t]=t;for(e in numeric.ops1)numeric.ops1.hasOwnProperty(e)&&(u="",t=numeric.ops1[e],numeric.myIndexOf.call(numeric.mathfuns,e)!==-1&&Math.hasOwnProperty(t)&&(u="var "+t+" = Math."+t+`;
`),numeric[e+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+t+"(ret[i]);",u),numeric[e+"eq"]=Function("x",'if(typeof x !== "object") return '+t+`x
var i;
var V = numeric.`+e+`eqV;
var s = numeric.dim(x);
numeric._foreach(x,s,0,V);
return x;
`),numeric[e+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+t+"(x[i]);",u),numeric[e]=Function("x",'if(typeof x !== "object") return '+t+`(x)
var i;
var V = numeric.`+e+`V;
var s = numeric.dim(x);
return numeric._foreach2(x,s,0,V);
`));for(e=0;e<numeric.mathfuns.length;++e)t=numeric.mathfuns[e],delete numeric.ops1[t];for(e in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(e)&&(t=numeric.mapreducers[e],numeric[e+"V"]=numeric.mapreduce2(t[0],t[1]),numeric[e]=Function("x","s","k",t[1]+`if(typeof x !== "object") {    xi = x;
`+t[0]+`;
    return accum;
}if(typeof s === "undefined") s = numeric.dim(x);
if(typeof k === "undefined") k = 0;
if(k === s.length-1) return numeric.`+e+`V(x);
var xi;
var n = x.length, i;
for(i=n-1;i!==-1;--i) {
   xi = arguments.callee(x[i]);
`+t[0]+`;
}
return accum;
`))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(t,n){return typeof t=="object"?typeof n=="object"?numeric.truncVV(t,n):numeric.truncVS(t,n):typeof n=="object"?numeric.truncSV(t,n):Math.round(t/n)*n},numeric.inv=function(j){var n=numeric.dim(j),s=Math.abs,u=n[0],f=n[1],d=numeric.clone(j),g,v,S=numeric.identity(u),M,I,P,N,F,j;for(N=0;N<f;++N){var U=-1,V=-1;for(P=N;P!==u;++P)F=s(d[P][N]),F>V&&(U=P,V=F);for(v=d[U],d[U]=d[N],d[N]=v,I=S[U],S[U]=S[N],S[N]=I,j=v[N],F=N;F!==f;++F)v[F]/=j;for(F=f-1;F!==-1;--F)I[F]/=j;for(P=u-1;P!==-1;--P)if(P!==N){for(g=d[P],M=S[P],j=g[N],F=N+1;F!==f;++F)g[F]-=v[F]*j;for(F=f-1;F>0;--F)M[F]-=I[F]*j,--F,M[F]-=I[F]*j;F===0&&(M[0]-=I[0]*j)}}return S},numeric.det=function(t){var n=numeric.dim(t);if(n.length!==2||n[0]!==n[1])throw new Error("numeric: det() only works on square matrices");var s=n[0],u=1,f,d,g,v=numeric.clone(t),S,M,I,P,N;for(d=0;d<s-1;d++){for(g=d,f=d+1;f<s;f++)Math.abs(v[f][d])>Math.abs(v[g][d])&&(g=f);for(g!==d&&(P=v[g],v[g]=v[d],v[d]=P,u*=-1),S=v[d],f=d+1;f<s;f++){for(M=v[f],I=M[d]/S[d],g=d+1;g<s-1;g+=2)N=g+1,M[g]-=S[g]*I,M[N]-=S[N]*I;g!==s&&(M[g]-=S[g]*I)}if(S[d]===0)return 0;u*=S[d]}return u*v[d][d]},numeric.transpose=function(t){var n,s,u=t.length,f=t[0].length,d=Array(f),g,v,S;for(s=0;s<f;s++)d[s]=Array(u);for(n=u-1;n>=1;n-=2){for(v=t[n],g=t[n-1],s=f-1;s>=1;--s)S=d[s],S[n]=v[s],S[n-1]=g[s],--s,S=d[s],S[n]=v[s],S[n-1]=g[s];s===0&&(S=d[0],S[n]=v[0],S[n-1]=g[0])}if(n===0){for(g=t[0],s=f-1;s>=1;--s)d[s][0]=g[s],--s,d[s][0]=g[s];s===0&&(d[0][0]=g[0])}return d},numeric.negtranspose=function(t){var n,s,u=t.length,f=t[0].length,d=Array(f),g,v,S;for(s=0;s<f;s++)d[s]=Array(u);for(n=u-1;n>=1;n-=2){for(v=t[n],g=t[n-1],s=f-1;s>=1;--s)S=d[s],S[n]=-v[s],S[n-1]=-g[s],--s,S=d[s],S[n]=-v[s],S[n-1]=-g[s];s===0&&(S=d[0],S[n]=-v[0],S[n-1]=-g[0])}if(n===0){for(g=t[0],s=f-1;s>=1;--s)d[s][0]=-g[s],--s,d[s][0]=-g[s];s===0&&(d[0][0]=-g[0])}return d},numeric._random=function e(t,n){var s,u=t[n],f=Array(u),d;if(n===t.length-1){for(d=Math.random,s=u-1;s>=1;s-=2)f[s]=d(),f[s-1]=d();return s===0&&(f[0]=d()),f}for(s=u-1;s>=0;s--)f[s]=e(t,n+1);return f},numeric.random=function(t){return numeric._random(t,0)},numeric.norm2=function(t){return Math.sqrt(numeric.norm2Squared(t))},numeric.linspace=function(t,n,s){if(typeof s>"u"&&(s=Math.max(Math.round(n-t)+1,1)),s<2)return s===1?[t]:[];var u,f=Array(s);for(s--,u=s;u>=0;u--)f[u]=(u*n+(s-u)*t)/s;return f},numeric.getBlock=function(t,n,s){var u=numeric.dim(t);function f(d,g){var v,S=n[g],M=s[g]-S,I=Array(M);if(g===u.length-1){for(v=M;v>=0;v--)I[v]=d[v+S];return I}for(v=M;v>=0;v--)I[v]=f(d[v+S],g+1);return I}return f(t,0)},numeric.setBlock=function(t,n,s,u){var f=numeric.dim(t);function d(g,v,S){var M,I=n[S],P=s[S]-I;if(S===f.length-1)for(M=P;M>=0;M--)g[M+I]=v[M];for(M=P;M>=0;M--)d(g[M+I],v[M],S+1)}return d(t,u,0),t},numeric.getRange=function(t,n,s){var u=n.length,f=s.length,d,g,v=Array(u),S,M;for(d=u-1;d!==-1;--d)for(v[d]=Array(f),S=v[d],M=t[n[d]],g=f-1;g!==-1;--g)S[g]=M[s[g]];return v},numeric.blockMatrix=function(t){var n=numeric.dim(t);if(n.length<4)return numeric.blockMatrix([t]);var s=n[0],u=n[1],f,d,g,v,S;for(f=0,d=0,g=0;g<s;++g)f+=t[g][0].length;for(v=0;v<u;++v)d+=t[0][v][0].length;var M=Array(f);for(g=0;g<f;++g)M[g]=Array(d);var I=0,P,N,F,j,U;for(g=0;g<s;++g){for(P=d,v=u-1;v!==-1;--v)for(S=t[g][v],P-=S[0].length,F=S.length-1;F!==-1;--F)for(U=S[F],N=M[I+F],j=U.length-1;j!==-1;--j)N[P+j]=U[j];I+=t[g][0].length}return M},numeric.tensor=function(t,n){if(typeof t=="number"||typeof n=="number")return numeric.mul(t,n);var s=numeric.dim(t),u=numeric.dim(n);if(s.length!==1||u.length!==1)throw new Error("numeric: tensor product is only defined for vectors");var f=s[0],d=u[0],g=Array(f),v,S,M,I;for(S=f-1;S>=0;S--){for(v=Array(d),I=t[S],M=d-1;M>=3;--M)v[M]=I*n[M],--M,v[M]=I*n[M],--M,v[M]=I*n[M],--M,v[M]=I*n[M];for(;M>=0;)v[M]=I*n[M],--M;g[S]=v}return g},numeric.T=function(t,n){this.x=t,this.y=n},numeric.t=function(t,n){return new numeric.T(t,n)},numeric.Tbinop=function(t,n,s,u,f){if(numeric.indexOf,typeof f!="string"){var d;f="";for(d in numeric)numeric.hasOwnProperty(d)&&(t.indexOf(d)>=0||n.indexOf(d)>=0||s.indexOf(d)>=0||u.indexOf(d)>=0)&&d.length>1&&(f+="var "+d+" = numeric."+d+`;
`)}return Function(["y"],`var x = this;
if(!(y instanceof numeric.T)) { y = new numeric.T(y); }
`+f+`
if(x.y) {  if(y.y) {    return new numeric.T(`+u+`);
  }
  return new numeric.T(`+s+`);
}
if(y.y) {
  return new numeric.T(`+n+`);
}
return new numeric.T(`+t+`);
`)},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var t=numeric.mul,n=numeric.div;if(this.y){var s=numeric.add(t(this.x,this.x),t(this.y,this.y));return new numeric.T(n(this.x,s),n(numeric.neg(this.y),s))}return new T(n(1,this.x))},numeric.T.prototype.div=function(t){if(t instanceof numeric.T||(t=new numeric.T(t)),t.y)return this.mul(t.reciprocal());var n=numeric.div;return this.y?new numeric.T(n(this.x,t.x),n(this.y,t.x)):new numeric.T(n(this.x,t.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var t=numeric.transpose,n=this.x,s=this.y;return s?new numeric.T(t(n),t(s)):new numeric.T(t(n))},numeric.T.prototype.transjugate=function(){var t=numeric.transpose,n=this.x,s=this.y;return s?new numeric.T(t(n),numeric.negtranspose(s)):new numeric.T(t(n))},numeric.Tunop=function(t,n,s){return typeof s!="string"&&(s=""),Function(`var x = this;
`+s+`
if(x.y) {  `+n+`;
}
`+t+`;
`)},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));",`var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();
return new numeric.T(numeric.log(r.x),theta.x);`),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);",`var f = numeric.norm2Squared;
return Math.sqrt(f(x.x)+f(x.y));`),numeric.T.prototype.inv=function(){var t=this;if(typeof t.y>"u")return new numeric.T(numeric.inv(t.x));var n=t.x.length,j,U,V,s=numeric.identity(n),u=numeric.rep([n,n],0),f=numeric.clone(t.x),d=numeric.clone(t.y),g,v,S,M,I,P,N,F,j,U,V,Z,Q,J,te,oe,ue,se;for(j=0;j<n;j++){for(J=f[j][j],te=d[j][j],Z=J*J+te*te,V=j,U=j+1;U<n;U++)J=f[U][j],te=d[U][j],Q=J*J+te*te,Q>Z&&(V=U,Z=Q);for(V!==j&&(se=f[j],f[j]=f[V],f[V]=se,se=d[j],d[j]=d[V],d[V]=se,se=s[j],s[j]=s[V],s[V]=se,se=u[j],u[j]=u[V],u[V]=se),g=f[j],v=d[j],I=s[j],P=u[j],J=g[j],te=v[j],U=j+1;U<n;U++)oe=g[U],ue=v[U],g[U]=(oe*J+ue*te)/Z,v[U]=(ue*J-oe*te)/Z;for(U=0;U<n;U++)oe=I[U],ue=P[U],I[U]=(oe*J+ue*te)/Z,P[U]=(ue*J-oe*te)/Z;for(U=j+1;U<n;U++){for(S=f[U],M=d[U],N=s[U],F=u[U],J=S[j],te=M[j],V=j+1;V<n;V++)oe=g[V],ue=v[V],S[V]-=oe*J-ue*te,M[V]-=ue*J+oe*te;for(V=0;V<n;V++)oe=I[V],ue=P[V],N[V]-=oe*J-ue*te,F[V]-=ue*J+oe*te}}for(j=n-1;j>0;j--)for(I=s[j],P=u[j],U=j-1;U>=0;U--)for(N=s[U],F=u[U],J=f[U][j],te=d[U][j],V=n-1;V>=0;V--)oe=I[V],ue=P[V],N[V]-=J*oe-te*ue,F[V]-=J*ue+te*oe;return new numeric.T(s,u)},numeric.T.prototype.get=function(t){var n=this.x,s=this.y,u=0,f,d=t.length;if(s){for(;u<d;)f=t[u],n=n[f],s=s[f],u++;return new numeric.T(n,s)}for(;u<d;)f=t[u],n=n[f],u++;return new numeric.T(n)},numeric.T.prototype.set=function(t,n){var s=this.x,u=this.y,f=0,d,g=t.length,v=n.x,S=n.y;if(g===0)return S?this.y=S:u&&(this.y=void 0),this.x=s,this;if(S){for(u||(u=numeric.rep(numeric.dim(s),0),this.y=u);f<g-1;)d=t[f],s=s[d],u=u[d],f++;return d=t[f],s[d]=v,u[d]=S,this}if(u){for(;f<g-1;)d=t[f],s=s[d],u=u[d],f++;return d=t[f],s[d]=v,v instanceof Array?u[d]=numeric.rep(numeric.dim(v),0):u[d]=0,this}for(;f<g-1;)d=t[f],s=s[d],f++;return d=t[f],s[d]=v,this},numeric.T.prototype.getRows=function(t,n){var s=n-t+1,u,f=Array(s),d,g=this.x,v=this.y;for(u=t;u<=n;u++)f[u-t]=g[u];if(v){for(d=Array(s),u=t;u<=n;u++)d[u-t]=v[u];return new numeric.T(f,d)}return new numeric.T(f)},numeric.T.prototype.setRows=function(t,n,s){var u,f=this.x,d=this.y,g=s.x,v=s.y;for(u=t;u<=n;u++)f[u]=g[u-t];if(v)for(d||(d=numeric.rep(numeric.dim(f),0),this.y=d),u=t;u<=n;u++)d[u]=v[u-t];else if(d)for(u=t;u<=n;u++)d[u]=numeric.rep([g[u-t].length],0);return this},numeric.T.prototype.getRow=function(t){var n=this.x,s=this.y;return s?new numeric.T(n[t],s[t]):new numeric.T(n[t])},numeric.T.prototype.setRow=function(t,n){var s=this.x,u=this.y,f=n.x,d=n.y;return s[t]=f,d?(u||(u=numeric.rep(numeric.dim(s),0),this.y=u),u[t]=d):u&&(u=numeric.rep([f.length],0)),this},numeric.T.prototype.getBlock=function(t,n){var s=this.x,u=this.y,f=numeric.getBlock;return u?new numeric.T(f(s,t,n),f(u,t,n)):new numeric.T(f(s,t,n))},numeric.T.prototype.setBlock=function(t,n,s){s instanceof numeric.T||(s=new numeric.T(s));var u=this.x,f=this.y,d=numeric.setBlock,g=s.x,v=s.y;if(v)return f||(this.y=numeric.rep(numeric.dim(this),0),f=this.y),d(u,t,n,g),d(f,t,n,v),this;d(u,t,n,g),f&&d(f,t,n,numeric.rep(numeric.dim(g),0))},numeric.T.rep=function(t,n){var s=numeric.T;n instanceof s||(n=new s(n));var u=n.x,f=n.y,d=numeric.rep;return f?new s(d(t,u),d(t,f)):new s(d(t,u))},numeric.T.diag=function(t){t instanceof numeric.T||(t=new numeric.T(t));var n=t.x,s=t.y,u=numeric.diag;return s?new numeric.T(u(n),u(s)):new numeric.T(u(n))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(t){return new numeric.T(numeric.identity(t))},numeric.T.prototype.getDiag=function(){var t=numeric,n=this.x,s=this.y;return s?new t.T(t.getDiag(n),t.getDiag(s)):new t.T(t.getDiag(n))},numeric.house=function(t){var n=numeric.clone(t),s=t[0]>=0?1:-1,u=s*numeric.norm2(t);n[0]+=u;var f=numeric.norm2(n);if(f===0)throw new Error("eig: internal error");return numeric.div(n,f)},numeric.toUpperHessenberg=function(t){var n=numeric.dim(t);if(n.length!==2||n[0]!==n[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var s=n[0],u,f,d,g,v,S=numeric.clone(t),M,I,P,N,F=numeric.identity(s),j;for(f=0;f<s-2;f++){for(g=Array(s-f-1),u=f+1;u<s;u++)g[u-f-1]=S[u][f];if(numeric.norm2(g)>0){for(v=numeric.house(g),M=numeric.getBlock(S,[f+1,f],[s-1,s-1]),I=numeric.tensor(v,numeric.dot(v,M)),u=f+1;u<s;u++)for(P=S[u],N=I[u-f-1],d=f;d<s;d++)P[d]-=2*N[d-f];for(M=numeric.getBlock(S,[0,f+1],[s-1,s-1]),I=numeric.tensor(numeric.dot(M,v),v),u=0;u<s;u++)for(P=S[u],N=I[u],d=f+1;d<s;d++)P[d]-=2*N[d-f-1];for(M=Array(s-f-1),u=f+1;u<s;u++)M[u-f-1]=F[u];for(I=numeric.tensor(v,numeric.dot(v,M)),u=f+1;u<s;u++)for(j=F[u],N=I[u-f-1],d=0;d<s;d++)j[d]-=2*N[d]}}return{H:S,Q:F}},numeric.epsilon=2220446049250313e-31,numeric.QRFrancis=function(e,t){typeof t>"u"&&(t=1e4),e=numeric.clone(e),numeric.clone(e);var n=numeric.dim(e),s=n[0],u,f,d,g,v,S,M,I,P,N=numeric.identity(s),F,j,U,V,Z,Q,J,te,oe;if(s<3)return{Q:N,B:[[0,s-1]]};var ue=numeric.epsilon;for(oe=0;oe<t;oe++){for(J=0;J<s-1;J++)if(Math.abs(e[J+1][J])<ue*(Math.abs(e[J][J])+Math.abs(e[J+1][J+1]))){var se=numeric.QRFrancis(numeric.getBlock(e,[0,0],[J,J]),t),le=numeric.QRFrancis(numeric.getBlock(e,[J+1,J+1],[s-1,s-1]),t);for(U=Array(J+1),Q=0;Q<=J;Q++)U[Q]=N[Q];for(V=numeric.dot(se.Q,U),Q=0;Q<=J;Q++)N[Q]=V[Q];for(U=Array(s-J-1),Q=J+1;Q<s;Q++)U[Q-J-1]=N[Q];for(V=numeric.dot(le.Q,U),Q=J+1;Q<s;Q++)N[Q]=V[Q-J-1];return{Q:N,B:se.B.concat(numeric.add(le.B,J+1))}}if(d=e[s-2][s-2],g=e[s-2][s-1],v=e[s-1][s-2],S=e[s-1][s-1],I=d+S,M=d*S-g*v,P=numeric.getBlock(e,[0,0],[2,2]),I*I>=4*M){var de,ge;de=.5*(I+Math.sqrt(I*I-4*M)),ge=.5*(I-Math.sqrt(I*I-4*M)),P=numeric.add(numeric.sub(numeric.dot(P,P),numeric.mul(P,de+ge)),numeric.diag(numeric.rep([3],de*ge)))}else P=numeric.add(numeric.sub(numeric.dot(P,P),numeric.mul(P,I)),numeric.diag(numeric.rep([3],M)));for(u=[P[0][0],P[1][0],P[2][0]],f=numeric.house(u),U=[e[0],e[1],e[2]],V=numeric.tensor(f,numeric.dot(f,U)),Q=0;Q<3;Q++)for(j=e[Q],Z=V[Q],te=0;te<s;te++)j[te]-=2*Z[te];for(U=numeric.getBlock(e,[0,0],[s-1,2]),V=numeric.tensor(numeric.dot(U,f),f),Q=0;Q<s;Q++)for(j=e[Q],Z=V[Q],te=0;te<3;te++)j[te]-=2*Z[te];for(U=[N[0],N[1],N[2]],V=numeric.tensor(f,numeric.dot(f,U)),Q=0;Q<3;Q++)for(F=N[Q],Z=V[Q],te=0;te<s;te++)F[te]-=2*Z[te];var ve;for(J=0;J<s-2;J++){for(te=J;te<=J+1;te++)if(Math.abs(e[te+1][te])<ue*(Math.abs(e[te][te])+Math.abs(e[te+1][te+1]))){var se=numeric.QRFrancis(numeric.getBlock(e,[0,0],[te,te]),t),le=numeric.QRFrancis(numeric.getBlock(e,[te+1,te+1],[s-1,s-1]),t);for(U=Array(te+1),Q=0;Q<=te;Q++)U[Q]=N[Q];for(V=numeric.dot(se.Q,U),Q=0;Q<=te;Q++)N[Q]=V[Q];for(U=Array(s-te-1),Q=te+1;Q<s;Q++)U[Q-te-1]=N[Q];for(V=numeric.dot(le.Q,U),Q=te+1;Q<s;Q++)N[Q]=V[Q-te-1];return{Q:N,B:se.B.concat(numeric.add(le.B,te+1))}}for(ve=Math.min(s-1,J+3),u=Array(ve-J),Q=J+1;Q<=ve;Q++)u[Q-J-1]=e[Q][J];for(f=numeric.house(u),U=numeric.getBlock(e,[J+1,J],[ve,s-1]),V=numeric.tensor(f,numeric.dot(f,U)),Q=J+1;Q<=ve;Q++)for(j=e[Q],Z=V[Q-J-1],te=J;te<s;te++)j[te]-=2*Z[te-J];for(U=numeric.getBlock(e,[0,J+1],[s-1,ve]),V=numeric.tensor(numeric.dot(U,f),f),Q=0;Q<s;Q++)for(j=e[Q],Z=V[Q],te=J+1;te<=ve;te++)j[te]-=2*Z[te-J-1];for(U=Array(ve-J),Q=J+1;Q<=ve;Q++)U[Q-J-1]=N[Q];for(V=numeric.tensor(f,numeric.dot(f,U)),Q=J+1;Q<=ve;Q++)for(F=N[Q],Z=V[Q-J-1],te=0;te<s;te++)F[te]-=2*Z[te]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(t,n){var s=numeric.toUpperHessenberg(t),u=numeric.QRFrancis(s.H,n),f=numeric.T,me=t.length,d,g,v=u.B,S=numeric.dot(u.Q,numeric.dot(s.H,numeric.transpose(u.Q))),M=new f(numeric.dot(u.Q,s.Q)),I,P=v.length,N,F,j,U,V,Z,Q,J,te,oe,ue,se,le,de,ge=Math.sqrt;for(g=0;g<P;g++)if(d=v[g][0],d!==v[g][1]){if(N=d+1,F=S[d][d],j=S[d][N],U=S[N][d],V=S[N][N],j===0&&U===0)continue;Z=-F-V,Q=F*V-j*U,J=Z*Z-4*Q,J>=0?(Z<0?te=-.5*(Z-ge(J)):te=-.5*(Z+ge(J)),le=(F-te)*(F-te)+j*j,de=U*U+(V-te)*(V-te),le>de?(le=ge(le),ue=(F-te)/le,se=j/le):(de=ge(de),ue=U/de,se=(V-te)/de),I=new f([[se,-ue],[ue,se]]),M.setRows(d,N,I.dot(M.getRows(d,N)))):(te=-.5*Z,oe=.5*ge(-J),le=(F-te)*(F-te)+j*j,de=U*U+(V-te)*(V-te),le>de?(le=ge(le+oe*oe),ue=(F-te)/le,se=j/le,te=0,oe/=le):(de=ge(de+oe*oe),ue=U/de,se=(V-te)/de,te=oe/de,oe=0),I=new f([[se,-ue],[ue,se]],[[te,oe],[oe,-te]]),M.setRows(d,N,I.dot(M.getRows(d,N))))}var ve=M.dot(t).dot(M.transjugate()),me=t.length,ye=numeric.T.identity(me);for(N=0;N<me;N++)if(N>0)for(g=N-1;g>=0;g--){var Ae=ve.get([g,g]),Te=ve.get([N,N]);if(numeric.neq(Ae.x,Te.x)||numeric.neq(Ae.y,Te.y))te=ve.getRow(g).getBlock([g],[N-1]),oe=ye.getRow(N).getBlock([g],[N-1]),ye.set([N,g],ve.get([g,N]).neg().sub(te.dot(oe)).div(Ae.sub(Te)));else{ye.setRow(N,ye.getRow(g));continue}}for(N=0;N<me;N++)te=ye.getRow(N),ye.setRow(N,te.div(te.norm2()));return ye=ye.transpose(),ye=M.transjugate().dot(ye),{lambda:ve.getDiag(),E:ye}},numeric.ccsSparse=function(t){var n=t.length,g,s,u,f,d=[];for(u=n-1;u!==-1;--u){s=t[u];for(f in s){for(f=parseInt(f);f>=d.length;)d[d.length]=0;s[f]!==0&&d[f]++}}var g=d.length,v=Array(g+1);for(v[0]=0,u=0;u<g;++u)v[u+1]=v[u]+d[u];var S=Array(v[g]),M=Array(v[g]);for(u=n-1;u!==-1;--u){s=t[u];for(f in s)s[f]!==0&&(d[f]--,S[v[f]+d[f]]=u,M[v[f]+d[f]]=s[f])}return[v,S,M]},numeric.ccsFull=function(t){var n=t[0],s=t[1],u=t[2],f=numeric.ccsDim(t),d=f[0],g=f[1],v,S,M,I,P=numeric.rep([d,g],0);for(v=0;v<g;v++)for(M=n[v],I=n[v+1],S=M;S<I;++S)P[s[S]][v]=u[S];return P},numeric.ccsTSolve=function(t,n,s,u,f){var d=t[0],g=t[1],v=t[2],S=d.length-1,M=Math.max,I=0;typeof u>"u"&&(s=numeric.rep([S],0)),typeof u>"u"&&(u=numeric.linspace(0,s.length-1)),typeof f>"u"&&(f=[]);function P(J){var te;if(s[J]===0){for(s[J]=1,te=d[J];te<d[J+1];++te)P(g[te]);f[I]=J,++I}}var N,F,j,U,V,Z,Q;for(N=u.length-1;N!==-1;--N)P(u[N]);for(f.length=I,N=f.length-1;N!==-1;--N)s[f[N]]=0;for(N=u.length-1;N!==-1;--N)F=u[N],s[F]=n[F];for(N=f.length-1;N!==-1;--N){for(F=f[N],j=d[F],U=M(d[F+1],j),V=j;V!==U;++V)if(g[V]===F){s[F]/=v[V];break}for(Q=s[F],V=j;V!==U;++V)Z=g[V],Z!==F&&(s[Z]-=Q*v[V])}return s},numeric.ccsDFS=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS.prototype.dfs=function(t,n,s,u,f,d){var g=0,v,S=f.length,M=this.k,I=this.k1,P=this.j,N,F;if(u[t]===0)for(u[t]=1,P[0]=t,M[0]=N=n[t],I[0]=F=n[t+1];;)if(N>=F){if(f[S]=P[g],g===0)return;++S,--g,N=M[g],F=I[g]}else v=d[s[N]],u[v]===0?(u[v]=1,M[g]=N,++g,P[g]=v,N=n[v],I[g]=F=n[v+1]):++N},numeric.ccsLPSolve=function(t,n,s,u,f,d,g){var v=t[0],S=t[1],M=t[2];v.length-1;var I=n[0],P=n[1],N=n[2],F,j,U,V,Z,Q,J,te,oe;for(j=I[f],U=I[f+1],u.length=0,F=j;F<U;++F)g.dfs(d[P[F]],v,S,s,u,d);for(F=u.length-1;F!==-1;--F)s[u[F]]=0;for(F=j;F!==U;++F)V=d[P[F]],s[V]=N[F];for(F=u.length-1;F!==-1;--F){for(V=u[F],Z=v[V],Q=v[V+1],J=Z;J<Q;++J)if(d[S[J]]===V){s[V]/=M[J];break}for(oe=s[V],J=Z;J<Q;++J)te=d[S[J]],te!==V&&(s[te]-=oe*M[J])}return s},numeric.ccsLUP1=function(t,n){var s=t[0].length-1,u=[numeric.rep([s+1],0),[],[]],f=[numeric.rep([s+1],0),[],[]],d=u[0],g=u[1],v=u[2],S=f[0],M=f[1],I=f[2],P=numeric.rep([s],0),N=numeric.rep([s],0),F,j,U,V,Z,Q,J,te=numeric.ccsLPSolve,oe=Math.abs,ue=numeric.linspace(0,s-1),se=numeric.linspace(0,s-1),le=new numeric.ccsDFS(s);for(typeof n>"u"&&(n=1),F=0;F<s;++F){for(te(u,t,P,N,F,se,le),V=-1,Z=-1,j=N.length-1;j!==-1;--j)U=N[j],!(U<=F)&&(Q=oe(P[U]),Q>V&&(Z=U,V=Q));for(oe(P[F])<n*V&&(j=ue[F],V=ue[Z],ue[F]=V,se[V]=F,ue[Z]=j,se[j]=Z,V=P[F],P[F]=P[Z],P[Z]=V),V=d[F],Z=S[F],J=P[F],g[V]=ue[F],v[V]=1,++V,j=N.length-1;j!==-1;--j)U=N[j],Q=P[U],N[j]=0,P[U]=0,U<=F?(M[Z]=U,I[Z]=Q,++Z):(g[V]=ue[U],v[V]=Q/J,++V);d[F+1]=V,S[F+1]=Z}for(j=g.length-1;j!==-1;--j)g[j]=se[g[j]];return{L:u,U:f,P:ue,Pinv:se}},numeric.ccsDFS0=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS0.prototype.dfs=function(t,n,s,u,f,d,g){var v=0,S,M=f.length,I=this.k,P=this.k1,N=this.j,F,j;if(u[t]===0)for(u[t]=1,N[0]=t,I[0]=F=n[d[t]],P[0]=j=n[d[t]+1];;){if(isNaN(F))throw new Error("Ow!");if(F>=j){if(f[M]=d[N[v]],v===0)return;++M,--v,F=I[v],j=P[v]}else S=s[F],u[S]===0?(u[S]=1,I[v]=F,++v,N[v]=S,S=d[S],F=n[S],P[v]=j=n[S+1]):++F}},numeric.ccsLPSolve0=function(t,n,s,u,f,d,g,v){var S=t[0],M=t[1],I=t[2];S.length-1;var P=n[0],N=n[1],F=n[2],j,U,V,Z,Q,J,te,oe,ue;for(U=P[f],V=P[f+1],u.length=0,j=U;j<V;++j)v.dfs(N[j],S,M,s,u,d,g);for(j=u.length-1;j!==-1;--j)Z=u[j],s[g[Z]]=0;for(j=U;j!==V;++j)Z=N[j],s[Z]=F[j];for(j=u.length-1;j!==-1;--j){for(Z=u[j],oe=g[Z],Q=S[Z],J=S[Z+1],te=Q;te<J;++te)if(M[te]===oe){s[oe]/=I[te];break}for(ue=s[oe],te=Q;te<J;++te)s[M[te]]-=ue*I[te];s[oe]=ue}},numeric.ccsLUP0=function(t,n){var s=t[0].length-1,u=[numeric.rep([s+1],0),[],[]],f=[numeric.rep([s+1],0),[],[]],d=u[0],g=u[1],v=u[2],S=f[0],M=f[1],I=f[2],P=numeric.rep([s],0),N=numeric.rep([s],0),F,j,U,V,Z,Q,J,te=numeric.ccsLPSolve0,oe=Math.abs,ue=numeric.linspace(0,s-1),se=numeric.linspace(0,s-1),le=new numeric.ccsDFS0(s);for(typeof n>"u"&&(n=1),F=0;F<s;++F){for(te(u,t,P,N,F,se,ue,le),V=-1,Z=-1,j=N.length-1;j!==-1;--j)U=N[j],!(U<=F)&&(Q=oe(P[ue[U]]),Q>V&&(Z=U,V=Q));for(oe(P[ue[F]])<n*V&&(j=ue[F],V=ue[Z],ue[F]=V,se[V]=F,ue[Z]=j,se[j]=Z),V=d[F],Z=S[F],J=P[ue[F]],g[V]=ue[F],v[V]=1,++V,j=N.length-1;j!==-1;--j)U=N[j],Q=P[ue[U]],N[j]=0,P[ue[U]]=0,U<=F?(M[Z]=U,I[Z]=Q,++Z):(g[V]=ue[U],v[V]=Q/J,++V);d[F+1]=V,S[F+1]=Z}for(j=g.length-1;j!==-1;--j)g[j]=se[g[j]];return{L:u,U:f,P:ue,Pinv:se}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(t){return[numeric.sup(t[1])+1,t[0].length-1]},numeric.ccsGetBlock=function(t,n,s){var u=numeric.ccsDim(t),f=u[0],d=u[1];typeof n>"u"?n=numeric.linspace(0,f-1):typeof n=="number"&&(n=[n]),typeof s>"u"?s=numeric.linspace(0,d-1):typeof s=="number"&&(s=[s]);var g,v=n.length,S,M=s.length,I,P,N,F=numeric.rep([d],0),j=[],U=[],V=[F,j,U],Z=t[0],Q=t[1],J=t[2],te=numeric.rep([f],0),oe=0,ue=numeric.rep([f],0);for(S=0;S<M;++S){P=s[S];var se=Z[P],le=Z[P+1];for(g=se;g<le;++g)I=Q[g],ue[I]=1,te[I]=J[g];for(g=0;g<v;++g)N=n[g],ue[N]&&(j[oe]=g,U[oe]=te[n[g]],++oe);for(g=se;g<le;++g)I=Q[g],ue[I]=0;F[S+1]=oe}return V},numeric.ccsDot=function(t,n){var s=t[0],u=t[1],f=t[2],d=n[0],g=n[1],v=n[2],S=numeric.ccsDim(t),M=numeric.ccsDim(n),I=S[0];S[1];var P=M[1],N=numeric.rep([I],0),F=numeric.rep([I],0),j=Array(I),U=numeric.rep([P],0),V=[],Z=[],Q=[U,V,Z],J,te,oe,ue,se,le,de,ge,ve,me,ye;for(oe=0;oe!==P;++oe){for(ue=d[oe],se=d[oe+1],ve=0,te=ue;te<se;++te)for(me=g[te],ye=v[te],le=s[me],de=s[me+1],J=le;J<de;++J)ge=u[J],F[ge]===0&&(j[ve]=ge,F[ge]=1,ve=ve+1),N[ge]=N[ge]+f[J]*ye;for(ue=U[oe],se=ue+ve,U[oe+1]=se,te=ve-1;te!==-1;--te)ye=ue+te,J=j[te],V[ye]=J,Z[ye]=N[J],F[J]=0,N[J]=0;U[oe+1]=U[oe]+ve}return Q},numeric.ccsLUPSolve=function(t,n){var s=t.L,u=t.U;t.P;var f=n[0],d=!1;typeof f!="object"&&(n=[[0,n.length],numeric.linspace(0,n.length-1),n],f=n[0],d=!0);var g=n[1],v=n[2],S=s[0].length-1,M=f.length-1,I=numeric.rep([S],0),P=Array(S),N=numeric.rep([S],0),F=Array(S),j=numeric.rep([M+1],0),U=[],V=[],Z=numeric.ccsTSolve,Q,J,te,oe,ue,se,le=0;for(Q=0;Q<M;++Q){for(ue=0,te=f[Q],oe=f[Q+1],J=te;J<oe;++J)se=t.Pinv[g[J]],F[ue]=se,N[se]=v[J],++ue;for(F.length=ue,Z(s,N,I,F,P),J=F.length-1;J!==-1;--J)N[F[J]]=0;if(Z(u,I,N,P,F),d)return N;for(J=P.length-1;J!==-1;--J)I[P[J]]=0;for(J=F.length-1;J!==-1;--J)se=F[J],U[le]=se,V[le]=N[se],N[se]=0,++le;j[Q+1]=le}return[j,U,V]},numeric.ccsbinop=function(t,n){return typeof n>"u"&&(n=""),Function("X","Y",`var Xi = X[0], Xj = X[1], Xv = X[2];
var Yi = Y[0], Yj = Y[1], Yv = Y[2];
var n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;
var Zi = numeric.rep([n+1],0), Zj = [], Zv = [];
var x = numeric.rep([m],0),y = numeric.rep([m],0);
var xk,yk,zk;
var i,j,j0,j1,k,p=0;
`+n+`for(i=0;i<n;++i) {
  j0 = Xi[i]; j1 = Xi[i+1];
  for(j=j0;j!==j1;++j) {
    k = Xj[j];
    x[k] = 1;
    Zj[p] = k;
    ++p;
  }
  j0 = Yi[i]; j1 = Yi[i+1];
  for(j=j0;j!==j1;++j) {
    k = Yj[j];
    y[k] = Yv[j];
    if(x[k] === 0) {
      Zj[p] = k;
      ++p;
    }
  }
  Zi[i+1] = p;
  j0 = Xi[i]; j1 = Xi[i+1];
  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];
  j0 = Zi[i]; j1 = Zi[i+1];
  for(j=j0;j!==j1;++j) {
    k = Zj[j];
    xk = x[k];
    yk = y[k];
`+t+`
    Zv[j] = zk;
  }
  j0 = Xi[i]; j1 = Xi[i+1];
  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;
  j0 = Yi[i]; j1 = Yi[i+1];
  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;
}
return [Zi,Zj,Zv];`)},function(){var k,A,B,C;for(k in numeric.ops2)isFinite(eval("1"+numeric.ops2[k]+"0"))?A="[Y[0],Y[1],numeric."+k+"(X,Y[2])]":A="NaN",isFinite(eval("0"+numeric.ops2[k]+"1"))?B="[X[0],X[1],numeric."+k+"(X[2],Y)]":B="NaN",isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?C="numeric.ccs"+k+"MM(X,Y)":C="NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+`;
if(typeof Y === "number") return `+B+`;
return `+C+`;
`)}(),numeric.ccsScatter=function e(t){var n=t[0],s=t[1],u=t[2],f=numeric.sup(s)+1,d=n.length,g=numeric.rep([f],0),v=Array(d),S=Array(d),M=numeric.rep([f],0),I;for(I=0;I<d;++I)M[s[I]]++;for(I=0;I<f;++I)g[I+1]=g[I]+M[I];var P=g.slice(0),N,F;for(I=0;I<d;++I)F=s[I],N=P[F],v[N]=n[I],S[N]=u[I],P[F]=P[F]+1;return[g,v,S]},numeric.ccsGather=function e(t){var n=t[0],s=t[1],u=t[2],f=n.length-1,d=s.length,g=Array(d),v=Array(d),S=Array(d),M,I,P,N,F;for(F=0,M=0;M<f;++M)for(P=n[M],N=n[M+1],I=P;I!==N;++I)v[F]=M,g[F]=s[I],S[F]=u[I],++F;return[g,v,S]},numeric.sdim=function e(t,n,s){if(typeof n>"u"&&(n=[]),typeof t!="object")return n;typeof s>"u"&&(s=0),s in n||(n[s]=0),t.length>n[s]&&(n[s]=t.length);var u;for(u in t)t.hasOwnProperty(u)&&e(t[u],n,s+1);return n},numeric.sclone=function e(t,n,s){typeof n>"u"&&(n=0),typeof s>"u"&&(s=numeric.sdim(t).length);var u,f=Array(t.length);if(n===s-1){for(u in t)t.hasOwnProperty(u)&&(f[u]=t[u]);return f}for(u in t)t.hasOwnProperty(u)&&(f[u]=e(t[u],n+1,s));return f},numeric.sdiag=function e(t){var n=t.length,s,u=Array(n),f;for(s=n-1;s>=1;s-=2)f=s-1,u[s]=[],u[s][s]=t[s],u[f]=[],u[f][f]=t[f];return s===0&&(u[0]=[],u[0][0]=t[s]),u},numeric.sidentity=function e(t){return numeric.sdiag(numeric.rep([t],1))},numeric.stranspose=function e(t){var n=[];t.length;var s,u,f;for(s in t)if(t.hasOwnProperty(s)){f=t[s];for(u in f)f.hasOwnProperty(u)&&(typeof n[u]!="object"&&(n[u]=[]),n[u][s]=f[u])}return n},numeric.sLUP=function e(t,n){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function e(t,n){var s=t.length;n.length;var u=numeric.stranspose(n),f=u.length,d,g,v,S,M,I,P=Array(s),N;for(v=s-1;v>=0;v--){for(N=[],d=t[v],M=f-1;M>=0;M--){I=0,g=u[M];for(S in d)d.hasOwnProperty(S)&&S in g&&(I+=d[S]*g[S]);I&&(N[M]=I)}P[v]=N}return P},numeric.sdotMV=function e(t,n){var s=t.length,u,f,d,g=Array(s),v;for(f=s-1;f>=0;f--){u=t[f],v=0;for(d in u)u.hasOwnProperty(d)&&n[d]&&(v+=u[d]*n[d]);v&&(g[f]=v)}return g},numeric.sdotVM=function e(t,n){var s,u,f,d,g=[];for(s in t)if(t.hasOwnProperty(s)){f=n[s],d=t[s];for(u in f)f.hasOwnProperty(u)&&(g[u]||(g[u]=0),g[u]+=d*f[u])}return g},numeric.sdotVV=function e(t,n){var s,u=0;for(s in t)t[s]&&n[s]&&(u+=t[s]*n[s]);return u},numeric.sdot=function e(t,n){var s=numeric.sdim(t).length,u=numeric.sdim(n).length,f=s*1e3+u;switch(f){case 0:return t*n;case 1001:return numeric.sdotVV(t,n);case 2001:return numeric.sdotMV(t,n);case 1002:return numeric.sdotVM(t,n);case 2002:return numeric.sdotMM(t,n);default:throw new Error("numeric.sdot not implemented for tensors of order "+s+" and "+u)}},numeric.sscatter=function e(t){var n=t[0].length,s,u,f,d=t.length,g=[],v;for(u=n-1;u>=0;--u)if(t[d-1][u]){for(v=g,f=0;f<d-2;f++)s=t[f][u],v[s]||(v[s]=[]),v=v[s];v[t[f][u]]=t[f+1][u]}return g},numeric.sgather=function e(t,n,s){typeof n>"u"&&(n=[]),typeof s>"u"&&(s=[]);var u,f,d;u=s.length;for(f in t)if(t.hasOwnProperty(f))if(s[u]=parseInt(f),d=t[f],typeof d=="number"){if(d){if(n.length===0)for(f=u+1;f>=0;--f)n[f]=[];for(f=u;f>=0;--f)n[f].push(s[f]);n[u+1].push(d)}}else e(d,n,s);return s.length>u&&s.pop(),n},numeric.cLU=function e(t){var n=t[0],s=t[1],u=t[2],le=n.length,f=0,d,g,v,S,M,I;for(d=0;d<le;d++)n[d]>f&&(f=n[d]);f++;var P=Array(f),N=Array(f),F=numeric.rep([f],1/0),j=numeric.rep([f],-1/0),Q,J,U;for(v=0;v<le;v++)d=n[v],g=s[v],g<F[d]&&(F[d]=g),g>j[d]&&(j[d]=g);for(d=0;d<f-1;d++)j[d]>j[d+1]&&(j[d+1]=j[d]);for(d=f-1;d>=1;d--)F[d]<F[d-1]&&(F[d-1]=F[d]);var V=0,Z=0;for(d=0;d<f;d++)N[d]=numeric.rep([j[d]-F[d]+1],0),P[d]=numeric.rep([d-F[d]],0),V+=d-F[d]+1,Z+=j[d]-d+1;for(v=0;v<le;v++)d=n[v],N[d][s[v]-F[d]]=u[v];for(d=0;d<f-1;d++)for(S=d-F[d],Q=N[d],g=d+1;F[g]<=d&&g<f;g++)if(M=d-F[g],I=j[d]-d,J=N[g],U=J[M]/Q[S],U){for(v=1;v<=I;v++)J[v+M]-=U*Q[v+S];P[g][d-F[g]]=U}var Q=[],J=[],te=[],oe=[],ue=[],se=[],le,de,ge;for(le=0,de=0,d=0;d<f;d++){for(S=F[d],M=j[d],ge=N[d],g=d;g<=M;g++)ge[g-S]&&(Q[le]=d,J[le]=g,te[le]=ge[g-S],le++);for(ge=P[d],g=S;g<d;g++)ge[g-S]&&(oe[de]=d,ue[de]=g,se[de]=ge[g-S],de++);oe[de]=d,ue[de]=d,se[de]=1,de++}return{U:[Q,J,te],L:[oe,ue,se]}},numeric.cLUsolve=function e(t,n){var s=t.L,u=t.U,f=numeric.clone(n),d=s[0],g=s[1],v=s[2],S=u[0],M=u[1],I=u[2],P=S.length;d.length;var N=f.length,F,j;for(j=0,F=0;F<N;F++){for(;g[j]<F;)f[F]-=v[j]*f[g[j]],j++;j++}for(j=P-1,F=N-1;F>=0;F--){for(;M[j]>F;)f[F]-=I[j]*f[M[j]],j--;f[F]/=I[j],j--}return f},numeric.cgrid=function e(t,n){typeof t=="number"&&(t=[t,t]);var s=numeric.rep(t,-1),u,f,d;if(typeof n!="function")switch(n){case"L":n=function(g,v){return g>=t[0]/2||v<t[1]/2};break;default:n=function(g,v){return!0};break}for(d=0,u=1;u<t[0]-1;u++)for(f=1;f<t[1]-1;f++)n(u,f)&&(s[u][f]=d,d++);return s},numeric.cdelsq=function e(t){var n=[[-1,0],[0,-1],[0,1],[1,0]],s=numeric.dim(t),u=s[0],f=s[1],d,g,v,S,M,I=[],P=[],N=[];for(d=1;d<u-1;d++)for(g=1;g<f-1;g++)if(!(t[d][g]<0)){for(v=0;v<4;v++)S=d+n[v][0],M=g+n[v][1],!(t[S][M]<0)&&(I.push(t[d][g]),P.push(t[S][M]),N.push(-1));I.push(t[d][g]),P.push(t[d][g]),N.push(4)}return[I,P,N]},numeric.cdotMV=function e(t,n){var s,u=t[0],f=t[1],d=t[2],g,v=u.length,S;for(S=0,g=0;g<v;g++)u[g]>S&&(S=u[g]);for(S++,s=numeric.rep([S],0),g=0;g<v;g++)s[u[g]]+=d[g]*n[f[g]];return s},numeric.Spline=function e(t,n,s,u,f){this.x=t,this.yl=n,this.yr=s,this.kl=u,this.kr=f},numeric.Spline.prototype._at=function e(v,n){var s=this.x,u=this.yl,f=this.yr,d=this.kl,g=this.kr,v,S,M,I,P=numeric.add,N=numeric.sub,F=numeric.mul;S=N(F(d[n],s[n+1]-s[n]),N(f[n+1],u[n])),M=P(F(g[n+1],s[n]-s[n+1]),N(f[n+1],u[n])),I=(v-s[n])/(s[n+1]-s[n]);var j=I*(1-I);return P(P(P(F(1-I,u[n]),F(I,f[n+1])),F(S,j*(1-I))),F(M,j*I))},numeric.Spline.prototype.at=function e(t){if(typeof t=="number"){var n=this.x,g=n.length,s,u,f,d=Math.floor;for(s=0,u=g-1;u-s>1;)f=d((s+u)/2),n[f]<=t?s=f:u=f;return this._at(t,s)}var g=t.length,v,S=Array(g);for(v=g-1;v!==-1;--v)S[v]=this.at(t[v]);return S},numeric.Spline.prototype.diff=function e(){var t=this.x,n=this.yl,s=this.yr,u=this.kl,f=this.kr,d=n.length,g,v,S,M=u,I=f,P=Array(d),N=Array(d),F=numeric.add,j=numeric.mul,U=numeric.div,V=numeric.sub;for(g=d-1;g!==-1;--g)v=t[g+1]-t[g],S=V(s[g+1],n[g]),P[g]=U(F(j(S,6),j(u[g],-4*v),j(f[g+1],-2*v)),v*v),N[g+1]=U(F(j(S,-6),j(u[g],2*v),j(f[g+1],4*v)),v*v);return new numeric.Spline(t,M,I,P,N)},numeric.Spline.prototype.roots=function e(){function t(Be){return Be*Be}var U=[],n=this.x,s=this.yl,u=this.yr,f=this.kl,d=this.kr;typeof s[0]=="number"&&(s=[s],u=[u],f=[f],d=[d]);var g=s.length,v=n.length-1,S,M,I,P,N,F,j,U=Array(g),V,Z,Q,J,te,oe,ue,se,le,de,ge,ve,me,ye,Ae,Te,Oe=Math.sqrt;for(S=0;S!==g;++S){for(P=s[S],N=u[S],F=f[S],j=d[S],V=[],M=0;M!==v;M++){for(M>0&&N[M]*P[M]<0&&V.push(n[M]),le=n[M+1]-n[M],n[M],J=P[M],te=N[M+1],Z=F[M]/le,Q=j[M+1]/le,se=t(Z-Q+3*(J-te))+12*Q*J,oe=Q+3*J+2*Z-3*te,ue=3*(Q+Z+2*(J-te)),se<=0?(ge=oe/ue,ge>n[M]&&ge<n[M+1]?de=[n[M],ge,n[M+1]]:de=[n[M],n[M+1]]):(ge=(oe-Oe(se))/ue,ve=(oe+Oe(se))/ue,de=[n[M]],ge>n[M]&&ge<n[M+1]&&de.push(ge),ve>n[M]&&ve<n[M+1]&&de.push(ve),de.push(n[M+1])),ye=de[0],ge=this._at(ye,M),I=0;I<de.length-1;I++){if(Ae=de[I+1],ve=this._at(Ae,M),ge===0){V.push(ye),ye=Ae,ge=ve;continue}if(ve===0||ge*ve>0){ye=Ae,ge=ve;continue}for(var Ie=0;Te=(ge*Ae-ve*ye)/(ge-ve),!(Te<=ye||Te>=Ae);)if(me=this._at(Te,M),me*ve>0)Ae=Te,ve=me,Ie===-1&&(ge*=.5),Ie=-1;else if(me*ge>0)ye=Te,ge=me,Ie===1&&(ve*=.5),Ie=1;else break;V.push(Te),ye=de[I+1],ge=this._at(ye,M)}ve===0&&V.push(Ae)}U[S]=V}return typeof this.yl[0]=="number"?U[0]:U},numeric.spline=function e(t,n,s,u){var f=t.length,d=[],g=[],v=[],S,M=numeric.sub,I=numeric.mul,P=numeric.add;for(S=f-2;S>=0;S--)g[S]=t[S+1]-t[S],v[S]=M(n[S+1],n[S]);(typeof s=="string"||typeof u=="string")&&(s=u="periodic");var N=[[],[],[]];switch(typeof s){case"undefined":d[0]=I(3/(g[0]*g[0]),v[0]),N[0].push(0,0),N[1].push(0,1),N[2].push(2/g[0],1/g[0]);break;case"string":d[0]=P(I(3/(g[f-2]*g[f-2]),v[f-2]),I(3/(g[0]*g[0]),v[0])),N[0].push(0,0,0),N[1].push(f-2,0,1),N[2].push(1/g[f-2],2/g[f-2]+2/g[0],1/g[0]);break;default:d[0]=s,N[0].push(0),N[1].push(0),N[2].push(1);break}for(S=1;S<f-1;S++)d[S]=P(I(3/(g[S-1]*g[S-1]),v[S-1]),I(3/(g[S]*g[S]),v[S])),N[0].push(S,S,S),N[1].push(S-1,S,S+1),N[2].push(1/g[S-1],2/g[S-1]+2/g[S],1/g[S]);switch(typeof u){case"undefined":d[f-1]=I(3/(g[f-2]*g[f-2]),v[f-2]),N[0].push(f-1,f-1),N[1].push(f-2,f-1),N[2].push(1/g[f-2],2/g[f-2]);break;case"string":N[1][N[1].length-1]=0;break;default:d[f-1]=u,N[0].push(f-1),N[1].push(f-1),N[2].push(1);break}typeof d[0]!="number"?d=numeric.transpose(d):d=[d];var F=Array(d.length);if(typeof s=="string")for(S=F.length-1;S!==-1;--S)F[S]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(N)),d[S]),F[S][f-1]=F[S][0];else for(S=F.length-1;S!==-1;--S)F[S]=numeric.cLUsolve(numeric.cLU(N),d[S]);return typeof n[0]=="number"?F=F[0]:F=numeric.transpose(F),new numeric.Spline(t,n,n,F,F)},numeric.fftpow2=function e(t,n){var s=t.length;if(s!==1){var u=Math.cos,f=Math.sin,d,g,v=Array(s/2),S=Array(s/2),M=Array(s/2),I=Array(s/2);for(g=s/2,d=s-1;d!==-1;--d)--g,M[g]=t[d],I[g]=n[d],--d,v[g]=t[d],S[g]=n[d];e(v,S),e(M,I),g=s/2;var P,N=-6.283185307179586/s,F,j;for(d=s-1;d!==-1;--d)--g,g===-1&&(g=s/2-1),P=N*d,F=u(P),j=f(P),t[d]=v[g]+F*M[g]-j*I[g],n[d]=S[g]+F*I[g]+j*M[g]}},numeric._ifftpow2=function e(t,n){var s=t.length;if(s!==1){var u=Math.cos,f=Math.sin,d,g,v=Array(s/2),S=Array(s/2),M=Array(s/2),I=Array(s/2);for(g=s/2,d=s-1;d!==-1;--d)--g,M[g]=t[d],I[g]=n[d],--d,v[g]=t[d],S[g]=n[d];e(v,S),e(M,I),g=s/2;var P,N=6.283185307179586/s,F,j;for(d=s-1;d!==-1;--d)--g,g===-1&&(g=s/2-1),P=N*d,F=u(P),j=f(P),t[d]=v[g]+F*M[g]-j*I[g],n[d]=S[g]+F*I[g]+j*M[g]}},numeric.ifftpow2=function e(t,n){numeric._ifftpow2(t,n),numeric.diveq(t,t.length),numeric.diveq(n,n.length)},numeric.convpow2=function e(t,n,s,u){numeric.fftpow2(t,n),numeric.fftpow2(s,u);var f,d=t.length,g,v,S,M;for(f=d-1;f!==-1;--f)g=t[f],S=n[f],v=s[f],M=u[f],t[f]=g*v-S*M,n[f]=g*M+S*v;numeric.ifftpow2(t,n)},numeric.T.prototype.fft=function e(){var t=this.x,n=this.y,s=t.length,u=Math.log,f=u(2),d=Math.ceil(u(2*s-1)/f),g=Math.pow(2,d),v=numeric.rep([g],0),S=numeric.rep([g],0),M=Math.cos,I=Math.sin,P,N=-3.141592653589793/s,F,j=numeric.rep([g],0),U=numeric.rep([g],0);for(P=0;P<s;P++)j[P]=t[P];if(typeof n<"u")for(P=0;P<s;P++)U[P]=n[P];for(v[0]=1,P=1;P<=g/2;P++)F=N*P*P,v[P]=M(F),S[P]=I(F),v[g-P]=M(F),S[g-P]=I(F);var V=new numeric.T(j,U),Z=new numeric.T(v,S);return V=V.mul(Z),numeric.convpow2(V.x,V.y,numeric.clone(Z.x),numeric.neg(Z.y)),V=V.mul(Z),V.x.length=s,V.y.length=s,V},numeric.T.prototype.ifft=function e(){var t=this.x,n=this.y,s=t.length,u=Math.log,f=u(2),d=Math.ceil(u(2*s-1)/f),g=Math.pow(2,d),v=numeric.rep([g],0),S=numeric.rep([g],0),M=Math.cos,I=Math.sin,P,N=3.141592653589793/s,F,j=numeric.rep([g],0),U=numeric.rep([g],0);for(P=0;P<s;P++)j[P]=t[P];if(typeof n<"u")for(P=0;P<s;P++)U[P]=n[P];for(v[0]=1,P=1;P<=g/2;P++)F=N*P*P,v[P]=M(F),S[P]=I(F),v[g-P]=M(F),S[g-P]=I(F);var V=new numeric.T(j,U),Z=new numeric.T(v,S);return V=V.mul(Z),numeric.convpow2(V.x,V.y,numeric.clone(Z.x),numeric.neg(Z.y)),V=V.mul(Z),V.x.length=s,V.y.length=s,V.div(s)},numeric.gradient=function e(t,n){var s=n.length,u=t(n);if(isNaN(u))throw new Error("gradient: f(x) is a NaN!");var I=Math.max,f,d=numeric.clone(n),g,v,S=Array(s);numeric.div,numeric.sub;var M,I=Math.max,P=.001,N=Math.abs,F=Math.min,j,U,V,Z=0,Q,J,te;for(f=0;f<s;f++)for(var oe=I(1e-6*u,1e-8);;){if(++Z,Z>20)throw new Error("Numerical gradient fails");if(d[f]=n[f]+oe,g=t(d),d[f]=n[f]-oe,v=t(d),d[f]=n[f],isNaN(g)||isNaN(v)){oe/=16;continue}if(S[f]=(g-v)/(2*oe),j=n[f]-oe,U=n[f],V=n[f]+oe,Q=(g-u)/oe,J=(u-v)/oe,te=I(N(S[f]),N(u),N(g),N(v),N(j),N(U),N(V),1e-8),M=F(I(N(Q-S[f]),N(J-S[f]),N(Q-J))/te,oe/te),M>P)oe/=16;else break}return S},numeric.uncmin=function e(t,n,s,u,f,d,g){var v=numeric.gradient;typeof g>"u"&&(g={}),typeof s>"u"&&(s=1e-8),typeof u>"u"&&(u=function(Pe){return v(t,Pe)}),typeof f>"u"&&(f=1e3),n=numeric.clone(n);var S=n.length,M=t(n),I,P;if(isNaN(M))throw new Error("uncmin: f(x0) is a NaN!");var N=Math.max,F=numeric.norm2;s=N(s,numeric.epsilon);var j,U,V,Z=g.Hinv||numeric.identity(S),Q=numeric.dot;numeric.inv;var J=numeric.sub,te=numeric.add,oe=numeric.tensor,ue=numeric.div,se=numeric.mul,le=numeric.all,de=numeric.isFinite,ge=numeric.neg,ve=0,me,ye,Ae,Te,Oe,Ie,Be,De="";for(U=u(n);ve<f;){if(typeof d=="function"&&d(ve,n,M,U,Z)){De="Callback returned true";break}if(!le(de(U))){De="Gradient has Infinity or NaN";break}if(j=ge(Q(Z,U)),!le(de(j))){De="Search direction has Infinity or NaN";break}if(Be=F(j),Be<s){De="Newton step smaller than tol";break}for(Ie=1,P=Q(U,j),ye=n;ve<f&&!(Ie*Be<s);){if(me=se(j,Ie),ye=te(n,me),I=t(ye),I-M>=.1*Ie*P||isNaN(I)){Ie*=.5,++ve;continue}break}if(Ie*Be<s){De="Line search step size smaller than tol";break}if(ve===f){De="maxit reached during line search";break}V=u(ye),Ae=J(V,U),Oe=Q(Ae,me),Te=Q(Z,Ae),Z=J(te(Z,se((Oe+Q(Ae,Te))/(Oe*Oe),oe(me,me))),ue(te(oe(Te,me),oe(me,Te)),Oe)),n=ye,M=I,U=V,++ve}return{solution:n,f:M,gradient:U,invHessian:Z,iterations:ve,message:De}},numeric.Dopri=function e(t,n,s,u,f,d,g){this.x=t,this.y=n,this.f=s,this.ymid=u,this.iterations=f,this.events=g,this.message=d},numeric.Dopri.prototype._at=function e(j,n){function s(se){return se*se}var u=this,f=u.x,d=u.y,g=u.f,v=u.ymid;f.length;var S,M,I,P,N,F,j,U,V=.5,Z=numeric.add,Q=numeric.mul,J=numeric.sub,te,oe,ue;return S=f[n],M=f[n+1],P=d[n],N=d[n+1],U=M-S,I=S+V*U,F=v[n],te=J(g[n],Q(P,1/(S-I)+2/(S-M))),oe=J(g[n+1],Q(N,1/(M-I)+2/(M-S))),ue=[s(j-M)*(j-I)/s(S-M)/(S-I),s(j-S)*s(j-M)/s(S-I)/s(M-I),s(j-S)*(j-I)/s(M-S)/(M-I),(j-S)*s(j-M)*(j-I)/s(S-M)/(S-I),(j-M)*s(j-S)*(j-I)/s(S-M)/(M-I)],Z(Z(Z(Z(Q(P,ue[0]),Q(F,ue[1])),Q(N,ue[2])),Q(te,ue[3])),Q(oe,ue[4]))},numeric.Dopri.prototype.at=function e(t){var n,s,u,f=Math.floor;if(typeof t!="number"){var d=t.length,g=Array(d);for(n=d-1;n!==-1;--n)g[n]=this.at(t[n]);return g}var v=this.x;for(n=0,s=v.length-1;s-n>1;)u=f(.5*(n+s)),v[u]<=t?n=u:s=u;return this._at(t,n)},numeric.dopri=function e(t,n,s,u,f,d,g){typeof f>"u"&&(f=1e-6),typeof d>"u"&&(d=1e3);var v=[t],S=[s],M=[u(t,s)],I,P,N,F,j,U,V=[],Z=1/5,Q=[3/40,9/40],J=[44/45,-56/15,32/9],te=[19372/6561,-25360/2187,64448/6561,-212/729],oe=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],ue=[35/384,0,500/1113,125/192,-2187/6784,11/84],se=[.5*6025192743/30085553152,0,.5*51252292925/65400821598,.5*-2691868925/45128329728,.5*187940372067/1594534317056,.5*-1776094331/19743644256,.5*11237099/235043384],le=[1/5,3/10,4/5,8/9,1,1],de=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,1/40],ge=0,ve,me,ye=(n-t)/10,Ae=0,Te=numeric.add,Oe=numeric.mul,Ie,Be,De=Math.min,Pe=Math.abs,Ne=numeric.norminf,He=Math.pow,je=numeric.any,ze=numeric.lt,Ve=numeric.and;numeric.sub;var Ye,nt,Fe,Qe=new numeric.Dopri(v,S,M,V,-1,"");for(typeof g=="function"&&(Ye=g(t,s));t<n&&Ae<d;){if(++Ae,t+ye>n&&(ye=n-t),I=u(t+le[0]*ye,Te(s,Oe(Z*ye,M[ge]))),P=u(t+le[1]*ye,Te(Te(s,Oe(Q[0]*ye,M[ge])),Oe(Q[1]*ye,I))),N=u(t+le[2]*ye,Te(Te(Te(s,Oe(J[0]*ye,M[ge])),Oe(J[1]*ye,I)),Oe(J[2]*ye,P))),F=u(t+le[3]*ye,Te(Te(Te(Te(s,Oe(te[0]*ye,M[ge])),Oe(te[1]*ye,I)),Oe(te[2]*ye,P)),Oe(te[3]*ye,N))),j=u(t+le[4]*ye,Te(Te(Te(Te(Te(s,Oe(oe[0]*ye,M[ge])),Oe(oe[1]*ye,I)),Oe(oe[2]*ye,P)),Oe(oe[3]*ye,N)),Oe(oe[4]*ye,F))),Ie=Te(Te(Te(Te(Te(s,Oe(M[ge],ye*ue[0])),Oe(P,ye*ue[2])),Oe(N,ye*ue[3])),Oe(F,ye*ue[4])),Oe(j,ye*ue[5])),U=u(t+ye,Ie),ve=Te(Te(Te(Te(Te(Oe(M[ge],ye*de[0]),Oe(P,ye*de[2])),Oe(N,ye*de[3])),Oe(F,ye*de[4])),Oe(j,ye*de[5])),Oe(U,ye*de[6])),typeof ve=="number"?Be=Pe(ve):Be=Ne(ve),Be>f){if(ye=.2*ye*He(f/Be,.25),t+ye===t){Qe.msg="Step size became too small";break}continue}if(V[ge]=Te(Te(Te(Te(Te(Te(s,Oe(M[ge],ye*se[0])),Oe(P,ye*se[2])),Oe(N,ye*se[3])),Oe(F,ye*se[4])),Oe(j,ye*se[5])),Oe(U,ye*se[6])),++ge,v[ge]=t+ye,S[ge]=Ie,M[ge]=U,typeof g=="function"){var it,at=t,wt=t+.5*ye,st;if(nt=g(wt,V[ge-1]),Fe=Ve(ze(Ye,0),ze(0,nt)),je(Fe)||(at=wt,wt=t+ye,Ye=nt,nt=g(wt,Ie),Fe=Ve(ze(Ye,0),ze(0,nt))),je(Fe)){for(var ft,Dt,ut=0,_t=1,Bt=1;;){if(typeof Ye=="number")st=(Bt*nt*at-_t*Ye*wt)/(Bt*nt-_t*Ye);else for(st=wt,me=Ye.length-1;me!==-1;--me)Ye[me]<0&&nt[me]>0&&(st=De(st,(Bt*nt[me]*at-_t*Ye[me]*wt)/(Bt*nt[me]-_t*Ye[me])));if(st<=at||st>=wt)break;it=Qe._at(st,ge-1),Dt=g(st,it),ft=Ve(ze(Ye,0),ze(0,Dt)),je(ft)?(wt=st,nt=Dt,Fe=ft,Bt=1,ut===-1?_t*=.5:_t=1,ut=-1):(at=st,Ye=Dt,_t=1,ut===1?Bt*=.5:Bt=1,ut=1)}return Ie=Qe._at(.5*(t+st),ge-1),Qe.f[ge]=u(st,it),Qe.x[ge]=st,Qe.y[ge]=it,Qe.ymid[ge-1]=Ie,Qe.events=Fe,Qe.iterations=Ae,Qe}}t+=ye,s=Ie,Ye=nt,ye=De(.8*ye*He(f/Be,.25),4*ye)}return Qe.iterations=Ae,Qe},numeric.LU=function(e,t){t=t||!1;var n=Math.abs,s,u,f,d,g,v,S,M,I,P=e.length,N=P-1,F=new Array(P);for(t||(e=numeric.clone(e)),f=0;f<P;++f){for(S=f,v=e[f],I=n(v[f]),u=f+1;u<P;++u)d=n(e[u][f]),I<d&&(I=d,S=u);for(F[f]=S,S!=f&&(e[f]=e[S],e[S]=v,v=e[f]),g=v[f],s=f+1;s<P;++s)e[s][f]/=g;for(s=f+1;s<P;++s){for(M=e[s],u=f+1;u<N;++u)M[u]-=M[f]*v[u],++u,M[u]-=M[f]*v[u];u===N&&(M[u]-=M[f]*v[u])}}return{LU:e,P:F}},numeric.LUsolve=function e(t,n){var s,u,f=t.LU,d=f.length,g=numeric.clone(n),v=t.P,S,M,I;for(s=d-1;s!==-1;--s)g[s]=n[s];for(s=0;s<d;++s)for(S=v[s],v[s]!==s&&(I=g[s],g[s]=g[S],g[S]=I),M=f[s],u=0;u<s;++u)g[s]-=g[u]*M[u];for(s=d-1;s>=0;--s){for(M=f[s],u=s+1;u<d;++u)g[s]-=g[u]*M[u];g[s]/=M[s]}return g},numeric.solve=function e(t,n,s){return numeric.LUsolve(numeric.LU(t,s),n)},numeric.echelonize=function e(t){var n=numeric.dim(t),s=n[0],u=n[1],f=numeric.identity(s),d=Array(s),g,v,S,M,I,P,N,F,j=Math.abs,U=numeric.diveq;for(t=numeric.clone(t),g=0;g<s;++g){for(S=0,I=t[g],P=f[g],v=1;v<u;++v)j(I[S])<j(I[v])&&(S=v);for(d[g]=S,U(P,I[S]),U(I,I[S]),v=0;v<s;++v)if(v!==g){for(N=t[v],F=N[S],M=u-1;M!==-1;--M)N[M]-=I[M]*F;for(N=f[v],M=s-1;M!==-1;--M)N[M]-=P[M]*F}}return{I:f,A:t,P:d}},numeric.__solveLP=function e(t,n,s,u,f,d,g){var v=numeric.sum;numeric.log;var S=numeric.mul,M=numeric.sub,I=numeric.dot,P=numeric.div,N=numeric.add,F=t.length,j=s.length,U,V=!1,Z=0,Q=1;numeric.transpose(n),numeric.svd;var J=numeric.transpose;numeric.leq;var te=Math.sqrt,oe=Math.abs;numeric.muleq,numeric.norminf,numeric.any;var ue=Math.min,se=numeric.all,le=numeric.gt,de=Array(F),ge=Array(j);numeric.rep([j],1);var ve,me=numeric.solve,ye=M(s,I(n,d)),Ae,Te=I(t,t),Oe;for(Ae=Z;Ae<f;++Ae){var Ie,Be;for(Ie=j-1;Ie!==-1;--Ie)ge[Ie]=P(n[Ie],ye[Ie]);var De=J(ge);for(Ie=F-1;Ie!==-1;--Ie)de[Ie]=v(De[Ie]);Q=.25*oe(Te/I(t,de));var Pe=100*te(Te/I(de,de));for((!isFinite(Q)||Q>Pe)&&(Q=Pe),Oe=N(t,S(Q,de)),ve=I(De,ge),Ie=F-1;Ie!==-1;--Ie)ve[Ie][Ie]+=1;Be=me(ve,P(Oe,Q),!0);var Ne=P(ye,I(n,Be)),He=1;for(Ie=j-1;Ie!==-1;--Ie)Ne[Ie]<0&&(He=ue(He,-.999*Ne[Ie]));if(U=M(d,S(Be,He)),ye=M(s,I(n,U)),!se(le(ye,0)))return{solution:d,message:"",iterations:Ae};if(d=U,Q<u)return{solution:U,message:"",iterations:Ae};if(g){var je=I(t,Oe),ze=I(n,Oe);for(V=!0,Ie=j-1;Ie!==-1;--Ie)if(je*ze[Ie]<0){V=!1;break}}else d[F-1]>=0?V=!1:V=!0;if(V)return{solution:U,message:"Unbounded",iterations:Ae}}return{solution:d,message:"maximum iteration count exceeded",iterations:Ae}},numeric._solveLP=function e(t,n,s,u,f){var d=t.length,g=s.length,F;numeric.sum,numeric.log,numeric.mul;var v=numeric.sub,S=numeric.dot;numeric.div,numeric.add;var M=numeric.rep([d],0).concat([1]),I=numeric.rep([g,1],-1),P=numeric.blockMatrix([[n,I]]),N=s,F=numeric.rep([d],0).concat(Math.max(0,numeric.sup(numeric.neg(s)))+1),j=numeric.__solveLP(M,P,N,u,f,F,!1),U=numeric.clone(j.solution);U.length=d;var V=numeric.inf(v(s,S(n,U)));if(V<0)return{solution:NaN,message:"Infeasible",iterations:j.iterations};var Z=numeric.__solveLP(t,n,s,u,f-j.iterations,U,!0);return Z.iterations+=j.iterations,Z},numeric.solveLP=function e(t,n,s,u,f,d,g){if(typeof g>"u"&&(g=1e3),typeof d>"u"&&(d=numeric.epsilon),typeof u>"u")return numeric._solveLP(t,n,s,d,g);var v=u.length,S=u[0].length,M=n.length,I=numeric.echelonize(u),P=numeric.rep([S],0),N=I.P,F=[],j;for(j=N.length-1;j!==-1;--j)P[N[j]]=1;for(j=S-1;j!==-1;--j)P[j]===0&&F.push(j);var U=numeric.getRange,V=numeric.linspace(0,v-1),Z=numeric.linspace(0,M-1),Q=U(u,V,F),J=U(n,Z,N),te=U(n,Z,F),oe=numeric.dot,ue=numeric.sub,se=oe(J,I.I),le=ue(te,oe(se,Q)),de=ue(s,oe(se,f)),ge=Array(N.length),ve=Array(F.length);for(j=N.length-1;j!==-1;--j)ge[j]=t[N[j]];for(j=F.length-1;j!==-1;--j)ve[j]=t[F[j]];var me=ue(ve,oe(ge,oe(I.I,Q))),ye=numeric._solveLP(me,le,de,d,g),Ae=ye.solution;if(Ae!==Ae)return ye;var Te=oe(I.I,ue(f,oe(Q,Ae))),Oe=Array(t.length);for(j=N.length-1;j!==-1;--j)Oe[N[j]]=Te[j];for(j=F.length-1;j!==-1;--j)Oe[F[j]]=Ae[j];return{solution:Oe,message:ye.message,iterations:ye.iterations}},numeric.MPStoLP=function e(t){t instanceof String&&t.split(`
`);var n=0,s=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],u=t.length,f,d,g,v=0,S={},M=[],I=0,P={},N=0,F,j=[],U=[],V=[];function Z(ue){throw new Error("MPStoLP: "+ue+`
Line `+f+": "+t[f]+`
Current state: `+s[n]+`
`)}for(f=0;f<u;++f){g=t[f];var Q=g.match(/\S*/g),J=[];for(d=0;d<Q.length;++d)Q[d]!==""&&J.push(Q[d]);if(J.length!==0){for(d=0;d<s.length&&g.substr(0,s[d].length)!==s[d];++d);if(d<s.length){if(n=d,d===1&&(F=J[1]),d===6)return{name:F,c:j,A:numeric.transpose(U),b:V,rows:S,vars:P};continue}switch(n){case 0:case 1:Z("Unexpected line");case 2:switch(J[0]){case"N":v===0?v=J[1]:Z("Two or more N rows");break;case"L":S[J[1]]=I,M[I]=1,V[I]=0,++I;break;case"G":S[J[1]]=I,M[I]=-1,V[I]=0,++I;break;case"E":S[J[1]]=I,M[I]=0,V[I]=0,++I;break;default:Z("Parse error "+numeric.prettyPrint(J))}break;case 3:P.hasOwnProperty(J[0])||(P[J[0]]=N,j[N]=0,U[N]=numeric.rep([I],0),++N);var te=P[J[0]];for(d=1;d<J.length;d+=2){if(J[d]===v){j[te]=parseFloat(J[d+1]);continue}var oe=S[J[d]];U[te][oe]=(M[oe]<0?-1:1)*parseFloat(J[d+1])}break;case 4:for(d=1;d<J.length;d+=2)V[S[J[d]]]=(M[S[J[d]]]<0?-1:1)*parseFloat(J[d+1]);break;case 5:break;case 6:Z("Internal error")}}}Z("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(e,t,n,s,u,f,d){t.seedrandom=function(P,N){var F=[],j;return P=S(v(N?[P,e]:arguments.length?P:[new Date().getTime(),e,window],3),F),j=new g(F),S(j.S,e),t.random=function(){for(var V=j.g(s),Z=d,Q=0;V<u;)V=(V+Q)*n,Z*=n,Q=j.g(1);for(;V>=f;)V/=2,Z/=2,Q>>>=1;return(V+Q)/Z},P};function g(I){var P,N,F=this,j=I.length,U=0,V=F.i=F.j=F.m=0;for(F.S=[],F.c=[],j||(I=[j++]);U<n;)F.S[U]=U++;for(U=0;U<n;U++)P=F.S[U],V=M(V+P+I[U%j]),N=F.S[V],F.S[U]=N,F.S[V]=P;F.g=function(Q){var J=F.S,te=M(F.i+1),oe=J[te],ue=M(F.j+oe),se=J[ue];J[te]=se,J[ue]=oe;for(var le=J[M(oe+se)];--Q;)te=M(te+1),oe=J[te],ue=M(ue+oe),se=J[ue],J[te]=se,J[ue]=oe,le=le*n+J[M(oe+se)];return F.i=te,F.j=ue,le},F.g(n)}function v(I,P,N,F,j){if(N=[],j=typeof I,P&&j=="object"){for(F in I)if(F.indexOf("S")<5)try{N.push(v(I[F],P-1))}catch{}}return N.length?N:I+(j!="string"?"\0":"")}function S(I,P,N,F){for(I+="",N=0,F=0;F<I.length;F++)P[M(F)]=M((N^=P[M(F)]*19)+I.charCodeAt(F));I="";for(F in P)I+=String.fromCharCode(P[F]);return I}function M(I){return I&n-1}d=t.pow(n,s),u=t.pow(2,u),f=u*2,S(t.random(),e)}([],numeric.seedrandom,256,6,52),function(e){function t(v){if(typeof v!="object")return v;var S=[],M,I=v.length;for(M=0;M<I;M++)S[M+1]=t(v[M]);return S}function n(v){if(typeof v!="object")return v;var S=[],M,I=v.length;for(M=1;M<I;M++)S[M-1]=n(v[M]);return S}function s(v,S,M){var I,P,N,F,j;for(N=1;N<=M;N=N+1){for(v[N][N]=1/v[N][N],j=-v[N][N],I=1;I<N;I=I+1)v[I][N]=j*v[I][N];if(F=N+1,M<F)break;for(P=F;P<=M;P=P+1)for(j=v[N][P],v[N][P]=0,I=1;I<=N;I=I+1)v[I][P]=v[I][P]+j*v[I][N]}}function u(v,S,M,I){var P,N,F,j;for(N=1;N<=M;N=N+1){for(j=0,P=1;P<N;P=P+1)j=j+v[P][N]*I[P];I[N]=(I[N]-j)/v[N][N]}for(F=1;F<=M;F=F+1)for(N=M+1-F,I[N]=I[N]/v[N][N],j=-I[N],P=1;P<N;P=P+1)I[P]=I[P]+j*v[P][N]}function f(v,S,M,I){var P,N,F,j,U,V;for(N=1;N<=M;N=N+1){if(I[1]=N,V=0,F=N-1,F<1){if(V=v[N][N]-V,V<=0)break;v[N][N]=Math.sqrt(V)}else{for(j=1;j<=F;j=j+1){for(U=v[j][N],P=1;P<j;P=P+1)U=U-v[P][N]*v[P][j];U=U/v[j][j],v[j][N]=U,V=V+U*U}if(V=v[N][N]-V,V<=0)break;v[N][N]=Math.sqrt(V)}I[1]=0}}function d(v,S,M,I,P,N,F,j,U,V,Z,Q,J,te,oe,ue){var se,le,de,ge,ve,me,ye,Ae,Te,Oe,Ie,Be,De,Pe,Ne,He,je,ze,Ve,Ye,nt,Fe,Qe,it,at,wt,st;De=Math.min(I,V),de=2*I+De*(De+5)/2+2*V+1,it=1e-60;do it=it+it,at=1+.1*it,wt=1+.2*it;while(at<=1||wt<=1);for(se=1;se<=I;se=se+1)oe[se]=S[se];for(se=I+1;se<=de;se=se+1)oe[se]=0;for(se=1;se<=V;se=se+1)Q[se]=0;if(ve=[],ue[1]===0){if(f(v,M,I,ve),ve[1]!==0){ue[1]=2;return}u(v,M,I,S),s(v,M,I)}else{for(le=1;le<=I;le=le+1)for(P[le]=0,se=1;se<=le;se=se+1)P[le]=P[le]+v[se][le]*S[se];for(le=1;le<=I;le=le+1)for(S[le]=0,se=le;se<=I;se=se+1)S[le]=S[le]+v[le][se]*P[se]}for(N[1]=0,le=1;le<=I;le=le+1)for(P[le]=S[le],N[1]=N[1]+oe[le]*P[le],oe[le]=0,se=le+1;se<=I;se=se+1)v[se][le]=0;for(N[1]=-N[1]/2,ue[1]=0,ye=I,Ae=ye+I,Ie=Ae+De,Te=Ie+De+1,Oe=Te+De*(De+1)/2,Pe=Oe+V,se=1;se<=V;se=se+1){for(He=0,le=1;le<=I;le=le+1)He=He+F[le][se]*F[le][se];oe[Pe+se]=Math.sqrt(He)}J=0,te[1]=0,te[2]=0;function ft(){for(te[1]=te[1]+1,de=Oe,se=1;se<=V;se=se+1){for(de=de+1,He=-j[se],le=1;le<=I;le=le+1)He=He+F[le][se]*P[le];if(Math.abs(He)<it&&(He=0),se>Z)oe[de]=He;else if(oe[de]=-Math.abs(He),He>0){for(le=1;le<=I;le=le+1)F[le][se]=-F[le][se];j[se]=-j[se]}}for(se=1;se<=J;se=se+1)oe[Oe+Q[se]]=0;for(Be=0,Ne=0,se=1;se<=V;se=se+1)oe[Oe+se]<Ne*oe[Pe+se]&&(Be=se,Ne=oe[Oe+se]/oe[Pe+se]);return Be===0?999:0}function Dt(){for(se=1;se<=I;se=se+1){for(He=0,le=1;le<=I;le=le+1)He=He+v[le][se]*F[le][Be];oe[se]=He}for(ge=ye,se=1;se<=I;se=se+1)oe[ge+se]=0;for(le=J+1;le<=I;le=le+1)for(se=1;se<=I;se=se+1)oe[ge+se]=oe[ge+se]+v[se][le]*oe[le];for(Fe=!0,se=J;se>=1;se=se-1){for(He=oe[se],de=Te+se*(se+3)/2,ge=de-se,le=se+1;le<=J;le=le+1)He=He-oe[de]*oe[Ae+le],de=de+le;if(He=He/oe[ge],oe[Ae+se]=He,Q[se]<Z||He<0)break;Fe=!1,me=se}if(!Fe)for(je=oe[Ie+me]/oe[Ae+me],se=1;se<=J&&!(Q[se]<Z||oe[Ae+se]<0);se=se+1)Ne=oe[Ie+se]/oe[Ae+se],Ne<je&&(je=Ne,me=se);for(He=0,se=ye+1;se<=ye+I;se=se+1)He=He+oe[se]*oe[se];if(Math.abs(He)<=it){if(Fe)return ue[1]=1,999;for(se=1;se<=J;se=se+1)oe[Ie+se]=oe[Ie+se]-je*oe[Ae+se];return oe[Ie+J+1]=oe[Ie+J+1]+je,700}else{for(He=0,se=1;se<=I;se=se+1)He=He+oe[ye+se]*F[se][Be];for(ze=-oe[Oe+Be]/He,Qe=!0,Fe||je<ze&&(ze=je,Qe=!1),se=1;se<=I;se=se+1)P[se]=P[se]+ze*oe[ye+se],Math.abs(P[se])<it&&(P[se]=0);for(N[1]=N[1]+ze*He*(ze/2+oe[Ie+J+1]),se=1;se<=J;se=se+1)oe[Ie+se]=oe[Ie+se]-ze*oe[Ae+se];if(oe[Ie+J+1]=oe[Ie+J+1]+ze,Qe){for(J=J+1,Q[J]=Be,de=Te+(J-1)*J/2+1,se=1;se<=J-1;se=se+1)oe[de]=oe[se],de=de+1;if(J===I)oe[de]=oe[I];else{for(se=I;se>=J+1&&!(oe[se]===0||(Ve=Math.max(Math.abs(oe[se-1]),Math.abs(oe[se])),Ye=Math.min(Math.abs(oe[se-1]),Math.abs(oe[se])),oe[se-1]>=0?Ne=Math.abs(Ve*Math.sqrt(1+Ye*Ye/(Ve*Ve))):Ne=-Math.abs(Ve*Math.sqrt(1+Ye*Ye/(Ve*Ve))),Ve=oe[se-1]/Ne,Ye=oe[se]/Ne,Ve===1));se=se-1)if(Ve===0)for(oe[se-1]=Ye*Ne,le=1;le<=I;le=le+1)Ne=v[le][se-1],v[le][se-1]=v[le][se],v[le][se]=Ne;else for(oe[se-1]=Ne,nt=Ye/(1+Ve),le=1;le<=I;le=le+1)Ne=Ve*v[le][se-1]+Ye*v[le][se],v[le][se]=nt*(v[le][se-1]+Ne)-v[le][se],v[le][se-1]=Ne;oe[de]=oe[J]}}else{for(He=-j[Be],le=1;le<=I;le=le+1)He=He+P[le]*F[le][Be];if(Be>Z)oe[Oe+Be]=He;else if(oe[Oe+Be]=-Math.abs(He),He>0){for(le=1;le<=I;le=le+1)F[le][Be]=-F[le][Be];j[Be]=-j[Be]}return 700}}return 0}function ut(){if(de=Te+me*(me+1)/2+1,ge=de+me,oe[ge]===0||(Ve=Math.max(Math.abs(oe[ge-1]),Math.abs(oe[ge])),Ye=Math.min(Math.abs(oe[ge-1]),Math.abs(oe[ge])),oe[ge-1]>=0?Ne=Math.abs(Ve*Math.sqrt(1+Ye*Ye/(Ve*Ve))):Ne=-Math.abs(Ve*Math.sqrt(1+Ye*Ye/(Ve*Ve))),Ve=oe[ge-1]/Ne,Ye=oe[ge]/Ne,Ve===1))return 798;if(Ve===0){for(se=me+1;se<=J;se=se+1)Ne=oe[ge-1],oe[ge-1]=oe[ge],oe[ge]=Ne,ge=ge+se;for(se=1;se<=I;se=se+1)Ne=v[se][me],v[se][me]=v[se][me+1],v[se][me+1]=Ne}else{for(nt=Ye/(1+Ve),se=me+1;se<=J;se=se+1)Ne=Ve*oe[ge-1]+Ye*oe[ge],oe[ge]=nt*(oe[ge-1]+Ne)-oe[ge],oe[ge-1]=Ne,ge=ge+se;for(se=1;se<=I;se=se+1)Ne=Ve*v[se][me]+Ye*v[se][me+1],v[se][me+1]=nt*(v[se][me]+Ne)-v[se][me+1],v[se][me]=Ne}return 0}function _t(){for(ge=de-me,se=1;se<=me;se=se+1)oe[ge]=oe[de],de=de+1,ge=ge+1;return oe[Ie+me]=oe[Ie+me+1],Q[me]=Q[me+1],me=me+1,me<J?797:0}function Bt(){return oe[Ie+J]=oe[Ie+J+1],oe[Ie+J+1]=0,Q[J]=0,J=J-1,te[2]=te[2]+1,0}for(st=0;;){if(st=ft(),st===999)return;for(;st=Dt(),st!==0;){if(st===999)return;if(st===700)if(me===J)Bt();else{for(;ut(),st=_t(),st===797;);Bt()}}}}function g(v,S,M,I,P,N){v=t(v),S=t(S),M=t(M);var F,j,U,V,Z,Q=[],J=[],te=[],oe=[],ue=[],se;if(P=P||0,N=N?t(N):[void 0,0],I=I?t(I):[],j=v.length-1,U=M[1].length-1,!I)for(F=1;F<=U;F=F+1)I[F]=0;for(F=1;F<=U;F=F+1)J[F]=0;for(V=0,Z=Math.min(j,U),F=1;F<=j;F=F+1)te[F]=0;for(Q[1]=0,F=1;F<=2*j+Z*(Z+5)/2+2*U+1;F=F+1)oe[F]=0;for(F=1;F<=2;F=F+1)ue[F]=0;return d(v,S,j,j,te,Q,M,I,j,U,P,J,V,ue,oe,N),se="",N[1]===1&&(se="constraints are inconsistent, no solution!"),N[1]===2&&(se="matrix D in quadratic function is not positive definite!"),{solution:n(te),value:n(Q),unconstrained_solution:n(S),iterations:n(ue),iact:n(J),message:se}}e.solveQP=g}(numeric),numeric.svd=function e(t){var n,s=numeric.epsilon,u=1e-64/s,f=50,d=0,g=0,v=0,S=0,M=0,I=numeric.clone(t),P=I.length,N=I[0].length;if(P<N)throw"Need more rows than columns";var F=new Array(N),j=new Array(N);for(g=0;g<N;g++)F[g]=j[g]=0;var U=numeric.rep([N,N],0);function V(ve,me){return ve=Math.abs(ve),me=Math.abs(me),ve>me?ve*Math.sqrt(1+me*me/ve/ve):me==0?ve:me*Math.sqrt(1+ve*ve/me/me)}var Z=0,Q=0,J=0,te=0,oe=0,ue=0,se=0;for(g=0;g<N;g++){for(F[g]=Q,se=0,M=g+1,v=g;v<P;v++)se+=I[v][g]*I[v][g];if(se<=u)Q=0;else for(Z=I[g][g],Q=Math.sqrt(se),Z>=0&&(Q=-Q),J=Z*Q-se,I[g][g]=Z-Q,v=M;v<N;v++){for(se=0,S=g;S<P;S++)se+=I[S][g]*I[S][v];for(Z=se/J,S=g;S<P;S++)I[S][v]+=Z*I[S][g]}for(j[g]=Q,se=0,v=M;v<N;v++)se=se+I[g][v]*I[g][v];if(se<=u)Q=0;else{for(Z=I[g][g+1],Q=Math.sqrt(se),Z>=0&&(Q=-Q),J=Z*Q-se,I[g][g+1]=Z-Q,v=M;v<N;v++)F[v]=I[g][v]/J;for(v=M;v<P;v++){for(se=0,S=M;S<N;S++)se+=I[v][S]*I[g][S];for(S=M;S<N;S++)I[v][S]+=se*F[S]}}oe=Math.abs(j[g])+Math.abs(F[g]),oe>te&&(te=oe)}for(g=N-1;g!=-1;g+=-1){if(Q!=0){for(J=Q*I[g][g+1],v=M;v<N;v++)U[v][g]=I[g][v]/J;for(v=M;v<N;v++){for(se=0,S=M;S<N;S++)se+=I[g][S]*U[S][v];for(S=M;S<N;S++)U[S][v]+=se*U[S][g]}}for(v=M;v<N;v++)U[g][v]=0,U[v][g]=0;U[g][g]=1,Q=F[g],M=g}for(g=N-1;g!=-1;g+=-1){for(M=g+1,Q=j[g],v=M;v<N;v++)I[g][v]=0;if(Q!=0){for(J=I[g][g]*Q,v=M;v<N;v++){for(se=0,S=M;S<P;S++)se+=I[S][g]*I[S][v];for(Z=se/J,S=g;S<P;S++)I[S][v]+=Z*I[S][g]}for(v=g;v<P;v++)I[v][g]=I[v][g]/Q}else for(v=g;v<P;v++)I[v][g]=0;I[g][g]+=1}for(s=s*te,S=N-1;S!=-1;S+=-1)for(var le=0;le<f;le++){var de=!1;for(M=S;M!=-1;M+=-1){if(Math.abs(F[M])<=s){de=!0;break}if(Math.abs(j[M-1])<=s)break}if(!de){d=0,se=1;var ge=M-1;for(g=M;g<S+1&&(Z=se*F[g],F[g]=d*F[g],!(Math.abs(Z)<=s));g++)for(Q=j[g],J=V(Z,Q),j[g]=J,d=Q/J,se=-Z/J,v=0;v<P;v++)oe=I[v][ge],ue=I[v][g],I[v][ge]=oe*d+ue*se,I[v][g]=-oe*se+ue*d}if(ue=j[S],M==S){if(ue<0)for(j[S]=-ue,v=0;v<N;v++)U[v][S]=-U[v][S];break}if(le>=f-1)throw"Error: no convergence.";for(te=j[M],oe=j[S-1],Q=F[S-1],J=F[S],Z=((oe-ue)*(oe+ue)+(Q-J)*(Q+J))/(2*J*oe),Q=V(Z,1),Z<0?Z=((te-ue)*(te+ue)+J*(oe/(Z-Q)-J))/te:Z=((te-ue)*(te+ue)+J*(oe/(Z+Q)-J))/te,d=1,se=1,g=M+1;g<S+1;g++){for(Q=F[g],oe=j[g],J=se*Q,Q=d*Q,ue=V(Z,J),F[g-1]=ue,d=Z/ue,se=J/ue,Z=te*d+Q*se,Q=-te*se+Q*d,J=oe*se,oe=oe*d,v=0;v<N;v++)te=U[v][g-1],ue=U[v][g],U[v][g-1]=te*d+ue*se,U[v][g]=-te*se+ue*d;for(ue=V(Z,J),j[g-1]=ue,d=Z/ue,se=J/ue,Z=d*Q+se*oe,te=-se*Q+d*oe,v=0;v<P;v++)oe=I[v][g-1],ue=I[v][g],I[v][g-1]=oe*d+ue*se,I[v][g]=-oe*se+ue*d}F[M]=0,F[S]=Z,j[S]=te}for(g=0;g<j.length;g++)j[g]<s&&(j[g]=0);for(g=0;g<N;g++)for(v=g-1;v>=0;v--)if(j[v]<j[g]){for(d=j[v],j[v]=j[g],j[g]=d,S=0;S<I.length;S++)n=I[S][g],I[S][g]=I[S][v],I[S][v]=n;for(S=0;S<U.length;S++)n=U[S][g],U[S][g]=U[S][v],U[S][v]=n;g=v}return{U:I,S:j,V:U}}})(numeric1_2_6);var qp=quadprogExports;const numeric=numeric1_2_6,repositionLineSegments=(e,t)=>{const s={...{width:1e3,minSpacing:10,oldPositionName:"x",widthName:"width",newPositionName:"newX"},...t},u=e.sort((I,P)=>I[s.oldPositionName]-P[s.oldPositionName]),f=e.length,d=numeric.mul(numeric.identity(f+1),2),g=[void 0,...u.map(I=>I[s.oldPositionName]*2)];let v=numeric.rep([f+2,f+1],0);v[1][1]=1;for(let I=2;I<f+1;I++)v[I][I-1]=-1,v[I][I]=1;v[f+1][f]=-1;let S=[void 0,0,...[...Array(f).keys()].map((I,P)=>e[P][s.widthName]+s.minSpacing)];S[1]=0,S[f+1]=-s.width;const M=qp.solveQP(d,g,numeric.transpose(v),S);return u.map((I,P)=>({...I,[s.newPositionName]:M.solution[P+1]}))};var repositionLineSegments_1=repositionLineSegments;const setField=(e,t)=>{const n=new Map;for(const s of e.keys())n.set(s,Object.assign(Object.assign({},e.get(s)),{[t.field]:t.value}));return n},offset=(e,t,n)=>{var s,u;const f=n.direction==="horizontal"?"x":"y",d=(s=n.width)!==null&&s!==void 0?s:1e3,g=[];if("condition"in n){const I=codegen({globalvar:"globalVar"})(parser(n.condition)),P=Function("globalVar",'"use strict"; return ('+I.code+")");for(const N of t)P({datum:N})&&g.push(Object.assign({id:N.id},e.get(N.id)))}else for(const M of e.keys())g.push(Object.assign({id:M},e.get(M)));const v=repositionLineSegments_1(g,{oldPositionName:f,widthName:f==="x"?"width":"height",newPositionName:"newPos",minSpacing:(u=n.minSpacing)!==null&&u!==void 0?u:0,width:d}),S=new Map;for(const M of e.keys())S.set(M,e.get(M));for(const M of v){const I=e.get(M.id);S.set(M.id,Object.assign(Object.assign({},I),{[f]:M.newPos}))}return S},orientLinks=(e,t,n)=>{const s=n[t.network],u=t.direction==="vertical"?"x":"y",f=new Map;for(const d of e.keys())f.set(d,e.get(d));for(const d of s.links)f.get(d.target.id)[u]=e.get(d.source.id)[u];return f},jitter=(e,t)=>{const n=new Map;for(const s of e.keys()){const u=e.get(s);let f=u.x;"x"in t&&(f+=t.x*2*(Math.random()-.5));let d=u.y;"y"in t&&(d+=t.y*2*(Math.random()-.5)),n.set(s,Object.assign(Object.assign({},u),{x:f,y:d}))}return n},beeswarm=(e,t)=>{var n,s,u;const f=[];for(const S of e.keys())f.push(Object.assign({id:S},e.get(S)));const d=forceSimulation(f);d.force("x",forceX().strength((n=t.gravityX)!==null&&n!==void 0?n:.1).x(S=>S.x)),d.force("y",forceY().strength((s=t.gravityY)!==null&&s!==void 0?s:.1).y(S=>S.y)),d.force("collision",forceCollide().radius(S=>Math.max(S.width,S.height)/2).strength((u=t.collisionStrength)!==null&&u!==void 0?u:1));let g=1e9;do d.tick(),g=mean$1(f.map(S=>Math.sqrt(Math.pow(S.vx,2)+Math.pow(S.vy,2))))||0;while(g>.001);d.stop();const v=new Map;for(const S of f)v.set(S.id,Object.assign(Object.assign({},e.get(S.id)),{x:S.x,y:S.y}));return v},transformLayout=(e,t,n,s,u)=>{let f;if("network"in t?f=select(s,t.network).nodes:f=select(s,t.data),e.type==="set")return setField(n,e);if(e.type==="offset")return offset(n,f,e);if(e.type==="orientLinks")return orientLinks(n,e,s);if(e.type==="jitter")return jitter(n,e);if(e.type==="beeswarm")return beeswarm(n,e);if(e.type==="function")return u[e.function](n,e)},computeExplicitLayout=(e,t,n,s)=>{const u=new Map,f=[];for(const d of e){const g=convertVal(t.x,d,n),v=convertVal(t.y,d,n);u.set(d.id,{x:g,y:v,width:1,height:1})}return t!=null&&t.scaleToBounds&&rescaleLayout(t,n,e,u,s,f),[u,f]},computeDerivedLayout=(e,t,n,s)=>{const u=select(e,t.source),f=[];let d=u;for(const g of(t==null?void 0:t.transform)||[])d=transformLayout(g,t,d,e,s);return[d,f]},grid=(e,t,n,s)=>{let u,f;if(s==="row-by-row")return u=Math.floor(e/n),f=e-u*n,[f,u];if(s==="col-by-col")return f=Math.floor(e/t),u=e-f*t,[f,u];if(s==="row-snake")return u=Math.floor(e/n),f=e-u*n,u%2===1&&(f=n-1-f),[f,u];if(s==="col-snake")return f=Math.floor(e/t),u=e-f*t,f%2===1&&(u=t-1-u),[f,u];if(s==="diagonal"){let d,g=e;for(d=0;d<=g;d++)g-=d;return u=d-1-g,f=g,[f,u]}if(s==="diagonal-snake"){let d,g=e;for(d=0;d<=g;d++)g-=d;return d%2===1?(u=g,f=d-1-g):(u=d-1-g,f=g),[f,u]}if(s==="z-curve"){let d=0,g=0,v=1;for(let S=0;S<e;S++){v=1;do d^=v,v&=~d,g^=v,v&=~g,v<<=1;while(v)}return[d,g]}if(s==="hilbert"){const d=t;let g,v,S=e;const M=[0,0];for(let I=1;I<d;I*=2)g=1&S/2,v=1&(S^g),rot(I,M,g,v),M[0]+=I*g,M[1]+=I*v,S/=4;return M}};function rot(e,t,n,s){s===0&&(n===1&&(t[0]=e-1-t[0],t[1]=e-1-t[1]),t.push(t.shift()))}const getPos=(e,t,n,s)=>{if(["row-by-row","col-by-col","row-snake","col-snake","diagonal","diagonal-snake","z-curve","hilbert"].includes(t.pattern))return getPosOnGrid(e,t,n,s);if(t.pattern==="spiral")return getPosOnSpiral(e,t,n,s);if(t.pattern==="circle")return getPosOnCircle(e,t,n,s);if(t.pattern==="linear"&&t.orientation==="vertical")return{x:0,y:applyOrderOrScale(e,t,n)};if(t.pattern==="linear")return{x:applyOrderOrScale(e,t,n),y:0}},getPosOnGrid=(e,t,n,s)=>{var u,f,d,g;const v=t,S=applyOrderOrScale(e,t,n),M=(u=v.numRows)!==null&&u!==void 0?u:Math.ceil(Math.sqrt(s)),I=(f=v.numCols)!==null&&f!==void 0?f:Math.ceil(Math.sqrt(s)),P=grid(S,M,I,v.pattern);return{x:P[0]*(1+((d=t.paddingX)!==null&&d!==void 0?d:0)),y:P[1]*(1+((g=t.paddingY)!==null&&g!==void 0?g:0))}},getPosOnSpiral=(e,t,n,s)=>{let u=30;"angularSeparation"in t?u=t.angularSeparation:"maxAngle"in t&&(u=360/s);let f=2*Math.PI;"startAngle"in t&&(f=t.startAngle);const d=applyOrderOrScale(e,t,n),g=d*u*(Math.PI/180)+f;let v;const S=10;return!("shape"in t)||t.shape==="Archimedes"?v=S*g:t.shape==="hyperbolic"?(v=S/g,console.log({i:d,r:v,angleRads:g})):t.shape==="logarithmic"?v=S*Math.exp(1*g):t.shape==="lituus"&&(v=S/Math.sqrt(g)),{x:v*Math.sin(g),y:v*Math.cos(g)}},getPosOnCircle=(e,t,n,s)=>{const u=applyOrderOrScale(e,t,n),f=1;let d;if("order"in t)d=2*Math.PI*u/s;else{const g=n[t.scale].domain();d=2*Math.PI*(u-g[0])/(g[g.length-1]-g[0])}return{x:f*Math.sin(d),y:f*Math.cos(d)}},layoutRings=(e,t,n)=>{const s=new Map,u=[],f=[];for(const d of e){const g=applyOrderOrScale(d,t,n);let v=t.numSegments[0],S=0,M=g+1;for(;M>v;)M-=v,S++,S<t.numSegments.length&&(v=t.numSegments[S]);const I=2*Math.PI*M/v;s.set(d.id,{x:S*Math.sin(I),y:S*Math.cos(I)}),f.includes(S)||(f.push(S),u.push({type:"polar",x:0,y:0,r:S,ticks:[getTicks(t,n).map(P=>({x:S*Math.sin(P[0]),y:S*Math.cos(P[0]),label:P[1]}))]}))}return[s,u]},layoutPolarMultipleAngleScales=(e,t,n)=>{const s=new Map,u=[],f="order"in t.radius[0]?{order:t.radius[0].order}:t.radius[0],d=new Map;for(const v of e){const S=applyOrderOrScale(v,f,n),M=t.angle[S],I="order"in M?{order:M.order}:M,P=applyOrderOrScale(v,I,n);d.set(v.id,{r:S,theta:P})}const g=[];for(const v of e){const S=applyOrderOrScale(v,f,n),M=t.angle[S],I="order"in M?{order:M.order}:M,P=max$3(Array.from(d.values()).map(N=>N.theta));if(!g.includes(S)){g.push(S);let N=[];"order"in t.radius[0]||(N=getTicks(I,n).map(F=>{const j=F[0]*(2*Math.PI/P);return{x:S*Math.sin(j),y:S*Math.cos(j),label:F[1]}})),u.push({type:"polar",x:0,y:0,r:S,ticks:N})}}scale(d,"theta","r","order"in t.angle[0],t.positioning,[0,2*Math.PI]);for(const v of e){const S=d.get(v.id);s.set(v.id,{x:S.r*Math.sin(S.theta),y:S.r*Math.cos(S.theta)})}return[s,u]},layoutPolarMultipleRadiusScales=(e,t,n)=>{const s=new Map,u=[],f="order"in t.angle[0]?{order:t.angle[0].order}:t.angle[0],d=[],g=new Map,v=new Map;for(const S of e){const M=applyOrderOrScale(S,f,n),I=t.radius[M],P="scale"in I?I.scale:{order:I.order},N=applyOrderOrScale(S,P,n);v.set(S.id,{r:N,theta:M}),d.includes(M)||(d.push(M),g.set(S.id,{r:1,theta:M,rSpec:P}))}scaleIndependently(v,"theta","order"in t.radius[0],t.positioning,[0,2*Math.PI]),scaleIndependently(g,"theta","order"in t.radius[0],t.positioning,[0,2*Math.PI]);for(const S of g){const M=getTicks(S.rSpec,n).map(I=>({r:I[0],theta:0,label:I[1]}));scaleIndependently(M,"theta","order"in t.radius[0],t.positioning,[0,2*Math.PI]),u.push({type:"cartesian",x:0,y:0,x2:S.x,y2:S.y,extend:"radial",ticks:M})}for(const S of e){const M=v.get(S.id);s.set(S.id,{x:M.r*Math.sin(M.theta),y:M.r*Math.cos(M.theta)})}return[s,u]},layoutPolar=(e,t,n)=>{const s=new Map,u=[],f="order"in t.angle[0]?{order:t.angle[0].order}:t.angle[0],d=[],g=new Map;for(const v of e){const S=applyOrderOrScale(v,f,n),M="order"in t.radius[0]?{order:t.radius[0].order}:t.radius[0],I=applyOrderOrScale(v,M,n);if(g.set(v.id,{r:I,theta:S}),!d.includes(I)){d.push(I);const P=getTicks(M,n).map(N=>({r:N[0],theta:0,label:N[1]}));scaleIndependently(P,"theta","order"in t.radius[0],t.positioning,[0,2*Math.PI]),u.push({type:"polar",x:0,y:0,r:I,ticks:P})}}scaleIndependently(g,"theta","order"in t.radius[0],t.positioning,[0,2*Math.PI]);for(const v of e){const S=g.get(v.id);s.set(v.id,{x:S.r*Math.sin(S.theta),y:S.r*Math.cos(S.theta)})}return[s,u]},layoutCartesianMultipleXScales=(e,t,n)=>{const s=new Map,u=[],f=[];for(const d of e){const g="order"in t.y[0]?{order:t.y[0].order}:t.y[0],v=applyOrderOrScale(d,g,n),S=t.x[v],M="order"in S?{order:S.order}:S,I=applyOrderOrScale(d,M,n);s.set(d.id,{x:I,y:v}),f.includes(S)||(f.push(S),u.push({type:"cartesian",x:I,x2:I,y:0,y2:0,extend:"y",ticks:getTicks(g,n).map(P=>({x:I,y:P[0],label:P[1]}))}))}return scale(s,"x","y","order"in t.x[0],t.positioning),[s,u]},layoutCartesianMultipleYScales=(e,t,n)=>{const s=new Map,u=[],f=[];for(const d of e){const g="order"in t.x[0]?{order:t.x[0].order}:t.x[0],v=applyOrderOrScale(d,g,n),S=t.y[v],M="order"in S?{order:S.order}:S,I=applyOrderOrScale(d,M,n);s.set(d.id,{x:v,y:I}),f.includes(S)||(f.push(S),u.push({type:"cartesian",x:0,x2:0,y:I,y2:I,extend:"x",ticks:getTicks(M,n).map(P=>({x:P[0],y:I,label:P[1]}))}))}return scale(s,"y","x","order"in t.y[0],t.positioning),[s,u]},layoutCartesian=(e,t,n)=>{const s=new Map,u=[];let f;"order"in t.x[0]&&"field"in t.x[0]?f={order:{order:t.x[0].order,field:t.x[0].field}}:"order"in t.x[0]?f={order:t.x[0].order}:f=t.x[0];let d;"order"in t.y[0]&&"field"in t.x[0]?d={order:{order:t.y[0].order,field:t.y[0].field}}:"order"in t.y[0]?d={order:t.y[0].order}:d=t.y[0];for(const S of e){const M=applyOrderOrScale(S,f,n),I=applyOrderOrScale(S,d,n);s.set(S.id,{x:M,y:I,width:1,height:1})}const g="scale"in d?n[d.scale](0):0;u.push({type:"cartesian",x:0,x2:0,y:g,y2:g,extend:"x",ticks:getTicks(f,n).map(S=>({x:S[0],y:g,label:S[1]}))});const v="scale"in f?n[f.scale](0):0;return u.push({type:"cartesian",x:v,x2:v,y:0,y2:0,extend:"y",ticks:getTicks(d,n).map(S=>({x:v,y:S[0],label:S[1]}))}),[s,u]};var __awaiter$3=globalThis&&globalThis.__awaiter||function(e,t,n,s){function u(f){return f instanceof n?f:new n(function(d){d(f)})}return new(n||(n=Promise))(function(f,d){function g(M){try{S(s.next(M))}catch(I){d(I)}}function v(M){try{S(s.throw(M))}catch(I){d(I)}}function S(M){M.done?f(M.value):u(M.value).then(g,v)}S((s=s.apply(e,t||[])).next())})};const computeAttributeLayout=(e,t,n)=>{var s,u;let f=new Map,d=[];!t.pattern&&"x"in t&&"y"in t?t.pattern="cartesian":t.pattern||(t.pattern="row-by-row");let g;if("network"in t?g=select(e,t.network).nodes:g=select(e,t.data),t.pattern==="explicit")return computeExplicitLayout(g,t,e,n);if(t.pattern==="rings")[f,d]=layoutRings(g,t,e);else if(t.pattern==="polar")t.angle.length>1&&t.radius.length>1?console.log("Error - can't have multiple scales or orders for both radius and angle dimensions in a polar layout"):t.angle.length>1&&t.radius.length===1?[f,d]=layoutPolarMultipleAngleScales(g,t,e):t.angle.length===1&&t.radius.length>1?[f,d]=layoutPolarMultipleRadiusScales(g,t,e):t.angle.length===1&&t.radius.length===1&&([f,d]=layoutPolar(g,t,e));else if(t.pattern==="cartesian"){(!t.x||t.x.length===0)&&(t.x=[{value:0}]),(!t.y||t.y.length===0)&&(t.y=[{value:0}]),t.x.length>1&&t.y.length>1?console.log("Error - can't have multiple scales or orders for both x- and y- dimensions in a layout"):t.x.length>1&&t.y.length===1?[f,d]=layoutCartesianMultipleXScales(g,t,e):t.x.length===1&&t.y.length>1?[f,d]=layoutCartesianMultipleYScales(g,t,e):t.x.length===1&&t.y.length===1&&([f,d]=layoutCartesian(g,t,e));const v="order"in t.x[0],S="order"in t.y[0];v&&!S&&scale(f,"x","y",!0,t.positioning),S&&!v&&scale(f,"y","x",!0,t.positioning)}else{let v=0,S=0;for(const P of g){const N=getPos(P,t,e,g.length);f.set(P.id,N),v=Math.max(v,N.x),S=Math.max(S,N.y)}const M=n.width/(v||1),I=n.height/(S||1);t.pattern!=="linear"&&t.pattern!=="spiral"&&t.pattern!=="circle"&&(f.set("#TOP_LEFT_CORNER",{x:0,y:0,width:M,height:I}),f.set("#BOTTOM_RIGHT_CORNER",{x:M*((s=t.numCols)!==null&&s!==void 0?s:Math.ceil(Math.sqrt(g.length))),y:I*((u=t.numRows)!==null&&u!==void 0?u:Math.ceil(Math.sqrt(g.length))),width:M,height:I}));for(const P of g)f.set(P.id,{x:M*f.get(P.id).x,y:I*f.get(P.id).y,width:M,height:I})}return rescaleLayout(t,e,g,f,n,d),[f,d]},computeLayout=(e,t,n,s,u)=>__awaiter$3(void 0,void 0,void 0,function*(){let f;if("type"in t&&t.type==="function"?f=u[t.function](e,t,n):"type"in t&&(t.type==="d3-force"||t.type==="webcola"||t.type==="cytoscape"||t.type==="tulip"||t.type==="bioFabric"||t.type==="setcola"||t.type==="bipartite")?f=yield computeTopologicalLayout(e,t,n,s):"map"in t?f=computeMapLayout(e,t):"source"in t?f=computeDerivedLayout(e,t,n,u):f=computeAttributeLayout(e,t,n),"transform"in t&&!("source"in t)){let d=f[0];for(const g of(t==null?void 0:t.transform)||[])d=transformLayout(g,t,d,e,u);f[0]=d}return f}),shapes={triangle:"M -1 -1 L 1 0 L -1 1Z","circle-triangle":"M 0.5 0 m -0.5 0 a 0.5 0.5 0 1 0 1 0 a 0.5 0.5 0 1 0 -1 0 M -1 1 L 0 0 L -1 -1Z",circle:"M 0 0 m -1 0 a 1 1 0 1 0 2 0 a 1 1 0 1 0 -2 0Z",tee:"M 0.75 1 L 0.75 -1 L 1 -1 L 1 1Z",vee:"M -1 1 L 1 0 L -1 -1 L -0.5 0Z",square:"M -1 -1 L -1 1 L 1 1 L 1 -1Z",diamond:"M -1 0 L 0 1 L 1 0 L 0 -1Z","triangle-tee":"M0-1 .75 0 0 1Z M.75 1 .75-1 1-1 1 1Z","triangle-cross":"M 0 1 L 0 -1 L 0.125 -1 L 0.125 1Z M 0.25 -1 L 1 0 L 0.25 1Z"},computeMarkerAngle=(e,t)=>-Math.atan2(t.x-e.x,t.y-e.y)*180/Math.PI,getMarker=(e,t,n,s,u,f,d)=>{var g;const v=((g=e.stepBack)!==null&&g!==void 0?g:5)*u,S=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)),M=convertVal(e.shape,f,d,"none"),I=Object.assign(Object.assign({fill:"black",stroke:"black"},e),{angle:null,x:null,y:null});setFieldsOnItem(I,{mark:e},f,d);let P,N=0;M in shapes?(P=shapes[M],N=90):P=M,I.shape=P;let F;const j=s.x+v*(n.x-t.x)/S,U=s.y+v*(n.y-t.y)/S;return F=computeMarkerAngle(t,n)+N,e.direction==="reverse"&&(F=F-180),I.angle=F,I.x=j,I.y=U,I};function generateLine(e,t,n,s,u,f){const d={x:u.x,y:u.y,stroke:"lightgrey"};setFieldsOnItem(d,e,n,s);const g={x:f.x,y:f.y,stroke:"lightgrey"};setFieldsOnItem(g,e,n,s);const v=convertVal(t.strokeDash,n,s,[1,0]),S=convertVal(t.strokeWidth,n,s,2),M=convertVal(t.strokeOpacity,n,s,1),I=convertVal(t.tooltip,n,s,"");return{marktype:"line",dataset:e.entries,id:n.id,stroke:convertVal(e.mark.stroke,n,s,"grey"),items:[Object.assign(Object.assign({},d),{strokeDash:v,strokeWidth:S,strokeOpacity:M,tooltip:I}),Object.assign(Object.assign({},g),{strokeDash:v,strokeWidth:S,strokeOpacity:M,tooltip:I})]}}function generateLineWithColorGradient(e,t,n,s,u,f){var d;if(!("colorGradient"in t))return generateLine(e,t,n,s,u,f);typeof t.colorGradient=="string"&&(t.colorGradient={colorScheme:t.colorGradient});const g=(d=t.colorGradient.numSegments)!==null&&d!==void 0?d:10,v=t.colorGradient.direction==="reverse"?[1,0]:[0,1],S=constructScale({name:"color",type:"linear",domain:v,scheme:convertVal(t.colorGradient.colorScheme,n,s)}),M={dx:(f.x-u.x)/g,dy:(f.y-u.y)/g};let I=u,P;const N=[];for(let F=0;F<g;F++)P={x:I.x+M.dx,y:I.y+M.dy},N.push({marktype:"path",id:n.id,dataset:e.entries,path:`M ${I.x}, ${I.y} L ${P.x} ,${P.y}`,strokeOpacity:convertVal(t.strokeOpacity,n,s,1),stroke:S(F/g),tooltip:convertVal(t.tooltip,n,s,"")}),I=P;return{marktype:"path",id:n.id,dataset:e.entries,items:N}}function generateWedge(e,t,n,s,u,f){const d=Math.sqrt(Math.pow(f.x-u.x,2)+Math.pow(f.y-u.y,2)),g=[-(f.y-u.y)/d,(f.x-u.x)/d],v=convertVal(t.width,n,s,5);let S=u,M=f;t.direction==="reverse"&&(S=f,M=u);const I=`M ${S.x+v*g[0]} ${S.y+v*g[1]}
        L ${M.x} ${M.y}
    L ${S.x-v*g[0]} ${S.y-v*g[1]} 
    Z
    `;return{marktype:"path",id:n.id,dataset:e.entries,items:[{fill:convertVal(t.fill,n,s,"grey"),opacity:convertVal(t.opacity,n,s,1),stroke:convertVal(t.stroke,n,s,"grey"),strokeOpacity:convertVal(t.strokeOpacity,n,s,1),tooltip:convertVal(t.tooltip,n,s,""),path:I}]}}function generateAsymmetricCurve(e,t,n,s,u,f){const d=Math.sqrt(Math.pow(f.x-u.x,2)+Math.pow(f.y-u.y,2)),g=[-(f.y-u.y)/d,(f.x-u.x)/d];let v,S;if("angle"in t){const N=t.angle*Math.PI/180;v=d/2*Math.sin(N),S=d/2*Math.cos(N)}else v=d/2*Math.sqrt(3)/2,S=d/2/2;const M=[u.x+(f.x-u.x)*S/d,u.y+(f.y-u.y)*S/d],I=[M[0]+v*g[0],M[1]+v*g[1]],P=`M ${u.x} ${u.y} C ${u.x} ${u.y} ${I[0]} ${I[1]} ${f.x} ${f.y}`;return{marktype:"path",id:n.id,dataset:e.entries,items:[{fill:"none",stroke:convertVal(t.stroke,n,s,"grey"),strokeDash:convertVal(t.strokeDash,n,s,[1,0]),strokeWidth:convertVal(t.strokeWidth,n,s,2),strokeOpacity:convertVal(t.strokeOpacity,n,s,1),tooltip:convertVal(t.tooltip,n,s,""),path:P}]}}function generateSymmetricCurve(e,t,n,s,u,f){const d=u.x,g=u.y,v=f.x,S=f.y,M=v-d,I=S-g,P=.2*(M+I),N=.2*(I-M),F=`M${d},${g} C${d+P},${g+N} ${v+N},${S-P} ${v},${S}`;return{marktype:"path",id:n.id,dataset:e.entries,items:[{fill:"none",stroke:convertVal(t.stroke,n,s,"grey"),strokeDash:convertVal(t.strokeDash,n,s,[1,0]),strokeWidth:convertVal(t.strokeWidth,n,s,2),strokeOpacity:convertVal(t.strokeOpacity,n,s,1),tooltip:convertVal(t.tooltip,n,s,""),path:F}]}}function generateSigmoid(e,t,n,s,u,f){let d;if(t.orientation==="horizontal"){const g=(u.x+f.x)/2;d=`M ${u.x},${u.y} C${g},${u.y} ${g},${f.y} ${f.x},${f.y}`}else{const g=(u.y+f.y)/2;d=`M ${u.x},${u.y} C${u.x},${g} ${f.x},${g} ${f.x},${f.y}`}return{marktype:"path",id:n.id,dataset:e.entries,items:[{fill:"none",stroke:convertVal(t.stroke,n,s,"grey"),strokeDash:convertVal(t.strokeDash,n,s,[1,0]),strokeWidth:convertVal(t.strokeWidth,n,s,2),strokeOpacity:convertVal(t.strokeOpacity,n,s,1),tooltip:convertVal(t.tooltip,n,s,""),path:d}]}}function generateOrthogonal(e,t,n,s,u,f){let d;return t.orientation==="vertical"?d=`M${u.x},${u.y} V${f.y} H${f.x}`:d=`M${u.x},${u.y} H${f.x} V${f.y}`,{marktype:"path",id:n.id,dataset:e.entries,items:[{fill:"none",stroke:convertVal(t.stroke,n,s,"grey"),strokeDash:convertVal(t.strokeDash,n,s,[1,0]),strokeWidth:convertVal(t.strokeWidth,n,s,2),strokeOpacity:convertVal(t.strokeOpacity,n,s,1),tooltip:convertVal(t.tooltip,n,s,""),path:d}]}}function generateGlyphs(e,t,n,s,u,f){var d;let g,v;if(!t.colorGradient)g=()=>convertVal(t.fill,n,s,"black"),v=()=>convertVal(t.stroke,n,s,"black");else{typeof t.colorGradient=="string"&&(t.colorGradient={colorScheme:t.colorGradient});const F=t.colorGradient.direction==="reverse"?[1,0]:[0,1],j=constructScale({name:"color",type:"linear",domain:F,scheme:convertVal(t.colorGradient.colorScheme,n,s)});g=j,v=j}const S=(d=t.separation)!==null&&d!==void 0?d:5,M=Math.sqrt(Math.pow(f.x-u.x,2)+Math.pow(f.y-u.y,2)),I={shape:convertVal(t.glyphShape,n,s),stepBack:0,opacity:convertVal(t.opacity,n,s,1),strokeOpacity:convertVal(t.strokeOpacity,n,s,1),strokeWidth:convertVal(t.strokeWidth,n,s,1)},P={dx:(f.x-u.x)/M,dy:(f.y-u.y)/M},N=[];for(let F=0;F*S<M;F++){const j={x:u.x+F*S*P.dx,y:u.y+F*S*P.dy},U=Object.assign(Object.assign({},I),{fill:g(F*S/M),stroke:v(F*S/M)}),V=convertVal(t.tooltip,n,s,"");N.push(Object.assign(Object.assign({},getMarker(U,u,f,j,0,n,s)),{tooltip:V}))}return{marktype:"symbol",id:n.id,dataset:e.entries,items:N}}function generateSquiggles(e,t,n,s,u,f){var d,g;let v=`M ${u.x} ${u.y} `,S;"spacing"in t?S=Math.sqrt(Math.pow(f.y-u.y,2)+Math.pow(f.x-u.x,2))/t.spacing:S=(d=t.n)!==null&&d!==void 0?d:10;const M=(g=t.amplitude)!==null&&g!==void 0?g:20;if(S==0)v+=`L ${f.x}, ${f.y}`;else{const I=f.x-u.x,P=I/S,N=(f.y-u.y)/S;let F=u.x,j=u.y;const U=Math.atan2(f.y-u.y,f.x-u.x);for(let V=0;V<S;V++){const Z=F+P/2-u.x,Q=2*I,J=Z/Q*Math.PI;let te=2*J;Z/Q<=1/6?te+=J:Z/Q<=1/2&&(te+=-J/2+Math.PI/4);const oe=M*Math.sin(te);let ue,se;V%2==0?(ue=F+P/2+oe*Math.sin(Math.PI-U),se=j+N/2+oe*Math.cos(Math.PI-U)):(ue=F+P/2-oe*Math.sin(Math.PI-U),se=j+N/2-oe*Math.cos(Math.PI-U));const le=F+P,de=j+N;v+=` Q ${ue}, ${se}, ${le}, ${de}`,F+=P,j+=N}}return{marktype:"path",id:n.id,dataset:e.entries,items:[{fill:"none",stroke:convertVal(t.stroke,n,s,"grey"),strokeDash:convertVal(t.strokeDash,n,s,[1,0]),strokeWidth:convertVal(t.strokeWidth,n,s,2),strokeOpacity:convertVal(t.strokeOpacity,n,s,1),tooltip:convertVal(t.tooltip,n,s,""),path:v}]}}function generateArc(e,t,n,s,u,f){const d=f.x-u.x,g=f.y-u.y,v=Math.sqrt(d*d+g*g)/2,S=180*Math.atan2(g,d)/Math.PI,M="positiveAngle"in t&&!t.positiveAngle?0:1,I=`M ${u.x},${u.y} A${v},${v} ${S} 0 ${M} ${f.x},${f.y}`;return{marktype:"path",id:n.id,dataset:e.entries,items:[{fill:"none",stroke:convertVal(t.stroke,n,s,"grey"),strokeDash:convertVal(t.strokeDash,n,s,[1,0]),strokeWidth:convertVal(t.strokeWidth,n,s,2),strokeOpacity:convertVal(t.strokeOpacity,n,s,1),tooltip:convertVal(t.tooltip,n,s,""),path:I}]}}const convertLinkPath=(e,t,n,s,u,f)=>{var d,g,v,S,M;const I=select(t,(d=e.mark.start)!==null&&d!==void 0?d:"source");let P=s.get(I.id);const N=select(t,(g=e.mark.end)!==null&&g!==void 0?g:"target");let F=s.get(N.id);if(I===N){const J=`
  M ${P.x} ${P.y}
          m -2, 0
        a 2,2 0 1,0 4,0
        a 2,2 0 1,0 -4,0
  `;return[{marktype:"path",items:[{fill:"none",stroke:convertVal(e.mark.stroke,t,n,"grey"),tooltip:convertVal(e.mark.tooltip,t,n,""),path:J}],id:t.id,dataset:e.entries}]}const j=[];e.mark.startMarker&&j.push(getMarker(e.mark.startMarker,P,F,P,1,t,n)),e.mark.endMarker&&j.push(getMarker(e.mark.endMarker,P,F,F,-1,t,n));const U={marktype:"symbol",items:j,id:t.id,dataset:e.entries};let V;if(e.mark.directionForShape){const Q=e.mark.directionForShape,J=n[Q.ordering],te=J.get(I.id),oe=J.get(N.id),ue=Math.max(...J.values());if(Q.reverse){if(te===0&&oe===ue&&Q.cyclic||te>oe){const le=P;P=F,F=le}}else if(oe===0&&te===ue&&Q.cyclic||oe>te){const le=P;P=F,F=le}}const Z=convertVal(e.mark.shape,t,n);if(Z==="wedge"?V=generateWedge(e,e.mark,t,n,P,F):Z==="line"&&e.mark.colorGradient?V=generateLineWithColorGradient(e,e.mark,t,n,P,F):Z==="curve"?V=generateAsymmetricCurve(e,e.mark,t,n,P,F):Z==="curveSymmetric"?V=generateSymmetricCurve(e,e.mark,t,n,P,F):Z==="arc"?V=generateArc(e,e.mark,t,n,P,F):Z==="sigmoid"?V=generateSigmoid(e,e.mark,t,n,P,F):Z==="orthogonal"?V=generateOrthogonal(e,e.mark,t,n,P,F):Z==="glyphs"?V=generateGlyphs(e,e.mark,t,n,P,F):Z==="squiggle"?V=generateSquiggles(e,e.mark,t,n,P,F):V=generateLine(e,e.mark,t,n,P,F),e.inducedLayout){const Q=e.inducedLayout.name;ensureInducedLayoutCreated(u,Q);let J;!Z||Z==="line"?J=`M${V.items[0].x},${V.items[0].y}L${V.items[1].x},${V.items[1].y}`:J=V.items[0].path;const te=getCurvePosition(J,(v=e.inducedLayout.position)!==null&&v!==void 0?v:.5),oe=e.inducedLayout.x?convertVal(e.inducedLayout.x,t,n,0,f):0,ue=e.inducedLayout.y?convertVal(e.inducedLayout.y,t,n,0,f):0;u[Q].set(t.id,{x:te.x+oe,y:te.y+ue,width:(S=e.inducedLayout.width)!==null&&S!==void 0?S:100,height:(M=e.inducedLayout.height)!==null&&M!==void 0?M:100})}return[V,U]},getCurvePosition=(e,t)=>{const n="http://www.w3.org/2000/svg",s=document.createElementNS(n,"svg"),u=document.createElementNS(n,"path");return u.setAttribute("d",e),s.appendChild(u),u.getPointAtLength(u.getTotalLength()*t)},setTextFieldsOnItem=(e,t,n,s)=>{for(const u in t)["type","type","actions"].includes(u)||(e[u]=convertVal(t[u],n,s));"actions"in t&&(e.actions=t.actions)},computeTableInduceLayout=(e,t,n,s,u,f,d,g,v,S)=>{if("inducedLayout"in u){const M=u.inducedLayout.name;if(Object.keys(v).includes("INDUCED_LAYOUTS")||(v.INDUCED_LAYOUTS=[]),v.INDUCED_LAYOUTS.includes(M)||v.INDUCED_LAYOUTS.push(M),Object.keys(v).includes(M)||(v[M]=new Map),u.inducedLayout.rowId)for(const I in e){const P=f[I],N=n[s+"#grouping"][P].data[0],F=u.inducedLayout.x?convertVal(u.inducedLayout.x,{},n,0,S):0,j=u.inducedLayout.y?convertVal(u.inducedLayout.y,{},n,0,S):0,U=select(N,u.inducedLayout.rowId);v[M].set(U,{x:S.x+F,y:S.y+g.get(P).y+j})}if(u.inducedLayout.colId)for(const I in t){const P=d[I],N=n[s+"#grouping"][P].data[0],F=u.inducedLayout.x?convertVal(u.inducedLayout.x,{},n,0,S):0,j=u.inducedLayout.y?convertVal(u.inducedLayout.y,{},n,0,S):0,U=select(N,u.inducedLayout.colId);v[M].set(U,{x:S.x+g.get(P).x+F,y:S.y+j})}}},labelTable=(e,t,n,s,u,f,d,g,v)=>{var S,M;const I=[];if("rowLabels"in u)for(const j in e){e[j];const U=f[j],V=n[s+"#grouping"][U].data[0],Z={fill:"black",align:"left",text:convertVal(u.rowLabels,V,n),x:0,y:g.get(U).y+g.get(U).height/2,angle:0,limit:(S=u.rowLabels.width)!==null&&S!==void 0?S:100},Q={idForLayout:e[j].id,layoutName:u.layout,role:"rowLabel"},J=u.dragToReorder?Object.assign(Object.assign({},Z),Q):Z;setTextFieldsOnItem(J,u.rowLabels,V,n),I.push(J)}if("colLabels"in u)for(const j in t){t[j];const U=d[j],V=n[s+"#grouping"][U].data[0],Z={fill:"black",text:convertVal(u.colLabels,V,n),x:g.get(U).x+g.get(U).width/2,y:0,angle:270,limit:(M=u.colLabels.width)!==null&&M!==void 0?M:100},Q={idForLayout:t[j].id,layoutName:u.layout,role:"colLabel"},J=u.dragToReorder?Object.assign(Object.assign({},Z),Q):Z;setTextFieldsOnItem(J,u.colLabels,V,n),I.push(J)}const P=[],N=max$3(t.map((j,U)=>g.get(d[U]).x+g.get(d[U]).width)),F=max$3(e.map((j,U)=>g.get(f[U]).y+g.get(f[U]).height));if("rowLines"in u){const j={stroke:"black",x:0,x2:N,y:F,y2:F};setTextFieldsOnItem(j,u.rowLines,{},n),P.push(j);for(const U in e){const V=f[U],Z=n[s+"#grouping"][V].data[0],Q={stroke:"black",x:0,x2:N,y:g.get(V).y,y2:g.get(V).y};setTextFieldsOnItem(Q,u.rowLines,Z,n),P.push(Q)}}if("rowMidLines"in u)for(const j in e){const U=f[j],V=n[s+"#grouping"][U].data[0],Z={stroke:"black",x:0,x2:N,y:g.get(U).y+g.get(U).height/2,y2:g.get(U).y+g.get(U).height/2};setTextFieldsOnItem(Z,u.rowMidLines,V,n),P.push(Z)}if("colLines"in u){const j={stroke:"black",x:0,x2:0,y:0,y2:F};setTextFieldsOnItem(j,u.colLines,{},n),P.push(j);for(const U in t){const V=d[U],Z=n[s+"#grouping"][V].data[0],Q={stroke:"black",x:g.get(V).x+g.get(V).width,x2:g.get(V).x+g.get(V).width,y:0,y2:F};setTextFieldsOnItem(Q,u.colLines,Z,n),P.push(Q)}}if("colMidLines"in u)for(const j in t){const U=d[j],V=n[s+"#grouping"][U].data[0],Z={stroke:"black",x:g.get(U).x+g.get(U).width/2,x2:g.get(U).x+g.get(U).width/2,y:0,y2:F};setTextFieldsOnItem(Z,u.colMidLines,V,n),P.push(Z)}return[{marktype:"text",items:I},{marktype:"rule",items:P}]},addAxes=(e,t,n)=>{if("drawAxes"in e&&e.drawAxes)for(const s of n[e.layout+"_AXES"])if(s.type==="cartesian"){if(t.items[0].items.push({marktype:"rule",items:[{stroke:"black",x:s.x,x2:s.x2,y:s.y,y2:s.y2}]}),s.extend==="x")for(const u of s.ticks)t.items[0].items.push({marktype:"rule",items:[{stroke:"black",x:u.x,x2:u.x,y:u.y-5,y2:u.y+5}]}),t.items[0].items.push({marktype:"text",items:[{fill:"black",text:u.label,x:u.x,y:u.y-15}]});else if(s.extend==="y")for(const u of s.ticks)t.items[0].items.push({marktype:"rule",items:[{stroke:"black",x:u.x-5,x2:u.x+5,y:u.y,y2:u.y}]}),t.items[0].items.push({marktype:"text",items:[{fill:"black",text:u.label,x:u.x-15,y:u.y}]})}else s.type==="polar"&&t.items[0].items.push({marktype:"arc",items:[{fill:"black",x:s.x,y:s.y,startAngle:0,endAngle:2*Math.PI,innerRadius:s.r,outerRadius:s.r}]})};var __awaiter$2=globalThis&&globalThis.__awaiter||function(e,t,n,s){function u(f){return f instanceof n?f:new n(function(d){d(f)})}return new(n||(n=Promise))(function(f,d){function g(M){try{S(s.next(M))}catch(I){d(I)}}function v(M){try{S(s.throw(M))}catch(I){d(I)}}function S(M){M.done?f(M.value):u(M.value).then(g,v)}S((s=s.apply(e,t||[])).next())})};function importPajek(e){return __awaiter$2(this,void 0,void 0,function*(){const t=yield fetch(e.url).then(n=>n.text());return parsePajek(t,e)})}function parsePajek(e,t){const n=e.split(`
`),s=[],u={},f=[];let d=0,g,v,S=!1;for(let M=0;M<n.length;M++){if(v=n[M].trim(),v.toLowerCase().startsWith("*vertices")){g="nodes",d=v.split(" ")[1].trim();continue}else if(v.toLowerCase().startsWith("*arcslist")){S=!0,g="listOfLinks";continue}else if(v.toLowerCase().startsWith("*edgeslist")){S=!1,g="listOfLinks";continue}else if(v.toLowerCase().startsWith("*arcs")){g="singleLinks",S=!0;continue}else if(v.toLowerCase().startsWith("*edges")){g="singleLinks",S=!1;continue}v=v.trim(),v=v.split(" ");for(let I=0;I<v.length;I)v[I].length==0?v.splice(I,1):I++;if(v.length!=0){if(g!=="nodes"&&s.length==0)for(let I=1;I<=d;I++){const P={id:I.toString(),label:I.toString()};s.push(P),u[I]=P}if(g==="nodes"){const I={id:v[0],label:v[1].replace(/"/g,"")};s.push(I),u[v[0]]=I}else if(g==="singleLinks")t.addReverseLinks&&!S?(f.push({source:u[v[0]],target:u[v[1]],directed:!0}),f.push({source:u[v[1]],target:u[v[0]],directed:!0})):f.push({source:u[v[0]],target:u[v[1]],directed:S});else if(g==="listOfLinks")for(let I=1;I<v.length;I++)t.addReverseLinks&&!S?(f.push({source:u[v[0]],target:u[v[I]],directed:!0}),f.push({source:u[v[1]],target:u[v[0]],directed:!0})):f.push({source:u[v[0]],target:u[v[I]],directed:S})}}return{nodes:s,links:f}}function importNetwork(e){if(e.format==="pajek")return importPajek(e)}const defaultAggregateLinks=e=>e,aggregateEdges=(e,t)=>{var n;let s=defaultAggregateLinks,u=!1;t&&(s=t.operation?aggregationFunctions[t.operation]:s,u=(n=t.directed)!==null&&n!==void 0?n:u);const f=new Map;for(const g of e){let v=g.source.id,S=g.target.id;if(!u){const M=v<=S?v:S,I=v<=S?S:v;v=M,S=I}f.has(v)||f.set(v,new Map),f.get(v).has(S)||f.get(v).set(S,[]),f.get(v).get(S).push(g)}const d=[];for(const[,g]of f)if(g)for(const[,v]of g)v&&d.push({source:v[0].source,target:v[0].target,id:v[0].id,data:s(v.map(S=>S.data))});return d};var createCommunityGraph_1=createCommunityGraph$1;function createCommunityGraph$1(e){var t=e.getNodesCount(),n=0,s=[],u=new Map;return e.forEachNode(function(N){P(N.id)}),e.forEachLink(function(N){var F=f(N.fromId),j=f(N.toId),U=getWeight(N.data),V=s[F],Z=s[j];F===j?(V.selfLoopsCount+=U,V.weightedDegree+=U):(d(V,j,U),d(Z,F,U),V.weightedDegree+=U,Z.weightedDegree+=U)}),n=v(),{nodeCount:t,weight:n,forEachNeigbour:g,getWeightedDegree:M,getSelfLoopsCount:S,getNodeIdFromNgraph:f};function f(N){var F=u.get(N);if(F===void 0)throw new Error("Unknown node id: "+N);return F}function d(N,F,j){var U={id:F,weight:j};N.neighbours?N.neighbours.push(U):N.neighbours=[U]}function g(N,F){var j=I(N);if(j.neighbours)for(var U=0;U<j.neighbours.length;++U){var V=j.neighbours[U];F(V.id,V.weight)}}function v(){for(var N=0,F=0;F<t;++F)N+=M(F);return N}function S(N){return I(N).selfLoopsCount}function M(N){return I(N).weightedDegree}function I(N){var F=s[N];if(!F)throw new Error("cannot find node with id: "+N);return F}function P(N){var F={selfLoopsCount:0,weightedDegree:0,neighbours:null},j=s.length;return u.set(N,j),s.push(F),j}}function getWeight(e){return e?typeof e=="number"?e:typeof e.weight=="number"?e.weight:1:1}var ngraph_random={random,randomIterator:randomIterator$1};function random(e){var t=typeof e=="number"?e:+new Date,n=function(){return t=t+2127912214+(t<<12)&4294967295,t=(t^3345072700^t>>>19)&4294967295,t=t+374761393+(t<<5)&4294967295,t=(t+3550635116^t<<9)&4294967295,t=t+4251993797+(t<<3)&4294967295,t=(t^3042594569^t>>>16)&4294967295,(t&268435455)/268435456};return{next:function(s){return Math.floor(n()*s)},nextDouble:function(){return n()}}}function randomIterator$1(e,t){var n=t||random();if(typeof n.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(s){var u,f,d;for(u=e.length-1;u>0;--u)f=n.next(u+1),d=e[f],e[f]=e[u],e[u]=d,s(d);e.length&&s(e[0])},shuffle:function(){var s,u,f;for(s=e.length-1;s>0;--s)u=n.next(s+1),f=e[u],e[u]=e[s],e[s]=f;return e}}}var nrandom=ngraph_random,randomIterator=nrandom.randomIterator,createCommunity_1=createCommunity$1;function createCommunity$1(e,t){for(var n=e.weight,s=e.nodeCount,u=nrandom.random(42),f=new Float32Array(s),d=new Float32Array(s),g=new Uint32Array(s),v=0;v<s;++v)g[v]=v,f[v]=e.getWeightedDegree(v),d[v]=e.getSelfLoopsCount(v);return{modularity:j,optimizeModularity:M,getClass:S};function S(V){return g[V]}function M(){var V=1e-6;t&&t.seed!==void 0&&(u=nrandom.random(t.seed));var Z=U(),Q=j(),J,te,oe=!1;do{te=0,J=Q;for(var ue=0;ue<Z.length;++ue){var se=Z[ue],le=g[se],de=I(se),ge=de.get(le);N(se,le,ge);var ve=e.getWeightedDegree(se),me=le,ye=0;de.forEach(function(Te,Oe){var Ie=P(Te,Oe,ve);Ie<=ye||(me=Oe,ye=Ie)});var Ae=de.get(me);F(se,me,Ae),me!==le&&(te+=1)}Q=j(),te>0&&(oe=!0)}while(te>0&&Q-J>V);return oe}function I(V){var Z=new Map;return Z.set(g[V],0),e.forEachNeigbour(V,function(Q,J){var te=g[Q],oe=Z.get(te)||0;Z.set(te,oe+J)}),Z}function P(V,Z,Q){var J=f[Z];return V-J*Q/n}function N(V,Z,Q){f[Z]-=e.getWeightedDegree(V),d[Z]-=2*Q+e.getSelfLoopsCount(V),g[V]=-1}function F(V,Z,Q){f[Z]+=e.getWeightedDegree(V),d[Z]+=2*Q+e.getSelfLoopsCount(V),g[V]=Z}function j(){for(var V=0,Z=0;Z<s;++Z)if(f[Z]>0){var Q=f[Z]/n;V+=d[Z]/n-Q*Q}return V}function U(){for(var V=[],Z=0;Z<s;++Z)V[Z]=Z;return randomIterator(V,u).shuffle(),V}}var createCommunityGraph=createCommunityGraph_1,createCommunity=createCommunity_1,ngraph_louvain=modularity;function modularity(e,t){var n=createCommunityGraph(e),s=createCommunity(n,t),u=s.modularity(),f=s.optimizeModularity(),d=s.modularity();return{canCoarse:g,originalModularity:u,newModularity:d,getClass:v};function g(){return f}function v(S){var M=n.getNodeIdFromNgraph(S);return s.getClass(M)}}const calculateClusters=(e,t,n)=>{const s=ngraph_graph();for(const g of e){const v=typeof g.source=="object"?g.source.id:g.source,S=typeof g.target=="object"?g.target.id:g.target;s.addLink(v,S)}const u=n.as||n.method;let f=0;const d={};if(n.method==="louvain"){const g=ngraph_louvain(s);for(const v of t){const S=g.getClass(v.id);v[u]=S,S in d||(d[S]=f,f++),v[u]=d[S]}}},computeConnectivityBasedAttribute=(e,t,n)=>{var s,u;const f=n.attributeSelector,d=(s=n.direction)!==null&&s!==void 0?s:"both",g=(u=n.operation)!==null&&u!==void 0?u:"count",v=n.as,S=new Map;for(const I of t){if(d!=="out"){const P=I.source,N=I.target,F=select({link:I,node:P},f);S.has(N)||S.set(N,[]),S.get(N).push(F)}if(d!=="in"){const P=I.target,N=I.source,F=select({link:I,node:P},f);S.has(N)||S.set(N,[]),S.get(N).push(F)}}const M=aggregationFunctions[g];for(const I of e)typeof I.data>"u"&&(I.data={}),I.data[v]=M(S.get(I))},defaultlinkDataReducer=(e,t)=>[e,t],projectNetwork=(e,t,n)=>{var s,u;const f=(s=n.fieldName)!==null&&s!==void 0?s:"_type",d=n.remainingNodeType,g=n.removedNodeType,v=n.directed,S=(u=n.linkDataReducer)!==null&&u!==void 0?u:defaultlinkDataReducer,M=[],I=[],P=[];for(const j of t)j.source[f]===g&&j.target[f]===d?(I[j.source.id]||(P.push(j.source),M[j.source.id]=[],I[j.source.id]=[]),I[j.source.id].push(j)):j.source[f]===d&&j.target[f]===g&&(I[j.target.id]||(P.push(j.target),M[j.target.id]=[],I[j.target.id]=[]),M[j.target.id].push(j));const N=[],F=[];for(const j of M)for(const U of j||[])N.includes(U.source)||N.push(U.source);for(const j of I)for(const U of j||[])N.includes(U.target)||N.push(U.target);if(v)for(const j of P)for(const U of M[j.id])for(const V of I[j.id])F.push({source:U.source,target:V.target,data:S(U.source.data,V.target.data)});else for(const j of P){for(const Z of M[j.id])for(const Q of I[j.id])F.push({source:Z.source,target:Q.target,data:S(Z.source.data,Q.target.data)});const U=M[j.id];for(let Z=0;Z<U.length-1;Z++)for(let Q=Z+1;Q<U.length;Q++)F.push({source:U[Z].source,target:U[Q].source,data:[U[Z].source.data,U[Q].source.data]});const V=I[j.id];for(let Z=0;Z<V.length-1;Z++)for(let Q=Z+1;Q<V.length;Q++)F.push({source:V[Z].target,target:V[Q].target,data:[V[Z].source.data,V[Q].source.data]})}return{nodes:N,links:F}},removeIsolatedNodes=e=>{const t=new Set(e.nodes);for(const n of e.links)t.delete(n.source),t.delete(n.target);e.nodes=e.nodes.filter(n=>!t.has(n))},filterEdges=(e,t,n)=>{const s=constructExpressionFunction({calculate:t.expression});return e.filter(u=>s(u,null,n))},filterNodes=(e,t,n)=>{const s=constructExpressionFunction({calculate:t.expression}),u=[];for(const f of e.nodes)s(f,null,n)&&u.push(f);e.nodes=u,e.links=e.links.filter(f=>u.includes(f.source)&&u.includes(f.target))},aggregateNodes=(e,t)=>{var n,s;let u,f;"field"in t?(u=S=>select(S,t.field),f=t.field):"fields"in t?(u=S=>JSON.stringify(t.fields.map(M=>select(S,M))),f=(n=t.as)!==null&&n!==void 0?n:"key"):(u=constructExpressionFunction({calculate:t.expression}),f=(s=t.as)!==null&&s!==void 0?s:"key");const d=new Map;for(const S of e.nodes){const M=u(S);d.has(M)||d.set(M,[]),d.get(M).push(S)}console.log({nodesForKey:d});const g=[],v=new Map;for(const[S,M]of d){let I;"fields"in t?I=Object.fromEntries(zip(t.fields,JSON.parse(S))):I=S;const N={id:isNaN(parseInt(S))?M[0].id:parseInt(S),[f]:I,count:M.length};g.push(N);for(const F of M)v.set(F.id,N)}for(const S of e.links)S.source=v.get(S.source.id),S.target=v.get(S.target.id);e.nodes=g},connectNodes=(e,t,n,s)=>{var u,f;let d,g;if("field"in n)d=S=>select(S,n.field),g=(u=n.as)!==null&&u!==void 0?u:n.field;else if("expression"in n){const S=constructExpressionFunction({calculate:n.expression});d=M=>S(M,null,s),g=(f=n.as)!==null&&f!==void 0?f:"commonExpression"}const v=new Map;for(const S of e){const M=d(S);v.has(M)?v.get(M).push(S):v.set(M,[S])}for(const S of v.keys())for(const M of v.get(S))for(const I of v.get(S))M.id!==I.id&&(M.id<I.id||n!=null&&n.bothDirections)&&t.push({source:M,target:I,_type:g});return t},computeLineGraphDirected=(e,t)=>{const n=constructAdjacencyList(e,t),s=[],u=[];let f=0;for(const d of t){u.push(d);for(const g of n.outLinks.get(d.target.id))s.push({source:d,target:g,id:f++})}for(const d of u)delete d.source,delete d.target,delete d.directed;return{nodes:u,links:s}},computeLineGraphUndirected=(e,t)=>{const n=constructAdjacencyList(e,t),s=[],u=[],f=[];for(const g of t)u.push(g);let d=0;for(const g of e){const v=n.undirectedLinks.get(g.id);for(const S of v)for(const M of v){const I=S.id.toString()+"_"+M.id.toString();!f.includes(I)&&S.id<M.id&&(f.push(I),s.push({source:S,target:M,id:d++}))}}for(const g of u)delete g.source,delete g.target,delete g.directed;return{nodes:u,links:s}},swapNodesEdges=(e,t,n)=>!n.directed||t.every(s=>!s.directed)?computeLineGraphUndirected(e,t):computeLineGraphDirected(e,t),reverseEdges=(e,t,n,s)=>{let u=f=>!0;if("condition"in n){const f=constructExpressionFunction({calculate:n.condition});u=d=>f(d,null,s)}for(const f of t)if(u(f)){const d=f.source;f.source=f.target,f.target=d}return t},setDirectedness=(e,t,n,s)=>{let u=f=>{};if("value"in n)u=()=>n.value==="directed";else if("expression"in n){const f=constructExpressionFunction({calculate:n.expression});u=d=>f(d,null,s)}for(const f of t)f.directed=!!u(f);return t},promoteField=(e,t,n,s)=>{var u;let f=S=>!0;if("expression"in n){const S=constructExpressionFunction({calculate:n.expression});f=M=>S(M,null,s)}else f=S=>select(S,n.field);const d=new Map;let g=0;const v=[];for(const S of e){const M=f(S);let I;d.has(M)?I=d.get(M):(I={id:`${n.prefix}${M}`},d.set(M,I),v.push(I));const P=`${(u=n.linkPrefix)!==null&&u!==void 0?u:n.prefix}${g++}`;(n==null?void 0:n.direction)==="fromValue"?t.push({id:P,source:I,target:S}):t.push({id:P,source:S,target:I})}return{nodes:[...e,...v],links:t}},applyNetworkTransform=(e,t,n)=>{const s=e.nodes,u=e.links;if(t.type==="metric")calculateMetrics(u,s,[t]);else if(t.type==="cluster")calculateClusters(u,s,t);else if(t.type==="aggregateEdges")e.links=aggregateEdges(u,t);else if(t.type==="connectivityBasedAttribute")computeConnectivityBasedAttribute(s,u,t);else if(t.type==="project")projectNetwork(s,u,t);else if(t.type==="calculate")t.for==="links"?e.links=calculateCalculate(u,t):e.nodes=calculateCalculate(s,t);else if(t.type==="removeIsolated")removeIsolatedNodes(e);else if(t.type==="filterNodes")filterNodes(e,t,n);else if(t.type==="filterEdges")e.links=filterEdges(u,t,n);else if(t.type==="aggregateNodes")aggregateNodes(e,t);else if(t.type==="connect")e.links=connectNodes(s,u,t,n);else if(t.type==="swapNodesAndEdges"){const{nodes:f,links:d}=swapNodesEdges(s,u,t);e.nodes=f,e.links=d}else if(t.type==="reverseEdges")e.links=reverseEdges(s,u,t,n);else if(t.type==="setDirectness")e.links=setDirectedness(s,u,t,n);else if(t.type==="promote"){const{nodes:f,links:d}=promoteField(s,u,t,n);e.nodes=f,e.links=d}},getParamsUsed=(e,t)=>{for(const n of Object.keys(e)){const s=e[n];n==="parameter"?t.push(s):typeof s=="object"&&getParamsUsed(s,t)}},constructDependencyGraph=e=>{var t;const n=[];for(const s of e.data||[]){const u=[];if("source"in s&&u.push(s.source),"transform"in s)for(const f of s.transform)f.type==="lookup"&&u.push(f.from);n.push({name:s.name,type:"data",dependencies:u,spec:s})}for(const s of e.groupings||[])n.push({name:s.name,type:"grouping",dependencies:[(t=s.data)!==null&&t!==void 0?t:s.network],spec:s});for(const s of e.networks||[]){let u=[];if("nodes"in s&&"links"in s)u=[s.nodes,s.links];else if("parts"in s)for(const f of s.parts)u.push(f.data);else"source"in s&&u.push(s.source);n.push({name:s.name,type:"network",dependencies:u,spec:s})}for(const s of e.orderings||[]){const u=[];"data"in s&&u.push(s.data),"network"in s&&u.push(s.network),"method"in s&&typeof s.method=="object"&&"parameter"in s.method&&u.push(s.method.parameter),n.push({name:s.name,type:"ordering",dependencies:u,spec:s})}for(const s of e.maps||[])n.push({name:s.name,type:"map",dependencies:[],spec:s});for(const s of e.layouts||[]){const u=[];"network"in s&&u.push(s.network),"data"in s&&u.push(s.data),"order"in s&&u.push(s.order),"scale"in s&&u.push(s.scale),"map"in s&&u.push(s.map);for(const f of["x","y","radius","angle"])f in s&&("order"in s[f]&&u.push(s[f].order),"field"in s[f]&&u.push(s[f].order));getParamsUsed(s,u),n.push({name:s.name,type:"layout",dependencies:u,spec:s})}for(const s of e.scales||[]){const u=[];"data"in s.domain&&u.push(s.domain.data.split(".")[0]),n.push({name:s.name,type:"scale",dependencies:u,spec:s})}for(const s of e.parameters||[])if("source"in s){const u=[s.source];for(const f of s.transform)f.type==="edgesBetween"&&u.push(f.secondSelection);n.push({name:s.name,type:"parameter",dependencies:u,spec:s})}else n.push({name:s.name,type:"parameter",dependencies:[],spec:s});for(const s of e.tables||[]){const u=[];"group"in s&&u.push(s.group),"order"in s.rowOrder&&u.push(s.rowOrder.order),"order"in s.colOrder&&u.push(s.colOrder.order),n.push({name:s.name,type:"table",dependencies:u,spec:s})}for(const s of e.vis||[]){const u=getVisDependencies(s);n.push({name:s.name,type:"vis",dependencies:u,spec:s})}return n},getVisDependencies=e=>{let t=[];"entries"in e&&t.push(e.entries),"layout"in e&&t.push(e.layout),"ifInSelection"in e&&t.push(e.ifInSelection);for(const n of Object.keys(e.mark||{})){const s=e.mark[n];typeof s=="object"&&("scale"in s&&t.push(s.scale),"order"in s&&t.push(s.order),"condition"in s&&"inSelection"in s.condition&&t.push(s.condition.inSelection.split(".")[0]))}for(const n of e.vis||[])t=[...t,...getVisDependencies(n)];return t},determineEvaluationOrder=(e,t)=>{let n=e.filter(f=>t.includes(f.name)),s=[];do{const f=n.map(d=>d.name);s=e.filter(d=>d.dependencies.some(g=>f.includes(g))).filter(d=>!n.includes(d)),n=[...n,...s]}while(s.length>0);let u=[];for(;n.length>0;){const f=n.map(g=>g.name),d=n.filter(g=>!g.dependencies.some(v=>f.includes(v)));u=[...u,...d],n=n.filter(g=>!d.includes(g))}return u},shortestPath=(e,t,n,s)=>{const f=e[t.network].nodes;if(t.nodes.length<2)return console.log("Can't compute path, as fewer than 2 nodes selected"),{nodes:[],links:[]};const d=t.nodes[1].id,g=t.nodes[0].id;let v;"weight"in s?v=U=>select(U,s.weight):v=()=>1;const S=[],M=[],I=[];let P=[];for(const U of f)S[U.id]=1/0,M[U.id]=void 0,P.push(U.id);for(S[d]=0;P.length>0;){let U=1/0,V;for(const te of P)S[te]<U&&(V=te,U=S[te]);P=P.filter(te=>te!==V);const Z=V;if(Z===g)break;const Q=n.undirectedLinks.get(V).map(te=>te.target.id===V?te:Object.assign(Object.assign({},te),{target:te.source,source:te.target})),J=[...n.inLinks.get(V),...Q];for(const te of J){const oe=te.source.id;if(!P.includes(oe))continue;const ue=S[Z]+v(te);ue<S[oe]&&(S[oe]=ue,M[oe]=Z,I[oe]=te)}}const N=[],F=[];let j=g;if(typeof M[j]<"u")for(;typeof j<"u";)N.push(f[j]),I[j]&&F.push(I[j]),j=M[j];return{nodes:N,links:F}},prune=(e,t,n,s)=>{let u,f;s.remove==="roots"?(u=t.nodes.filter(g=>n.inLinks.get(g.id).length===0),f=t.nodes.filter(g=>n.inLinks.get(g.id).length>0)):s.remove==="leaves"?(u=t.nodes.filter(g=>n.outLinks.get(g.id).length===0),f=t.nodes.filter(g=>n.outLinks.get(g.id).length>0)):s.remove==="isolated"&&(u=t.nodes.filter(g=>n.inLinks.get(g.id).length===0||n.outLinks.get(g.id).length===0),f=t.nodes.filter(g=>n.outLinks.get(g.id).length>0));const d=t.links.filter(g=>!u.includes(g.source.id)&&!u.includes(g.target.id));return{nodes:f,links:d}},filter=(e,t,n,s)=>{const u=constructExpressionFunction({calculate:s.expression});let f,d;if(s.affects==="nodes"){const g=t.nodes.filter((v,S)=>!u(v,S)).map(v=>v.id);f=t.nodes.filter(u),d=t.links.filter(v=>!g.includes(v.source.id)&&!g.includes(v.target.id))}else f=t.nodes,d=t.links.filter(u);return{nodes:f,links:d}},filterArray=(e,t,n)=>{if(n.semantics==="separate"){const s=new Map;for(const u of n.fields){const f=new Set;for(const d of e)f.add(select(d,u));s.set(u,f)}return t.nodes.filter(u=>{for(const f of n.fields)if(!s.get(f).has(select(u,f)))return!1;return!0})}else{const s=new Set;for(const u of e){const f=JSON.stringify(n.fields.map(d=>select(u,d)));s.add(f)}return t.nodes.filter(u=>{const f=JSON.stringify(n.fields.map(d=>select(u,d)));return s.has(f)})}},project=(e,t,n,s)=>{const u=e[t.network];let f;return s.affects==="nodes"?f=filterArray(t.nodes,u.nodes,s):f=filterArray(t.links,u.links,s),{nodes:f,links:[]}},parallelEdges=(e,t,n,s)=>{const u=e[t.network],f=new Set;for(const g of t.links)f.add(g.source.id+"->"+g.target.id);let d;return s.ignoreDirection?d=u.links.filter(g=>f.has(g.source.id+"->"+g.target.id)):d=u.links.filter(g=>f.has(g.source.id+"->"+g.target.id)||f.has(g.target.id+"->"+g.source.id)),{nodes:[],links:d}},incrementCount=(e,t)=>{e.has(t)||e.set(t,0),e.set(t,e.get(t)+1)},commonNeighbours=(e,t,n,s)=>{const u=new Map;for(const d of t.nodes){if(s.direction==="source"||s.direction==="both")for(const g of n.inLinks.get(d.id))incrementCount(u,g.source);if(s.direction==="target"||s.direction==="both")for(const g of n.outLinks.get(d.id))incrementCount(u,g.target);for(const g of n.undirectedLinks.get(d.id))g.source.id===d.id?incrementCount(u,g.target):incrementCount(u,g.source)}const f=[];for(const[d,g]of u)g===t.nodes.length&&!f.includes(d)&&f.push(d);return{links:[],nodes:f}},connectedEdges=(e,t,n,s)=>{let u=[];for(const f of t.nodes)s.direction==="source"?u=[...u,n.inLinks.get(f.id)]:s.direction==="target"?u=[...u,n.outLinks.get(f.id)]:u=[...u,...n.inLinks.get(f.id),...n.outLinks.get(f.id),...n.undirectedLinks.get(f.id)];return u=Array.from(new Set(u)),{links:u,nodes:[]}},connectedNodes=(e,t,n,s)=>{let u;return s.direction==="source"?u=t.links.map(f=>f.source):s.direction==="target"?u=t.links.map(f=>f.target):u=[...t.links.map(f=>f.source),...t.links.map(f=>f.source)],{links:[],nodes:u}},edgesBetween=(e,t,n,s)=>{const u=e[t.network],f=e[s.secondSelection];let d;return s.ignoreDirection?d=u.links.filter(g=>t.nodes.includes(g.source)&&f.nodes.includes(g.target)||f.nodes.includes(g.source)&&t.nodes.includes(g.target)):d=u.links.filter(g=>t.nodes.includes(g.source)&&t.nodes.includes(g.target)),{links:d,nodes:[]}},findNeighbours=(e,t,n,s)=>{let u=1;s.depth==="infinity"?u=1/0:s.depth&&(u=s.depth);let f=new Set(t.nodes);const d=new Set,g=new Set;for(let v=0;v<u;v++){const S=new Set;for(const M of f){if(s.direction==="in"||s.direction==="both")for(const I of n.inLinks.get(M.id))S.add(I.source),d.add(I.source),g.add(I);if(s.direction==="out"||s.direction==="both")for(const I of n.outLinks.get(M.id))S.add(I.target),d.add(I.target),g.add(I);for(const I of n.undirectedLinks.get(M.id)){const P=I.source.id===M.id?I.target:I.source;S.add(P),d.add(P),g.add(I)}}f=S}return{links:Array.from(g),nodes:Array.from(d)}},applySelectionTransform=(e,t,n)=>{let s=e[t.source];const u=n.parameters.filter(g=>g.name===t.source)[0];let f={nodes:[],links:[]};"network"in u&&(f=e[u.network]);const d=constructAdjacencyList(f.nodes,f.links);for(const g of t.transform)g.type=="shortestPath"?s=shortestPath(e,s,d,g):g.type==="prune"?s=prune(e,s,d,g):g.type==="filter"?s=filter(e,s,d,g):g.type==="project"?s=project(e,s,d,g):g.type==="parallelEdges"?s=parallelEdges(e,s,d,g):g.type==="connectedNodes"?s=connectedNodes(e,s,d,g):g.type==="connectedEdges"?s=connectedEdges(e,s,d,g):g.type==="commonNeighbours"?s=commonNeighbours(e,s,d,g):g.type==="edgesBetween"?s=edgesBetween(e,s,d,g):g.type==="neighbours"&&(s=findNeighbours(e,s,d,g));return s},processMapSpec=e=>{var t,n;const s={Mapnik:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}},"Stadia.AlidadeSmooth":{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",options:{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}},Stamen_Terrain:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}},Stamen_TerrainBackground:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-background/{z}/{x}/{y}{r}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}},Stamen_TonerBackground:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/toner-background/{z}/{x}/{y}{r}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}},Stamen_Watercolor:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:1,maxZoom:16,ext:"jpg"}}},u=(t=e.center)!==null&&t!==void 0?t:[52.44,4.83],f=(n=e.zoomLevel)!==null&&n!==void 0?n:14;if("tiles"in e){const v=s[e.tiles].options;return v.zoomSnap=.5,{url:s[e.tiles].url,options:v,center:u,zoomLevel:f}}const d={},g=["attribution","accessToken","minZoom","maxZoom","subdomains"];for(const v of g)v in e&&(d[v]=e[v]);return{url:e.url,options:d,center:u,zoomLevel:f}},groupNetwork=(e,t,n)=>{const s=new Map,u=select(e,t);let f=0;for(const g of u.nodes){const v=JSON.stringify(n.map(M=>select(g,M))),S=isNaN(parseInt(v))?f:parseInt(v);s.has(v)?s.get(v).nodes.push(g):(s.set(v,{id:S,nodes:[g],links:[],key:JSON.parse(v)}),f++)}const d=[];for(const g of u.links){const v=JSON.stringify(n.map(M=>select(g.source,M))),S=JSON.stringify(n.map(M=>select(g.target,M)));v===S?s.get(v).links.push(g):d.push(g)}return{groups:Array.from(s.values()),interGroupLinks:d}},addBorder=(e,t,n,s)=>{var u,f,d,g;e&&t.items[0].items.push({marktype:"rect",items:[{stroke:(u=e.stroke)!==null&&u!==void 0?u:"black",strokeWidth:(f=e.strokeWidth)!==null&&f!==void 0?f:1,strokeOpacity:(d=e.strokeOpacity)!==null&&d!==void 0?d:1,strokeDash:(g=e.strokeDash)!==null&&g!==void 0?g:[1,0],x:0,width:s.width,y:0,height:s.height}]})};var __awaiter$1=globalThis&&globalThis.__awaiter||function(e,t,n,s){function u(f){return f instanceof n?f:new n(function(d){d(f)})}return new(n||(n=Promise))(function(f,d){function g(M){try{S(s.next(M))}catch(I){d(I)}}function v(M){try{S(s.throw(M))}catch(I){d(I)}}function S(M){M.done?f(M.value):u(M.value).then(g,v)}S((s=s.apply(e,t||[])).next())})},__rest=globalThis&&globalThis.__rest||function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(e);u<s.length;u++)t.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(e,s[u])&&(n[s[u]]=e[s[u]]);return n};const evaluateConditional=(e,t,n)=>{let s=[];"condition"in e?s=[e.condition]:s=e.conditions;for(const u of s){let f=!1;if("test"in u?f=!!constructExpressionFunction({calculate:u.test})(t,null,n):"inSelection"in u?f=select(n,u.inSelection).map(g=>g.id).includes(t.id):"selectionIsEmpty"in u?f=select(n,u.selectionIsEmpty).length==0:"selectionIsNotEmpty"in u&&(f=select(n,u.selectionIsNotEmpty).length>0),f)return"value"in u?u.value:__rest(u,["test","inSelection"])}return"value"in e?e.value:__rest(e,["condition"])},convertVal=(e,t,n,s,u,f)=>{let d;if(typeof e>"u")return s;if(typeof e=="object"&&("condition"in e||"conditions"in e)&&(e=evaluateConditional(e,t,n)),typeof e=="number"||typeof e=="boolean"||typeof e=="string"?d=e:"field"in e?d=select(t,e.field):"ordering"in e?d=n[e.ordering].get(t.id):"expression"in e?d=constructExpressionFunction({calculate:e.expression})(t,f,n,u):"value"in e&&(d=e.value),typeof e=="object"&&"scale"in e){const g=n[e.scale];return g(d)}else return typeof e=="object"&&"parameter"in e?n[e.parameter]:d},setFieldsOnItem=(e,t,n,s,u,f)=>{const d={area:"size"};for(const g in t.mark)if(g==="tooltip"&&t.mark.tooltip===!0)e.tooltip=n;else if(!["type","type","actions"].includes(g)){const v=g in d?d[g]:g;e[v]=convertVal(t.mark[g],n,s,null,u,f)}t.mark.type==="text"&&!t.mark.fill?e.fill="black":"fill"in t.mark||(e.fill="steelblue"),"y2"in t.mark&&("y"in t.mark?e.height=e.y2-e.y:"height"in t.mark&&(e.y=e.y2-(e.height||0))),"x2"in t.mark&&("x"in t.mark?e.width=e.x2-e.x:"width"in t.mark&&(e.x=e.x2-(e.width||0))),"actions"in t&&(e.actions=t.actions)},scaleLayoutToBounds=(e,t)=>{const n=e;let s=0,u=0,f=1/0,d=1/0;for(const M of e.keys())e.get(M)&&(isNaN(e.get(M).x)||isNaN(e.get(M).y)||(s=Math.max(s,e.get(M).x+e.get(M).width),u=Math.max(u,e.get(M).y+e.get(M).height),f=Math.min(f,e.get(M).x),d=Math.min(d,e.get(M).y)));const g=t.width/(s-f),v=t.height/(u-d),S=Math.min(g,v);for(const M of n.keys()){const I=n.get(M);I&&(I.x=(I.x-f)*S,I.y=(I.y-d)*S)}return n},convertMark=(e,t,n,s,u,f,d,g)=>__awaiter$1(void 0,void 0,void 0,function*(){var v;if(e.mark.type==="linkpath")return convertLinkPath(e,t,n,u,g,f);if(e.mark.type==="map")return yield s(n[e.mark.map+"#config"],e.mark.map,n,f),[];{const S=["circle","square","diamond"],M=S.includes(e.mark.type)?"symbol":e.mark.type;let I={};const P="layout"in e?e.layout:null,N="actions"in e?e.actions:null;if("layout"in e){const j=u.get(t.id);I={x:j.x,y:j.y}}S.includes(e.mark.type)&&(I=Object.assign(Object.assign({},I),{shape:e.mark.type,area:(v=e.mark.area)!==null&&v!==void 0?v:50}));const F={marktype:M,items:[I],id:t.id,layout_name:P,actions:N,dataset:e.entries};return setFieldsOnItem(F.items[0],e,t,n,f,d),[F]}});function processNetworkSpec(e,t){return __awaiter$1(this,void 0,void 0,function*(){if("source_node"in e)t[e.name]=constructNetwork(t,e);else if("format"in e)t[e.name]=yield importNetwork(e);else if("source"in e){const n=t[e.source],s={nodes:[],links:[]},u=new Map;for(const f of n.nodes){const d=JSON.parse(JSON.stringify(f));u.set(f.id,d),s.nodes.push(f)}for(const f of n.links)s.links.push(Object.assign(Object.assign({},JSON.parse(JSON.stringify(f))),{source:u.get(f.source.id),target:u.get(f.target.id)}));t[e.name]=s}else t[e.name]=constructNetworkComplex(t,e);t[e.name].links=t[e.name].links.map((n,s)=>Object.assign({id:s},n));for(const n of e.transform||[]){const s=t[e.name];applyNetworkTransform(s,n,t),t[e.name]=s}})}const processVisSpec=(e,t,n,s,u,f,d,g)=>__awaiter$1(void 0,void 0,void 0,function*(){if("table"in e){const{groupName:M}=n[e.table];e=Object.assign(Object.assign({},e),{entries:M,layout:e.table+"#layout"})}let v=[];"ifInSelection"in e&&(v=select(n,e.ifInSelection).map(M=>M.id));const S={marktype:"group",items:[{x:0,y:0,items:[]}]};if(t.items[0].items.push(S),"table"in e){const{rowGroupIds:M,colGroupIds:I,distinctRows:P,distinctCols:N}=n[e.table],F=scaleLayoutToBounds(n[e.table+"#layout"],u);t.items[0].items.push(...labelTable(P,N,n,e.table,e,M,I,F)),computeTableInduceLayout(P,N,n,e.table,e,M,I,F,s,u)}if("vis"in e){let M=select(n,e.entries);M=Array.isArray(M)?M:[M];for(const I of M||[]){let P={x:u.x,y:u.y,width:u.width,height:u.height};"layout"in e&&(P=n[e.layout].get(I.id));const N={marktype:"group",items:[Object.assign(Object.assign({},P),{items:[]})]};S.items[0].items.push(N),addAxes(e,N,n);let F=!1;"if"in e?F=!!constructExpressionFunction({calculate:e.if})(I,null,n):(!("ifInSelection"in e)||v.includes(I.id))&&(F=!0),F&&(addBorder(e.border,N,n,P),yield processSpec(e,P,Object.assign(Object.assign({},n),{entry:I}),s,N,f,d,g))}}else yield processSpec(e,u,n,s,S,f,d,g)}),ensureInducedLayoutCreated=(e,t)=>{Object.keys(e).includes("INDUCED_LAYOUTS")||(e.INDUCED_LAYOUTS=[]),e.INDUCED_LAYOUTS.includes(t)||e.INDUCED_LAYOUTS.push(t),Object.keys(e).includes(t)||(e[t]=new Map)};function processVisSpecLeaf(e,t,n,s,u,f){var d,g,v,S,M;return __awaiter$1(this,void 0,void 0,function*(){const I=Object.assign(Object.assign({},t),n);if("table"in e){const{groupName:U}=I[e.table];e=Object.assign(Object.assign({},e),{entries:U,layout:e.table+"#layout"})}let P=[];"ifInSelection"in e&&(P=select(I,e.ifInSelection).map(U=>U.id));let N;if("layout"in e)if(e.layout.endsWith("#layout"))N=scaleLayoutToBounds(I[e.layout],s);else{const U=((d=u.layouts)!==null&&d!==void 0?d:[]).filter(V=>V.name===e.layout)[0];U&&"map"in U||I.INDUCED_LAYOUTS&&I.INDUCED_LAYOUTS.includes(e.layout)?N=I[e.layout]:N=scaleLayoutToBounds(I[e.layout],s)}let F=select(I,e.entries);F=Array.isArray(F)?F:[F];const j=[];for(const U of F||[]){let V=Object.assign({},s);if("table"in U){const{rowGroupIds:Q,colGroupIds:J,distinctRows:te,distinctCols:oe}=I[e.table];j.push(...labelTable(te,oe,I,e.table,e,Q,J,N)),computeTableInduceLayout(te,oe,I,e.table,e,Q,J,N,n,s)}if("table"in e){const Q=N.get(U.id);V={width:Q.width,height:Q.height,x:Q.x,y:Q.y}}let Z=!1;if("if"in e?Z=!!constructExpressionFunction({calculate:e.if})(U,null,I):(!("ifInSelection"in e)||P.includes(U.id))&&(Z=!0),Z){const Q=yield convertMark(e,U,I,f,N,V,j.length,n);j.push(...Q)}if("inducedLayout"in e&&!("table"in e)&&e.mark.type!=="linkpath"){const Q=e.inducedLayout.name;ensureInducedLayoutCreated(n,Q);const J=e.x?convertVal(e.x,U,I,0,s,j.length):0,te=e.y?convertVal(e.y,U,I,0,s,j.length):0;n[Q].set(U.id,{x:s.x+N.get(U.id).x+J,y:s.y+N.get(U.id).y+te,width:(v=(g=e.width)!==null&&g!==void 0?g:N.get(U.id).width)!==null&&v!==void 0?v:100,height:(M=(S=e.height)!==null&&S!==void 0?S:N.get(U.id).height)!==null&&M!==void 0?M:100})}}if(!("entries"in e)){const U=yield convertMark(e,{},I,f,N,s,j.length,n);j.push(...U)}return(e.mark.type==="line"||e.mark.type==="area")&&j.length>0?[{marktype:j[0].marktype,items:j.map(U=>U.items[0])}]:j})}function processSpec(e,t,n,s,u,f,d,g){return __awaiter$1(this,void 0,void 0,function*(){if(e.vis){let v;e.data?v=yield Object.assign(Object.assign({},n),yield loadData(e.data,g)):v=Object.assign({},n);for(const I of e.parameters||[])I.type==="selection"&&(v[I.name]={nodes:[],links:[]}),I.value?v[I.name]=I.value:I.type==="selection"||"source"in I?v[I.name]={nodes:[],links:[],network:I.network}:v[I.name]=0;for(const I of e.networks||[])yield processNetworkSpec(I,v);for(const I of e.groupings||[])if("data"in I)v[I.name]=groupFlattened(v,I.data,I.common);else{const{groups:P,interGroupLinks:N}=groupNetwork(v,I.network,I.common);v[I.name]=P,v[I.name+"_INTER_GROUP_LINKS"]=N}for(const I of e.scales||[])v[I.name]=constructScale(I,t,v);const S=new Map;for(const I of e.orderings||[])v[I.name]=constructOrdering(v,I),"field"in I&&S.set(I.name,I.field);for(const I of e.tables||[]){const{xOrderName:P,yOrderName:N,groupName:F,rowGroupIds:j,colGroupIds:U,distinctRows:V,distinctCols:Z}=yield constructTable(I,v,t);v[I.name]={xOrderName:P,yOrderName:N,groupName:F,rowGroupIds:j,colGroupIds:U,distinctRows:V,distinctCols:Z}}for(const I of e.maps||[])v[I.name+"#config"]=processMapSpec(I);const M=(I,P)=>v[I]=P;for(const I of e.layouts||[]){const[P,N]=yield computeLayout(Object.assign(Object.assign({},v),{_width:t.width,_height:t.height}),I,t,M,g);v[I.name]=P,v[I.name+"_AXES"]=N}for(const I of e.vis||[])yield processVisSpec(I,u,v,s,t,f,d,g);return e.vis.length===0&&console.log({state:v}),v}else{addAxes(e,u,n);const v=yield processVisSpecLeaf(e,n,s,t,d,f);Object.assign(n,s),u.items[0].items=[...u.items[0].items,...v]}return e.vis&&e.vis.length===0&&console.log({state:n}),n})}function processFullSpec(e,t,n,s,u){return __awaiter$1(this,void 0,void 0,function*(){const f={marktype:"group",items:[{x:t.x,y:t.y,width:t.width+2*t.x,height:t.height+2*t.y,items:[]}]};e.vis||(e.vis=[]),console.log("Dependency graph:",constructDependencyGraph(e));const d={},g=yield processSpec(e,t,n,d,f,s,e,u);return{sceneJSON:f,state:Object.assign(Object.assign({},g),d)}})}const getBoundsFromSpec=e=>{var t,n;const s=(t=e.x)!==null&&t!==void 0?t:25,u=(n=e.y)!==null&&n!==void 0?n:25,f=e.width||1e3,d=e.height||1e3;return{x:s,y:u,width:f,height:d}},constructTable=(e,t,n)=>__awaiter$1(void 0,void 0,void 0,function*(){const s=[];let u,f,d;"order"in e.colOrder,s.push(e.colOrder.field),"order"in e.rowOrder,s.push(e.rowOrder.field),"group"in e?d=e.group:(d=e.name+"#grouping",t[d]=groupFlattenedComplete(t,e.data,s,e.symmetric,e.fullDataset));const g=[],v=[],S=[],M=[],I=[],P=[];for(const U of t[e.name+"#grouping"]){let V=U.key[0];typeof V!="object"&&(V={id:V}),g.includes(V.id)||(v.push(V),g.push(V.id),S.push(U.id));let Z=U.key[1];typeof Z!="object"&&(Z={id:Z}),M.includes(Z.id)||(I.push(Z),M.push(Z.id),P.push(U.id))}if("order"in e.colOrder)u=e.colOrder.order;else{t[e.name+"#colData"]=v;const U={data:e.name+"#colData",name:e.name,orderBy:Object.assign(Object.assign({},e.colOrder),{field:e.colOrder.field})};u=e.name+"#colOrdering",t[u]=constructOrdering(t,U),s.push(e.colOrder.field)}if("order"in e.rowOrder)f=e.rowOrder.order;else{t[e.name+"#rowData"]=I;const U={data:e.name+"#rowData",name:e.name,orderBy:Object.assign(Object.assign({},e.rowOrder),{field:e.rowOrder.field})};f=e.name+"#rowOrdering",t[f]=constructOrdering(t,U)}const N=new Map,F=n.width/v.length,j=n.height/I.length;for(const U of t[e.name+"#grouping"]){let V=U.key[0];typeof V!="object"&&(V={id:V});let Z=U.key[1];typeof Z!="object"&&(Z={id:Z}),N.set(U.id,{x:t[u].get(V.id)*F,y:t[f].get(Z.id)*j,width:F,height:j})}return t[e.name+"#layout"]=N,{xOrderName:u,yOrderName:f,groupName:d,distinctRows:I,distinctCols:v,rowGroupIds:P,colGroupIds:S}});function updateSpec(e,t,n,s,u){return __awaiter$1(this,void 0,void 0,function*(){const f=constructDependencyGraph(e),d=getBoundsFromSpec(e),g=determineEvaluationOrder(f,n).filter(M=>!n.includes(M.name));for(const M of g)if(M.type==="data")t=yield Object.assign(Object.assign({},t),yield loadData(M.spec,u));else if(M.type==="grouping")t[M.spec.name]=groupFlattened(t,M.spec.data,M.spec.common);else if(M.type==="network")yield processNetworkSpec(M.spec,t);else if(M.type==="layout"){const I=(F,j)=>t[F]=j,[P,N]=yield computeLayout(t,M.spec,d,I,u);t[M.spec.name]=P,t[M.spec.name+"_AXES"]=N}else if(M.type==="scale")t[M.spec.name]=constructScale(M.spec,d,t);else if(M.type==="ordering")t[M.spec.name]=constructOrdering(t,M.spec);else if(M.type==="parameter")"source"in M.spec&&(t[M.spec.name]=applySelectionTransform(t,M.spec,e));else if(M.type==="table"){const{xOrderName:I,yOrderName:P,groupName:N,rowGroupIds:F,colGroupIds:j,distinctRows:U,distinctCols:V}=yield constructTable(M.spec,t,d);t[M.spec.name]={xOrderName:I,yOrderName:P,groupName:N,rowGroupIds:F,colGroupIds:j,distinctRows:U,distinctCols:V}}const v={},S={marktype:"group",items:[{x:d.x,y:d.y,width:d.width+2*d.x,height:d.height+2*d.y,items:[]}]};for(const M of e.vis||[])yield processVisSpec(M,S,t,v,d,s,e,u);return e.vis.length===0&&console.log({state:t}),{sceneJSON:S,state:Object.assign(Object.assign({},t),v)}})}var pointInPolygonExports={},pointInPolygon={get exports(){return pointInPolygonExports},set exports(e){pointInPolygonExports=e}},flat=function e(t,n,s,u){var f=t[0],d=t[1],g=!1;s===void 0&&(s=0),u===void 0&&(u=n.length);for(var v=(u-s)/2,S=0,M=v-1;S<v;M=S++){var I=n[s+S*2+0],P=n[s+S*2+1],N=n[s+M*2+0],F=n[s+M*2+1],j=P>d!=F>d&&f<(N-I)*(d-P)/(F-P)+I;j&&(g=!g)}return g},nested=function e(t,n,s,u){var f=t[0],d=t[1],g=!1;s===void 0&&(s=0),u===void 0&&(u=n.length);for(var v=u-s,S=0,M=v-1;S<v;M=S++){var I=n[S+s][0],P=n[S+s][1],N=n[M+s][0],F=n[M+s][1],j=P>d!=F>d&&f<(N-I)*(d-P)/(F-P)+I;j&&(g=!g)}return g},pointInPolygonFlat=flat,pointInPolygonNested=nested;pointInPolygon.exports=function e(t,n,s,u){return n.length>0&&Array.isArray(n[0])?pointInPolygonNested(t,n,s,u):pointInPolygonFlat(t,n,s,u)};pointInPolygonExports.nested=pointInPolygonNested;pointInPolygonExports.flat=pointInPolygonFlat;const isArray=e=>Array.isArray(e),isDate=e=>Object.prototype.toString.call(e)==="[object Date]",isObject=e=>e===Object(e),formatTooltip=e=>e==null?"":isArray(e)?formatArray(e):isObject(e)&&!isDate(e)?formatObject(e):e+"",formatObject=e=>{let t="<table><tbody>";const n=Object.keys(e);return t+=n.map(s=>`<tr><td class="key" style="text-align: right">${s}:</td><td class="value" style="text-align: left">${formatValue(e[s])}</td></tr>`).join(`
`),t+="</tbody></table>",t},formatArray=e=>`[${e.map(formatValue).join(", ")}]`,formatValue=e=>isArray(e)?"[]":isObject(e)&&!isDate(e)?"{}":e,createSelectionOverlay=(e,t,n)=>{e.style.position="relative";const s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.style.position="absolute",s.style.left="0",s.style.width=`${t}px`,s.style.height=`${n}px`,s.style.zIndex="1",e.appendChild(s);const u=document.createElementNS("http://www.w3.org/2000/svg","rect");u.style.fill="none",u.style.stroke="black",s.appendChild(u);const f=document.createElementNS("http://www.w3.org/2000/svg","path");f.style.stroke="grey",f.style.strokeDasharray="2,2",f.style.fill="lightgrey",f.style.strokeWidth="2px",s.appendChild(f);const d=document.createElementNS("http://www.w3.org/2000/svg","path");d.style.stroke="grey",d.style.fill="none",d.style.strokeWidth="3px",s.appendChild(d);const g=document.createElementNS("http://www.w3.org/2000/svg","circle");return g.style.fill="none",g.setAttribute("r","6"),s.appendChild(g),{selectionSVG:s,lasooPolygon:f,lasooPolygonOutline:d,lassoCircle:g,rectBrush:u}},isPressed=(e,t)=>e[{alt:"altKey",ctrl:"ctrlKey",meta:"metaKey",shift:"shiftKey"}[t]],correctModifiersPresses=(e,t)=>{let n=!1;return n=n||(t.modifierKeyRequired||[]).some(s=>!isPressed(e,s)),n=n||(t.modifierKeyAbsent||[]).some(s=>isPressed(e,s)),!n},updateLasso=(e,t,n,s,u,f,d)=>{const g=[t],v=[],S=e.map(P=>({x:P.x/u-f[0]-d.x,y:P.y/u-f[1]-d.y})),M={x1:min$3(S.map(P=>P.x)),x2:max$3(S.map(P=>P.x)),y1:min$3(S.map(P=>P.y)),y2:max$3(S.map(P=>P.y))},I=S.map(P=>[P.x,P.y]);for(;g.length>0;){const P=g.pop();if("items"in P)for(const N of P.items)"bounds"in N?N.bounds.x2<M.x1||N.bounds.x1>M.x2||N.bounds.y2<M.y1||N.bounds.y1>M.y2||g.push(N):"mark"in N&&pointInPolygonExports([N.x,N.y],I)&&v.push(N);else pointInPolygonExports([P.x,P.y],I)&&v.push(P)}updateSelection(v,n,s,"lasso")},mousedown=(e,t,n,s,u,f,d,g,v)=>{if(f.pan&&correctModifiersPresses(e,f.pan)){n.panStartEv=e;return}if(t){n.dragStartEv=e;for(const[S,M]of f.dragSelection)if(correctModifiersPresses(e,M)){n.draggedSelection=S,n.layoutName=M.layout;return}for(const S of f.dragElement)correctModifiersPresses(e,S)&&(n.draggedObj=t.mark);(t.role==="rowLabel"||t.role==="colLabel")&&(n.draggedTableHeading=t);return}for(const[S,M]of f.dragSelection)if(correctModifiersPresses(e,M)){n.draggedSelection=S,n.layoutName=M.layout;return}for(const S of f.lasso)if(correctModifiersPresses(e,S)){n.brush={x1:null,x2:null,y1:null,y2:null},n.lassoPoints.push({x:e.offsetX,y:e.offsetY});const M=`M ${n.lassoPoints[0].x} ${n.lassoPoints[0].y}`+n.lassoPoints.slice(1).map(I=>`L ${I.x}, ${I.y}`).join(" ");n.lasooPolygon.setAttribute("d",M+"Z"),n.lasooPolygonOutline.setAttribute("d",M),n.lassoCircle.style.fill="gray",n.lassoCircle.setAttribute("cx",n.lassoPoints[0].x),n.lassoCircle.setAttribute("cy",n.lassoPoints[0].y),console.log("Lasso:",M),n.lassoPoints.length>=3&&updateLasso(n.lassoPoints,s,e,u,d,g,v);return}for(const S of f.rect)if(correctModifiersPresses(e,S)){n.lassoPoints=[],n.lasooPolygon.setAttribute("d",""),n.lasooPolygonOutline.setAttribute("d",""),n.lassoCircle.style.fill="none",n.lassoCircle.setAttribute("cx",""),n.lassoCircle.setAttribute("cy",""),n.brush={x1:e.offsetX,x2:null,y1:e.offsetY,y2:null},n.rectBrush.setAttribute("x",e.offsetX),n.rectBrush.setAttribute("y",e.offsetY),n.rectBrush.setAttribute("width","0");return}},mousemove=(e,t,n)=>{const{brush:s,rectBrush:u}=t;s.x1&&!s.x2&&(u.setAttribute("x",Math.min(e.offsetX,s.x1).toString()),u.setAttribute("width",Math.abs(e.offsetX-s.x1).toString()),u.setAttribute("y",Math.min(e.offsetY,s.y1).toString()),u.setAttribute("height",Math.abs(e.offsetY-s.y1).toString()))},updateSelection=(e,t,n,s)=>{var u;const f=new Map,d=new Map;for(const g of e)for(const v of g.actions||[]){let S=!1;S=S||(v.modifierKeyAbsent||[]).some(M=>isPressed(t,M)),S=S||(v.modifierKeyRequired||[]).some(M=>!isPressed(t,M)),!S&&v.interaction==="select"&&((u=v.using)!==null&&u!==void 0?u:"rect")===s&&(f.has(v.selection)||f.set(v.selection,{nodes:[],links:[]}),g.mark.dataset.endsWith(".nodes")?f.get(v.selection).nodes.push(g.mark.id):g.mark.dataset.endsWith(".links")&&f.get(v.selection).links.push(g.mark.id),d.set(v.selection,v))}n(f,d)},mouseup=(e,t,n,s,u,f,d,g,v,S,M,I)=>{const{brush:P}=t;if(t.panStartEv){f(t.panStartEv,e),t.panStartEv=null;return}if(P.x1){P.x2=e.offsetX,P.y2=e.offsetY,console.log("New brush",P);const N=[n],F=[],j={x1:Math.min(P.x1,P.x2),x2:Math.max(P.x1,P.x2),y1:Math.min(P.y1,P.y2),y2:Math.max(P.y1,P.y2)},U={x1:j.x1/S-M[0]-I.x,x2:j.x2/S-M[0]-I.x,y1:j.y1/S-M[1]-I.y,y2:j.y2/S-M[1]-I.y};for(;N.length>0;){const V=N.pop();if("items"in V)for(const Z of V.items)"bounds"in Z?Z.bounds.x2<=U.x1||Z.bounds.x1>=U.x2||Z.bounds.y2<=U.y1||Z.bounds.y1>=U.y2||N.push(Z):"mark"in Z&&(Z.mark.bounds.x2<=U.x1||Z.mark.bounds.x1>=U.x2||Z.mark.bounds.y2<=U.y1||Z.mark.bounds.y1>=U.y2||F.push(Z));else V.bounds.x2<=U.x1||V.bounds.x1>=U.x2||V.bounds.y2<=U.y1||V.bounds.y1>=U.y2||F.push(V)}console.log("selected things:",{leafNodesInside:F}),updateSelection(F,e,u,"rect"),P.x1=void 0,t.rectBrush.setAttribute("width","0"),t.rectBrush.setAttribute("height","0")}else{const N=t.draggedTableHeading;if(N){t.dragEndEv=e;const F={dx:t.dragEndEv.layerX-t.dragStartEv.layerX,dy:t.dragEndEv.layerY-t.dragStartEv.layerY},U=v[N.layoutName].get(N.idForLayout),V=N.layoutName.split("#")[0];let Z,Q;N.role==="rowLabel"?(Z=Math.floor(F.dy/U.height),Q=v[V].yOrderName):(Z=Math.floor(F.dx/U.width),Q=v[V].xOrderName);const J=v[Q],te=J.get(N.idForLayout),oe=Math.max(0,Math.min(te+Z,J.size-1));for(const ue of J.keys()){const se=J.get(ue);Z>0?se>te&&se<=oe&&J.set(ue,se-1):Z<0&&se<te&&se>=oe&&J.set(ue,se+1)}J.set(N.idForLayout,oe),d(Q),t.draggedTableHeading=null;return}if(t.draggedObj){t.dragEndEv=e;const F=t.draggedObj;for(const j of F.actions||[]){if(j.interaction!=="drag"||!correctModifiersPresses(t.dragStartEv,j))continue;const U={dx:t.dragEndEv.layerX-t.dragStartEv.layerX,dy:t.dragEndEv.layerY-t.dragStartEv.layerY};s(F.layout_name,[F.id],U)}}if(t.draggedSelection){t.dragEndEv=e;const F={dx:t.dragEndEv.layerX-t.dragStartEv.layerX,dy:t.dragEndEv.layerY-t.dragStartEv.layerY},j=v[t.draggedSelection].nodes.map(U=>U.id);s(t.layoutName,j,F)}t.draggedObj=null,t.draggedSelection=null}},mouseover=(e,t,n)=>{t&&(console.log(t.mark.items[0].tooltip),n.style.opacity=t.mark.items[0].tooltip?1:0,n.style.left=`${e.offsetX}px`,n.style.top=`${e.offsetY}px`,n.innerHTML=formatTooltip(t.mark.items[0].tooltip))},mouseout=(e,t,n)=>{n.style.opacity=0},cursorEventHandler=(e,t,n,s)=>{if(!t)return;const u=new Map,f=new Map;let d=!1;for(const g of t.actions||[]){if(g.using!=="cursor"||g.event!==e.type||(d=!0,!correctModifiersPresses(e,g)))continue;let v;t.mark.dataset.endsWith(".links")?v={nodes:[],links:[t.mark.id]}:t.mark.dataset.endsWith(".nodes")&&(v={nodes:[t.mark.id],links:[]}),u.set(g.selection,v),f.set(g.selection,g)}d&&(n(u,f),console.log("CURSOR INTERACTION TRIGGERED:",{ev:e,target:t}))},backgroundClickHandler=(e,t,n,s)=>{if(t)return;const u=new Map,f=new Map;let d=!1;for(const g of n||[])if(g.clearOnBackgroundClick){const v={nodes:[],links:[]};f.set(g.name,"replace"),u.set(g.name,v),d=!0}d&&(s(u,f),console.log("Clearing selection(s) due to background click"))},createBrushInput=(e,t,n,s)=>{const d={top:10,right:20,bottom:20,left:20};let g;t=="linear"?g=linear(e,[d.left,500-d.right]):g=time$1(e,[d.left,500-d.right]);const v=j=>j.attr("transform",`translate(0,${60-d.bottom})`).call(axisBottom(g)),S=arc$3().innerRadius(0).outerRadius((60-d.top-d.bottom)/5).startAngle(0).endAngle((j,U)=>U?Math.PI:-Math.PI),M=(j,U)=>j.selectAll(".handle--custom").data([{type:"w"},{type:"e"}]).join(V=>V.append("path").attr("class","handle--custom").attr("fill","#666").attr("fill-opacity",.8).attr("stroke","#000").attr("stroke-width",1.5).attr("cursor","ew-resize").attr("d",S)).attr("display",U===null?"none":null).attr("transform",U===null?null:(V,Z)=>`translate(${U[Z]},${(60+d.top-d.bottom)/2})`),I=create$2("svg").attr("viewBox",[0,0,500,60]),P=brushX().extent([[d.left,d.top],[500-d.right,60-d.bottom]]).on("start brush end",F).on("end",j=>!s&&n(j.selection.map(U=>g.invert(U))));I.append("g").call(v);const N=I.append("g");N.call(P).call(P.move,e.map(g));function F({selection:j}){N.call(M,j),s&&n(j.map(U=>g.invert(U)))}return I.node()},createInputs=(e,t,n,s)=>{var u,f,d,g;const v={};for(const S of n){if(!("bind"in S))continue;const M=["select","radio","brush"];if(S.bind.input==="brush"){const I=document.createElement("label");I.innerText="label"in S.bind?S.bind.label:S.name,I.style.display="inline-flex",I.style.alignItems="center",t.appendChild(I);const P=e[S.bind.network][S.bind.for],N=extent$1(P.map(U=>select(U,S.bind.field))),j=createBrushInput(N,"linear",U=>s(S.name,U),S.bind.updateContinuously);v[S.name]=j,t.appendChild(j)}else if("element"in S.bind){const I="event"in S.bind?S.bind.event:"oninput",P=document.getElementById(S.bind.element);P[I]=N=>s(S.name,N.target.value),v[S.name]=P}else if(M.includes(S.bind.input)){if(S.bind.input==="radio"){const I=document.createElement("label");I.innerText="label"in S.bind?S.bind.label:S.name,I.style.display="inline-flex",I.style.alignItems="center",t.appendChild(I);for(const P in S.bind.options){const N=document.createElement("label");N.style.display="inline-flex",N.style.alignItems="center",N.innerText=(f=S.bind.labels&&S.bind.labels[P])!==null&&f!==void 0?f:S.bind.options[P].toString();const F=document.createElement("input");F.type="radio",F.name=S.name,F.oninput=j=>{j.target.checked&&s(S.name,S.bind.options[P])},I.appendChild(N),N.appendChild(F)}}else if(S.bind.input==="select"){const I=document.createElement("label");I.innerText="label"in S.bind?S.bind.label:S.name,I.style.display="inline-flex",I.style.alignItems="center",t.appendChild(I);const P=document.createElement("select");I.appendChild(P),v[S.name]=P;for(const N in S.bind.options){const F=document.createElement("option");F.value=S.bind.options[N],F.innerText=(d=S.bind.labels&&S.bind.labels[N])!==null&&d!==void 0?d:S.bind.options[N].toString(),P.appendChild(F)}"value"in S.bind&&(P.value=S.bind.value),P.oninput=N=>s(S.name,N.target.value)}}else{const I=document.createElement("label");I.innerText="label"in S.bind?S.bind.label:S.name,I.style.display="inline-flex",I.style.alignItems="center",I.style.userSelect="none",t.appendChild(I);const P=document.createElement("input");P.type=S.bind.input,I.appendChild(P),v[S.name]=P;let N;S.bind.input==="range"&&(N=document.createElement("span"),N.innerText=(u=S.bind.value)!==null&&u!==void 0?u:"",I.appendChild(N)),"min"in S.bind&&(P.min=S.bind.min.toString()),"max"in S.bind&&(P.max=S.bind.max.toString()),"step"in S.bind&&(P.step=S.bind.step.toString()),"value"in S.bind&&(P.value=S.bind.value);for(const F of Object.keys(S.bind))["input","label","labels","options","min","max","step","element","event"].includes(F)||(P[F]=S.bind[F]);S.bind.input==="checkbox"?P.onchange=F=>s(S.name,F.target.checked):S.bind.input==="range"?P.onchange=F=>{s(S.name,F.target.value),N.innerText=F.target.value}:P.onchange=F=>s(S.name,F.target.value)}"value"in S&&(((g=v[S.name])!==null&&g!==void 0?g:{}).value=S.value)}return v},createAnimationControls=(e,t,n)=>{var s,u,f,d,g,v;for(const S of t){if(!("animate"in S)||!S.animate)continue;const M=S.animate;let I,P;M.values?(I=M.values.length,M.min=(s=M.min)!==null&&s!==void 0?s:0,M.max=(u=M.max)!==null&&u!==void 0?u:I-1,P=1):M.stepSize?(P=M.stepSize,I=Math.ceil((M.max-M.min)/P)):(I=(f=M.numSteps)!==null&&f!==void 0?f:10,P=(M.max-M.min)/I);let N;M.totalTime?N=M.totalTime/M.numSteps:N=(d=M.stepTime)!==null&&d!==void 0?d:10;let F=(g=S.value)!==null&&g!==void 0?g:M.min;M.values&&M.values.includes(F)&&(F=M.values.indexOf(F));let j=(v=M.autoStart)!==null&&v!==void 0?v:!1;const U=me=>{let ye=me+P;return ye>M.max&&(M!=null&&M.loop?ye=M.min:(clearInterval(ve),ye=M.max)),ye},V=me=>{let ye=me-P;return ye<M.min&&(M!=null&&M.loop?ye=M.max-(M.min-ye):(clearInterval(ve),ye=M.min)),ye},Z=()=>{j=!1,clearInterval(ve),le.innerText=""},Q=()=>{j=!0,ve=setInterval(function(){F=U(F),J(F)},N*1e3),le.innerText=""},J=me=>{const ye=M.values?M.values[me]:me;n(S.name,ye),oe&&(oe.innerText=ye),de.disabled=me+P>M.max,ge.disabled=me+P>M.max,se.disabled=me-P<M.min,ue.disabled=me-P<M.min},te=document.createElement("label");te.innerText="label"in M?M.label:S.name,te.style.display="inline-flex",te.style.alignItems="center",te.style.userSelect="none",e.appendChild(te);let oe;M!=null&&M.showValue&&(oe=document.createElement("label"),oe.innerText=M.values?M.values[F]:F,oe.style.display="inline-flex",oe.style.alignItems="center",oe.style.userSelect="none",oe.style.paddingLeft="0.25em",e.appendChild(oe));let ue;M!=null&&M.showJumpControl&&(ue=document.createElement("button"),ue.innerText="",ue.style.height="3em",e.appendChild(ue),ue.addEventListener("click",()=>{F=M.min,J(F)}));let se;M!=null&&M.showStepControl&&(se=document.createElement("button"),se.innerText="",se.style.height="3em",e.appendChild(se),se.addEventListener("click",()=>{F=V(F),J(F)}));let le;M!=null&&M.showPauseControl&&(le=document.createElement("button"),le.innerText=j?"":"",le.style.height="3em",e.appendChild(le),le.addEventListener("click",()=>{j?Z():Q()}));let de;M!=null&&M.showStepControl&&(de=document.createElement("button"),de.innerText="",de.style.height="3em",e.appendChild(de),de.addEventListener("click",()=>{F=U(F),J(F)}));let ge;M!=null&&M.showJumpControl&&(ge=document.createElement("button"),ge.innerText="",ge.style.height="3em",e.appendChild(ge),ge.addEventListener("click",()=>{F=M.max,J(F)}));let ve;j&&(ve=setInterval(function(){F=U(F),J(F)},N*1e3))}};var leafletSrcExports={},leafletSrc={get exports(){return leafletSrcExports},set exports(e){leafletSrcExports=e}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,s){s(t)})(commonjsGlobal,function(n){var s="1.9.3";function u(G){var ne,he,we,Me;for(he=1,we=arguments.length;he<we;he++){Me=arguments[he];for(ne in Me)G[ne]=Me[ne]}return G}var f=Object.create||function(){function G(){}return function(ne){return G.prototype=ne,new G}}();function d(G,ne){var he=Array.prototype.slice;if(G.bind)return G.bind.apply(G,he.call(arguments,1));var we=he.call(arguments,2);return function(){return G.apply(ne,we.length?we.concat(he.call(arguments)):arguments)}}var g=0;function v(G){return"_leaflet_id"in G||(G._leaflet_id=++g),G._leaflet_id}function S(G,ne,he){var we,Me,Ue,rt;return rt=function(){we=!1,Me&&(Ue.apply(he,Me),Me=!1)},Ue=function(){we?Me=arguments:(G.apply(he,arguments),setTimeout(rt,ne),we=!0)},Ue}function M(G,ne,he){var we=ne[1],Me=ne[0],Ue=we-Me;return G===we&&he?G:((G-Me)%Ue+Ue)%Ue+Me}function I(){return!1}function P(G,ne){if(ne===!1)return G;var he=Math.pow(10,ne===void 0?6:ne);return Math.round(G*he)/he}function N(G){return G.trim?G.trim():G.replace(/^\s+|\s+$/g,"")}function F(G){return N(G).split(/\s+/)}function j(G,ne){Object.prototype.hasOwnProperty.call(G,"options")||(G.options=G.options?f(G.options):{});for(var he in ne)G.options[he]=ne[he];return G.options}function U(G,ne,he){var we=[];for(var Me in G)we.push(encodeURIComponent(he?Me.toUpperCase():Me)+"="+encodeURIComponent(G[Me]));return(!ne||ne.indexOf("?")===-1?"?":"&")+we.join("&")}var V=/\{ *([\w_ -]+) *\}/g;function Z(G,ne){return G.replace(V,function(he,we){var Me=ne[we];if(Me===void 0)throw new Error("No value provided for variable "+he);return typeof Me=="function"&&(Me=Me(ne)),Me})}var Q=Array.isArray||function(G){return Object.prototype.toString.call(G)==="[object Array]"};function J(G,ne){for(var he=0;he<G.length;he++)if(G[he]===ne)return he;return-1}var te="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function oe(G){return window["webkit"+G]||window["moz"+G]||window["ms"+G]}var ue=0;function se(G){var ne=+new Date,he=Math.max(0,16-(ne-ue));return ue=ne+he,window.setTimeout(G,he)}var le=window.requestAnimationFrame||oe("RequestAnimationFrame")||se,de=window.cancelAnimationFrame||oe("CancelAnimationFrame")||oe("CancelRequestAnimationFrame")||function(G){window.clearTimeout(G)};function ge(G,ne,he){if(he&&le===se)G.call(ne);else return le.call(window,d(G,ne))}function ve(G){G&&de.call(window,G)}var me={__proto__:null,extend:u,create:f,bind:d,get lastId(){return g},stamp:v,throttle:S,wrapNum:M,falseFn:I,formatNum:P,trim:N,splitWords:F,setOptions:j,getParamString:U,template:Z,isArray:Q,indexOf:J,emptyImageUrl:te,requestFn:le,cancelFn:de,requestAnimFrame:ge,cancelAnimFrame:ve};function ye(){}ye.extend=function(G){var ne=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},he=ne.__super__=this.prototype,we=f(he);we.constructor=ne,ne.prototype=we;for(var Me in this)Object.prototype.hasOwnProperty.call(this,Me)&&Me!=="prototype"&&Me!=="__super__"&&(ne[Me]=this[Me]);return G.statics&&u(ne,G.statics),G.includes&&(Ae(G.includes),u.apply(null,[we].concat(G.includes))),u(we,G),delete we.statics,delete we.includes,we.options&&(we.options=he.options?f(he.options):{},u(we.options,G.options)),we._initHooks=[],we.callInitHooks=function(){if(!this._initHooksCalled){he.callInitHooks&&he.callInitHooks.call(this),this._initHooksCalled=!0;for(var Ue=0,rt=we._initHooks.length;Ue<rt;Ue++)we._initHooks[Ue].call(this)}},ne},ye.include=function(G){var ne=this.prototype.options;return u(this.prototype,G),G.options&&(this.prototype.options=ne,this.mergeOptions(G.options)),this},ye.mergeOptions=function(G){return u(this.prototype.options,G),this},ye.addInitHook=function(G){var ne=Array.prototype.slice.call(arguments,1),he=typeof G=="function"?G:function(){this[G].apply(this,ne)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(he),this};function Ae(G){if(!(typeof L>"u"||!L||!L.Mixin)){G=Q(G)?G:[G];for(var ne=0;ne<G.length;ne++)G[ne]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Te={on:function(G,ne,he){if(typeof G=="object")for(var we in G)this._on(we,G[we],ne);else{G=F(G);for(var Me=0,Ue=G.length;Me<Ue;Me++)this._on(G[Me],ne,he)}return this},off:function(G,ne,he){if(!arguments.length)delete this._events;else if(typeof G=="object")for(var we in G)this._off(we,G[we],ne);else{G=F(G);for(var Me=arguments.length===1,Ue=0,rt=G.length;Ue<rt;Ue++)Me?this._off(G[Ue]):this._off(G[Ue],ne,he)}return this},_on:function(G,ne,he,we){if(typeof ne!="function"){console.warn("wrong listener type: "+typeof ne);return}if(this._listens(G,ne,he)===!1){he===this&&(he=void 0);var Me={fn:ne,ctx:he};we&&(Me.once=!0),this._events=this._events||{},this._events[G]=this._events[G]||[],this._events[G].push(Me)}},_off:function(G,ne,he){var we,Me,Ue;if(this._events&&(we=this._events[G],!!we)){if(arguments.length===1){if(this._firingCount)for(Me=0,Ue=we.length;Me<Ue;Me++)we[Me].fn=I;delete this._events[G];return}if(typeof ne!="function"){console.warn("wrong listener type: "+typeof ne);return}var rt=this._listens(G,ne,he);if(rt!==!1){var vt=we[rt];this._firingCount&&(vt.fn=I,this._events[G]=we=we.slice()),we.splice(rt,1)}}},fire:function(G,ne,he){if(!this.listens(G,he))return this;var we=u({},ne,{type:G,target:this,sourceTarget:ne&&ne.sourceTarget||this});if(this._events){var Me=this._events[G];if(Me){this._firingCount=this._firingCount+1||1;for(var Ue=0,rt=Me.length;Ue<rt;Ue++){var vt=Me[Ue],Ct=vt.fn;vt.once&&this.off(G,Ct,vt.ctx),Ct.call(vt.ctx||this,we)}this._firingCount--}}return he&&this._propagateEvent(we),this},listens:function(G,ne,he,we){typeof G!="string"&&console.warn('"string" type argument expected');var Me=ne;typeof ne!="function"&&(we=!!ne,Me=void 0,he=void 0);var Ue=this._events&&this._events[G];if(Ue&&Ue.length&&this._listens(G,Me,he)!==!1)return!0;if(we){for(var rt in this._eventParents)if(this._eventParents[rt].listens(G,ne,he,we))return!0}return!1},_listens:function(G,ne,he){if(!this._events)return!1;var we=this._events[G]||[];if(!ne)return!!we.length;he===this&&(he=void 0);for(var Me=0,Ue=we.length;Me<Ue;Me++)if(we[Me].fn===ne&&we[Me].ctx===he)return Me;return!1},once:function(G,ne,he){if(typeof G=="object")for(var we in G)this._on(we,G[we],ne,!0);else{G=F(G);for(var Me=0,Ue=G.length;Me<Ue;Me++)this._on(G[Me],ne,he,!0)}return this},addEventParent:function(G){return this._eventParents=this._eventParents||{},this._eventParents[v(G)]=G,this},removeEventParent:function(G){return this._eventParents&&delete this._eventParents[v(G)],this},_propagateEvent:function(G){for(var ne in this._eventParents)this._eventParents[ne].fire(G.type,u({layer:G.target,propagatedFrom:G.target},G),!0)}};Te.addEventListener=Te.on,Te.removeEventListener=Te.clearAllEventListeners=Te.off,Te.addOneTimeEventListener=Te.once,Te.fireEvent=Te.fire,Te.hasEventListeners=Te.listens;var Oe=ye.extend(Te);function Ie(G,ne,he){this.x=he?Math.round(G):G,this.y=he?Math.round(ne):ne}var Be=Math.trunc||function(G){return G>0?Math.floor(G):Math.ceil(G)};Ie.prototype={clone:function(){return new Ie(this.x,this.y)},add:function(G){return this.clone()._add(De(G))},_add:function(G){return this.x+=G.x,this.y+=G.y,this},subtract:function(G){return this.clone()._subtract(De(G))},_subtract:function(G){return this.x-=G.x,this.y-=G.y,this},divideBy:function(G){return this.clone()._divideBy(G)},_divideBy:function(G){return this.x/=G,this.y/=G,this},multiplyBy:function(G){return this.clone()._multiplyBy(G)},_multiplyBy:function(G){return this.x*=G,this.y*=G,this},scaleBy:function(G){return new Ie(this.x*G.x,this.y*G.y)},unscaleBy:function(G){return new Ie(this.x/G.x,this.y/G.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Be(this.x),this.y=Be(this.y),this},distanceTo:function(G){G=De(G);var ne=G.x-this.x,he=G.y-this.y;return Math.sqrt(ne*ne+he*he)},equals:function(G){return G=De(G),G.x===this.x&&G.y===this.y},contains:function(G){return G=De(G),Math.abs(G.x)<=Math.abs(this.x)&&Math.abs(G.y)<=Math.abs(this.y)},toString:function(){return"Point("+P(this.x)+", "+P(this.y)+")"}};function De(G,ne,he){return G instanceof Ie?G:Q(G)?new Ie(G[0],G[1]):G==null?G:typeof G=="object"&&"x"in G&&"y"in G?new Ie(G.x,G.y):new Ie(G,ne,he)}function Pe(G,ne){if(G)for(var he=ne?[G,ne]:G,we=0,Me=he.length;we<Me;we++)this.extend(he[we])}Pe.prototype={extend:function(G){var ne,he;if(!G)return this;if(G instanceof Ie||typeof G[0]=="number"||"x"in G)ne=he=De(G);else if(G=Ne(G),ne=G.min,he=G.max,!ne||!he)return this;return!this.min&&!this.max?(this.min=ne.clone(),this.max=he.clone()):(this.min.x=Math.min(ne.x,this.min.x),this.max.x=Math.max(he.x,this.max.x),this.min.y=Math.min(ne.y,this.min.y),this.max.y=Math.max(he.y,this.max.y)),this},getCenter:function(G){return De((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,G)},getBottomLeft:function(){return De(this.min.x,this.max.y)},getTopRight:function(){return De(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(G){var ne,he;return typeof G[0]=="number"||G instanceof Ie?G=De(G):G=Ne(G),G instanceof Pe?(ne=G.min,he=G.max):ne=he=G,ne.x>=this.min.x&&he.x<=this.max.x&&ne.y>=this.min.y&&he.y<=this.max.y},intersects:function(G){G=Ne(G);var ne=this.min,he=this.max,we=G.min,Me=G.max,Ue=Me.x>=ne.x&&we.x<=he.x,rt=Me.y>=ne.y&&we.y<=he.y;return Ue&&rt},overlaps:function(G){G=Ne(G);var ne=this.min,he=this.max,we=G.min,Me=G.max,Ue=Me.x>ne.x&&we.x<he.x,rt=Me.y>ne.y&&we.y<he.y;return Ue&&rt},isValid:function(){return!!(this.min&&this.max)},pad:function(G){var ne=this.min,he=this.max,we=Math.abs(ne.x-he.x)*G,Me=Math.abs(ne.y-he.y)*G;return Ne(De(ne.x-we,ne.y-Me),De(he.x+we,he.y+Me))},equals:function(G){return G?(G=Ne(G),this.min.equals(G.getTopLeft())&&this.max.equals(G.getBottomRight())):!1}};function Ne(G,ne){return!G||G instanceof Pe?G:new Pe(G,ne)}function He(G,ne){if(G)for(var he=ne?[G,ne]:G,we=0,Me=he.length;we<Me;we++)this.extend(he[we])}He.prototype={extend:function(G){var ne=this._southWest,he=this._northEast,we,Me;if(G instanceof ze)we=G,Me=G;else if(G instanceof He){if(we=G._southWest,Me=G._northEast,!we||!Me)return this}else return G?this.extend(Ve(G)||je(G)):this;return!ne&&!he?(this._southWest=new ze(we.lat,we.lng),this._northEast=new ze(Me.lat,Me.lng)):(ne.lat=Math.min(we.lat,ne.lat),ne.lng=Math.min(we.lng,ne.lng),he.lat=Math.max(Me.lat,he.lat),he.lng=Math.max(Me.lng,he.lng)),this},pad:function(G){var ne=this._southWest,he=this._northEast,we=Math.abs(ne.lat-he.lat)*G,Me=Math.abs(ne.lng-he.lng)*G;return new He(new ze(ne.lat-we,ne.lng-Me),new ze(he.lat+we,he.lng+Me))},getCenter:function(){return new ze((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ze(this.getNorth(),this.getWest())},getSouthEast:function(){return new ze(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(G){typeof G[0]=="number"||G instanceof ze||"lat"in G?G=Ve(G):G=je(G);var ne=this._southWest,he=this._northEast,we,Me;return G instanceof He?(we=G.getSouthWest(),Me=G.getNorthEast()):we=Me=G,we.lat>=ne.lat&&Me.lat<=he.lat&&we.lng>=ne.lng&&Me.lng<=he.lng},intersects:function(G){G=je(G);var ne=this._southWest,he=this._northEast,we=G.getSouthWest(),Me=G.getNorthEast(),Ue=Me.lat>=ne.lat&&we.lat<=he.lat,rt=Me.lng>=ne.lng&&we.lng<=he.lng;return Ue&&rt},overlaps:function(G){G=je(G);var ne=this._southWest,he=this._northEast,we=G.getSouthWest(),Me=G.getNorthEast(),Ue=Me.lat>ne.lat&&we.lat<he.lat,rt=Me.lng>ne.lng&&we.lng<he.lng;return Ue&&rt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(G,ne){return G?(G=je(G),this._southWest.equals(G.getSouthWest(),ne)&&this._northEast.equals(G.getNorthEast(),ne)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function je(G,ne){return G instanceof He?G:new He(G,ne)}function ze(G,ne,he){if(isNaN(G)||isNaN(ne))throw new Error("Invalid LatLng object: ("+G+", "+ne+")");this.lat=+G,this.lng=+ne,he!==void 0&&(this.alt=+he)}ze.prototype={equals:function(G,ne){if(!G)return!1;G=Ve(G);var he=Math.max(Math.abs(this.lat-G.lat),Math.abs(this.lng-G.lng));return he<=(ne===void 0?1e-9:ne)},toString:function(G){return"LatLng("+P(this.lat,G)+", "+P(this.lng,G)+")"},distanceTo:function(G){return nt.distance(this,Ve(G))},wrap:function(){return nt.wrapLatLng(this)},toBounds:function(G){var ne=180*G/40075017,he=ne/Math.cos(Math.PI/180*this.lat);return je([this.lat-ne,this.lng-he],[this.lat+ne,this.lng+he])},clone:function(){return new ze(this.lat,this.lng,this.alt)}};function Ve(G,ne,he){return G instanceof ze?G:Q(G)&&typeof G[0]!="object"?G.length===3?new ze(G[0],G[1],G[2]):G.length===2?new ze(G[0],G[1]):null:G==null?G:typeof G=="object"&&"lat"in G?new ze(G.lat,"lng"in G?G.lng:G.lon,G.alt):ne===void 0?null:new ze(G,ne,he)}var Ye={latLngToPoint:function(G,ne){var he=this.projection.project(G),we=this.scale(ne);return this.transformation._transform(he,we)},pointToLatLng:function(G,ne){var he=this.scale(ne),we=this.transformation.untransform(G,he);return this.projection.unproject(we)},project:function(G){return this.projection.project(G)},unproject:function(G){return this.projection.unproject(G)},scale:function(G){return 256*Math.pow(2,G)},zoom:function(G){return Math.log(G/256)/Math.LN2},getProjectedBounds:function(G){if(this.infinite)return null;var ne=this.projection.bounds,he=this.scale(G),we=this.transformation.transform(ne.min,he),Me=this.transformation.transform(ne.max,he);return new Pe(we,Me)},infinite:!1,wrapLatLng:function(G){var ne=this.wrapLng?M(G.lng,this.wrapLng,!0):G.lng,he=this.wrapLat?M(G.lat,this.wrapLat,!0):G.lat,we=G.alt;return new ze(he,ne,we)},wrapLatLngBounds:function(G){var ne=G.getCenter(),he=this.wrapLatLng(ne),we=ne.lat-he.lat,Me=ne.lng-he.lng;if(we===0&&Me===0)return G;var Ue=G.getSouthWest(),rt=G.getNorthEast(),vt=new ze(Ue.lat-we,Ue.lng-Me),Ct=new ze(rt.lat-we,rt.lng-Me);return new He(vt,Ct)}},nt=u({},Ye,{wrapLng:[-180,180],R:6371e3,distance:function(G,ne){var he=Math.PI/180,we=G.lat*he,Me=ne.lat*he,Ue=Math.sin((ne.lat-G.lat)*he/2),rt=Math.sin((ne.lng-G.lng)*he/2),vt=Ue*Ue+Math.cos(we)*Math.cos(Me)*rt*rt,Ct=2*Math.atan2(Math.sqrt(vt),Math.sqrt(1-vt));return this.R*Ct}}),Fe=6378137,Qe={R:Fe,MAX_LATITUDE:85.0511287798,project:function(G){var ne=Math.PI/180,he=this.MAX_LATITUDE,we=Math.max(Math.min(he,G.lat),-he),Me=Math.sin(we*ne);return new Ie(this.R*G.lng*ne,this.R*Math.log((1+Me)/(1-Me))/2)},unproject:function(G){var ne=180/Math.PI;return new ze((2*Math.atan(Math.exp(G.y/this.R))-Math.PI/2)*ne,G.x*ne/this.R)},bounds:function(){var G=Fe*Math.PI;return new Pe([-G,-G],[G,G])}()};function it(G,ne,he,we){if(Q(G)){this._a=G[0],this._b=G[1],this._c=G[2],this._d=G[3];return}this._a=G,this._b=ne,this._c=he,this._d=we}it.prototype={transform:function(G,ne){return this._transform(G.clone(),ne)},_transform:function(G,ne){return ne=ne||1,G.x=ne*(this._a*G.x+this._b),G.y=ne*(this._c*G.y+this._d),G},untransform:function(G,ne){return ne=ne||1,new Ie((G.x/ne-this._b)/this._a,(G.y/ne-this._d)/this._c)}};function at(G,ne,he,we){return new it(G,ne,he,we)}var wt=u({},nt,{code:"EPSG:3857",projection:Qe,transformation:function(){var G=.5/(Math.PI*Qe.R);return at(G,.5,-G,.5)}()}),st=u({},wt,{code:"EPSG:900913"});function ft(G){return document.createElementNS("http://www.w3.org/2000/svg",G)}function Dt(G,ne){var he="",we,Me,Ue,rt,vt,Ct;for(we=0,Ue=G.length;we<Ue;we++){for(vt=G[we],Me=0,rt=vt.length;Me<rt;Me++)Ct=vt[Me],he+=(Me?"L":"M")+Ct.x+" "+Ct.y;he+=ne?En.svg?"z":"x":""}return he||"M0 0"}var ut=document.documentElement.style,_t="ActiveXObject"in window,Bt=_t&&!document.addEventListener,mn="msLaunchUri"in navigator&&!("documentMode"in document),dn=Di("webkit"),Zt=Di("android"),Mt=Di("android 2")||Di("android 3"),We=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),bt=Zt&&Di("Google")&&We<537&&!("AudioNode"in window),Nt=!!window.opera,It=!mn&&Di("chrome"),Lt=Di("gecko")&&!dn&&!Nt&&!_t,Pn=!It&&Di("safari"),qt=Di("phantom"),ln="OTransition"in ut,fr=navigator.platform.indexOf("Win")===0,ar=_t&&"transition"in ut,Rn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Mt,Cr="MozPerspective"in ut,gn=!window.L_DISABLE_3D&&(ar||Rn||Cr)&&!ln&&!qt,Tn=typeof orientation<"u"||Di("mobile"),Sr=Tn&&dn,Yr=Tn&&Rn,Oa=!window.PointerEvent&&window.MSPointerEvent,Ei=!!(window.PointerEvent||Oa),si="ontouchstart"in window||!!window.TouchEvent,ca=!window.L_NO_TOUCH&&(si||Ei),ta=Tn&&Nt,Ks=Tn&&Lt,bu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,kc=function(){var G=!1;try{var ne=Object.defineProperty({},"passive",{get:function(){G=!0}});window.addEventListener("testPassiveEventSupport",I,ne),window.removeEventListener("testPassiveEventSupport",I,ne)}catch{}return G}(),zu=function(){return!!document.createElement("canvas").getContext}(),wu=!!(document.createElementNS&&ft("svg").createSVGRect),Tf=!!wu&&function(){var G=document.createElement("div");return G.innerHTML="<svg/>",(G.firstChild&&G.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Gu=!wu&&function(){try{var G=document.createElement("div");G.innerHTML='<v:shape adj="1"/>';var ne=G.firstChild;return ne.style.behavior="url(#default#VML)",ne&&typeof ne.adj=="object"}catch{return!1}}(),po=navigator.platform.indexOf("Mac")===0,Za=navigator.platform.indexOf("Linux")===0;function Di(G){return navigator.userAgent.toLowerCase().indexOf(G)>=0}var En={ie:_t,ielt9:Bt,edge:mn,webkit:dn,android:Zt,android23:Mt,androidStock:bt,opera:Nt,chrome:It,gecko:Lt,safari:Pn,phantom:qt,opera12:ln,win:fr,ie3d:ar,webkit3d:Rn,gecko3d:Cr,any3d:gn,mobile:Tn,mobileWebkit:Sr,mobileWebkit3d:Yr,msPointer:Oa,pointer:Ei,touch:ca,touchNative:si,mobileOpera:ta,mobileGecko:Ks,retina:bu,passiveEvents:kc,canvas:zu,svg:wu,vml:Gu,inlineSvg:Tf,mac:po,linux:Za},es=En.msPointer?"MSPointerDown":"pointerdown",Ih=En.msPointer?"MSPointerMove":"pointermove",tg=En.msPointer?"MSPointerUp":"pointerup",ng=En.msPointer?"MSPointerCancel":"pointercancel",Rh={touchstart:es,touchmove:Ih,touchend:tg,touchcancel:ng},rg={touchstart:ns,touchmove:Lf,touchend:Lf,touchcancel:Lf},Cc={},ig=!1;function Ip(G,ne,he){return ne==="touchstart"&&ag(),rg[ne]?(he=rg[ne].bind(this,he),G.addEventListener(Rh[ne],he,!1),he):(console.warn("wrong event specified:",ne),I)}function wl(G,ne,he){if(!Rh[ne]){console.warn("wrong event specified:",ne);return}G.removeEventListener(Rh[ne],he,!1)}function Ph(G){Cc[G.pointerId]=G}function Af(G){Cc[G.pointerId]&&(Cc[G.pointerId]=G)}function Dh(G){delete Cc[G.pointerId]}function ag(){ig||(document.addEventListener(es,Ph,!0),document.addEventListener(Ih,Af,!0),document.addEventListener(tg,Dh,!0),document.addEventListener(ng,Dh,!0),ig=!0)}function Lf(G,ne){if(ne.pointerType!==(ne.MSPOINTER_TYPE_MOUSE||"mouse")){ne.touches=[];for(var he in Cc)ne.touches.push(Cc[he]);ne.changedTouches=[ne],G(ne)}}function ns(G,ne){ne.MSPOINTER_TYPE_TOUCH&&ne.pointerType===ne.MSPOINTER_TYPE_TOUCH&&no(ne),Lf(G,ne)}function Sc(G){var ne={},he,we;for(we in G)he=G[we],ne[we]=he&&he.bind?he.bind(G):he;return G=ne,ne.type="dblclick",ne.detail=2,ne.isTrusted=!1,ne._simulated=!0,ne}var og=200;function _l(G,ne){G.addEventListener("dblclick",ne);var he=0,we;function Me(Ue){if(Ue.detail!==1){we=Ue.detail;return}if(!(Ue.pointerType==="mouse"||Ue.sourceCapabilities&&!Ue.sourceCapabilities.firesTouchEvents)){var rt=s1(Ue);if(!(rt.some(function(Ct){return Ct instanceof HTMLLabelElement&&Ct.attributes.for})&&!rt.some(function(Ct){return Ct instanceof HTMLInputElement||Ct instanceof HTMLSelectElement}))){var vt=Date.now();vt-he<=og?(we++,we===2&&ne(Sc(Ue))):we=1,he=vt}}}return G.addEventListener("click",Me),{dblclick:ne,simDblclick:Me}}function ws(G,ne){G.removeEventListener("dblclick",ne.dblclick),G.removeEventListener("click",ne.simDblclick)}var Oh=ug(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),$h=ug(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),i1=$h==="webkitTransition"||$h==="OTransition"?$h+"End":"transitionend";function a1(G){return typeof G=="string"?document.getElementById(G):G}function Mf(G,ne){var he=G.style[ne]||G.currentStyle&&G.currentStyle[ne];if((!he||he==="auto")&&document.defaultView){var we=document.defaultView.getComputedStyle(G,null);he=we?we[ne]:null}return he==="auto"?null:he}function Qr(G,ne,he){var we=document.createElement(G);return we.className=ne||"",he&&he.appendChild(we),we}function Ui(G){var ne=G.parentNode;ne&&ne.removeChild(G)}function sg(G){for(;G.firstChild;)G.removeChild(G.firstChild)}function If(G){var ne=G.parentNode;ne&&ne.lastChild!==G&&ne.appendChild(G)}function Rf(G){var ne=G.parentNode;ne&&ne.firstChild!==G&&ne.insertBefore(G,ne.firstChild)}function Rp(G,ne){if(G.classList!==void 0)return G.classList.contains(ne);var he=Dp(G);return he.length>0&&new RegExp("(^|\\s)"+ne+"(\\s|$)").test(he)}function vr(G,ne){if(G.classList!==void 0)for(var he=F(ne),we=0,Me=he.length;we<Me;we++)G.classList.add(he[we]);else if(!Rp(G,ne)){var Ue=Dp(G);Pp(G,(Ue?Ue+" ":"")+ne)}}function Yi(G,ne){G.classList!==void 0?G.classList.remove(ne):Pp(G,N((" "+Dp(G)+" ").replace(" "+ne+" "," ")))}function Pp(G,ne){G.className.baseVal===void 0?G.className=ne:G.className.baseVal=ne}function Dp(G){return G.correspondingElement&&(G=G.correspondingElement),G.className.baseVal===void 0?G.className:G.className.baseVal}function _s(G,ne){"opacity"in G.style?G.style.opacity=ne:"filter"in G.style&&Cb(G,ne)}function Cb(G,ne){var he=!1,we="DXImageTransform.Microsoft.Alpha";try{he=G.filters.item(we)}catch{if(ne===1)return}ne=Math.round(ne*100),he?(he.Enabled=ne!==100,he.Opacity=ne):G.style.filter+=" progid:"+we+"(opacity="+ne+")"}function ug(G){for(var ne=document.documentElement.style,he=0;he<G.length;he++)if(G[he]in ne)return G[he];return!1}function xl(G,ne,he){var we=ne||new Ie(0,0);G.style[Oh]=(En.ie3d?"translate("+we.x+"px,"+we.y+"px)":"translate3d("+we.x+"px,"+we.y+"px,0)")+(he?" scale("+he+")":"")}function _a(G,ne){G._leaflet_pos=ne,En.any3d?xl(G,ne):(G.style.left=ne.x+"px",G.style.top=ne.y+"px")}function El(G){return G._leaflet_pos||new Ie(0,0)}var Nh,Fh,Op;if("onselectstart"in document)Nh=function(){sr(window,"selectstart",no)},Fh=function(){ki(window,"selectstart",no)};else{var Bh=ug(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Nh=function(){if(Bh){var G=document.documentElement.style;Op=G[Bh],G[Bh]="none"}},Fh=function(){Bh&&(document.documentElement.style[Bh]=Op,Op=void 0)}}function $p(){sr(window,"dragstart",no)}function Np(){ki(window,"dragstart",no)}var cg,Qs;function Fp(G){for(;G.tabIndex===-1;)G=G.parentNode;G.style&&(dt(),cg=G,Qs=G.style.outline,G.style.outline="none",sr(window,"keydown",dt))}function dt(){cg&&(cg.style.outline=Qs,cg=void 0,Qs=void 0,ki(window,"keydown",dt))}function lg(G){do G=G.parentNode;while((!G.offsetWidth||!G.offsetHeight)&&G!==document.body);return G}function Bp(G){var ne=G.getBoundingClientRect();return{x:ne.width/G.offsetWidth||1,y:ne.height/G.offsetHeight||1,boundingClientRect:ne}}var Sb={__proto__:null,TRANSFORM:Oh,TRANSITION:$h,TRANSITION_END:i1,get:a1,getStyle:Mf,create:Qr,remove:Ui,empty:sg,toFront:If,toBack:Rf,hasClass:Rp,addClass:vr,removeClass:Yi,setClass:Pp,getClass:Dp,setOpacity:_s,testProp:ug,setTransform:xl,setPosition:_a,getPosition:El,get disableTextSelection(){return Nh},get enableTextSelection(){return Fh},disableImageDrag:$p,enableImageDrag:Np,preventOutline:Fp,restoreOutline:dt,getSizedParentNode:lg,getScale:Bp};function sr(G,ne,he,we){if(ne&&typeof ne=="object")for(var Me in ne)qh(G,Me,ne[Me],he);else{ne=F(ne);for(var Ue=0,rt=ne.length;Ue<rt;Ue++)qh(G,ne[Ue],he,we)}return this}var _u="_leaflet_events";function ki(G,ne,he,we){if(arguments.length===1)o1(G),delete G[_u];else if(ne&&typeof ne=="object")for(var Me in ne)zp(G,Me,ne[Me],he);else if(ne=F(ne),arguments.length===2)o1(G,function(vt){return J(ne,vt)!==-1});else for(var Ue=0,rt=ne.length;Ue<rt;Ue++)zp(G,ne[Ue],he,we);return this}function o1(G,ne){for(var he in G[_u]){var we=he.split(/\d/)[0];(!ne||ne(we))&&zp(G,we,null,null,he)}}var jp={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function qh(G,ne,he,we){var Me=ne+v(he)+(we?"_"+v(we):"");if(G[_u]&&G[_u][Me])return this;var Ue=function(vt){return he.call(we||G,vt||window.event)},rt=Ue;!En.touchNative&&En.pointer&&ne.indexOf("touch")===0?Ue=Ip(G,ne,Ue):En.touch&&ne==="dblclick"?Ue=_l(G,Ue):"addEventListener"in G?ne==="touchstart"||ne==="touchmove"||ne==="wheel"||ne==="mousewheel"?G.addEventListener(jp[ne]||ne,Ue,En.passiveEvents?{passive:!1}:!1):ne==="mouseenter"||ne==="mouseleave"?(Ue=function(vt){vt=vt||window.event,hg(G,vt)&&rt(vt)},G.addEventListener(jp[ne],Ue,!1)):G.addEventListener(ne,rt,!1):G.attachEvent("on"+ne,Ue),G[_u]=G[_u]||{},G[_u][Me]=Ue}function zp(G,ne,he,we,Me){Me=Me||ne+v(he)+(we?"_"+v(we):"");var Ue=G[_u]&&G[_u][Me];if(!Ue)return this;!En.touchNative&&En.pointer&&ne.indexOf("touch")===0?wl(G,ne,Ue):En.touch&&ne==="dblclick"?ws(G,Ue):"removeEventListener"in G?G.removeEventListener(jp[ne]||ne,Ue,!1):G.detachEvent("on"+ne,Ue),G[_u][Me]=null}function Hu(G){return G.stopPropagation?G.stopPropagation():G.originalEvent?G.originalEvent._stopped=!0:G.cancelBubble=!0,this}function fg(G){return qh(G,"wheel",Hu),this}function jh(G){return sr(G,"mousedown touchstart dblclick contextmenu",Hu),G._leaflet_disable_click=!0,this}function no(G){return G.preventDefault?G.preventDefault():G.returnValue=!1,this}function kl(G){return no(G),Hu(G),this}function s1(G){if(G.composedPath)return G.composedPath();for(var ne=[],he=G.target;he;)ne.push(he),he=he.parentNode;return ne}function u1(G,ne){if(!ne)return new Ie(G.clientX,G.clientY);var he=Bp(ne),we=he.boundingClientRect;return new Ie((G.clientX-we.left)/he.x-ne.clientLeft,(G.clientY-we.top)/he.y-ne.clientTop)}var Tb=En.linux&&En.chrome?window.devicePixelRatio:En.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function c1(G){return En.edge?G.wheelDeltaY/2:G.deltaY&&G.deltaMode===0?-G.deltaY/Tb:G.deltaY&&G.deltaMode===1?-G.deltaY*20:G.deltaY&&G.deltaMode===2?-G.deltaY*60:G.deltaX||G.deltaZ?0:G.wheelDelta?(G.wheelDeltaY||G.wheelDelta)/2:G.detail&&Math.abs(G.detail)<32765?-G.detail*20:G.detail?G.detail/-32765*60:0}function hg(G,ne){var he=ne.relatedTarget;if(!he)return!0;try{for(;he&&he!==G;)he=he.parentNode}catch{return!1}return he!==G}var Gp={__proto__:null,on:sr,off:ki,stopPropagation:Hu,disableScrollPropagation:fg,disableClickPropagation:jh,preventDefault:no,stop:kl,getPropagationPath:s1,getMousePosition:u1,getWheelDelta:c1,isExternalTarget:hg,addListener:sr,removeListener:ki},dg=Oe.extend({run:function(G,ne,he,we){this.stop(),this._el=G,this._inProgress=!0,this._duration=he||.25,this._easeOutPower=1/Math.max(we||.5,.2),this._startPos=El(G),this._offset=ne.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ge(this._animate,this),this._step()},_step:function(G){var ne=+new Date-this._startTime,he=this._duration*1e3;ne<he?this._runFrame(this._easeOut(ne/he),G):(this._runFrame(1),this._complete())},_runFrame:function(G,ne){var he=this._startPos.add(this._offset.multiplyBy(G));ne&&he._round(),_a(this._el,he),this.fire("step")},_complete:function(){ve(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(G){return 1-Math.pow(1-G,this._easeOutPower)}}),Ur=Oe.extend({options:{crs:wt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(G,ne){ne=j(this,ne),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(G),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),ne.maxBounds&&this.setMaxBounds(ne.maxBounds),ne.zoom!==void 0&&(this._zoom=this._limitZoom(ne.zoom)),ne.center&&ne.zoom!==void 0&&this.setView(Ve(ne.center),ne.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=$h&&En.any3d&&!En.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),sr(this._proxy,i1,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(G,ne,he){if(ne=ne===void 0?this._zoom:this._limitZoom(ne),G=this._limitCenter(Ve(G),ne,this.options.maxBounds),he=he||{},this._stop(),this._loaded&&!he.reset&&he!==!0){he.animate!==void 0&&(he.zoom=u({animate:he.animate},he.zoom),he.pan=u({animate:he.animate,duration:he.duration},he.pan));var we=this._zoom!==ne?this._tryAnimatedZoom&&this._tryAnimatedZoom(G,ne,he.zoom):this._tryAnimatedPan(G,he.pan);if(we)return clearTimeout(this._sizeTimer),this}return this._resetView(G,ne,he.pan&&he.pan.noMoveStart),this},setZoom:function(G,ne){return this._loaded?this.setView(this.getCenter(),G,{zoom:ne}):(this._zoom=G,this)},zoomIn:function(G,ne){return G=G||(En.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+G,ne)},zoomOut:function(G,ne){return G=G||(En.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-G,ne)},setZoomAround:function(G,ne,he){var we=this.getZoomScale(ne),Me=this.getSize().divideBy(2),Ue=G instanceof Ie?G:this.latLngToContainerPoint(G),rt=Ue.subtract(Me).multiplyBy(1-1/we),vt=this.containerPointToLatLng(Me.add(rt));return this.setView(vt,ne,{zoom:he})},_getBoundsCenterZoom:function(G,ne){ne=ne||{},G=G.getBounds?G.getBounds():je(G);var he=De(ne.paddingTopLeft||ne.padding||[0,0]),we=De(ne.paddingBottomRight||ne.padding||[0,0]),Me=this.getBoundsZoom(G,!1,he.add(we));if(Me=typeof ne.maxZoom=="number"?Math.min(ne.maxZoom,Me):Me,Me===1/0)return{center:G.getCenter(),zoom:Me};var Ue=we.subtract(he).divideBy(2),rt=this.project(G.getSouthWest(),Me),vt=this.project(G.getNorthEast(),Me),Ct=this.unproject(rt.add(vt).divideBy(2).add(Ue),Me);return{center:Ct,zoom:Me}},fitBounds:function(G,ne){if(G=je(G),!G.isValid())throw new Error("Bounds are not valid.");var he=this._getBoundsCenterZoom(G,ne);return this.setView(he.center,he.zoom,ne)},fitWorld:function(G){return this.fitBounds([[-90,-180],[90,180]],G)},panTo:function(G,ne){return this.setView(G,this._zoom,{pan:ne})},panBy:function(G,ne){if(G=De(G).round(),ne=ne||{},!G.x&&!G.y)return this.fire("moveend");if(ne.animate!==!0&&!this.getSize().contains(G))return this._resetView(this.unproject(this.project(this.getCenter()).add(G)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new dg,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),ne.noMoveStart||this.fire("movestart"),ne.animate!==!1){vr(this._mapPane,"leaflet-pan-anim");var he=this._getMapPanePos().subtract(G).round();this._panAnim.run(this._mapPane,he,ne.duration||.25,ne.easeLinearity)}else this._rawPanBy(G),this.fire("move").fire("moveend");return this},flyTo:function(G,ne,he){if(he=he||{},he.animate===!1||!En.any3d)return this.setView(G,ne,he);this._stop();var we=this.project(this.getCenter()),Me=this.project(G),Ue=this.getSize(),rt=this._zoom;G=Ve(G),ne=ne===void 0?rt:ne;var vt=Math.max(Ue.x,Ue.y),Ct=vt*this.getZoomScale(rt,ne),Et=Me.distanceTo(we)||1,un=1.42,er=un*un;function Dr(Oi){var kg=Oi?-1:1,$a=Oi?Ct:vt,Xb=Ct*Ct-vt*vt+kg*er*er*Et*Et,Zb=2*$a*er*Et,rv=Xb/Zb,D1=Math.sqrt(rv*rv+1)-rv,Ss=D1<1e-9?-18:Math.log(D1);return Ss}function as(Oi){return(Math.exp(Oi)-Math.exp(-Oi))/2}function Rl(Oi){return(Math.exp(Oi)+Math.exp(-Oi))/2}function Zh(Oi){return as(Oi)/Rl(Oi)}var Mc=Dr(0);function Eg(Oi){return vt*(Rl(Mc)/Rl(Mc+un*Oi))}function I1(Oi){return vt*(Rl(Mc)*Zh(Mc+un*Oi)-as(Mc))/er}function R1(Oi){return 1-Math.pow(1-Oi,1.5)}var Yb=Date.now(),P1=(Dr(1)-Mc)/un,Vb=he.duration?1e3*he.duration:1e3*P1*.8;function Wb(){var Oi=(Date.now()-Yb)/Vb,kg=R1(Oi)*P1;Oi<=1?(this._flyToFrame=ge(Wb,this),this._move(this.unproject(we.add(Me.subtract(we).multiplyBy(I1(kg)/Et)),rt),this.getScaleZoom(vt/Eg(kg),rt),{flyTo:!0})):this._move(G,ne)._moveEnd(!0)}return this._moveStart(!0,he.noMoveStart),Wb.call(this),this},flyToBounds:function(G,ne){var he=this._getBoundsCenterZoom(G,ne);return this.flyTo(he.center,he.zoom,ne)},setMaxBounds:function(G){return G=je(G),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),G.isValid()?(this.options.maxBounds=G,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(G){var ne=this.options.minZoom;return this.options.minZoom=G,this._loaded&&ne!==G&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(G):this},setMaxZoom:function(G){var ne=this.options.maxZoom;return this.options.maxZoom=G,this._loaded&&ne!==G&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(G):this},panInsideBounds:function(G,ne){this._enforcingBounds=!0;var he=this.getCenter(),we=this._limitCenter(he,this._zoom,je(G));return he.equals(we)||this.panTo(we,ne),this._enforcingBounds=!1,this},panInside:function(G,ne){ne=ne||{};var he=De(ne.paddingTopLeft||ne.padding||[0,0]),we=De(ne.paddingBottomRight||ne.padding||[0,0]),Me=this.project(this.getCenter()),Ue=this.project(G),rt=this.getPixelBounds(),vt=Ne([rt.min.add(he),rt.max.subtract(we)]),Ct=vt.getSize();if(!vt.contains(Ue)){this._enforcingBounds=!0;var Et=Ue.subtract(vt.getCenter()),un=vt.extend(Ue).getSize().subtract(Ct);Me.x+=Et.x<0?-un.x:un.x,Me.y+=Et.y<0?-un.y:un.y,this.panTo(this.unproject(Me),ne),this._enforcingBounds=!1}return this},invalidateSize:function(G){if(!this._loaded)return this;G=u({animate:!1,pan:!0},G===!0?{animate:!0}:G);var ne=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var he=this.getSize(),we=ne.divideBy(2).round(),Me=he.divideBy(2).round(),Ue=we.subtract(Me);return!Ue.x&&!Ue.y?this:(G.animate&&G.pan?this.panBy(Ue):(G.pan&&this._rawPanBy(Ue),this.fire("move"),G.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:ne,newSize:he}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(G){if(G=this._locateOptions=u({timeout:1e4,watch:!1},G),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var ne=d(this._handleGeolocationResponse,this),he=d(this._handleGeolocationError,this);return G.watch?this._locationWatchId=navigator.geolocation.watchPosition(ne,he,G):navigator.geolocation.getCurrentPosition(ne,he,G),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(G){if(this._container._leaflet_id){var ne=G.code,he=G.message||(ne===1?"permission denied":ne===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:ne,message:"Geolocation error: "+he+"."})}},_handleGeolocationResponse:function(G){if(this._container._leaflet_id){var ne=G.coords.latitude,he=G.coords.longitude,we=new ze(ne,he),Me=we.toBounds(G.coords.accuracy*2),Ue=this._locateOptions;if(Ue.setView){var rt=this.getBoundsZoom(Me);this.setView(we,Ue.maxZoom?Math.min(rt,Ue.maxZoom):rt)}var vt={latlng:we,bounds:Me,timestamp:G.timestamp};for(var Ct in G.coords)typeof G.coords[Ct]=="number"&&(vt[Ct]=G.coords[Ct]);this.fire("locationfound",vt)}},addHandler:function(G,ne){if(!ne)return this;var he=this[G]=new ne(this);return this._handlers.push(he),this.options[G]&&he.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ui(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ve(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var G;for(G in this._layers)this._layers[G].remove();for(G in this._panes)Ui(this._panes[G]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(G,ne){var he="leaflet-pane"+(G?" leaflet-"+G.replace("Pane","")+"-pane":""),we=Qr("div",he,ne||this._mapPane);return G&&(this._panes[G]=we),we},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var G=this.getPixelBounds(),ne=this.unproject(G.getBottomLeft()),he=this.unproject(G.getTopRight());return new He(ne,he)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(G,ne,he){G=je(G),he=De(he||[0,0]);var we=this.getZoom()||0,Me=this.getMinZoom(),Ue=this.getMaxZoom(),rt=G.getNorthWest(),vt=G.getSouthEast(),Ct=this.getSize().subtract(he),Et=Ne(this.project(vt,we),this.project(rt,we)).getSize(),un=En.any3d?this.options.zoomSnap:1,er=Ct.x/Et.x,Dr=Ct.y/Et.y,as=ne?Math.max(er,Dr):Math.min(er,Dr);return we=this.getScaleZoom(as,we),un&&(we=Math.round(we/(un/100))*(un/100),we=ne?Math.ceil(we/un)*un:Math.floor(we/un)*un),Math.max(Me,Math.min(Ue,we))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ie(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(G,ne){var he=this._getTopLeftPoint(G,ne);return new Pe(he,he.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(G){return this.options.crs.getProjectedBounds(G===void 0?this.getZoom():G)},getPane:function(G){return typeof G=="string"?this._panes[G]:G},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(G,ne){var he=this.options.crs;return ne=ne===void 0?this._zoom:ne,he.scale(G)/he.scale(ne)},getScaleZoom:function(G,ne){var he=this.options.crs;ne=ne===void 0?this._zoom:ne;var we=he.zoom(G*he.scale(ne));return isNaN(we)?1/0:we},project:function(G,ne){return ne=ne===void 0?this._zoom:ne,this.options.crs.latLngToPoint(Ve(G),ne)},unproject:function(G,ne){return ne=ne===void 0?this._zoom:ne,this.options.crs.pointToLatLng(De(G),ne)},layerPointToLatLng:function(G){var ne=De(G).add(this.getPixelOrigin());return this.unproject(ne)},latLngToLayerPoint:function(G){var ne=this.project(Ve(G))._round();return ne._subtract(this.getPixelOrigin())},wrapLatLng:function(G){return this.options.crs.wrapLatLng(Ve(G))},wrapLatLngBounds:function(G){return this.options.crs.wrapLatLngBounds(je(G))},distance:function(G,ne){return this.options.crs.distance(Ve(G),Ve(ne))},containerPointToLayerPoint:function(G){return De(G).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(G){return De(G).add(this._getMapPanePos())},containerPointToLatLng:function(G){var ne=this.containerPointToLayerPoint(De(G));return this.layerPointToLatLng(ne)},latLngToContainerPoint:function(G){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ve(G)))},mouseEventToContainerPoint:function(G){return u1(G,this._container)},mouseEventToLayerPoint:function(G){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(G))},mouseEventToLatLng:function(G){return this.layerPointToLatLng(this.mouseEventToLayerPoint(G))},_initContainer:function(G){var ne=this._container=a1(G);if(ne){if(ne._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");sr(ne,"scroll",this._onScroll,this),this._containerId=v(ne)},_initLayout:function(){var G=this._container;this._fadeAnimated=this.options.fadeAnimation&&En.any3d,vr(G,"leaflet-container"+(En.touch?" leaflet-touch":"")+(En.retina?" leaflet-retina":"")+(En.ielt9?" leaflet-oldie":"")+(En.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var ne=Mf(G,"position");ne!=="absolute"&&ne!=="relative"&&ne!=="fixed"&&ne!=="sticky"&&(G.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var G=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_a(this._mapPane,new Ie(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(vr(G.markerPane,"leaflet-zoom-hide"),vr(G.shadowPane,"leaflet-zoom-hide"))},_resetView:function(G,ne,he){_a(this._mapPane,new Ie(0,0));var we=!this._loaded;this._loaded=!0,ne=this._limitZoom(ne),this.fire("viewprereset");var Me=this._zoom!==ne;this._moveStart(Me,he)._move(G,ne)._moveEnd(Me),this.fire("viewreset"),we&&this.fire("load")},_moveStart:function(G,ne){return G&&this.fire("zoomstart"),ne||this.fire("movestart"),this},_move:function(G,ne,he,we){ne===void 0&&(ne=this._zoom);var Me=this._zoom!==ne;return this._zoom=ne,this._lastCenter=G,this._pixelOrigin=this._getNewPixelOrigin(G),we?he&&he.pinch&&this.fire("zoom",he):((Me||he&&he.pinch)&&this.fire("zoom",he),this.fire("move",he)),this},_moveEnd:function(G){return G&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ve(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(G){_a(this._mapPane,this._getMapPanePos().subtract(G))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(G){this._targets={},this._targets[v(this._container)]=this;var ne=G?ki:sr;ne(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&ne(window,"resize",this._onResize,this),En.any3d&&this.options.transform3DLimit&&(G?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ve(this._resizeRequest),this._resizeRequest=ge(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var G=this._getMapPanePos();Math.max(Math.abs(G.x),Math.abs(G.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(G,ne){for(var he=[],we,Me=ne==="mouseout"||ne==="mouseover",Ue=G.target||G.srcElement,rt=!1;Ue;){if(we=this._targets[v(Ue)],we&&(ne==="click"||ne==="preclick")&&this._draggableMoved(we)){rt=!0;break}if(we&&we.listens(ne,!0)&&(Me&&!hg(Ue,G)||(he.push(we),Me))||Ue===this._container)break;Ue=Ue.parentNode}return!he.length&&!rt&&!Me&&this.listens(ne,!0)&&(he=[this]),he},_isClickDisabled:function(G){for(;G&&G!==this._container;){if(G._leaflet_disable_click)return!0;G=G.parentNode}},_handleDOMEvent:function(G){var ne=G.target||G.srcElement;if(!(!this._loaded||ne._leaflet_disable_events||G.type==="click"&&this._isClickDisabled(ne))){var he=G.type;he==="mousedown"&&Fp(ne),this._fireDOMEvent(G,he)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(G,ne,he){if(G.type==="click"){var we=u({},G);we.type="preclick",this._fireDOMEvent(we,we.type,he)}var Me=this._findEventTargets(G,ne);if(he){for(var Ue=[],rt=0;rt<he.length;rt++)he[rt].listens(ne,!0)&&Ue.push(he[rt]);Me=Ue.concat(Me)}if(Me.length){ne==="contextmenu"&&no(G);var vt=Me[0],Ct={originalEvent:G};if(G.type!=="keypress"&&G.type!=="keydown"&&G.type!=="keyup"){var Et=vt.getLatLng&&(!vt._radius||vt._radius<=10);Ct.containerPoint=Et?this.latLngToContainerPoint(vt.getLatLng()):this.mouseEventToContainerPoint(G),Ct.layerPoint=this.containerPointToLayerPoint(Ct.containerPoint),Ct.latlng=Et?vt.getLatLng():this.layerPointToLatLng(Ct.layerPoint)}for(rt=0;rt<Me.length;rt++)if(Me[rt].fire(ne,Ct,!0),Ct.originalEvent._stopped||Me[rt].options.bubblingMouseEvents===!1&&J(this._mouseEvents,ne)!==-1)return}},_draggableMoved:function(G){return G=G.dragging&&G.dragging.enabled()?G:this,G.dragging&&G.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var G=0,ne=this._handlers.length;G<ne;G++)this._handlers[G].disable()},whenReady:function(G,ne){return this._loaded?G.call(ne||this,{target:this}):this.on("load",G,ne),this},_getMapPanePos:function(){return El(this._mapPane)||new Ie(0,0)},_moved:function(){var G=this._getMapPanePos();return G&&!G.equals([0,0])},_getTopLeftPoint:function(G,ne){var he=G&&ne!==void 0?this._getNewPixelOrigin(G,ne):this.getPixelOrigin();return he.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(G,ne){var he=this.getSize()._divideBy(2);return this.project(G,ne)._subtract(he)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(G,ne,he){var we=this._getNewPixelOrigin(he,ne);return this.project(G,ne)._subtract(we)},_latLngBoundsToNewLayerBounds:function(G,ne,he){var we=this._getNewPixelOrigin(he,ne);return Ne([this.project(G.getSouthWest(),ne)._subtract(we),this.project(G.getNorthWest(),ne)._subtract(we),this.project(G.getSouthEast(),ne)._subtract(we),this.project(G.getNorthEast(),ne)._subtract(we)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(G){return this.latLngToLayerPoint(G).subtract(this._getCenterLayerPoint())},_limitCenter:function(G,ne,he){if(!he)return G;var we=this.project(G,ne),Me=this.getSize().divideBy(2),Ue=new Pe(we.subtract(Me),we.add(Me)),rt=this._getBoundsOffset(Ue,he,ne);return Math.abs(rt.x)<=1&&Math.abs(rt.y)<=1?G:this.unproject(we.add(rt),ne)},_limitOffset:function(G,ne){if(!ne)return G;var he=this.getPixelBounds(),we=new Pe(he.min.add(G),he.max.add(G));return G.add(this._getBoundsOffset(we,ne))},_getBoundsOffset:function(G,ne,he){var we=Ne(this.project(ne.getNorthEast(),he),this.project(ne.getSouthWest(),he)),Me=we.min.subtract(G.min),Ue=we.max.subtract(G.max),rt=this._rebound(Me.x,-Ue.x),vt=this._rebound(Me.y,-Ue.y);return new Ie(rt,vt)},_rebound:function(G,ne){return G+ne>0?Math.round(G-ne)/2:Math.max(0,Math.ceil(G))-Math.max(0,Math.floor(ne))},_limitZoom:function(G){var ne=this.getMinZoom(),he=this.getMaxZoom(),we=En.any3d?this.options.zoomSnap:1;return we&&(G=Math.round(G/we)*we),Math.max(ne,Math.min(he,G))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Yi(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(G,ne){var he=this._getCenterOffset(G)._trunc();return(ne&&ne.animate)!==!0&&!this.getSize().contains(he)?!1:(this.panBy(he,ne),!0)},_createAnimProxy:function(){var G=this._proxy=Qr("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(G),this.on("zoomanim",function(ne){var he=Oh,we=this._proxy.style[he];xl(this._proxy,this.project(ne.center,ne.zoom),this.getZoomScale(ne.zoom,1)),we===this._proxy.style[he]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ui(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var G=this.getCenter(),ne=this.getZoom();xl(this._proxy,this.project(G,ne),this.getZoomScale(ne,1))},_catchTransitionEnd:function(G){this._animatingZoom&&G.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(G,ne,he){if(this._animatingZoom)return!0;if(he=he||{},!this._zoomAnimated||he.animate===!1||this._nothingToAnimate()||Math.abs(ne-this._zoom)>this.options.zoomAnimationThreshold)return!1;var we=this.getZoomScale(ne),Me=this._getCenterOffset(G)._divideBy(1-1/we);return he.animate!==!0&&!this.getSize().contains(Me)?!1:(ge(function(){this._moveStart(!0,!1)._animateZoom(G,ne,!0)},this),!0)},_animateZoom:function(G,ne,he,we){this._mapPane&&(he&&(this._animatingZoom=!0,this._animateToCenter=G,this._animateToZoom=ne,vr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:G,zoom:ne,noUpdate:we}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Yi(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ab(G,ne){return new Ur(G,ne)}var xs=ye.extend({options:{position:"topright"},initialize:function(G){j(this,G)},getPosition:function(){return this.options.position},setPosition:function(G){var ne=this._map;return ne&&ne.removeControl(this),this.options.position=G,ne&&ne.addControl(this),this},getContainer:function(){return this._container},addTo:function(G){this.remove(),this._map=G;var ne=this._container=this.onAdd(G),he=this.getPosition(),we=G._controlCorners[he];return vr(ne,"leaflet-control"),he.indexOf("bottom")!==-1?we.insertBefore(ne,we.firstChild):we.appendChild(ne),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ui(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(G){this._map&&G&&G.screenX>0&&G.screenY>0&&this._map.getContainer().focus()}}),Tc=function(G){return new xs(G)};Ur.include({addControl:function(G){return G.addTo(this),this},removeControl:function(G){return G.remove(),this},_initControlPos:function(){var G=this._controlCorners={},ne="leaflet-",he=this._controlContainer=Qr("div",ne+"control-container",this._container);function we(Me,Ue){var rt=ne+Me+" "+ne+Ue;G[Me+Ue]=Qr("div",rt,he)}we("top","left"),we("top","right"),we("bottom","left"),we("bottom","right")},_clearControlPos:function(){for(var G in this._controlCorners)Ui(this._controlCorners[G]);Ui(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var gg=xs.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(G,ne,he,we){return he<we?-1:we<he?1:0}},initialize:function(G,ne,he){j(this,he),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var we in G)this._addLayer(G[we],we);for(we in ne)this._addLayer(ne[we],we,!0)},onAdd:function(G){this._initLayout(),this._update(),this._map=G,G.on("zoomend",this._checkDisabledLayers,this);for(var ne=0;ne<this._layers.length;ne++)this._layers[ne].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(G){return xs.prototype.addTo.call(this,G),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var G=0;G<this._layers.length;G++)this._layers[G].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(G,ne){return this._addLayer(G,ne),this._map?this._update():this},addOverlay:function(G,ne){return this._addLayer(G,ne,!0),this._map?this._update():this},removeLayer:function(G){G.off("add remove",this._onLayerChange,this);var ne=this._getLayer(v(G));return ne&&this._layers.splice(this._layers.indexOf(ne),1),this._map?this._update():this},expand:function(){vr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var G=this._map.getSize().y-(this._container.offsetTop+50);return G<this._section.clientHeight?(vr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=G+"px"):Yi(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Yi(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var G="leaflet-control-layers",ne=this._container=Qr("div",G),he=this.options.collapsed;ne.setAttribute("aria-haspopup",!0),jh(ne),fg(ne);var we=this._section=Qr("section",G+"-list");he&&(this._map.on("click",this.collapse,this),sr(ne,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Me=this._layersLink=Qr("a",G+"-toggle",ne);Me.href="#",Me.title="Layers",Me.setAttribute("role","button"),sr(Me,{keydown:function(Ue){Ue.keyCode===13&&this._expandSafely()},click:function(Ue){no(Ue),this._expandSafely()}},this),he||this.expand(),this._baseLayersList=Qr("div",G+"-base",we),this._separator=Qr("div",G+"-separator",we),this._overlaysList=Qr("div",G+"-overlays",we),ne.appendChild(we)},_getLayer:function(G){for(var ne=0;ne<this._layers.length;ne++)if(this._layers[ne]&&v(this._layers[ne].layer)===G)return this._layers[ne]},_addLayer:function(G,ne,he){this._map&&G.on("add remove",this._onLayerChange,this),this._layers.push({layer:G,name:ne,overlay:he}),this.options.sortLayers&&this._layers.sort(d(function(we,Me){return this.options.sortFunction(we.layer,Me.layer,we.name,Me.name)},this)),this.options.autoZIndex&&G.setZIndex&&(this._lastZIndex++,G.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;sg(this._baseLayersList),sg(this._overlaysList),this._layerControlInputs=[];var G,ne,he,we,Me=0;for(he=0;he<this._layers.length;he++)we=this._layers[he],this._addItem(we),ne=ne||we.overlay,G=G||!we.overlay,Me+=we.overlay?0:1;return this.options.hideSingleBase&&(G=G&&Me>1,this._baseLayersList.style.display=G?"":"none"),this._separator.style.display=ne&&G?"":"none",this},_onLayerChange:function(G){this._handlingClick||this._update();var ne=this._getLayer(v(G.target)),he=ne.overlay?G.type==="add"?"overlayadd":"overlayremove":G.type==="add"?"baselayerchange":null;he&&this._map.fire(he,ne)},_createRadioElement:function(G,ne){var he='<input type="radio" class="leaflet-control-layers-selector" name="'+G+'"'+(ne?' checked="checked"':"")+"/>",we=document.createElement("div");return we.innerHTML=he,we.firstChild},_addItem:function(G){var ne=document.createElement("label"),he=this._map.hasLayer(G.layer),we;G.overlay?(we=document.createElement("input"),we.type="checkbox",we.className="leaflet-control-layers-selector",we.defaultChecked=he):we=this._createRadioElement("leaflet-base-layers_"+v(this),he),this._layerControlInputs.push(we),we.layerId=v(G.layer),sr(we,"click",this._onInputClick,this);var Me=document.createElement("span");Me.innerHTML=" "+G.name;var Ue=document.createElement("span");ne.appendChild(Ue),Ue.appendChild(we),Ue.appendChild(Me);var rt=G.overlay?this._overlaysList:this._baseLayersList;return rt.appendChild(ne),this._checkDisabledLayers(),ne},_onInputClick:function(){var G=this._layerControlInputs,ne,he,we=[],Me=[];this._handlingClick=!0;for(var Ue=G.length-1;Ue>=0;Ue--)ne=G[Ue],he=this._getLayer(ne.layerId).layer,ne.checked?we.push(he):ne.checked||Me.push(he);for(Ue=0;Ue<Me.length;Ue++)this._map.hasLayer(Me[Ue])&&this._map.removeLayer(Me[Ue]);for(Ue=0;Ue<we.length;Ue++)this._map.hasLayer(we[Ue])||this._map.addLayer(we[Ue]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var G=this._layerControlInputs,ne,he,we=this._map.getZoom(),Me=G.length-1;Me>=0;Me--)ne=G[Me],he=this._getLayer(ne.layerId).layer,ne.disabled=he.options.minZoom!==void 0&&we<he.options.minZoom||he.options.maxZoom!==void 0&&we>he.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var G=this._section;sr(G,"click",no),this.expand(),setTimeout(function(){ki(G,"click",no)})}}),Pf=function(G,ne,he){return new gg(G,ne,he)},Hp=xs.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(G){var ne="leaflet-control-zoom",he=Qr("div",ne+" leaflet-bar"),we=this.options;return this._zoomInButton=this._createButton(we.zoomInText,we.zoomInTitle,ne+"-in",he,this._zoomIn),this._zoomOutButton=this._createButton(we.zoomOutText,we.zoomOutTitle,ne+"-out",he,this._zoomOut),this._updateDisabled(),G.on("zoomend zoomlevelschange",this._updateDisabled,this),he},onRemove:function(G){G.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(G){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(G.shiftKey?3:1))},_zoomOut:function(G){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(G.shiftKey?3:1))},_createButton:function(G,ne,he,we,Me){var Ue=Qr("a",he,we);return Ue.innerHTML=G,Ue.href="#",Ue.title=ne,Ue.setAttribute("role","button"),Ue.setAttribute("aria-label",ne),jh(Ue),sr(Ue,"click",kl),sr(Ue,"click",Me,this),sr(Ue,"click",this._refocusOnMap,this),Ue},_updateDisabled:function(){var G=this._map,ne="leaflet-disabled";Yi(this._zoomInButton,ne),Yi(this._zoomOutButton,ne),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||G._zoom===G.getMinZoom())&&(vr(this._zoomOutButton,ne),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||G._zoom===G.getMaxZoom())&&(vr(this._zoomInButton,ne),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ur.mergeOptions({zoomControl:!0}),Ur.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Hp,this.addControl(this.zoomControl))});var Cl=function(G){return new Hp(G)},Up=xs.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(G){var ne="leaflet-control-scale",he=Qr("div",ne),we=this.options;return this._addScales(we,ne+"-line",he),G.on(we.updateWhenIdle?"moveend":"move",this._update,this),G.whenReady(this._update,this),he},onRemove:function(G){G.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(G,ne,he){G.metric&&(this._mScale=Qr("div",ne,he)),G.imperial&&(this._iScale=Qr("div",ne,he))},_update:function(){var G=this._map,ne=G.getSize().y/2,he=G.distance(G.containerPointToLatLng([0,ne]),G.containerPointToLatLng([this.options.maxWidth,ne]));this._updateScales(he)},_updateScales:function(G){this.options.metric&&G&&this._updateMetric(G),this.options.imperial&&G&&this._updateImperial(G)},_updateMetric:function(G){var ne=this._getRoundNum(G),he=ne<1e3?ne+" m":ne/1e3+" km";this._updateScale(this._mScale,he,ne/G)},_updateImperial:function(G){var ne=G*3.2808399,he,we,Me;ne>5280?(he=ne/5280,we=this._getRoundNum(he),this._updateScale(this._iScale,we+" mi",we/he)):(Me=this._getRoundNum(ne),this._updateScale(this._iScale,Me+" ft",Me/ne))},_updateScale:function(G,ne,he){G.style.width=Math.round(this.options.maxWidth*he)+"px",G.innerHTML=ne},_getRoundNum:function(G){var ne=Math.pow(10,(Math.floor(G)+"").length-1),he=G/ne;return he=he>=10?10:he>=5?5:he>=3?3:he>=2?2:1,ne*he}}),Lb=function(G){return new Up(G)},Mb='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zh=xs.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(En.inlineSvg?Mb+" ":"")+"Leaflet</a>"},initialize:function(G){j(this,G),this._attributions={}},onAdd:function(G){G.attributionControl=this,this._container=Qr("div","leaflet-control-attribution"),jh(this._container);for(var ne in G._layers)G._layers[ne].getAttribution&&this.addAttribution(G._layers[ne].getAttribution());return this._update(),G.on("layeradd",this._addAttribution,this),this._container},onRemove:function(G){G.off("layeradd",this._addAttribution,this)},_addAttribution:function(G){G.layer.getAttribution&&(this.addAttribution(G.layer.getAttribution()),G.layer.once("remove",function(){this.removeAttribution(G.layer.getAttribution())},this))},setPrefix:function(G){return this.options.prefix=G,this._update(),this},addAttribution:function(G){return G?(this._attributions[G]||(this._attributions[G]=0),this._attributions[G]++,this._update(),this):this},removeAttribution:function(G){return G?(this._attributions[G]&&(this._attributions[G]--,this._update()),this):this},_update:function(){if(this._map){var G=[];for(var ne in this._attributions)this._attributions[ne]&&G.push(ne);var he=[];this.options.prefix&&he.push(this.options.prefix),G.length&&he.push(G.join(", ")),this._container.innerHTML=he.join(' <span aria-hidden="true">|</span> ')}}});Ur.mergeOptions({attributionControl:!0}),Ur.addInitHook(function(){this.options.attributionControl&&new zh().addTo(this)});var Ib=function(G){return new zh(G)};xs.Layers=gg,xs.Zoom=Hp,xs.Scale=Up,xs.Attribution=zh,Tc.layers=Pf,Tc.zoom=Cl,Tc.scale=Lb,Tc.attribution=Ib;var xu=ye.extend({initialize:function(G){this._map=G},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});xu.addTo=function(G,ne){return G.addHandler(ne,this),this};var Rb={Events:Te},l1=En.touch?"touchstart mousedown":"mousedown",Ac=Oe.extend({options:{clickTolerance:3},initialize:function(G,ne,he,we){j(this,we),this._element=G,this._dragStartTarget=ne||G,this._preventOutline=he},enable:function(){this._enabled||(sr(this._dragStartTarget,l1,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ac._dragging===this&&this.finishDrag(!0),ki(this._dragStartTarget,l1,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(G){if(this._enabled&&(this._moved=!1,!Rp(this._element,"leaflet-zoom-anim"))){if(G.touches&&G.touches.length!==1){Ac._dragging===this&&this.finishDrag();return}if(!(Ac._dragging||G.shiftKey||G.which!==1&&G.button!==1&&!G.touches)&&(Ac._dragging=this,this._preventOutline&&Fp(this._element),$p(),Nh(),!this._moving)){this.fire("down");var ne=G.touches?G.touches[0]:G,he=lg(this._element);this._startPoint=new Ie(ne.clientX,ne.clientY),this._startPos=El(this._element),this._parentScale=Bp(he);var we=G.type==="mousedown";sr(document,we?"mousemove":"touchmove",this._onMove,this),sr(document,we?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(G){if(this._enabled){if(G.touches&&G.touches.length>1){this._moved=!0;return}var ne=G.touches&&G.touches.length===1?G.touches[0]:G,he=new Ie(ne.clientX,ne.clientY)._subtract(this._startPoint);!he.x&&!he.y||Math.abs(he.x)+Math.abs(he.y)<this.options.clickTolerance||(he.x/=this._parentScale.x,he.y/=this._parentScale.y,no(G),this._moved||(this.fire("dragstart"),this._moved=!0,vr(document.body,"leaflet-dragging"),this._lastTarget=G.target||G.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),vr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(he),this._moving=!0,this._lastEvent=G,this._updatePosition())}},_updatePosition:function(){var G={originalEvent:this._lastEvent};this.fire("predrag",G),_a(this._element,this._newPos),this.fire("drag",G)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(G){Yi(document.body,"leaflet-dragging"),this._lastTarget&&(Yi(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ki(document,"mousemove touchmove",this._onMove,this),ki(document,"mouseup touchend touchcancel",this._onUp,this),Np(),Fh(),this._moved&&this._moving&&this.fire("dragend",{noInertia:G,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Ac._dragging=!1}});function f1(G,ne){if(!ne||!G.length)return G.slice();var he=ne*ne;return G=Ob(G,he),G=Db(G,he),G}function Sl(G,ne,he){return Math.sqrt(Gh(G,ne,he,!0))}function Pb(G,ne,he){return Gh(G,ne,he)}function Db(G,ne){var he=G.length,we=typeof Uint8Array!=void 0+""?Uint8Array:Array,Me=new we(he);Me[0]=Me[he-1]=1,Yp(G,Me,ne,0,he-1);var Ue,rt=[];for(Ue=0;Ue<he;Ue++)Me[Ue]&&rt.push(G[Ue]);return rt}function Yp(G,ne,he,we,Me){var Ue=0,rt,vt,Ct;for(vt=we+1;vt<=Me-1;vt++)Ct=Gh(G[vt],G[we],G[Me],!0),Ct>Ue&&(rt=vt,Ue=Ct);Ue>he&&(ne[rt]=1,Yp(G,ne,he,we,rt),Yp(G,ne,he,rt,Me))}function Ob(G,ne){for(var he=[G[0]],we=1,Me=0,Ue=G.length;we<Ue;we++)g1(G[we],G[Me])>ne&&(he.push(G[we]),Me=we);return Me<Ue-1&&he.push(G[Ue-1]),he}var h1;function d1(G,ne,he,we,Me){var Ue=we?h1:Tl(G,he),rt=Tl(ne,he),vt,Ct,Et;for(h1=rt;;){if(!(Ue|rt))return[G,ne];if(Ue&rt)return!1;vt=Ue||rt,Ct=pg(G,ne,vt,he,Me),Et=Tl(Ct,he),vt===Ue?(G=Ct,Ue=Et):(ne=Ct,rt=Et)}}function pg(G,ne,he,we,Me){var Ue=ne.x-G.x,rt=ne.y-G.y,vt=we.min,Ct=we.max,Et,un;return he&8?(Et=G.x+Ue*(Ct.y-G.y)/rt,un=Ct.y):he&4?(Et=G.x+Ue*(vt.y-G.y)/rt,un=vt.y):he&2?(Et=Ct.x,un=G.y+rt*(Ct.x-G.x)/Ue):he&1&&(Et=vt.x,un=G.y+rt*(vt.x-G.x)/Ue),new Ie(Et,un,Me)}function Tl(G,ne){var he=0;return G.x<ne.min.x?he|=1:G.x>ne.max.x&&(he|=2),G.y<ne.min.y?he|=4:G.y>ne.max.y&&(he|=8),he}function g1(G,ne){var he=ne.x-G.x,we=ne.y-G.y;return he*he+we*we}function Gh(G,ne,he,we){var Me=ne.x,Ue=ne.y,rt=he.x-Me,vt=he.y-Ue,Ct=rt*rt+vt*vt,Et;return Ct>0&&(Et=((G.x-Me)*rt+(G.y-Ue)*vt)/Ct,Et>1?(Me=he.x,Ue=he.y):Et>0&&(Me+=rt*Et,Ue+=vt*Et)),rt=G.x-Me,vt=G.y-Ue,we?rt*rt+vt*vt:new Ie(Me,Ue)}function Es(G){return!Q(G[0])||typeof G[0][0]!="object"&&typeof G[0][0]<"u"}function p1(G){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Es(G)}function v1(G,ne){var he,we,Me,Ue,rt,vt,Ct,Et;if(!G||G.length===0)throw new Error("latlngs not passed");Es(G)||(console.warn("latlngs are not flat! Only the first ring will be used"),G=G[0]);var un=[];for(var er in G)un.push(ne.project(Ve(G[er])));var Dr=un.length;for(he=0,we=0;he<Dr-1;he++)we+=un[he].distanceTo(un[he+1])/2;if(we===0)Et=un[0];else for(he=0,Ue=0;he<Dr-1;he++)if(rt=un[he],vt=un[he+1],Me=rt.distanceTo(vt),Ue+=Me,Ue>we){Ct=(Ue-we)/Me,Et=[vt.x-Ct*(vt.x-rt.x),vt.y-Ct*(vt.y-rt.y)];break}return ne.unproject(De(Et))}var $b={__proto__:null,simplify:f1,pointToSegmentDistance:Sl,closestPointOnSegment:Pb,clipSegment:d1,_getEdgeIntersection:pg,_getBitCode:Tl,_sqClosestPointOnSegment:Gh,isFlat:Es,_flat:p1,polylineCenter:v1};function Vp(G,ne,he){var we,Me=[1,4,2,8],Ue,rt,vt,Ct,Et,un,er,Dr;for(Ue=0,un=G.length;Ue<un;Ue++)G[Ue]._code=Tl(G[Ue],ne);for(vt=0;vt<4;vt++){for(er=Me[vt],we=[],Ue=0,un=G.length,rt=un-1;Ue<un;rt=Ue++)Ct=G[Ue],Et=G[rt],Ct._code&er?Et._code&er||(Dr=pg(Et,Ct,er,ne,he),Dr._code=Tl(Dr,ne),we.push(Dr)):(Et._code&er&&(Dr=pg(Et,Ct,er,ne,he),Dr._code=Tl(Dr,ne),we.push(Dr)),we.push(Ct));G=we}return G}function m1(G,ne){var he,we,Me,Ue,rt,vt,Ct,Et,un;if(!G||G.length===0)throw new Error("latlngs not passed");Es(G)||(console.warn("latlngs are not flat! Only the first ring will be used"),G=G[0]);var er=[];for(var Dr in G)er.push(ne.project(Ve(G[Dr])));var as=er.length;for(vt=Ct=Et=0,he=0,we=as-1;he<as;we=he++)Me=er[he],Ue=er[we],rt=Me.y*Ue.x-Ue.y*Me.x,Ct+=(Me.x+Ue.x)*rt,Et+=(Me.y+Ue.y)*rt,vt+=rt*3;return vt===0?un=er[0]:un=[Ct/vt,Et/vt],ne.unproject(De(un))}var Nn={__proto__:null,clipPolygon:Vp,polygonCenter:m1},rs={project:function(G){return new Ie(G.lng,G.lat)},unproject:function(G){return new ze(G.y,G.x)},bounds:new Pe([-180,-90],[180,90])},Uu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Pe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(G){var ne=Math.PI/180,he=this.R,we=G.lat*ne,Me=this.R_MINOR/he,Ue=Math.sqrt(1-Me*Me),rt=Ue*Math.sin(we),vt=Math.tan(Math.PI/4-we/2)/Math.pow((1-rt)/(1+rt),Ue/2);return we=-he*Math.log(Math.max(vt,1e-10)),new Ie(G.lng*ne*he,we)},unproject:function(G){for(var ne=180/Math.PI,he=this.R,we=this.R_MINOR/he,Me=Math.sqrt(1-we*we),Ue=Math.exp(-G.y/he),rt=Math.PI/2-2*Math.atan(Ue),vt=0,Ct=.1,Et;vt<15&&Math.abs(Ct)>1e-7;vt++)Et=Me*Math.sin(rt),Et=Math.pow((1-Et)/(1+Et),Me/2),Ct=Math.PI/2-2*Math.atan(Ue*Et)-rt,rt+=Ct;return new ze(rt*ne,G.x*ne/he)}},Dn={__proto__:null,LonLat:rs,Mercator:Uu,SphericalMercator:Qe},Fn=u({},nt,{code:"EPSG:3395",projection:Uu,transformation:function(){var G=.5/(Math.PI*Uu.R);return at(G,.5,-G,.5)}()}),Df=u({},nt,{code:"EPSG:4326",projection:rs,transformation:at(1/180,1,-1/180,.5)}),Hh=u({},Ye,{projection:rs,transformation:at(1,0,-1,0),scale:function(G){return Math.pow(2,G)},zoom:function(G){return Math.log(G)/Math.LN2},distance:function(G,ne){var he=ne.lng-G.lng,we=ne.lat-G.lat;return Math.sqrt(he*he+we*we)},infinite:!0});Ye.Earth=nt,Ye.EPSG3395=Fn,Ye.EPSG3857=wt,Ye.EPSG900913=st,Ye.EPSG4326=Df,Ye.Simple=Hh;var ks=Oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(G){return G.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(G){return G&&G.removeLayer(this),this},getPane:function(G){return this._map.getPane(G?this.options[G]||G:this.options.pane)},addInteractiveTarget:function(G){return this._map._targets[v(G)]=this,this},removeInteractiveTarget:function(G){return delete this._map._targets[v(G)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(G){var ne=G.target;if(ne.hasLayer(this)){if(this._map=ne,this._zoomAnimated=ne._zoomAnimated,this.getEvents){var he=this.getEvents();ne.on(he,this),this.once("remove",function(){ne.off(he,this)},this)}this.onAdd(ne),this.fire("add"),ne.fire("layeradd",{layer:this})}}});Ur.include({addLayer:function(G){if(!G._layerAdd)throw new Error("The provided object is not a Layer.");var ne=v(G);return this._layers[ne]?this:(this._layers[ne]=G,G._mapToAdd=this,G.beforeAdd&&G.beforeAdd(this),this.whenReady(G._layerAdd,G),this)},removeLayer:function(G){var ne=v(G);return this._layers[ne]?(this._loaded&&G.onRemove(this),delete this._layers[ne],this._loaded&&(this.fire("layerremove",{layer:G}),G.fire("remove")),G._map=G._mapToAdd=null,this):this},hasLayer:function(G){return v(G)in this._layers},eachLayer:function(G,ne){for(var he in this._layers)G.call(ne,this._layers[he]);return this},_addLayers:function(G){G=G?Q(G)?G:[G]:[];for(var ne=0,he=G.length;ne<he;ne++)this.addLayer(G[ne])},_addZoomLimit:function(G){(!isNaN(G.options.maxZoom)||!isNaN(G.options.minZoom))&&(this._zoomBoundLayers[v(G)]=G,this._updateZoomLevels())},_removeZoomLimit:function(G){var ne=v(G);this._zoomBoundLayers[ne]&&(delete this._zoomBoundLayers[ne],this._updateZoomLevels())},_updateZoomLevels:function(){var G=1/0,ne=-1/0,he=this._getZoomSpan();for(var we in this._zoomBoundLayers){var Me=this._zoomBoundLayers[we].options;G=Me.minZoom===void 0?G:Math.min(G,Me.minZoom),ne=Me.maxZoom===void 0?ne:Math.max(ne,Me.maxZoom)}this._layersMaxZoom=ne===-1/0?void 0:ne,this._layersMinZoom=G===1/0?void 0:G,he!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Yu=ks.extend({initialize:function(G,ne){j(this,ne),this._layers={};var he,we;if(G)for(he=0,we=G.length;he<we;he++)this.addLayer(G[he])},addLayer:function(G){var ne=this.getLayerId(G);return this._layers[ne]=G,this._map&&this._map.addLayer(G),this},removeLayer:function(G){var ne=G in this._layers?G:this.getLayerId(G);return this._map&&this._layers[ne]&&this._map.removeLayer(this._layers[ne]),delete this._layers[ne],this},hasLayer:function(G){var ne=typeof G=="number"?G:this.getLayerId(G);return ne in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(G){var ne=Array.prototype.slice.call(arguments,1),he,we;for(he in this._layers)we=this._layers[he],we[G]&&we[G].apply(we,ne);return this},onAdd:function(G){this.eachLayer(G.addLayer,G)},onRemove:function(G){this.eachLayer(G.removeLayer,G)},eachLayer:function(G,ne){for(var he in this._layers)G.call(ne,this._layers[he]);return this},getLayer:function(G){return this._layers[G]},getLayers:function(){var G=[];return this.eachLayer(G.push,G),G},setZIndex:function(G){return this.invoke("setZIndex",G)},getLayerId:function(G){return v(G)}}),vg=function(G,ne){return new Yu(G,ne)},xe=Yu.extend({addLayer:function(G){return this.hasLayer(G)?this:(G.addEventParent(this),Yu.prototype.addLayer.call(this,G),this.fire("layeradd",{layer:G}))},removeLayer:function(G){return this.hasLayer(G)?(G in this._layers&&(G=this._layers[G]),G.removeEventParent(this),Yu.prototype.removeLayer.call(this,G),this.fire("layerremove",{layer:G})):this},setStyle:function(G){return this.invoke("setStyle",G)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var G=new He;for(var ne in this._layers){var he=this._layers[ne];G.extend(he.getBounds?he.getBounds():he.getLatLng())}return G}}),vo=function(G,ne){return new xe(G,ne)},Of=ye.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(G){j(this,G)},createIcon:function(G){return this._createIcon("icon",G)},createShadow:function(G){return this._createIcon("shadow",G)},_createIcon:function(G,ne){var he=this._getIconUrl(G);if(!he){if(G==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var we=this._createImg(he,ne&&ne.tagName==="IMG"?ne:null);return this._setIconStyles(we,G),(this.options.crossOrigin||this.options.crossOrigin==="")&&(we.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),we},_setIconStyles:function(G,ne){var he=this.options,we=he[ne+"Size"];typeof we=="number"&&(we=[we,we]);var Me=De(we),Ue=De(ne==="shadow"&&he.shadowAnchor||he.iconAnchor||Me&&Me.divideBy(2,!0));G.className="leaflet-marker-"+ne+" "+(he.className||""),Ue&&(G.style.marginLeft=-Ue.x+"px",G.style.marginTop=-Ue.y+"px"),Me&&(G.style.width=Me.x+"px",G.style.height=Me.y+"px")},_createImg:function(G,ne){return ne=ne||document.createElement("img"),ne.src=G,ne},_getIconUrl:function(G){return En.retina&&this.options[G+"RetinaUrl"]||this.options[G+"Url"]}});function Nb(G){return new Of(G)}var Vu=Of.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(G){return typeof Vu.imagePath!="string"&&(Vu.imagePath=this._detectIconPath()),(this.options.imagePath||Vu.imagePath)+Of.prototype._getIconUrl.call(this,G)},_stripUrl:function(G){var ne=function(he,we,Me){var Ue=we.exec(he);return Ue&&Ue[Me]};return G=ne(G,/^url\((['"])?(.+)\1\)$/,2),G&&ne(G,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var G=Qr("div","leaflet-default-icon-path",document.body),ne=Mf(G,"background-image")||Mf(G,"backgroundImage");if(document.body.removeChild(G),ne=this._stripUrl(ne),ne)return ne;var he=document.querySelector('link[href$="leaflet.css"]');return he?he.href.substring(0,he.href.length-11-1):""}}),Al=xu.extend({initialize:function(G){this._marker=G},addHooks:function(){var G=this._marker._icon;this._draggable||(this._draggable=new Ac(G,G,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),vr(G,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Yi(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(G){var ne=this._marker,he=ne._map,we=this._marker.options.autoPanSpeed,Me=this._marker.options.autoPanPadding,Ue=El(ne._icon),rt=he.getPixelBounds(),vt=he.getPixelOrigin(),Ct=Ne(rt.min._subtract(vt).add(Me),rt.max._subtract(vt).subtract(Me));if(!Ct.contains(Ue)){var Et=De((Math.max(Ct.max.x,Ue.x)-Ct.max.x)/(rt.max.x-Ct.max.x)-(Math.min(Ct.min.x,Ue.x)-Ct.min.x)/(rt.min.x-Ct.min.x),(Math.max(Ct.max.y,Ue.y)-Ct.max.y)/(rt.max.y-Ct.max.y)-(Math.min(Ct.min.y,Ue.y)-Ct.min.y)/(rt.min.y-Ct.min.y)).multiplyBy(we);he.panBy(Et,{animate:!1}),this._draggable._newPos._add(Et),this._draggable._startPos._add(Et),_a(ne._icon,this._draggable._newPos),this._onDrag(G),this._panRequest=ge(this._adjustPan.bind(this,G))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(G){this._marker.options.autoPan&&(ve(this._panRequest),this._panRequest=ge(this._adjustPan.bind(this,G)))},_onDrag:function(G){var ne=this._marker,he=ne._shadow,we=El(ne._icon),Me=ne._map.layerPointToLatLng(we);he&&_a(he,we),ne._latlng=Me,G.latlng=Me,G.oldLatLng=this._oldLatLng,ne.fire("move",G).fire("drag",G)},_onDragEnd:function(G){ve(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",G)}}),Uh=ks.extend({options:{icon:new Vu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(G,ne){j(this,ne),this._latlng=Ve(G)},onAdd:function(G){this._zoomAnimated=this._zoomAnimated&&G.options.markerZoomAnimation,this._zoomAnimated&&G.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(G){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&G.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(G){var ne=this._latlng;return this._latlng=Ve(G),this.update(),this.fire("move",{oldLatLng:ne,latlng:this._latlng})},setZIndexOffset:function(G){return this.options.zIndexOffset=G,this.update()},getIcon:function(){return this.options.icon},setIcon:function(G){return this.options.icon=G,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var G=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(G)}return this},_initIcon:function(){var G=this.options,ne="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),he=G.icon.createIcon(this._icon),we=!1;he!==this._icon&&(this._icon&&this._removeIcon(),we=!0,G.title&&(he.title=G.title),he.tagName==="IMG"&&(he.alt=G.alt||"")),vr(he,ne),G.keyboard&&(he.tabIndex="0",he.setAttribute("role","button")),this._icon=he,G.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&sr(he,"focus",this._panOnFocus,this);var Me=G.icon.createShadow(this._shadow),Ue=!1;Me!==this._shadow&&(this._removeShadow(),Ue=!0),Me&&(vr(Me,ne),Me.alt=""),this._shadow=Me,G.opacity<1&&this._updateOpacity(),we&&this.getPane().appendChild(this._icon),this._initInteraction(),Me&&Ue&&this.getPane(G.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ki(this._icon,"focus",this._panOnFocus,this),Ui(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ui(this._shadow),this._shadow=null},_setPos:function(G){this._icon&&_a(this._icon,G),this._shadow&&_a(this._shadow,G),this._zIndex=G.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(G){this._icon&&(this._icon.style.zIndex=this._zIndex+G)},_animateZoom:function(G){var ne=this._map._latLngToNewLayerPoint(this._latlng,G.zoom,G.center).round();this._setPos(ne)},_initInteraction:function(){if(this.options.interactive&&(vr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Al)){var G=this.options.draggable;this.dragging&&(G=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Al(this),G&&this.dragging.enable()}},setOpacity:function(G){return this.options.opacity=G,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var G=this.options.opacity;this._icon&&_s(this._icon,G),this._shadow&&_s(this._shadow,G)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var G=this._map;if(G){var ne=this.options.icon.options,he=ne.iconSize?De(ne.iconSize):De(0,0),we=ne.iconAnchor?De(ne.iconAnchor):De(0,0);G.panInside(this._latlng,{paddingTopLeft:we,paddingBottomRight:he.subtract(we)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function y1(G,ne){return new Uh(G,ne)}var Wu=ks.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(G){this._renderer=G.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(G){return j(this,G),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&G&&Object.prototype.hasOwnProperty.call(G,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ll=Wu.extend({options:{fill:!0,radius:10},initialize:function(G,ne){j(this,ne),this._latlng=Ve(G),this._radius=this.options.radius},setLatLng:function(G){var ne=this._latlng;return this._latlng=Ve(G),this.redraw(),this.fire("move",{oldLatLng:ne,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(G){return this.options.radius=this._radius=G,this.redraw()},getRadius:function(){return this._radius},setStyle:function(G){var ne=G&&G.radius||this._radius;return Wu.prototype.setStyle.call(this,G),this.setRadius(ne),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var G=this._radius,ne=this._radiusY||G,he=this._clickTolerance(),we=[G+he,ne+he];this._pxBounds=new Pe(this._point.subtract(we),this._point.add(we))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(G){return G.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function b1(G,ne){return new Ll(G,ne)}var mg=Ll.extend({initialize:function(G,ne,he){if(typeof ne=="number"&&(ne=u({},he,{radius:ne})),j(this,ne),this._latlng=Ve(G),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(G){return this._mRadius=G,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var G=[this._radius,this._radiusY||this._radius];return new He(this._map.layerPointToLatLng(this._point.subtract(G)),this._map.layerPointToLatLng(this._point.add(G)))},setStyle:Wu.prototype.setStyle,_project:function(){var G=this._latlng.lng,ne=this._latlng.lat,he=this._map,we=he.options.crs;if(we.distance===nt.distance){var Me=Math.PI/180,Ue=this._mRadius/nt.R/Me,rt=he.project([ne+Ue,G]),vt=he.project([ne-Ue,G]),Ct=rt.add(vt).divideBy(2),Et=he.unproject(Ct).lat,un=Math.acos((Math.cos(Ue*Me)-Math.sin(ne*Me)*Math.sin(Et*Me))/(Math.cos(ne*Me)*Math.cos(Et*Me)))/Me;(isNaN(un)||un===0)&&(un=Ue/Math.cos(Math.PI/180*ne)),this._point=Ct.subtract(he.getPixelOrigin()),this._radius=isNaN(un)?0:Ct.x-he.project([Et,G-un]).x,this._radiusY=Ct.y-rt.y}else{var er=we.unproject(we.project(this._latlng).subtract([this._mRadius,0]));this._point=he.latLngToLayerPoint(this._latlng),this._radius=this._point.x-he.latLngToLayerPoint(er).x}this._updateBounds()}});function Wp(G,ne,he){return new mg(G,ne,he)}var Xu=Wu.extend({options:{smoothFactor:1,noClip:!1},initialize:function(G,ne){j(this,ne),this._setLatLngs(G)},getLatLngs:function(){return this._latlngs},setLatLngs:function(G){return this._setLatLngs(G),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(G){for(var ne=1/0,he=null,we=Gh,Me,Ue,rt=0,vt=this._parts.length;rt<vt;rt++)for(var Ct=this._parts[rt],Et=1,un=Ct.length;Et<un;Et++){Me=Ct[Et-1],Ue=Ct[Et];var er=we(G,Me,Ue,!0);er<ne&&(ne=er,he=we(G,Me,Ue))}return he&&(he.distance=Math.sqrt(ne)),he},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return v1(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(G,ne){return ne=ne||this._defaultShape(),G=Ve(G),ne.push(G),this._bounds.extend(G),this.redraw()},_setLatLngs:function(G){this._bounds=new He,this._latlngs=this._convertLatLngs(G)},_defaultShape:function(){return Es(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(G){for(var ne=[],he=Es(G),we=0,Me=G.length;we<Me;we++)he?(ne[we]=Ve(G[we]),this._bounds.extend(ne[we])):ne[we]=this._convertLatLngs(G[we]);return ne},_project:function(){var G=new Pe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,G),this._bounds.isValid()&&G.isValid()&&(this._rawPxBounds=G,this._updateBounds())},_updateBounds:function(){var G=this._clickTolerance(),ne=new Ie(G,G);this._rawPxBounds&&(this._pxBounds=new Pe([this._rawPxBounds.min.subtract(ne),this._rawPxBounds.max.add(ne)]))},_projectLatlngs:function(G,ne,he){var we=G[0]instanceof ze,Me=G.length,Ue,rt;if(we){for(rt=[],Ue=0;Ue<Me;Ue++)rt[Ue]=this._map.latLngToLayerPoint(G[Ue]),he.extend(rt[Ue]);ne.push(rt)}else for(Ue=0;Ue<Me;Ue++)this._projectLatlngs(G[Ue],ne,he)},_clipPoints:function(){var G=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(G))){if(this.options.noClip){this._parts=this._rings;return}var ne=this._parts,he,we,Me,Ue,rt,vt,Ct;for(he=0,Me=0,Ue=this._rings.length;he<Ue;he++)for(Ct=this._rings[he],we=0,rt=Ct.length;we<rt-1;we++)vt=d1(Ct[we],Ct[we+1],G,we,!0),vt&&(ne[Me]=ne[Me]||[],ne[Me].push(vt[0]),(vt[1]!==Ct[we+1]||we===rt-2)&&(ne[Me].push(vt[1]),Me++))}},_simplifyPoints:function(){for(var G=this._parts,ne=this.options.smoothFactor,he=0,we=G.length;he<we;he++)G[he]=f1(G[he],ne)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(G,ne){var he,we,Me,Ue,rt,vt,Ct=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(G))return!1;for(he=0,Ue=this._parts.length;he<Ue;he++)for(vt=this._parts[he],we=0,rt=vt.length,Me=rt-1;we<rt;Me=we++)if(!(!ne&&we===0)&&Sl(G,vt[Me],vt[we])<=Ct)return!0;return!1}});function Fb(G,ne){return new Xu(G,ne)}Xu._flat=p1;var na=Xu.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return m1(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(G){var ne=Xu.prototype._convertLatLngs.call(this,G),he=ne.length;return he>=2&&ne[0]instanceof ze&&ne[0].equals(ne[he-1])&&ne.pop(),ne},_setLatLngs:function(G){Xu.prototype._setLatLngs.call(this,G),Es(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Es(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var G=this._renderer._bounds,ne=this.options.weight,he=new Ie(ne,ne);if(G=new Pe(G.min.subtract(he),G.max.add(he)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(G))){if(this.options.noClip){this._parts=this._rings;return}for(var we=0,Me=this._rings.length,Ue;we<Me;we++)Ue=Vp(this._rings[we],G,!0),Ue.length&&this._parts.push(Ue)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(G){var ne=!1,he,we,Me,Ue,rt,vt,Ct,Et;if(!this._pxBounds||!this._pxBounds.contains(G))return!1;for(Ue=0,Ct=this._parts.length;Ue<Ct;Ue++)for(he=this._parts[Ue],rt=0,Et=he.length,vt=Et-1;rt<Et;vt=rt++)we=he[rt],Me=he[vt],we.y>G.y!=Me.y>G.y&&G.x<(Me.x-we.x)*(G.y-we.y)/(Me.y-we.y)+we.x&&(ne=!ne);return ne||Xu.prototype._containsPoint.call(this,G,!0)}});function w1(G,ne){return new na(G,ne)}var Lc=xe.extend({initialize:function(G,ne){j(this,ne),this._layers={},G&&this.addData(G)},addData:function(G){var ne=Q(G)?G:G.features,he,we,Me;if(ne){for(he=0,we=ne.length;he<we;he++)Me=ne[he],(Me.geometries||Me.geometry||Me.features||Me.coordinates)&&this.addData(Me);return this}var Ue=this.options;if(Ue.filter&&!Ue.filter(G))return this;var rt=Xp(G,Ue);return rt?(rt.feature=Qp(G),rt.defaultOptions=rt.options,this.resetStyle(rt),Ue.onEachFeature&&Ue.onEachFeature(G,rt),this.addLayer(rt)):this},resetStyle:function(G){return G===void 0?this.eachLayer(this.resetStyle,this):(G.options=u({},G.defaultOptions),this._setLayerStyle(G,this.options.style),this)},setStyle:function(G){return this.eachLayer(function(ne){this._setLayerStyle(ne,G)},this)},_setLayerStyle:function(G,ne){G.setStyle&&(typeof ne=="function"&&(ne=ne(G.feature)),G.setStyle(ne))}});function Xp(G,ne){var he=G.type==="Feature"?G.geometry:G,we=he?he.coordinates:null,Me=[],Ue=ne&&ne.pointToLayer,rt=ne&&ne.coordsToLatLng||_1,vt,Ct,Et,un;if(!we&&!he)return null;switch(he.type){case"Point":return vt=rt(we),Bb(Ue,G,vt,ne);case"MultiPoint":for(Et=0,un=we.length;Et<un;Et++)vt=rt(we[Et]),Me.push(Bb(Ue,G,vt,ne));return new xe(Me);case"LineString":case"MultiLineString":return Ct=Zp(we,he.type==="LineString"?0:1,rt),new Xu(Ct,ne);case"Polygon":case"MultiPolygon":return Ct=Zp(we,he.type==="Polygon"?1:2,rt),new na(Ct,ne);case"GeometryCollection":for(Et=0,un=he.geometries.length;Et<un;Et++){var er=Xp({geometry:he.geometries[Et],type:"Feature",properties:G.properties},ne);er&&Me.push(er)}return new xe(Me);case"FeatureCollection":for(Et=0,un=he.features.length;Et<un;Et++){var Dr=Xp(he.features[Et],ne);Dr&&Me.push(Dr)}return new xe(Me);default:throw new Error("Invalid GeoJSON object.")}}function Bb(G,ne,he,we){return G?G(ne,he):new Uh(he,we&&we.markersInheritOptions&&we)}function _1(G){return new ze(G[1],G[0],G[2])}function Zp(G,ne,he){for(var we=[],Me=0,Ue=G.length,rt;Me<Ue;Me++)rt=ne?Zp(G[Me],ne-1,he):(he||_1)(G[Me]),we.push(rt);return we}function x1(G,ne){return G=Ve(G),G.alt!==void 0?[P(G.lng,ne),P(G.lat,ne),P(G.alt,ne)]:[P(G.lng,ne),P(G.lat,ne)]}function Kp(G,ne,he,we){for(var Me=[],Ue=0,rt=G.length;Ue<rt;Ue++)Me.push(ne?Kp(G[Ue],Es(G[Ue])?0:ne-1,he,we):x1(G[Ue],we));return!ne&&he&&Me.push(Me[0].slice()),Me}function Yh(G,ne){return G.feature?u({},G.feature,{geometry:ne}):Qp(ne)}function Qp(G){return G.type==="Feature"||G.type==="FeatureCollection"?G:{type:"Feature",properties:{},geometry:G}}var E1={toGeoJSON:function(G){return Yh(this,{type:"Point",coordinates:x1(this.getLatLng(),G)})}};Uh.include(E1),mg.include(E1),Ll.include(E1),Xu.include({toGeoJSON:function(G){var ne=!Es(this._latlngs),he=Kp(this._latlngs,ne?1:0,!1,G);return Yh(this,{type:(ne?"Multi":"")+"LineString",coordinates:he})}}),na.include({toGeoJSON:function(G){var ne=!Es(this._latlngs),he=ne&&!Es(this._latlngs[0]),we=Kp(this._latlngs,he?2:ne?1:0,!0,G);return ne||(we=[we]),Yh(this,{type:(he?"Multi":"")+"Polygon",coordinates:we})}}),Yu.include({toMultiPoint:function(G){var ne=[];return this.eachLayer(function(he){ne.push(he.toGeoJSON(G).geometry.coordinates)}),Yh(this,{type:"MultiPoint",coordinates:ne})},toGeoJSON:function(G){var ne=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(ne==="MultiPoint")return this.toMultiPoint(G);var he=ne==="GeometryCollection",we=[];return this.eachLayer(function(Me){if(Me.toGeoJSON){var Ue=Me.toGeoJSON(G);if(he)we.push(Ue.geometry);else{var rt=Qp(Ue);rt.type==="FeatureCollection"?we.push.apply(we,rt.features):we.push(rt)}}}),he?Yh(this,{geometries:we,type:"GeometryCollection"}):{type:"FeatureCollection",features:we}}});function yg(G,ne){return new Lc(G,ne)}var k1=yg,kn=ks.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(G,ne,he){this._url=G,this._bounds=je(ne),j(this,he)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(vr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ui(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(G){return this.options.opacity=G,this._image&&this._updateOpacity(),this},setStyle:function(G){return G.opacity&&this.setOpacity(G.opacity),this},bringToFront:function(){return this._map&&If(this._image),this},bringToBack:function(){return this._map&&Rf(this._image),this},setUrl:function(G){return this._url=G,this._image&&(this._image.src=G),this},setBounds:function(G){return this._bounds=je(G),this._map&&this._reset(),this},getEvents:function(){var G={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(G.zoomanim=this._animateZoom),G},setZIndex:function(G){return this.options.zIndex=G,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var G=this._url.tagName==="IMG",ne=this._image=G?this._url:Qr("img");if(vr(ne,"leaflet-image-layer"),this._zoomAnimated&&vr(ne,"leaflet-zoom-animated"),this.options.className&&vr(ne,this.options.className),ne.onselectstart=I,ne.onmousemove=I,ne.onload=d(this.fire,this,"load"),ne.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(ne.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),G){this._url=ne.src;return}ne.src=this._url,ne.alt=this.options.alt},_animateZoom:function(G){var ne=this._map.getZoomScale(G.zoom),he=this._map._latLngBoundsToNewLayerBounds(this._bounds,G.zoom,G.center).min;xl(this._image,he,ne)},_reset:function(){var G=this._image,ne=new Pe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),he=ne.getSize();_a(G,ne.min),G.style.width=he.x+"px",G.style.height=he.y+"px"},_updateOpacity:function(){_s(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var G=this.options.errorOverlayUrl;G&&this._url!==G&&(this._url=G,this._image.src=G)},getCenter:function(){return this._bounds.getCenter()}}),qb=function(G,ne,he){return new kn(G,ne,he)},jb=kn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var G=this._url.tagName==="VIDEO",ne=this._image=G?this._url:Qr("video");if(vr(ne,"leaflet-image-layer"),this._zoomAnimated&&vr(ne,"leaflet-zoom-animated"),this.options.className&&vr(ne,this.options.className),ne.onselectstart=I,ne.onmousemove=I,ne.onloadeddata=d(this.fire,this,"load"),G){for(var he=ne.getElementsByTagName("source"),we=[],Me=0;Me<he.length;Me++)we.push(he[Me].src);this._url=he.length>0?we:[ne.src];return}Q(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(ne.style,"objectFit")&&(ne.style.objectFit="fill"),ne.autoplay=!!this.options.autoplay,ne.loop=!!this.options.loop,ne.muted=!!this.options.muted,ne.playsInline=!!this.options.playsInline;for(var Ue=0;Ue<this._url.length;Ue++){var rt=Qr("source");rt.src=this._url[Ue],ne.appendChild(rt)}}});function zb(G,ne,he){return new jb(G,ne,he)}var $f=kn.extend({_initImage:function(){var G=this._image=this._url;vr(G,"leaflet-image-layer"),this._zoomAnimated&&vr(G,"leaflet-zoom-animated"),this.options.className&&vr(G,this.options.className),G.onselectstart=I,G.onmousemove=I}});function Vh(G,ne,he){return new $f(G,ne,he)}var mo=ks.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(G,ne){G&&(G instanceof ze||Q(G))?(this._latlng=Ve(G),j(this,ne)):(j(this,G),this._source=ne),this.options.content&&(this._content=this.options.content)},openOn:function(G){return G=arguments.length?G:this._source._map,G.hasLayer(this)||G.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(G){return this._map?this.close():(arguments.length?this._source=G:G=this._source,this._prepareOpen(),this.openOn(G._map)),this},onAdd:function(G){this._zoomAnimated=G._zoomAnimated,this._container||this._initLayout(),G._fadeAnimated&&_s(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),G._fadeAnimated&&_s(this._container,1),this.bringToFront(),this.options.interactive&&(vr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(G){G._fadeAnimated?(_s(this._container,0),this._removeTimeout=setTimeout(d(Ui,void 0,this._container),200)):Ui(this._container),this.options.interactive&&(Yi(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(G){return this._latlng=Ve(G),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(G){return this._content=G,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var G={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(G.zoomanim=this._animateZoom),G},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&If(this._container),this},bringToBack:function(){return this._map&&Rf(this._container),this},_prepareOpen:function(G){var ne=this._source;if(!ne._map)return!1;if(ne instanceof xe){ne=null;var he=this._source._layers;for(var we in he)if(he[we]._map){ne=he[we];break}if(!ne)return!1;this._source=ne}if(!G)if(ne.getCenter)G=ne.getCenter();else if(ne.getLatLng)G=ne.getLatLng();else if(ne.getBounds)G=ne.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(G),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var G=this._contentNode,ne=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof ne=="string")G.innerHTML=ne;else{for(;G.hasChildNodes();)G.removeChild(G.firstChild);G.appendChild(ne)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var G=this._map.latLngToLayerPoint(this._latlng),ne=De(this.options.offset),he=this._getAnchor();this._zoomAnimated?_a(this._container,G.add(he)):ne=ne.add(G).add(he);var we=this._containerBottom=-ne.y,Me=this._containerLeft=-Math.round(this._containerWidth/2)+ne.x;this._container.style.bottom=we+"px",this._container.style.left=Me+"px"}},_getAnchor:function(){return[0,0]}});Ur.include({_initOverlay:function(G,ne,he,we){var Me=ne;return Me instanceof G||(Me=new G(we).setContent(ne)),he&&Me.setLatLng(he),Me}}),ks.include({_initOverlay:function(G,ne,he,we){var Me=he;return Me instanceof G?(j(Me,we),Me._source=this):(Me=ne&&!we?ne:new G(we,this),Me.setContent(he)),Me}});var Nf=mo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(G){return G=arguments.length?G:this._source._map,!G.hasLayer(this)&&G._popup&&G._popup.options.autoClose&&G.removeLayer(G._popup),G._popup=this,mo.prototype.openOn.call(this,G)},onAdd:function(G){mo.prototype.onAdd.call(this,G),G.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Wu||this._source.on("preclick",Hu))},onRemove:function(G){mo.prototype.onRemove.call(this,G),G.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Wu||this._source.off("preclick",Hu))},getEvents:function(){var G=mo.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(G.preclick=this.close),this.options.keepInView&&(G.moveend=this._adjustPan),G},_initLayout:function(){var G="leaflet-popup",ne=this._container=Qr("div",G+" "+(this.options.className||"")+" leaflet-zoom-animated"),he=this._wrapper=Qr("div",G+"-content-wrapper",ne);if(this._contentNode=Qr("div",G+"-content",he),jh(ne),fg(this._contentNode),sr(ne,"contextmenu",Hu),this._tipContainer=Qr("div",G+"-tip-container",ne),this._tip=Qr("div",G+"-tip",this._tipContainer),this.options.closeButton){var we=this._closeButton=Qr("a",G+"-close-button",ne);we.setAttribute("role","button"),we.setAttribute("aria-label","Close popup"),we.href="#close",we.innerHTML='<span aria-hidden="true">&#215;</span>',sr(we,"click",function(Me){no(Me),this.close()},this)}},_updateLayout:function(){var G=this._contentNode,ne=G.style;ne.width="",ne.whiteSpace="nowrap";var he=G.offsetWidth;he=Math.min(he,this.options.maxWidth),he=Math.max(he,this.options.minWidth),ne.width=he+1+"px",ne.whiteSpace="",ne.height="";var we=G.offsetHeight,Me=this.options.maxHeight,Ue="leaflet-popup-scrolled";Me&&we>Me?(ne.height=Me+"px",vr(G,Ue)):Yi(G,Ue),this._containerWidth=this._container.offsetWidth},_animateZoom:function(G){var ne=this._map._latLngToNewLayerPoint(this._latlng,G.zoom,G.center),he=this._getAnchor();_a(this._container,ne.add(he))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var G=this._map,ne=parseInt(Mf(this._container,"marginBottom"),10)||0,he=this._container.offsetHeight+ne,we=this._containerWidth,Me=new Ie(this._containerLeft,-he-this._containerBottom);Me._add(El(this._container));var Ue=G.layerPointToContainerPoint(Me),rt=De(this.options.autoPanPadding),vt=De(this.options.autoPanPaddingTopLeft||rt),Ct=De(this.options.autoPanPaddingBottomRight||rt),Et=G.getSize(),un=0,er=0;Ue.x+we+Ct.x>Et.x&&(un=Ue.x+we-Et.x+Ct.x),Ue.x-un-vt.x<0&&(un=Ue.x-vt.x),Ue.y+he+Ct.y>Et.y&&(er=Ue.y+he-Et.y+Ct.y),Ue.y-er-vt.y<0&&(er=Ue.y-vt.y),(un||er)&&(this.options.keepInView&&(this._autopanning=!0),G.fire("autopanstart").panBy([un,er]))}},_getAnchor:function(){return De(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),JE=function(G,ne){return new Nf(G,ne)};Ur.mergeOptions({closePopupOnClick:!0}),Ur.include({openPopup:function(G,ne,he){return this._initOverlay(Nf,G,ne,he).openOn(this),this},closePopup:function(G){return G=arguments.length?G:this._popup,G&&G.close(),this}}),ks.include({bindPopup:function(G,ne){return this._popup=this._initOverlay(Nf,this._popup,G,ne),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(G){return this._popup&&(this instanceof xe||(this._popup._source=this),this._popup._prepareOpen(G||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(G){return this._popup&&this._popup.setContent(G),this},getPopup:function(){return this._popup},_openPopup:function(G){if(!(!this._popup||!this._map)){kl(G);var ne=G.layer||G.target;if(this._popup._source===ne&&!(ne instanceof Wu)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(G.latlng);return}this._popup._source=ne,this.openPopup(G.latlng)}},_movePopup:function(G){this._popup.setLatLng(G.latlng)},_onKeyPress:function(G){G.originalEvent.keyCode===13&&this._openPopup(G)}});var Jp=mo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(G){mo.prototype.onAdd.call(this,G),this.setOpacity(this.options.opacity),G.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(G){mo.prototype.onRemove.call(this,G),G.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var G=mo.prototype.getEvents.call(this);return this.options.permanent||(G.preclick=this.close),G},_initLayout:function(){var G="leaflet-tooltip",ne=G+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Qr("div",ne),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(G){var ne,he,we=this._map,Me=this._container,Ue=we.latLngToContainerPoint(we.getCenter()),rt=we.layerPointToContainerPoint(G),vt=this.options.direction,Ct=Me.offsetWidth,Et=Me.offsetHeight,un=De(this.options.offset),er=this._getAnchor();vt==="top"?(ne=Ct/2,he=Et):vt==="bottom"?(ne=Ct/2,he=0):vt==="center"?(ne=Ct/2,he=Et/2):vt==="right"?(ne=0,he=Et/2):vt==="left"?(ne=Ct,he=Et/2):rt.x<Ue.x?(vt="right",ne=0,he=Et/2):(vt="left",ne=Ct+(un.x+er.x)*2,he=Et/2),G=G.subtract(De(ne,he,!0)).add(un).add(er),Yi(Me,"leaflet-tooltip-right"),Yi(Me,"leaflet-tooltip-left"),Yi(Me,"leaflet-tooltip-top"),Yi(Me,"leaflet-tooltip-bottom"),vr(Me,"leaflet-tooltip-"+vt),_a(Me,G)},_updatePosition:function(){var G=this._map.latLngToLayerPoint(this._latlng);this._setPosition(G)},setOpacity:function(G){this.options.opacity=G,this._container&&_s(this._container,G)},_animateZoom:function(G){var ne=this._map._latLngToNewLayerPoint(this._latlng,G.zoom,G.center);this._setPosition(ne)},_getAnchor:function(){return De(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ek=function(G,ne){return new Jp(G,ne)};Ur.include({openTooltip:function(G,ne,he){return this._initOverlay(Jp,G,ne,he).openOn(this),this},closeTooltip:function(G){return G.close(),this}}),ks.include({bindTooltip:function(G,ne){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Jp,this._tooltip,G,ne),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(G){if(!(!G&&this._tooltipHandlersAdded)){var ne=G?"off":"on",he={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?he.add=this._openTooltip:(he.mouseover=this._openTooltip,he.mouseout=this.closeTooltip,he.click=this._openTooltip,this._map?this._addFocusListeners():he.add=this._addFocusListeners),this._tooltip.options.sticky&&(he.mousemove=this._moveTooltip),this[ne](he),this._tooltipHandlersAdded=!G}},openTooltip:function(G){return this._tooltip&&(this instanceof xe||(this._tooltip._source=this),this._tooltip._prepareOpen(G)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(G){return this._tooltip&&this._tooltip.setContent(G),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(G){var ne=G.getElement();ne&&(sr(ne,"focus",function(){this._tooltip._source=G,this.openTooltip()},this),sr(ne,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(G){var ne=G.getElement();ne&&ne.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(G){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=G.layer||G.target,this.openTooltip(this._tooltip.options.sticky?G.latlng:void 0))},_moveTooltip:function(G){var ne=G.latlng,he,we;this._tooltip.options.sticky&&G.originalEvent&&(he=this._map.mouseEventToContainerPoint(G.originalEvent),we=this._map.containerPointToLayerPoint(he),ne=this._map.layerPointToLatLng(we)),this._tooltip.setLatLng(ne)}});var Gb=Of.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(G){var ne=G&&G.tagName==="DIV"?G:document.createElement("div"),he=this.options;if(he.html instanceof Element?(sg(ne),ne.appendChild(he.html)):ne.innerHTML=he.html!==!1?he.html:"",he.bgPos){var we=De(he.bgPos);ne.style.backgroundPosition=-we.x+"px "+-we.y+"px"}return this._setIconStyles(ne,"icon"),ne},createShadow:function(){return null}});function tk(G){return new Gb(G)}Of.Default=Vu;var bg=ks.extend({options:{tileSize:256,opacity:1,updateWhenIdle:En.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(G){j(this,G)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(G){G._addZoomLimit(this)},onRemove:function(G){this._removeAllTiles(),Ui(this._container),G._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(If(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Rf(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(G){return this.options.opacity=G,this._updateOpacity(),this},setZIndex:function(G){return this.options.zIndex=G,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var G=this._clampZoom(this._map.getZoom());G!==this._tileZoom&&(this._tileZoom=G,this._updateLevels()),this._update()}return this},getEvents:function(){var G={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=S(this._onMoveEnd,this.options.updateInterval,this)),G.move=this._onMove),this._zoomAnimated&&(G.zoomanim=this._animateZoom),G},createTile:function(){return document.createElement("div")},getTileSize:function(){var G=this.options.tileSize;return G instanceof Ie?G:new Ie(G,G)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(G){for(var ne=this.getPane().children,he=-G(-1/0,1/0),we=0,Me=ne.length,Ue;we<Me;we++)Ue=ne[we].style.zIndex,ne[we]!==this._container&&Ue&&(he=G(he,+Ue));isFinite(he)&&(this.options.zIndex=he+G(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!En.ielt9){_s(this._container,this.options.opacity);var G=+new Date,ne=!1,he=!1;for(var we in this._tiles){var Me=this._tiles[we];if(!(!Me.current||!Me.loaded)){var Ue=Math.min(1,(G-Me.loaded)/200);_s(Me.el,Ue),Ue<1?ne=!0:(Me.active?he=!0:this._onOpaqueTile(Me),Me.active=!0)}}he&&!this._noPrune&&this._pruneTiles(),ne&&(ve(this._fadeFrame),this._fadeFrame=ge(this._updateOpacity,this))}},_onOpaqueTile:I,_initContainer:function(){this._container||(this._container=Qr("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var G=this._tileZoom,ne=this.options.maxZoom;if(G!==void 0){for(var he in this._levels)he=Number(he),this._levels[he].el.children.length||he===G?(this._levels[he].el.style.zIndex=ne-Math.abs(G-he),this._onUpdateLevel(he)):(Ui(this._levels[he].el),this._removeTilesAtZoom(he),this._onRemoveLevel(he),delete this._levels[he]);var we=this._levels[G],Me=this._map;return we||(we=this._levels[G]={},we.el=Qr("div","leaflet-tile-container leaflet-zoom-animated",this._container),we.el.style.zIndex=ne,we.origin=Me.project(Me.unproject(Me.getPixelOrigin()),G).round(),we.zoom=G,this._setZoomTransform(we,Me.getCenter(),Me.getZoom()),I(we.el.offsetWidth),this._onCreateLevel(we)),this._level=we,we}},_onUpdateLevel:I,_onRemoveLevel:I,_onCreateLevel:I,_pruneTiles:function(){if(this._map){var G,ne,he=this._map.getZoom();if(he>this.options.maxZoom||he<this.options.minZoom){this._removeAllTiles();return}for(G in this._tiles)ne=this._tiles[G],ne.retain=ne.current;for(G in this._tiles)if(ne=this._tiles[G],ne.current&&!ne.active){var we=ne.coords;this._retainParent(we.x,we.y,we.z,we.z-5)||this._retainChildren(we.x,we.y,we.z,we.z+2)}for(G in this._tiles)this._tiles[G].retain||this._removeTile(G)}},_removeTilesAtZoom:function(G){for(var ne in this._tiles)this._tiles[ne].coords.z===G&&this._removeTile(ne)},_removeAllTiles:function(){for(var G in this._tiles)this._removeTile(G)},_invalidateAll:function(){for(var G in this._levels)Ui(this._levels[G].el),this._onRemoveLevel(Number(G)),delete this._levels[G];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(G,ne,he,we){var Me=Math.floor(G/2),Ue=Math.floor(ne/2),rt=he-1,vt=new Ie(+Me,+Ue);vt.z=+rt;var Ct=this._tileCoordsToKey(vt),Et=this._tiles[Ct];return Et&&Et.active?(Et.retain=!0,!0):(Et&&Et.loaded&&(Et.retain=!0),rt>we?this._retainParent(Me,Ue,rt,we):!1)},_retainChildren:function(G,ne,he,we){for(var Me=2*G;Me<2*G+2;Me++)for(var Ue=2*ne;Ue<2*ne+2;Ue++){var rt=new Ie(Me,Ue);rt.z=he+1;var vt=this._tileCoordsToKey(rt),Ct=this._tiles[vt];if(Ct&&Ct.active){Ct.retain=!0;continue}else Ct&&Ct.loaded&&(Ct.retain=!0);he+1<we&&this._retainChildren(Me,Ue,he+1,we)}},_resetView:function(G){var ne=G&&(G.pinch||G.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),ne,ne)},_animateZoom:function(G){this._setView(G.center,G.zoom,!0,G.noUpdate)},_clampZoom:function(G){var ne=this.options;return ne.minNativeZoom!==void 0&&G<ne.minNativeZoom?ne.minNativeZoom:ne.maxNativeZoom!==void 0&&ne.maxNativeZoom<G?ne.maxNativeZoom:G},_setView:function(G,ne,he,we){var Me=Math.round(ne);this.options.maxZoom!==void 0&&Me>this.options.maxZoom||this.options.minZoom!==void 0&&Me<this.options.minZoom?Me=void 0:Me=this._clampZoom(Me);var Ue=this.options.updateWhenZooming&&Me!==this._tileZoom;(!we||Ue)&&(this._tileZoom=Me,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Me!==void 0&&this._update(G),he||this._pruneTiles(),this._noPrune=!!he),this._setZoomTransforms(G,ne)},_setZoomTransforms:function(G,ne){for(var he in this._levels)this._setZoomTransform(this._levels[he],G,ne)},_setZoomTransform:function(G,ne,he){var we=this._map.getZoomScale(he,G.zoom),Me=G.origin.multiplyBy(we).subtract(this._map._getNewPixelOrigin(ne,he)).round();En.any3d?xl(G.el,Me,we):_a(G.el,Me)},_resetGrid:function(){var G=this._map,ne=G.options.crs,he=this._tileSize=this.getTileSize(),we=this._tileZoom,Me=this._map.getPixelWorldBounds(this._tileZoom);Me&&(this._globalTileRange=this._pxBoundsToTileRange(Me)),this._wrapX=ne.wrapLng&&!this.options.noWrap&&[Math.floor(G.project([0,ne.wrapLng[0]],we).x/he.x),Math.ceil(G.project([0,ne.wrapLng[1]],we).x/he.y)],this._wrapY=ne.wrapLat&&!this.options.noWrap&&[Math.floor(G.project([ne.wrapLat[0],0],we).y/he.x),Math.ceil(G.project([ne.wrapLat[1],0],we).y/he.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(G){var ne=this._map,he=ne._animatingZoom?Math.max(ne._animateToZoom,ne.getZoom()):ne.getZoom(),we=ne.getZoomScale(he,this._tileZoom),Me=ne.project(G,this._tileZoom).floor(),Ue=ne.getSize().divideBy(we*2);return new Pe(Me.subtract(Ue),Me.add(Ue))},_update:function(G){var ne=this._map;if(ne){var he=this._clampZoom(ne.getZoom());if(G===void 0&&(G=ne.getCenter()),this._tileZoom!==void 0){var we=this._getTiledPixelBounds(G),Me=this._pxBoundsToTileRange(we),Ue=Me.getCenter(),rt=[],vt=this.options.keepBuffer,Ct=new Pe(Me.getBottomLeft().subtract([vt,-vt]),Me.getTopRight().add([vt,-vt]));if(!(isFinite(Me.min.x)&&isFinite(Me.min.y)&&isFinite(Me.max.x)&&isFinite(Me.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Et in this._tiles){var un=this._tiles[Et].coords;(un.z!==this._tileZoom||!Ct.contains(new Ie(un.x,un.y)))&&(this._tiles[Et].current=!1)}if(Math.abs(he-this._tileZoom)>1){this._setView(G,he);return}for(var er=Me.min.y;er<=Me.max.y;er++)for(var Dr=Me.min.x;Dr<=Me.max.x;Dr++){var as=new Ie(Dr,er);if(as.z=this._tileZoom,!!this._isValidTile(as)){var Rl=this._tiles[this._tileCoordsToKey(as)];Rl?Rl.current=!0:rt.push(as)}}if(rt.sort(function(Mc,Eg){return Mc.distanceTo(Ue)-Eg.distanceTo(Ue)}),rt.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Zh=document.createDocumentFragment();for(Dr=0;Dr<rt.length;Dr++)this._addTile(rt[Dr],Zh);this._level.el.appendChild(Zh)}}}},_isValidTile:function(G){var ne=this._map.options.crs;if(!ne.infinite){var he=this._globalTileRange;if(!ne.wrapLng&&(G.x<he.min.x||G.x>he.max.x)||!ne.wrapLat&&(G.y<he.min.y||G.y>he.max.y))return!1}if(!this.options.bounds)return!0;var we=this._tileCoordsToBounds(G);return je(this.options.bounds).overlaps(we)},_keyToBounds:function(G){return this._tileCoordsToBounds(this._keyToTileCoords(G))},_tileCoordsToNwSe:function(G){var ne=this._map,he=this.getTileSize(),we=G.scaleBy(he),Me=we.add(he),Ue=ne.unproject(we,G.z),rt=ne.unproject(Me,G.z);return[Ue,rt]},_tileCoordsToBounds:function(G){var ne=this._tileCoordsToNwSe(G),he=new He(ne[0],ne[1]);return this.options.noWrap||(he=this._map.wrapLatLngBounds(he)),he},_tileCoordsToKey:function(G){return G.x+":"+G.y+":"+G.z},_keyToTileCoords:function(G){var ne=G.split(":"),he=new Ie(+ne[0],+ne[1]);return he.z=+ne[2],he},_removeTile:function(G){var ne=this._tiles[G];ne&&(Ui(ne.el),delete this._tiles[G],this.fire("tileunload",{tile:ne.el,coords:this._keyToTileCoords(G)}))},_initTile:function(G){vr(G,"leaflet-tile");var ne=this.getTileSize();G.style.width=ne.x+"px",G.style.height=ne.y+"px",G.onselectstart=I,G.onmousemove=I,En.ielt9&&this.options.opacity<1&&_s(G,this.options.opacity)},_addTile:function(G,ne){var he=this._getTilePos(G),we=this._tileCoordsToKey(G),Me=this.createTile(this._wrapCoords(G),d(this._tileReady,this,G));this._initTile(Me),this.createTile.length<2&&ge(d(this._tileReady,this,G,null,Me)),_a(Me,he),this._tiles[we]={el:Me,coords:G,current:!0},ne.appendChild(Me),this.fire("tileloadstart",{tile:Me,coords:G})},_tileReady:function(G,ne,he){ne&&this.fire("tileerror",{error:ne,tile:he,coords:G});var we=this._tileCoordsToKey(G);he=this._tiles[we],he&&(he.loaded=+new Date,this._map._fadeAnimated?(_s(he.el,0),ve(this._fadeFrame),this._fadeFrame=ge(this._updateOpacity,this)):(he.active=!0,this._pruneTiles()),ne||(vr(he.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:he.el,coords:G})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),En.ielt9||!this._map._fadeAnimated?ge(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(G){return G.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(G){var ne=new Ie(this._wrapX?M(G.x,this._wrapX):G.x,this._wrapY?M(G.y,this._wrapY):G.y);return ne.z=G.z,ne},_pxBoundsToTileRange:function(G){var ne=this.getTileSize();return new Pe(G.min.unscaleBy(ne).floor(),G.max.unscaleBy(ne).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var G in this._tiles)if(!this._tiles[G].loaded)return!1;return!0}});function nk(G){return new bg(G)}var Wh=bg.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(G,ne){this._url=G,ne=j(this,ne),ne.detectRetina&&En.retina&&ne.maxZoom>0?(ne.tileSize=Math.floor(ne.tileSize/2),ne.zoomReverse?(ne.zoomOffset--,ne.minZoom=Math.min(ne.maxZoom,ne.minZoom+1)):(ne.zoomOffset++,ne.maxZoom=Math.max(ne.minZoom,ne.maxZoom-1)),ne.minZoom=Math.max(0,ne.minZoom)):ne.zoomReverse?ne.minZoom=Math.min(ne.maxZoom,ne.minZoom):ne.maxZoom=Math.max(ne.minZoom,ne.maxZoom),typeof ne.subdomains=="string"&&(ne.subdomains=ne.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(G,ne){return this._url===G&&ne===void 0&&(ne=!0),this._url=G,ne||this.redraw(),this},createTile:function(G,ne){var he=document.createElement("img");return sr(he,"load",d(this._tileOnLoad,this,ne,he)),sr(he,"error",d(this._tileOnError,this,ne,he)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(he.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(he.referrerPolicy=this.options.referrerPolicy),he.alt="",he.src=this.getTileUrl(G),he},getTileUrl:function(G){var ne={r:En.retina?"@2x":"",s:this._getSubdomain(G),x:G.x,y:G.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var he=this._globalTileRange.max.y-G.y;this.options.tms&&(ne.y=he),ne["-y"]=he}return Z(this._url,u(ne,this.options))},_tileOnLoad:function(G,ne){En.ielt9?setTimeout(d(G,this,null,ne),0):G(null,ne)},_tileOnError:function(G,ne,he){var we=this.options.errorTileUrl;we&&ne.getAttribute("src")!==we&&(ne.src=we),G(he,ne)},_onTileRemove:function(G){G.tile.onload=null},_getZoomForUrl:function(){var G=this._tileZoom,ne=this.options.maxZoom,he=this.options.zoomReverse,we=this.options.zoomOffset;return he&&(G=ne-G),G+we},_getSubdomain:function(G){var ne=Math.abs(G.x+G.y)%this.options.subdomains.length;return this.options.subdomains[ne]},_abortLoading:function(){var G,ne;for(G in this._tiles)if(this._tiles[G].coords.z!==this._tileZoom&&(ne=this._tiles[G].el,ne.onload=I,ne.onerror=I,!ne.complete)){ne.src=te;var he=this._tiles[G].coords;Ui(ne),delete this._tiles[G],this.fire("tileabort",{tile:ne,coords:he})}},_removeTile:function(G){var ne=this._tiles[G];if(ne)return ne.el.setAttribute("src",te),bg.prototype._removeTile.call(this,G)},_tileReady:function(G,ne,he){if(!(!this._map||he&&he.getAttribute("src")===te))return bg.prototype._tileReady.call(this,G,ne,he)}});function Hb(G,ne){return new Wh(G,ne)}var C1=Wh.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(G,ne){this._url=G;var he=u({},this.defaultWmsParams);for(var we in ne)we in this.options||(he[we]=ne[we]);ne=j(this,ne);var Me=ne.detectRetina&&En.retina?2:1,Ue=this.getTileSize();he.width=Ue.x*Me,he.height=Ue.y*Me,this.wmsParams=he},onAdd:function(G){this._crs=this.options.crs||G.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var ne=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[ne]=this._crs.code,Wh.prototype.onAdd.call(this,G)},getTileUrl:function(G){var ne=this._tileCoordsToNwSe(G),he=this._crs,we=Ne(he.project(ne[0]),he.project(ne[1])),Me=we.min,Ue=we.max,rt=(this._wmsVersion>=1.3&&this._crs===Df?[Me.y,Me.x,Ue.y,Ue.x]:[Me.x,Me.y,Ue.x,Ue.y]).join(","),vt=Wh.prototype.getTileUrl.call(this,G);return vt+U(this.wmsParams,vt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+rt},setParams:function(G,ne){return u(this.wmsParams,G),ne||this.redraw(),this}});function Ub(G,ne){return new C1(G,ne)}Wh.WMS=C1,Hb.wms=Ub;var Zu=ks.extend({options:{padding:.1},initialize:function(G){j(this,G),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&vr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var G={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(G.zoomanim=this._onAnimZoom),G},_onAnimZoom:function(G){this._updateTransform(G.center,G.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(G,ne){var he=this._map.getZoomScale(ne,this._zoom),we=this._map.getSize().multiplyBy(.5+this.options.padding),Me=this._map.project(this._center,ne),Ue=we.multiplyBy(-he).add(Me).subtract(this._map._getNewPixelOrigin(G,ne));En.any3d?xl(this._container,Ue,he):_a(this._container,Ue)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var G in this._layers)this._layers[G]._reset()},_onZoomEnd:function(){for(var G in this._layers)this._layers[G]._project()},_updatePaths:function(){for(var G in this._layers)this._layers[G]._update()},_update:function(){var G=this.options.padding,ne=this._map.getSize(),he=this._map.containerPointToLayerPoint(ne.multiplyBy(-G)).round();this._bounds=new Pe(he,he.add(ne.multiplyBy(1+G*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),S1=Zu.extend({options:{tolerance:0},getEvents:function(){var G=Zu.prototype.getEvents.call(this);return G.viewprereset=this._onViewPreReset,G},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Zu.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var G=this._container=document.createElement("canvas");sr(G,"mousemove",this._onMouseMove,this),sr(G,"click dblclick mousedown mouseup contextmenu",this._onClick,this),sr(G,"mouseout",this._handleMouseOut,this),G._leaflet_disable_events=!0,this._ctx=G.getContext("2d")},_destroyContainer:function(){ve(this._redrawRequest),delete this._ctx,Ui(this._container),ki(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var G;this._redrawBounds=null;for(var ne in this._layers)G=this._layers[ne],G._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zu.prototype._update.call(this);var G=this._bounds,ne=this._container,he=G.getSize(),we=En.retina?2:1;_a(ne,G.min),ne.width=we*he.x,ne.height=we*he.y,ne.style.width=he.x+"px",ne.style.height=he.y+"px",En.retina&&this._ctx.scale(2,2),this._ctx.translate(-G.min.x,-G.min.y),this.fire("update")}},_reset:function(){Zu.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(G){this._updateDashArray(G),this._layers[v(G)]=G;var ne=G._order={layer:G,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=ne),this._drawLast=ne,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(G){this._requestRedraw(G)},_removePath:function(G){var ne=G._order,he=ne.next,we=ne.prev;he?he.prev=we:this._drawLast=we,we?we.next=he:this._drawFirst=he,delete G._order,delete this._layers[v(G)],this._requestRedraw(G)},_updatePath:function(G){this._extendRedrawBounds(G),G._project(),G._update(),this._requestRedraw(G)},_updateStyle:function(G){this._updateDashArray(G),this._requestRedraw(G)},_updateDashArray:function(G){if(typeof G.options.dashArray=="string"){var ne=G.options.dashArray.split(/[, ]+/),he=[],we,Me;for(Me=0;Me<ne.length;Me++){if(we=Number(ne[Me]),isNaN(we))return;he.push(we)}G.options._dashArray=he}else G.options._dashArray=G.options.dashArray},_requestRedraw:function(G){this._map&&(this._extendRedrawBounds(G),this._redrawRequest=this._redrawRequest||ge(this._redraw,this))},_extendRedrawBounds:function(G){if(G._pxBounds){var ne=(G.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Pe,this._redrawBounds.extend(G._pxBounds.min.subtract([ne,ne])),this._redrawBounds.extend(G._pxBounds.max.add([ne,ne]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var G=this._redrawBounds;if(G){var ne=G.getSize();this._ctx.clearRect(G.min.x,G.min.y,ne.x,ne.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var G,ne=this._redrawBounds;if(this._ctx.save(),ne){var he=ne.getSize();this._ctx.beginPath(),this._ctx.rect(ne.min.x,ne.min.y,he.x,he.y),this._ctx.clip()}this._drawing=!0;for(var we=this._drawFirst;we;we=we.next)G=we.layer,(!ne||G._pxBounds&&G._pxBounds.intersects(ne))&&G._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(G,ne){if(this._drawing){var he,we,Me,Ue,rt=G._parts,vt=rt.length,Ct=this._ctx;if(vt){for(Ct.beginPath(),he=0;he<vt;he++){for(we=0,Me=rt[he].length;we<Me;we++)Ue=rt[he][we],Ct[we?"lineTo":"moveTo"](Ue.x,Ue.y);ne&&Ct.closePath()}this._fillStroke(Ct,G)}}},_updateCircle:function(G){if(!(!this._drawing||G._empty())){var ne=G._point,he=this._ctx,we=Math.max(Math.round(G._radius),1),Me=(Math.max(Math.round(G._radiusY),1)||we)/we;Me!==1&&(he.save(),he.scale(1,Me)),he.beginPath(),he.arc(ne.x,ne.y/Me,we,0,Math.PI*2,!1),Me!==1&&he.restore(),this._fillStroke(he,G)}},_fillStroke:function(G,ne){var he=ne.options;he.fill&&(G.globalAlpha=he.fillOpacity,G.fillStyle=he.fillColor||he.color,G.fill(he.fillRule||"evenodd")),he.stroke&&he.weight!==0&&(G.setLineDash&&G.setLineDash(ne.options&&ne.options._dashArray||[]),G.globalAlpha=he.opacity,G.lineWidth=he.weight,G.strokeStyle=he.color,G.lineCap=he.lineCap,G.lineJoin=he.lineJoin,G.stroke())},_onClick:function(G){for(var ne=this._map.mouseEventToLayerPoint(G),he,we,Me=this._drawFirst;Me;Me=Me.next)he=Me.layer,he.options.interactive&&he._containsPoint(ne)&&(!(G.type==="click"||G.type==="preclick")||!this._map._draggableMoved(he))&&(we=he);this._fireEvent(we?[we]:!1,G)},_onMouseMove:function(G){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var ne=this._map.mouseEventToLayerPoint(G);this._handleMouseHover(G,ne)}},_handleMouseOut:function(G){var ne=this._hoveredLayer;ne&&(Yi(this._container,"leaflet-interactive"),this._fireEvent([ne],G,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(G,ne){if(!this._mouseHoverThrottled){for(var he,we,Me=this._drawFirst;Me;Me=Me.next)he=Me.layer,he.options.interactive&&he._containsPoint(ne)&&(we=he);we!==this._hoveredLayer&&(this._handleMouseOut(G),we&&(vr(this._container,"leaflet-interactive"),this._fireEvent([we],G,"mouseover"),this._hoveredLayer=we)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,G),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(G,ne,he){this._map._fireDOMEvent(ne,he||ne.type,G)},_bringToFront:function(G){var ne=G._order;if(ne){var he=ne.next,we=ne.prev;if(he)he.prev=we;else return;we?we.next=he:he&&(this._drawFirst=he),ne.prev=this._drawLast,this._drawLast.next=ne,ne.next=null,this._drawLast=ne,this._requestRedraw(G)}},_bringToBack:function(G){var ne=G._order;if(ne){var he=ne.next,we=ne.prev;if(we)we.next=he;else return;he?he.prev=we:we&&(this._drawLast=we),ne.prev=null,ne.next=this._drawFirst,this._drawFirst.prev=ne,this._drawFirst=ne,this._requestRedraw(G)}}});function wg(G){return En.canvas?new S1(G):null}var Cs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(G){return document.createElement("<lvml:"+G+' class="lvml">')}}catch{}return function(G){return document.createElement("<"+G+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ff={_initContainer:function(){this._container=Qr("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Zu.prototype._update.call(this),this.fire("update"))},_initPath:function(G){var ne=G._container=Cs("shape");vr(ne,"leaflet-vml-shape "+(this.options.className||"")),ne.coordsize="1 1",G._path=Cs("path"),ne.appendChild(G._path),this._updateStyle(G),this._layers[v(G)]=G},_addPath:function(G){var ne=G._container;this._container.appendChild(ne),G.options.interactive&&G.addInteractiveTarget(ne)},_removePath:function(G){var ne=G._container;Ui(ne),G.removeInteractiveTarget(ne),delete this._layers[v(G)]},_updateStyle:function(G){var ne=G._stroke,he=G._fill,we=G.options,Me=G._container;Me.stroked=!!we.stroke,Me.filled=!!we.fill,we.stroke?(ne||(ne=G._stroke=Cs("stroke")),Me.appendChild(ne),ne.weight=we.weight+"px",ne.color=we.color,ne.opacity=we.opacity,we.dashArray?ne.dashStyle=Q(we.dashArray)?we.dashArray.join(" "):we.dashArray.replace(/( *, *)/g," "):ne.dashStyle="",ne.endcap=we.lineCap.replace("butt","flat"),ne.joinstyle=we.lineJoin):ne&&(Me.removeChild(ne),G._stroke=null),we.fill?(he||(he=G._fill=Cs("fill")),Me.appendChild(he),he.color=we.fillColor||we.color,he.opacity=we.fillOpacity):he&&(Me.removeChild(he),G._fill=null)},_updateCircle:function(G){var ne=G._point.round(),he=Math.round(G._radius),we=Math.round(G._radiusY||he);this._setPath(G,G._empty()?"M0 0":"AL "+ne.x+","+ne.y+" "+he+","+we+" 0,"+65535*360)},_setPath:function(G,ne){G._path.v=ne},_bringToFront:function(G){If(G._container)},_bringToBack:function(G){Rf(G._container)}},_g=En.vml?Cs:ft,Ci=Zu.extend({_initContainer:function(){this._container=_g("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=_g("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ui(this._container),ki(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zu.prototype._update.call(this);var G=this._bounds,ne=G.getSize(),he=this._container;(!this._svgSize||!this._svgSize.equals(ne))&&(this._svgSize=ne,he.setAttribute("width",ne.x),he.setAttribute("height",ne.y)),_a(he,G.min),he.setAttribute("viewBox",[G.min.x,G.min.y,ne.x,ne.y].join(" ")),this.fire("update")}},_initPath:function(G){var ne=G._path=_g("path");G.options.className&&vr(ne,G.options.className),G.options.interactive&&vr(ne,"leaflet-interactive"),this._updateStyle(G),this._layers[v(G)]=G},_addPath:function(G){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(G._path),G.addInteractiveTarget(G._path)},_removePath:function(G){Ui(G._path),G.removeInteractiveTarget(G._path),delete this._layers[v(G)]},_updatePath:function(G){G._project(),G._update()},_updateStyle:function(G){var ne=G._path,he=G.options;ne&&(he.stroke?(ne.setAttribute("stroke",he.color),ne.setAttribute("stroke-opacity",he.opacity),ne.setAttribute("stroke-width",he.weight),ne.setAttribute("stroke-linecap",he.lineCap),ne.setAttribute("stroke-linejoin",he.lineJoin),he.dashArray?ne.setAttribute("stroke-dasharray",he.dashArray):ne.removeAttribute("stroke-dasharray"),he.dashOffset?ne.setAttribute("stroke-dashoffset",he.dashOffset):ne.removeAttribute("stroke-dashoffset")):ne.setAttribute("stroke","none"),he.fill?(ne.setAttribute("fill",he.fillColor||he.color),ne.setAttribute("fill-opacity",he.fillOpacity),ne.setAttribute("fill-rule",he.fillRule||"evenodd")):ne.setAttribute("fill","none"))},_updatePoly:function(G,ne){this._setPath(G,Dt(G._parts,ne))},_updateCircle:function(G){var ne=G._point,he=Math.max(Math.round(G._radius),1),we=Math.max(Math.round(G._radiusY),1)||he,Me="a"+he+","+we+" 0 1,0 ",Ue=G._empty()?"M0 0":"M"+(ne.x-he)+","+ne.y+Me+he*2+",0 "+Me+-he*2+",0 ";this._setPath(G,Ue)},_setPath:function(G,ne){G._path.setAttribute("d",ne)},_bringToFront:function(G){If(G._path)},_bringToBack:function(G){Rf(G._path)}});En.vml&&Ci.include(Ff);function T1(G){return En.svg||En.vml?new Ci(G):null}Ur.include({getRenderer:function(G){var ne=G.options.renderer||this._getPaneRenderer(G.options.pane)||this.options.renderer||this._renderer;return ne||(ne=this._renderer=this._createRenderer()),this.hasLayer(ne)||this.addLayer(ne),ne},_getPaneRenderer:function(G){if(G==="overlayPane"||G===void 0)return!1;var ne=this._paneRenderers[G];return ne===void 0&&(ne=this._createRenderer({pane:G}),this._paneRenderers[G]=ne),ne},_createRenderer:function(G){return this.options.preferCanvas&&wg(G)||T1(G)}});var ev=na.extend({initialize:function(G,ne){na.prototype.initialize.call(this,this._boundsToLatLngs(G),ne)},setBounds:function(G){return this.setLatLngs(this._boundsToLatLngs(G))},_boundsToLatLngs:function(G){return G=je(G),[G.getSouthWest(),G.getNorthWest(),G.getNorthEast(),G.getSouthEast()]}});function xg(G,ne){return new ev(G,ne)}Ci.create=_g,Ci.pointsToPath=Dt,Lc.geometryToLayer=Xp,Lc.coordsToLatLng=_1,Lc.coordsToLatLngs=Zp,Lc.latLngToCoords=x1,Lc.latLngsToCoords=Kp,Lc.getFeature=Yh,Lc.asFeature=Qp,Ur.mergeOptions({boxZoom:!0});var tv=xu.extend({initialize:function(G){this._map=G,this._container=G._container,this._pane=G._panes.overlayPane,this._resetStateTimeout=0,G.on("unload",this._destroy,this)},addHooks:function(){sr(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ki(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ui(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(G){if(!G.shiftKey||G.which!==1&&G.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Nh(),$p(),this._startPoint=this._map.mouseEventToContainerPoint(G),sr(document,{contextmenu:kl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(G){this._moved||(this._moved=!0,this._box=Qr("div","leaflet-zoom-box",this._container),vr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(G);var ne=new Pe(this._point,this._startPoint),he=ne.getSize();_a(this._box,ne.min),this._box.style.width=he.x+"px",this._box.style.height=he.y+"px"},_finish:function(){this._moved&&(Ui(this._box),Yi(this._container,"leaflet-crosshair")),Fh(),Np(),ki(document,{contextmenu:kl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(G){if(!(G.which!==1&&G.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var ne=new He(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(ne).fire("boxzoomend",{boxZoomBounds:ne})}},_onKeyDown:function(G){G.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ur.addInitHook("addHandler","boxZoom",tv),Ur.mergeOptions({doubleClickZoom:!0});var A1=xu.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(G){var ne=this._map,he=ne.getZoom(),we=ne.options.zoomDelta,Me=G.originalEvent.shiftKey?he-we:he+we;ne.options.doubleClickZoom==="center"?ne.setZoom(Me):ne.setZoomAround(G.containerPoint,Me)}});Ur.addInitHook("addHandler","doubleClickZoom",A1),Ur.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ml=xu.extend({addHooks:function(){if(!this._draggable){var G=this._map;this._draggable=new Ac(G._mapPane,G._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),G.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),G.on("zoomend",this._onZoomEnd,this),G.whenReady(this._onZoomEnd,this))}vr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Yi(this._map._container,"leaflet-grab"),Yi(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var G=this._map;if(G._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var ne=je(this._map.options.maxBounds);this._offsetLimit=Ne(this._map.latLngToContainerPoint(ne.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(ne.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;G.fire("movestart").fire("dragstart"),G.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(G){if(this._map.options.inertia){var ne=this._lastTime=+new Date,he=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(he),this._times.push(ne),this._prunePositions(ne)}this._map.fire("move",G).fire("drag",G)},_prunePositions:function(G){for(;this._positions.length>1&&G-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var G=this._map.getSize().divideBy(2),ne=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=ne.subtract(G).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(G,ne){return G-(G-ne)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var G=this._draggable._newPos.subtract(this._draggable._startPos),ne=this._offsetLimit;G.x<ne.min.x&&(G.x=this._viscousLimit(G.x,ne.min.x)),G.y<ne.min.y&&(G.y=this._viscousLimit(G.y,ne.min.y)),G.x>ne.max.x&&(G.x=this._viscousLimit(G.x,ne.max.x)),G.y>ne.max.y&&(G.y=this._viscousLimit(G.y,ne.max.y)),this._draggable._newPos=this._draggable._startPos.add(G)}},_onPreDragWrap:function(){var G=this._worldWidth,ne=Math.round(G/2),he=this._initialWorldOffset,we=this._draggable._newPos.x,Me=(we-ne+he)%G+ne-he,Ue=(we+ne+he)%G-ne-he,rt=Math.abs(Me+he)<Math.abs(Ue+he)?Me:Ue;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=rt},_onDragEnd:function(G){var ne=this._map,he=ne.options,we=!he.inertia||G.noInertia||this._times.length<2;if(ne.fire("dragend",G),we)ne.fire("moveend");else{this._prunePositions(+new Date);var Me=this._lastPos.subtract(this._positions[0]),Ue=(this._lastTime-this._times[0])/1e3,rt=he.easeLinearity,vt=Me.multiplyBy(rt/Ue),Ct=vt.distanceTo([0,0]),Et=Math.min(he.inertiaMaxSpeed,Ct),un=vt.multiplyBy(Et/Ct),er=Et/(he.inertiaDeceleration*rt),Dr=un.multiplyBy(-er/2).round();!Dr.x&&!Dr.y?ne.fire("moveend"):(Dr=ne._limitOffset(Dr,ne.options.maxBounds),ge(function(){ne.panBy(Dr,{duration:er,easeLinearity:rt,noMoveStart:!0,animate:!0})}))}}});Ur.addInitHook("addHandler","dragging",Ml),Ur.mergeOptions({keyboard:!0,keyboardPanDelta:80});var nv=xu.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(G){this._map=G,this._setPanDelta(G.options.keyboardPanDelta),this._setZoomDelta(G.options.zoomDelta)},addHooks:function(){var G=this._map._container;G.tabIndex<=0&&(G.tabIndex="0"),sr(G,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ki(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var G=document.body,ne=document.documentElement,he=G.scrollTop||ne.scrollTop,we=G.scrollLeft||ne.scrollLeft;this._map._container.focus(),window.scrollTo(we,he)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(G){var ne=this._panKeys={},he=this.keyCodes,we,Me;for(we=0,Me=he.left.length;we<Me;we++)ne[he.left[we]]=[-1*G,0];for(we=0,Me=he.right.length;we<Me;we++)ne[he.right[we]]=[G,0];for(we=0,Me=he.down.length;we<Me;we++)ne[he.down[we]]=[0,G];for(we=0,Me=he.up.length;we<Me;we++)ne[he.up[we]]=[0,-1*G]},_setZoomDelta:function(G){var ne=this._zoomKeys={},he=this.keyCodes,we,Me;for(we=0,Me=he.zoomIn.length;we<Me;we++)ne[he.zoomIn[we]]=G;for(we=0,Me=he.zoomOut.length;we<Me;we++)ne[he.zoomOut[we]]=-G},_addHooks:function(){sr(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ki(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(G){if(!(G.altKey||G.ctrlKey||G.metaKey)){var ne=G.keyCode,he=this._map,we;if(ne in this._panKeys){if(!he._panAnim||!he._panAnim._inProgress)if(we=this._panKeys[ne],G.shiftKey&&(we=De(we).multiplyBy(3)),he.options.maxBounds&&(we=he._limitOffset(De(we),he.options.maxBounds)),he.options.worldCopyJump){var Me=he.wrapLatLng(he.unproject(he.project(he.getCenter()).add(we)));he.panTo(Me)}else he.panBy(we)}else if(ne in this._zoomKeys)he.setZoom(he.getZoom()+(G.shiftKey?3:1)*this._zoomKeys[ne]);else if(ne===27&&he._popup&&he._popup.options.closeOnEscapeKey)he.closePopup();else return;kl(G)}}});Ur.addInitHook("addHandler","keyboard",nv),Ur.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var L1=xu.extend({addHooks:function(){sr(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ki(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(G){var ne=c1(G),he=this._map.options.wheelDebounceTime;this._delta+=ne,this._lastMousePos=this._map.mouseEventToContainerPoint(G),this._startTime||(this._startTime=+new Date);var we=Math.max(he-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),we),kl(G)},_performZoom:function(){var G=this._map,ne=G.getZoom(),he=this._map.options.zoomSnap||0;G._stop();var we=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Me=4*Math.log(2/(1+Math.exp(-Math.abs(we))))/Math.LN2,Ue=he?Math.ceil(Me/he)*he:Me,rt=G._limitZoom(ne+(this._delta>0?Ue:-Ue))-ne;this._delta=0,this._startTime=null,rt&&(G.options.scrollWheelZoom==="center"?G.setZoom(ne+rt):G.setZoomAround(this._lastMousePos,ne+rt))}});Ur.addInitHook("addHandler","scrollWheelZoom",L1);var Xh=600;Ur.mergeOptions({tapHold:En.touchNative&&En.safari&&En.mobile,tapTolerance:15});var Il=xu.extend({addHooks:function(){sr(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ki(this._map._container,"touchstart",this._onDown,this)},_onDown:function(G){if(clearTimeout(this._holdTimeout),G.touches.length===1){var ne=G.touches[0];this._startPos=this._newPos=new Ie(ne.clientX,ne.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(sr(document,"touchend",no),sr(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",ne))},this),Xh),sr(document,"touchend touchcancel contextmenu",this._cancel,this),sr(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function G(){ki(document,"touchend",no),ki(document,"touchend touchcancel",G)},_cancel:function(){clearTimeout(this._holdTimeout),ki(document,"touchend touchcancel contextmenu",this._cancel,this),ki(document,"touchmove",this._onMove,this)},_onMove:function(G){var ne=G.touches[0];this._newPos=new Ie(ne.clientX,ne.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(G,ne){var he=new MouseEvent(G,{bubbles:!0,cancelable:!0,view:window,screenX:ne.screenX,screenY:ne.screenY,clientX:ne.clientX,clientY:ne.clientY});he._simulated=!0,ne.target.dispatchEvent(he)}});Ur.addInitHook("addHandler","tapHold",Il),Ur.mergeOptions({touchZoom:En.touch,bounceAtZoomLimits:!0});var Tr=xu.extend({addHooks:function(){vr(this._map._container,"leaflet-touch-zoom"),sr(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Yi(this._map._container,"leaflet-touch-zoom"),ki(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(G){var ne=this._map;if(!(!G.touches||G.touches.length!==2||ne._animatingZoom||this._zooming)){var he=ne.mouseEventToContainerPoint(G.touches[0]),we=ne.mouseEventToContainerPoint(G.touches[1]);this._centerPoint=ne.getSize()._divideBy(2),this._startLatLng=ne.containerPointToLatLng(this._centerPoint),ne.options.touchZoom!=="center"&&(this._pinchStartLatLng=ne.containerPointToLatLng(he.add(we)._divideBy(2))),this._startDist=he.distanceTo(we),this._startZoom=ne.getZoom(),this._moved=!1,this._zooming=!0,ne._stop(),sr(document,"touchmove",this._onTouchMove,this),sr(document,"touchend touchcancel",this._onTouchEnd,this),no(G)}},_onTouchMove:function(G){if(!(!G.touches||G.touches.length!==2||!this._zooming)){var ne=this._map,he=ne.mouseEventToContainerPoint(G.touches[0]),we=ne.mouseEventToContainerPoint(G.touches[1]),Me=he.distanceTo(we)/this._startDist;if(this._zoom=ne.getScaleZoom(Me,this._startZoom),!ne.options.bounceAtZoomLimits&&(this._zoom<ne.getMinZoom()&&Me<1||this._zoom>ne.getMaxZoom()&&Me>1)&&(this._zoom=ne._limitZoom(this._zoom)),ne.options.touchZoom==="center"){if(this._center=this._startLatLng,Me===1)return}else{var Ue=he._add(we)._divideBy(2)._subtract(this._centerPoint);if(Me===1&&Ue.x===0&&Ue.y===0)return;this._center=ne.unproject(ne.project(this._pinchStartLatLng,this._zoom).subtract(Ue),this._zoom)}this._moved||(ne._moveStart(!0,!1),this._moved=!0),ve(this._animRequest);var rt=d(ne._move,ne,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ge(rt,this,!0),no(G)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ve(this._animRequest),ki(document,"touchmove",this._onTouchMove,this),ki(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ur.addInitHook("addHandler","touchZoom",Tr),Ur.BoxZoom=tv,Ur.DoubleClickZoom=A1,Ur.Drag=Ml,Ur.Keyboard=nv,Ur.ScrollWheelZoom=L1,Ur.TapHold=Il,Ur.TouchZoom=Tr,n.Bounds=Pe,n.Browser=En,n.CRS=Ye,n.Canvas=S1,n.Circle=mg,n.CircleMarker=Ll,n.Class=ye,n.Control=xs,n.DivIcon=Gb,n.DivOverlay=mo,n.DomEvent=Gp,n.DomUtil=Sb,n.Draggable=Ac,n.Evented=Oe,n.FeatureGroup=xe,n.GeoJSON=Lc,n.GridLayer=bg,n.Handler=xu,n.Icon=Of,n.ImageOverlay=kn,n.LatLng=ze,n.LatLngBounds=He,n.Layer=ks,n.LayerGroup=Yu,n.LineUtil=$b,n.Map=Ur,n.Marker=Uh,n.Mixin=Rb,n.Path=Wu,n.Point=Ie,n.PolyUtil=Nn,n.Polygon=na,n.Polyline=Xu,n.Popup=Nf,n.PosAnimation=dg,n.Projection=Dn,n.Rectangle=ev,n.Renderer=Zu,n.SVG=Ci,n.SVGOverlay=$f,n.TileLayer=Wh,n.Tooltip=Jp,n.Transformation=it,n.Util=me,n.VideoOverlay=jb,n.bind=d,n.bounds=Ne,n.canvas=wg,n.circle=Wp,n.circleMarker=b1,n.control=Tc,n.divIcon=tk,n.extend=u,n.featureGroup=vo,n.geoJSON=yg,n.geoJson=k1,n.gridLayer=nk,n.icon=Nb,n.imageOverlay=qb,n.latLng=Ve,n.latLngBounds=je,n.layerGroup=vg,n.map=Ab,n.marker=y1,n.point=De,n.polygon=w1,n.polyline=Fb,n.popup=JE,n.rectangle=xg,n.setOptions=j,n.stamp=v,n.svg=T1,n.svgOverlay=Vh,n.tileLayer=Hb,n.tooltip=ek,n.transformation=at,n.version=s,n.videoOverlay=zb;var M1=window.L;n.noConflict=function(){return window.L=M1,this},window.L=n})})(leafletSrc,leafletSrcExports);var __awaiter=globalThis&&globalThis.__awaiter||function(e,t,n,s){function u(f){return f instanceof n?f:new n(function(d){d(f)})}return new(n||(n=Promise))(function(f,d){function g(M){try{S(s.next(M))}catch(I){d(I)}}function v(M){try{S(s.throw(M))}catch(I){d(I)}}function S(M){M.done?f(M.value):u(M.value).then(g,v)}S((s=s.apply(e,t||[])).next())})};class GraphgraView{constructor(t,n){var s,u,f,d,g,v;this._origin=[0,0],this._zoom=1,this.leafletMaps=[],this.spec=t,this.background=(s=n.background)!==null&&s!==void 0?s:"#ffffff",this.container=(u=n.container)!==null&&u!==void 0?u:"#view",this.logLevel=(f=n.logLevel)!==null&&f!==void 0?f:"none",this.renderer=(d=n.renderer)!==null&&d!==void 0?d:"svg",this.funcs=(g=n.funcs)!==null&&g!==void 0?g:{},this.paramCallbacks=(v=n.paramCallbacks)!==null&&v!==void 0?v:{}}render(){return __awaiter(this,void 0,void 0,function*(){let t;typeof this.spec=="string"?t=yield fetch(this.spec).then(ye=>ye.json()):t=this.spec;const n=getBoundsFromSpec(this.spec),s=n.width+2*n.x,u=n.height+2*n.y,f=document.querySelector(this.container);f.innerHTML="";const d=document.createElement("div");f.appendChild(d);const g=document.createElement("div");f.appendChild(g);const v=document.createElement("div");v.id="mapDiv",v.style.position="absolute",v.style.left="0",v.style.height="1000px",v.style.width="1000px",v.style.zIndex="0",g.appendChild(v);const S=document.createElement("div");S.style.position="absolute",S.style.left="0",S.style.zIndex="2",g.appendChild(S);const M=document.createElement("div");M.style.position="absolute",M.style.left="0",M.style.zIndex="3",M.style.opacity="0",M.style.color="black",M.style.backgroundColor="white",M.style.fontFamily="sans-serif",M.style.fontSize="11px",M.style.padding="8px",M.style.borderRadius="3px",M.style.boxShadow="2px 2px 4px rgba(0, 0, 0, 0.1)",M.style.border="1px solid #d9d9d9",g.appendChild(M);const I=me=>__awaiter(this,void 0,void 0,function*(){const ye=me.deltaMode,Ae=me.deltaY;let Te;ye===1?Te=Ae*16:ye===0?Te=Ae:(console.log(`Encountered wheel event with unexpected deltaMode (${ye}))`),Te=0);const Oe=this._zoom;if(this._zoom-=Te/1e3,this.leafletMaps.length>0){const De=Ne=>Math.log(Ne)/Math.log(2);this._zoom=Math.pow(2,Math.round(De(this._zoom)));let Pe=0;if(Te<-20){Pe=1,this._zoom=2*Oe;for(const Ne of this.leafletMaps)console.log(`zooming in by ${Pe}`),Ne.zoomIn(Pe);this._origin=[this._origin[0]-s/(4*Oe),this._origin[1]-u/(4*Oe)]}else if(Te>20){if(Oe===1){this._zoom=Oe;return}Pe=-1,this._zoom=Oe/2;for(const Ne of this.leafletMaps)console.log(`zooming in by ${Pe}`),Ne.zoomIn(Pe);this._origin=[this._origin[0]+s/(2*Oe),this._origin[1]+u/(2*Oe)]}}const Ie=yield updateSpec(this.spec,j,[],N,this.funcs);P(Ie.sceneJSON);const Be=S.getBoundingClientRect();ue.style.width=`${Be.width}px`,ue.style.height=`${Be.height}px`}),P=me=>{var ye,Ae;const Te=sceneFromJSON(me),Oe=renderToSVG(S,Te,s,u,this.renderer,this._origin,this._zoom);this.renderer==="canvas"?Oe.canvas():Oe.svg();const Ie=this.renderer==="canvas"?CanvasHandler:SVGHandler,Be=(je,ze,Ve,Ye)=>null,De=new Ie(void 0,Be).initialize(Oe.element()).scene(Te),Pe={rect:[],lasso:[],dragElement:[],dragSelection:new Map,pan:null};"pan"in t&&(Pe.pan=t.pan);for(const je of t.parameters||[])"dragging"in je&&Pe.dragSelection.set(je.name,je.dragging);let Ne=JSON.parse(JSON.stringify(t.vis));for(;Ne.length>0;){const je=Ne.pop();Ne=[...Ne,...je.vis||[]];for(const ze of je.actions||[])ze.interaction==="drag"?Pe.dragElement.push({modifierKeyRequired:ze.modifierKeyRequired,modifierKeyAbsent:ze.modifierKeyAbsent}):ze.interaction==="select"&&ze.using==="lasso"?Pe.lasso.push({modifierKeyRequired:ze.modifierKeyRequired,modifierKeyAbsent:ze.modifierKeyAbsent}):ze.interaction==="select"&&ze.using==="rect"&&Pe.rect.push({modifierKeyRequired:ze.modifierKeyRequired,modifierKeyAbsent:ze.modifierKeyAbsent})}const He={x:(ye=t.x)!==null&&ye!==void 0?ye:25,y:(Ae=t.y)!==null&&Ae!==void 0?Ae:25};De.on("click",(je,ze)=>{cursorEventHandler(je,ze,oe),backgroundClickHandler(je,ze,t.parameters,oe)}),De.on("mouseenter",(je,ze)=>cursorEventHandler(je,ze,oe)),De.on("mouseleave",(je,ze)=>cursorEventHandler(je,ze,oe)),De.on("mouseover",(je,ze)=>cursorEventHandler(je,ze,oe)),De.on("mouseout",(je,ze)=>{mouseout(je,ze,M),cursorEventHandler(je,ze,oe)}),De.on("mousedown",(je,ze)=>mousedown(je,ze,ve,me,oe,Pe,this._zoom,this._origin,He)),De.on("mousemove",je=>mousemove(je,ve)),De.on("mouseup",je=>mouseup(je,ve,me,Q,oe,V,te,Pe,j,this._zoom,this._origin,He)),t.zoom&&(S.onwheel=I),De.on("mouseover",(je,ze)=>mouseover(je,ze,M))},N=(me,ye,Ae,Te)=>__awaiter(this,void 0,void 0,function*(){const Oe=document.getElementById("mapDiv");if(Oe.children.length>0)return;const Ie=document.createElement("div");Ie.style.position="absolute",Ie.style.left=(Te.x||0)+"px",Ie.style.top=(Te.y||0)+"px",Ie.style.width=(Te.width||1e3)+"px",Ie.style.height=(Te.height||1e3)+"px",Oe.appendChild(Ie);const Be=leafletSrcExports.map(Ie).setView(me.center,me.zoomLevel);leafletSrcExports.tileLayer(me.url,me.options).addTo(Be),Be.removeControl(Be.zoomControl),Oe.style.zIndex="0",Ae[ye+"#leafletMap"]=Be,this.leafletMaps.push(Be)}),{sceneJSON:F,state:j}=yield processFullSpec(t,n,{},N,this.funcs);this.sceneJSON||(this.sceneJSON=F),this.state=j;const U=new Map;for(const me of t.parameters||[])"network"in me&&U.set(me.name,me.network);const V=(me,ye)=>__awaiter(this,void 0,void 0,function*(){const Ae=ye.screenX-me.screenX,Te=ye.screenY-me.screenY;this._origin=[this._origin[0]+Ae/(this._zoom*this._zoom),this._origin[1]+Te/(this._zoom*this._zoom)];for(const Ie of this.leafletMaps)Ie.panBy({x:-Ae/this._zoom,y:-Te/this._zoom});const Oe=yield updateSpec(this.spec,j,[],N,this.funcs);P(Oe.sceneJSON)}),Z=(me,ye)=>__awaiter(this,void 0,void 0,function*(){console.log(`UPDATED PARAM ${me} to ${ye}`),j[me]=ye,me in this.paramCallbacks&&this.paramCallbacks[me](ye);const Ae=yield updateSpec(this.spec,j,[me],N,this.funcs);P(Ae.sceneJSON)});this.setParam=(me,ye)=>__awaiter(this,void 0,void 0,function*(){JSON.stringify(ye)!==JSON.stringify(j[me])&&(Z(me,ye),me in this.paramInputElements&&(this.paramInputElements[me].value=ye))});const Q=(me,ye,Ae)=>__awaiter(this,void 0,void 0,function*(){console.log("UPDATING LAYOUT:",{layout_name:me,ids:ye,shift:Ae});for(const Oe of ye)j[me].get(Oe).x+=Ae.dx,j[me].get(Oe).y+=Ae.dy;const Te=yield updateSpec(this.spec,j,[me],N,this.funcs);P(Te.sceneJSON)}),J=(me,ye,Ae,Te)=>{const Oe=j[Te],Ie={nodes:ye.nodes.map(De=>Oe.nodes.filter(Pe=>Pe.id===De)[0]),links:ye.links.map(De=>Oe.links.filter(Pe=>Pe.id===De)[0]),network:Te},Be=j[me];if(Ae==="replace")j[me]=Ie;else if(Ae==="remove")j[me].nodes=Be.nodes.filter(De=>!Ie.nodes.includes[De]),j[me].links=Be.links.filter(De=>!Ie.links.includes[De]);else if(Ae==="add")j[me].nodes=[...Be.nodes,...Ie.nodes],j[me].nodes=Be.nodes.filter((De,Pe)=>Pe===Be.nodes.indexOf(De)),j[me].links=[...Be.links,...Ie.links],j[me].links=Be.links.filter((De,Pe)=>Pe===Be.links.indexOf(De));else if(Ae==="toggle"){const De=Ie.nodes.filter(je=>!Be.nodes.includes(je)),Pe=Be.nodes.filter(je=>!Ie.nodes.includes(je));j[me].nodes=[...Pe,...De];const Ne=Ie.links.filter(je=>!Be.links.includes(je)),He=Be.links.filter(je=>!Ie.links.includes(je));j[me].links=[...He,...Ne]}else j[me].nodes=[...Be.nodes,...Ie.nodes],j[me].links=[...Be.links,...Ie.links];me in this.paramCallbacks&&this.paramCallbacks[me](j[me])},te=me=>__awaiter(this,void 0,void 0,function*(){const ye=yield updateSpec(this.spec,j,[me],N,this.funcs);P(ye.sceneJSON)}),oe=(me,ye)=>__awaiter(this,void 0,void 0,function*(){for(const[Oe,Ie]of ye){const Be=me.get(Oe),De=Ie.action||"replace",Pe=U.get(Ie.selection);J(Oe,Be,De,Pe)}const Ae=Array.from(me.keys()),Te=yield updateSpec(this.spec,j,Ae,N,this.funcs);P(Te.sceneJSON)});this.paramInputElements=createInputs(j,d,t.parameters||[],Z),createAnimationControls(d,t.parameters||[],Z);const{selectionSVG:ue,lasooPolygon:se,lasooPolygonOutline:le,lassoCircle:de,rectBrush:ge}=createSelectionOverlay(g,s,u),ve={dragStartEv:null,dragEndEv:null,draggedObj:null,draggedSelection:null,draggedTableHeading:null,panStartEv:null,draggedLayout:null,layoutName:null,lassoPoints:[],brush:{x1:null,x2:null,y1:null,y2:null},lasooPolygon:se,lasooPolygonOutline:le,lassoCircle:de,rectBrush:ge};P(this.sceneJSON)})}renderHeadless(t){return __awaiter(this,void 0,void 0,function*(){let n;typeof this.spec=="string"?n=yield fetch(this.spec).then(M=>M.json()):n=this.spec;const s=getBoundsFromSpec(this.spec),u=s.width+2*s.x,f=s.height+2*s.y,{sceneJSON:d,state:g}=yield processFullSpec(n,s,{},this.funcs);this.sceneJSON=d,this.state=g;const v=sceneFromJSON(d);return new t().initialize(null,u,f).renderAsync(v)})}toSVG(){return __awaiter(this,void 0,void 0,function*(){return(yield this.renderHeadless(SVGStringRenderer)).svg()})}toCanvas(){return __awaiter(this,void 0,void 0,function*(){return(yield this.renderHeadless(CanvasRenderer$1)).canvas()})}}function renderToSVG(e,t,n,s,u,f,d){e.innerHTML="";const g=u==="canvas"?CanvasRenderer$1:SVGRenderer;return new g().initialize(e,n,s,f,d).render(t)}const data$2=[{name:"people",url:"./data/march-19/People.csv",format:{type:"csv"}},{name:"Institutions",url:"./data/march-19/Institutions.csv",format:{type:"csv"}},{name:"PI",url:"./data/march-19/Person-Institution.csv",format:{type:"csv"}}],networks$2=[{name:"PI-net-import",parts:[{data:"people",yieldsNodes:[{type:"person",data:["*"]}]},{data:"Institutions",yieldsNodes:[{type:"institution",data:["*"]}]},{data:"PI",yieldsLinks:[{source_id:{field:"Person"},source_node_type:"person",target_id:{field:"Institution"},target_node_type:"institution"}]}]},{name:"PI-net",nodes:"PI-net-import.nodes",links:"PI",source_node:["id","Person"],target_node:["id","Institution"],metrics:[{metric:"degree"},{metric:"closeness"}]}],orderings$2=[{name:"alphabetical",orderBy:{field:"id"},data:"PI-net.nodes"},{name:"degree",orderBy:{field:"degree",direction:"descending"},data:"PI-net.nodes"}],layouts$2=[{name:"PI-jigsaw",pattern:"cartesian",x:[{scale:"axis",field:"_type"}],y:[{order:"degree"}],data:"PI-net.nodes",positioning:"start"}],scales$2=[{name:"color",type:"ordinal",range:["#1f77b4","#2ca02c","#8c564b"],domain:["person","institution"]},{name:"color-link",type:"ordinal",scheme:"category20",domain:["Lecturer in History Department","Head of History Department","High commissioner","Founder","Student","Speaker","Director","President","Lecturer","Published by EAPH","Academic","Officer","Deputy Director"]},{name:"axis",type:"ordinal",domain:["person","institution"],range:[0,1]}],vis$2=[{entries:"PI-net.links",layout:"PI-jigsaw",mark:{type:"linkpath",start:"source",end:"target",stroke:{field:"Type of relationship (professor, director, etc)",scale:"color-link"}}},{entries:"PI-net.nodes",layout:"PI-jigsaw",if:"datum._type == 'person'",mark:{type:"circle",area:200,tooltip:{expression:"datum.id + ' (degree ' + datum.degree + ')' "}}},{entries:"PI-net.nodes",layout:"PI-jigsaw",if:"datum._type == 'institution'",mark:{type:"square",area:200,tooltip:{expression:"datum.id + ' (degree ' + datum.degree + ')' "}}}],bipartiteSpec={data:data$2,networks:networks$2,orderings:orderings$2,layouts:layouts$2,scales:scales$2,vis:vis$2},data$1=[{name:"people",url:"./data/march-19/People.csv",format:{type:"csv"}},{name:"Institutions",url:"./data/march-19/Institutions.csv",format:{type:"csv"}},{name:"Publications",url:"./data/march-19/Publications.csv",format:{type:"csv"}},{name:"PI",url:"./data/march-19/Person-Institution.csv",format:{type:"csv"}},{name:"PP",url:"./data/march-19/Person-Publication.csv",format:{type:"csv"}}],networks$1=[{name:"PI-net",parts:[{data:"people",yieldsNodes:[{type:"person",data:["*"]}]},{data:"Institutions",yieldsNodes:[{type:"institution",data:["*"]}]},{data:"Publications",yieldsNodes:[{type:"publication",data:["*"]}]},{data:"PI",yieldsLinks:[{source_id:{field:"Person"},source_node_type:"person",target_id:{field:"Institution"},target_node_type:"institution"}]},{data:"PP",yieldsLinks:[{source_id:{field:"Person"},source_node_type:"person",target_id:{field:"Publication"},target_node_type:"publication"}]}],transform:[{type:"filterNodes",expression:"datum.id !== '' "},{type:"filterNodes",expression:"datum.id !== ' ' "},{type:"removeIsolated"},{type:"metric",metric:"degree"}]}],orderings$1=[{name:"alphabetical",orderBy:{field:"id"},data:"PI-net.nodes"},{name:"degree",orderBy:{field:"degree",direction:"descending"},data:"PI-net.nodes"}],layouts$1=[{name:"PI-jigsaw",pattern:"cartesian",x:[{scale:"axis",field:"_type"}],y:[{order:"degree"}],data:"PI-net.nodes",positioning:"start"}],scales$1=[{name:"color",type:"ordinal",range:["#1f77b4","#2ca02c","#8c564b"],domain:["person","institution","publication"]},{name:"radius",type:"linear",range:[1,500],domain:{data:"PI-net.nodes",field:"degree"}},{name:"color-link",type:"ordinal",scheme:"category20",domain:["Lecturer in History Department","Head of History Department","High commissioner","Founder","Student","Speaker","Director","President","Lecturer","Published by EAPH","Academic","Officer","Deputy Director"]},{name:"axis",type:"ordinal",domain:["publication","person","institution"],range:[0,1,2]}],vis$1=[{entries:"PI-net.links",layout:"PI-jigsaw",mark:{type:"linkpath",start:"source",end:"target"}},{entries:"PI-net.nodes",layout:"PI-jigsaw",mark:{type:"circle",area:{field:"degree",scale:"radius"},fill:{field:"_type",scale:"color"},tooltip:{expression:"datum.id + ' (degree ' + datum.degree + ')' "}}}],tripartiteSpec={data:data$1,networks:networks$1,orderings:orderings$1,layouts:layouts$1,scales:scales$1,vis:vis$1},data=[{name:"people",url:"./data/march-19/People.csv",format:{type:"csv"}},{name:"Institutions",url:"./data/march-19/Institutions.csv",format:{type:"csv"}},{name:"Publications",url:"./data/march-19/Publications.csv",format:{type:"csv"}},{name:"PI",url:"./data/march-19/Person-Institution.csv",format:{type:"csv"}},{name:"PP",url:"./data/march-19/Person-Publication.csv",format:{type:"csv"}}],networks=[{name:"PI-net",parts:[{data:"people",yieldsNodes:[{type:"person",data:["*"]}]},{data:"Institutions",yieldsNodes:[{type:"institution",data:["*"]}]},{data:"Publications",yieldsNodes:[{type:"publication",data:["*"]}]},{data:"PI",yieldsLinks:[{source_id:{field:"Person"},source_node_type:"person",target_id:{field:"Institution"},target_node_type:"institution"}]},{data:"PP",yieldsLinks:[{source_id:{field:"Person"},source_node_type:"person",target_id:{field:"Publication"},target_node_type:"publication"}]}],transform:[{type:"filterNodes",expression:"datum.id !== '' "},{type:"filterNodes",expression:"datum.id !== ' ' "},{type:"removeIsolated"},{type:"metric",metric:"degree"}]}],orderings=[{name:"alphabetical",orderBy:{field:"id"},data:"PI-net.nodes"},{name:"degree",orderBy:{field:"degree",direction:"descending"},data:"PI-net.nodes"}],layouts=[{name:"PI-layout",network:"PI-net",type:"d3-force"}],scales=[{name:"color",type:"ordinal",range:["#1f77b4","#2ca02c","#8c564b"],domain:["person","institution","publication"]},{name:"radius",type:"linear",range:[1,500],domain:{data:"PI-net.nodes",field:"degree"}},{name:"color-link",type:"ordinal",scheme:"category20",domain:["Lecturer in History Department","Head of History Department","High commissioner","Founder","Student","Speaker","Director","President","Lecturer","Published by EAPH","Academic","Officer","Deputy Director"]},{name:"axis",type:"ordinal",domain:["publication","person","institution"],range:[0,1,2]}],vis=[{entries:"PI-net.links",layout:"PI-layout",mark:{type:"linkpath",start:"source",end:"target"}},{entries:"PI-net.nodes",layout:"PI-layout",mark:{type:"circle",area:{field:"degree",scale:"radius"},fill:{field:"_type",scale:"color"},tooltip:{expression:"datum.id + ' (degree ' + datum.degree + ')' "}}}],forceSpec={data,networks,orderings,layouts,scales,vis},App_svelte_svelte_type_style_lang="";function create_fragment(e){let t;return{c(){t=element$2("main"),t.innerHTML=`<h3>Node-Link Layouts</h3> 
    <div id="netpan-grid" class="svelte-192h83y"><div class="netpan-vis svelte-192h83y" id="force"></div> 
        <div class="netpan-vis svelte-192h83y" id="bipartite"></div> 
        <div class="netpan-vis svelte-192h83y" id="tripartite"></div></div>`},m(n,s){insert(n,t,s)},p:noop$5,i:noop$5,o:noop$5,d(n){n&&detach(t)}}}function instance$1(e){return onMount(async()=>{new GraphgraView(forceSpec,{container:"#force"}).render(),new GraphgraView(bipartiteSpec,{container:"#bipartite"}).render(),new GraphgraView(tripartiteSpec,{container:"#tripartite"}).render()}),[]}class App extends SvelteComponent{constructor(t){super(),init$1(this,t,instance$1,create_fragment,safe_not_equal,{})}}new App({target:document.getElementById("app")});
